[
    {
        "id": "<SG2PR02MB3226753A6C7FCFE91D364E95F8610@SG2PR02MB3226.apcprd02.prod.outlook.com>",
        "from": "hua mulan &lt;deadwi...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 02:34:26 GMT",
        "subject": "Flink SQLå¤„ç†Arrayå‹çš„JSON",
        "content": "Hi&#013;&#010;&#013;&#010;Kafkaä¸­çš„JSONç»“æ„æ˜¯ä¸ªArrayä¾‹å­å¦‚ä¸‹ã€‚&#013;&#010;[&#013;&#010; { \"id\": 1},&#013;&#010; { \"id\": 2}&#013;&#010;]&#013;&#010;è¯»å‡ºæ¥å˜æˆè¡¨çš„ä¸¤è¡Œã€‚Flink SQLå±‚é¢æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ&#013;&#010;å¦‚æœæ²¡æœ‰åŠæ³•æ˜¯ä¸æ˜¯åªèƒ½æ”¹JSONç»“æ„äº†ã€‚&#013;&#010;&#013;&#010;&#013;&#010;å¯çˆ±çš„æœ¨å…°&#013;&#010;",
        "depth": "0",
        "reply": "<SG2PR02MB3226753A6C7FCFE91D364E95F8610@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<6AC098D8-DF89-4E30-B91D-803A5B447B7A@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 02:42:26 GMT",
        "subject": "Re: Flink SQLå¤„ç†Arrayå‹çš„JSON",
        "content": "Helloï¼Œå¯çˆ±çš„æœ¨å…°&#010;&#010;å¯ä»¥ä¸ç”¨æ”¹jsonçš„ï¼Œå¯ä»¥ç”¨ UNNEST æŠŠæ•°ç»„æ‹†æˆå¤šè¡Œï¼Œä¹Ÿå¯ä»¥å†™UDTFè‡ªå·±è§£æå¯¹åº”å­—æ®µï¼Œå‚è€ƒ[1]&#010;&#010;SELECT users, tag&#010;FROM Orders CROSS JOIN UNNEST(tags) AS t (tag)&#010;&#010;Bestï¼Œ&#010;Leonard Xu&#010;[1] https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/table/sql/queries.html &lt;https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/table/sql/queries.html&gt;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ10:34ï¼Œhua mulan &lt;deadwind4@outlook.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; å¯çˆ±çš„æœ¨å…°&#010;&#010;&#010;",
        "depth": "1",
        "reply": "<SG2PR02MB3226753A6C7FCFE91D364E95F8610@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<CABKuJ_RRRcVCqTBuX_qYV9Fkec7fbX-LEeGqVK-ROaE++OixTg@mail.gmail.com>",
        "from": "Benchao Li &lt;libenc...@apache.org&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 03:00:11 GMT",
        "subject": "Re: Flink SQLå¤„ç†Arrayå‹çš„JSON",
        "content": "æˆ‘æ„Ÿè§‰è¿™æ˜¯ä¸€ä¸ªåˆç†çš„éœ€æ±‚ï¼Œå› ä¸º1.11ä¹‹åæˆ‘ä»¬æ”¯æŒäº†formatè¿”å›å¤šæ¡æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥æ”¯æŒè¿™ç§å½¢å¼çš„æ•°æ®äº†ï¼Œ&#013;&#010;æˆ‘å»ºäº†ä¸€ä¸ªissue[1].&#013;&#010;&#013;&#010;[1] https://issues.apache.org/jira/browse/FLINK-18590&#013;&#010;&#013;&#010;Leonard Xu &lt;xbjtdcq@gmail.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ10:42å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Helloï¼Œå¯çˆ±çš„æœ¨å…°&#013;&#010;&gt;&#013;&#010;&gt; å¯ä»¥ä¸ç”¨æ”¹jsonçš„ï¼Œå¯ä»¥ç”¨ UNNEST æŠŠæ•°ç»„æ‹†æˆå¤šè¡Œï¼Œä¹Ÿå¯ä»¥å†™UDTFè‡ªå·±è§£æå¯¹åº”å­—æ®µï¼Œå‚è€ƒ[1]&#013;&#010;&gt;&#013;&#010;&gt; SELECT users, tag&#013;&#010;&gt; FROM Orders CROSS JOIN UNNEST(tags) AS t (tag)&#013;&#010;&gt;&#013;&#010;&gt; Bestï¼Œ&#013;&#010;&gt; Leonard Xu&#013;&#010;&gt; [1]&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/table/sql/queries.html&#013;&#010;&gt; &lt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/table/sql/queries.html&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;&gt; &gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ10:34ï¼Œhua mulan &lt;deadwind4@outlook.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; å¯çˆ±çš„æœ¨å…°&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&#013;&#010;-- &#013;&#010;&#013;&#010;Best,&#013;&#010;Benchao Li&#013;&#010;",
        "depth": "2",
        "reply": "<SG2PR02MB3226753A6C7FCFE91D364E95F8610@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<SG2PR02MB322699CA2E68CA19A01DFB91F8610@SG2PR02MB3226.apcprd02.prod.outlook.com>",
        "from": "hua mulan &lt;deadwi...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 03:25:04 GMT",
        "subject": "å›å¤: Flink SQLå¤„ç†Arrayå‹çš„JSON",
        "content": "Hi&#013;&#010;&#013;&#010;é‚£æˆ‘è§‰å¾—ç›®å‰æœ€ä½³å®è·µå°±æ˜¯ï¼Œæˆ‘ç”¨DataStreamçš„APIå…ˆæŠŠæ•°æ®æ¸…æ´—æˆ json object&#010;in top level åœ¨å¯¼å…¥Kafkaï¼Œä¹‹åå†FlinkSQL å¤„ç†ã€‚&#013;&#010;&#013;&#010;å¯çˆ±çš„æœ¨å…°&#013;&#010;&#013;&#010;________________________________&#013;&#010;å‘ä»¶äºº: Benchao Li &lt;libenchao@apache.org&gt;&#013;&#010;å‘é€æ—¶é—´: 2020å¹´7æœˆ14æ—¥ 11:00&#013;&#010;æ”¶ä»¶äºº: user-zh &lt;user-zh@flink.apache.org&gt;&#013;&#010;ä¸»é¢˜: Re: Flink SQLå¤„ç†Arrayå‹çš„JSON&#013;&#010;&#013;&#010;æˆ‘æ„Ÿè§‰è¿™æ˜¯ä¸€ä¸ªåˆç†çš„éœ€æ±‚ï¼Œå› ä¸º1.11ä¹‹åæˆ‘ä»¬æ”¯æŒäº†formatè¿”å›å¤šæ¡æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥æ”¯æŒè¿™ç§å½¢å¼çš„æ•°æ®äº†ï¼Œ&#013;&#010;æˆ‘å»ºäº†ä¸€ä¸ªissue[1].&#013;&#010;&#013;&#010;[1] https://issues.apache.org/jira/browse/FLINK-18590&#013;&#010;&#013;&#010;Leonard Xu &lt;xbjtdcq@gmail.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ10:42å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Helloï¼Œå¯çˆ±çš„æœ¨å…°&#013;&#010;&gt;&#013;&#010;&gt; å¯ä»¥ä¸ç”¨æ”¹jsonçš„ï¼Œå¯ä»¥ç”¨ UNNEST æŠŠæ•°ç»„æ‹†æˆå¤šè¡Œï¼Œä¹Ÿå¯ä»¥å†™UDTFè‡ªå·±è§£æå¯¹åº”å­—æ®µï¼Œå‚è€ƒ[1]&#013;&#010;&gt;&#013;&#010;&gt; SELECT users, tag&#013;&#010;&gt; FROM Orders CROSS JOIN UNNEST(tags) AS t (tag)&#013;&#010;&gt;&#013;&#010;&gt; Bestï¼Œ&#013;&#010;&gt; Leonard Xu&#013;&#010;&gt; [1]&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/table/sql/queries.html&#013;&#010;&gt; &lt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/table/sql/queries.html&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;&gt; &gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ10:34ï¼Œhua mulan &lt;deadwind4@outlook.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; å¯çˆ±çš„æœ¨å…°&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&#013;&#010;--&#013;&#010;&#013;&#010;Best,&#013;&#010;Benchao Li&#013;&#010;",
        "depth": "3",
        "reply": "<SG2PR02MB3226753A6C7FCFE91D364E95F8610@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<1595327059608-0.post@n8.nabble.com>",
        "from": "wxpcc &lt;wxp4...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 10:24:19 GMT",
        "subject": "Re: å›å¤: Flink SQLå¤„ç†Arrayå‹çš„JSON",
        "content": "å¦‚æœä¸ç­‰å¾…æœ€æ–°ç‰ˆæœ¬çš„è¯ä¹Ÿå¯ä»¥è¿™æ ·&#010;&#010;å°† çº¯æ•°ç»„çš„æ•°æ®ä½œä¸ºå­—ç¬¦ä¸² ä»sourceæ¶ˆè´¹ï¼Œå¢åŠ è‡ªå®šä¹‰çš„jsonè§£æå‡½æ•°ï¼Œåˆ¤æ–­&#010;isArray ä¹‹å éå†è¿›è¡Œ collect&#010;&#010;if (Objects.nonNull(str)) {&#010;                if (isArray) {&#010;                    JsonNode node = objectMapper.readTree(str);&#010;                    if (node.isArray()) {&#010;                        Iterator&lt;JsonNode&gt; nodeIterator = node.elements();&#010;                        while (nodeIterator.hasNext()) {&#010;                           &#010;collect(deserializationSchema.deserialize(nodeIterator.next().toString().getBytes()));&#010;                        }&#010;                    }&#010;                } else {&#010;                   &#010;collect(deserializationSchema.deserialize(str.getBytes()));&#010;                }&#010;            }&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "4",
        "reply": "<SG2PR02MB3226753A6C7FCFE91D364E95F8610@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<1595327212295-0.post@n8.nabble.com>",
        "from": "wxpcc &lt;wxp4...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 10:26:52 GMT",
        "subject": "Re: å›å¤: Flink SQLå¤„ç†Arrayå‹çš„JSON",
        "content": "è¡¥å……ï¼š&#010;æœ€ç»ˆæŸ¥è¯¢ä¸º&#010;&#010;SELECT&#010; t.*&#010;FROM&#010;  kafka_source,&#010;  LATERAL TABLE( fromJson(data) ) as t&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "5",
        "reply": "<SG2PR02MB3226753A6C7FCFE91D364E95F8610@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<SG2PR02MB32269EB8C95405738F506C42F8610@SG2PR02MB3226.apcprd02.prod.outlook.com>",
        "from": "hua mulan &lt;deadwi...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 02:55:37 GMT",
        "subject": "å›å¤: Flink SQLå¤„ç†Arrayå‹çš„JSON",
        "content": "Helloï¼ŒLeonard Xu&#013;&#010;&#013;&#010;æˆ‘è¿™è¾¹JSON ä¸æ˜¯&#013;&#010;&#013;&#010;{&#013;&#010;    \"id\": 2,&#013;&#010;    \"heap\": [&#013;&#010;        {&#013;&#010;            \"foo\": 14,&#013;&#010;            \"bar\": \"foo\"&#013;&#010;&#013;&#010;        },&#013;&#010;        {&#013;&#010;            \"foo\": 16,&#013;&#010;            \"bar\": \"bar\"&#013;&#010;        }&#013;&#010;    ],&#013;&#010;}&#013;&#010;&#013;&#010;è€Œæ˜¯ç›´æ¥ä¸€ä¸ªArray&#013;&#010;&#013;&#010;[&#013;&#010;        {&#013;&#010;            \"foo\": 14,&#013;&#010;            \"bar\": \"foo\"&#013;&#010;&#013;&#010;        },&#013;&#010;        {&#013;&#010;            \"foo\": 16,&#013;&#010;            \"bar\": \"bar\"&#013;&#010;        }&#013;&#010;    ]&#013;&#010;&#013;&#010;æˆ‘å‘ç°DDLæ²¡æ³•å£°æ˜ï¼ŒSQLå±‚é¢æˆ‘ä¸çŸ¥é“æ€ä¹ˆåšäº†ã€‚&#013;&#010;&#013;&#010;å¯çˆ±çš„æœ¨å…°&#013;&#010;&#013;&#010;________________________________&#013;&#010;å‘ä»¶äºº: Leonard Xu &lt;xbjtdcq@gmail.com&gt;&#013;&#010;å‘é€æ—¶é—´: 2020å¹´7æœˆ14æ—¥ 10:42&#013;&#010;æ”¶ä»¶äºº: user-zh &lt;user-zh@flink.apache.org&gt;&#013;&#010;ä¸»é¢˜: Re: Flink SQLå¤„ç†Arrayå‹çš„JSON&#013;&#010;&#013;&#010;Helloï¼Œå¯çˆ±çš„æœ¨å…°&#013;&#010;&#013;&#010;å¯ä»¥ä¸ç”¨æ”¹jsonçš„ï¼Œå¯ä»¥ç”¨ UNNEST æŠŠæ•°ç»„æ‹†æˆå¤šè¡Œï¼Œä¹Ÿå¯ä»¥å†™UDTFè‡ªå·±è§£æå¯¹åº”å­—æ®µï¼Œå‚è€ƒ[1]&#013;&#010;&#013;&#010;SELECT users, tag&#013;&#010;FROM Orders CROSS JOIN UNNEST(tags) AS t (tag)&#013;&#010;&#013;&#010;Bestï¼Œ&#013;&#010;Leonard Xu&#013;&#010;[1] https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/table/sql/queries.html &lt;https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/table/sql/queries.html&gt;&#013;&#010;&#013;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ10:34ï¼Œhua mulan &lt;deadwind4@outlook.com&gt; å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; å¯çˆ±çš„æœ¨å…°&#013;&#010;&#013;&#010;",
        "depth": "1",
        "reply": "<SG2PR02MB3226753A6C7FCFE91D364E95F8610@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 02:42:36 GMT",
        "subject": "flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "helloï¼Œ&#010;&#010;        å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#010;&#010;&#010;Caused by: java.nio.file.NoSuchFileException:&#010;/data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#010;-&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#010;&#010;é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#010;state.backend: rocksdb&#010;state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#010;state.savepoints.dir: hdfs:///flink/savepoints/wc/&#010;state.backend.incremental: true&#010;&#010;ä»£ç ä¸Šéƒ½æœ‰&#010;&#010;env.enableCheckpointing(10000);&#010;env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#010;env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#010;org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#010;&#010;&#010;          æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#010;&#010;",
        "depth": "0",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<DM5PR2001MB17850B4F49922B29B787D614DA610@DM5PR2001MB1785.namprd20.prod.outlook.com>",
        "from": "Yun Tang &lt;myas...@live.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 03:57:35 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi Peihui&#013;&#010;&#013;&#010;ä½ çš„å¼‚å¸¸åº”è¯¥æ˜¯ä»å¢é‡Checkpointæ¢å¤æ—¶ï¼Œæ–‡ä»¶å·²ç»ä¸‹è½½åˆ°æœ¬åœ°äº†ï¼Œåšç¡¬é“¾æ—¶[1]ï¼Œå‘ç°æºæ–‡ä»¶ä¸è§äº†ï¼Œæœ‰å¾ˆå¤§çš„å¯èƒ½æ˜¯å½“æ—¶å‘ç”Ÿäº†å¼‚å¸¸ï¼Œå¯¼è‡´restoreæµç¨‹é€€å‡ºäº†ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜åº”è¯¥ä¸æ˜¯root&#010;causeã€‚&#013;&#010;&#013;&#010;[1] https://github.com/apache/flink/blob/2a3b642b1efb957f3d4f20502c40398786ab1469/flink-state-backends/flink-statebackend-rocksdb/src/main/java/org/apache/flink/contrib/streaming/state/restore/RocksDBIncrementalRestoreOperation.java#L473&#013;&#010;&#013;&#010;&#013;&#010;ç¥å¥½&#013;&#010;å”äº‘&#013;&#010;________________________________&#013;&#010;From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;Sent: Tuesday, July 14, 2020 10:42&#013;&#010;To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&#013;&#010;helloï¼Œ&#013;&#010;&#013;&#010;        å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&#013;&#010;&#013;&#010;Caused by: java.nio.file.NoSuchFileException:&#013;&#010;/data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;-&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&#013;&#010;é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;state.backend: rocksdb&#013;&#010;state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;state.backend.incremental: true&#013;&#010;&#013;&#010;ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&#013;&#010;env.enableCheckpointing(10000);&#013;&#010;env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&#013;&#010;&#013;&#010;          æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;",
        "depth": "1",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAA8tFvs+a1gV4GefTRqRZ8p_YRwH7ECLBZ4pFK5WLvf-+_L6UA@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 05:54:04 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi&#013;&#010;&#013;&#010;è¿™ä¸ªå‡ºé”™æ˜¯ä» 1.9 å‡çº§åˆ° 1.10 é‡åˆ°çš„é—®é¢˜ï¼Œè¿˜æ˜¯è¯´ 1.10 èƒ½æ­£å¸¸è·‘äº†ï¼Œç„¶åè·‘ç€è·‘ç€&#010;failover äº†å†æ¬¡æ¢å¤çš„æ—¶å€™å‡ºé”™äº†å‘¢ï¼Ÿ&#013;&#010;å¦å¤–ä½ å¯ä»¥çœ‹ä¸‹ tm log çœ‹çœ‹æœ‰æ²¡æœ‰å…¶ä»–å¼‚å¸¸&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ11:57å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Peihui&#013;&#010;&gt;&#013;&#010;&gt; ä½ çš„å¼‚å¸¸åº”è¯¥æ˜¯ä»å¢é‡Checkpointæ¢å¤æ—¶ï¼Œæ–‡ä»¶å·²ç»ä¸‹è½½åˆ°æœ¬åœ°äº†ï¼Œåšç¡¬é“¾æ—¶[1]ï¼Œå‘ç°æºæ–‡ä»¶ä¸è§äº†ï¼Œæœ‰å¾ˆå¤§çš„å¯èƒ½æ˜¯å½“æ—¶å‘ç”Ÿäº†å¼‚å¸¸ï¼Œå¯¼è‡´restoreæµç¨‹é€€å‡ºäº†ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜åº”è¯¥ä¸æ˜¯root&#013;&#010;&gt; causeã€‚&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt; https://github.com/apache/flink/blob/2a3b642b1efb957f3d4f20502c40398786ab1469/flink-state-backends/flink-statebackend-rocksdb/src/main/java/org/apache/flink/contrib/streaming/state/restore/RocksDBIncrementalRestoreOperation.java#L473&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½&#013;&#010;&gt; å”äº‘&#013;&#010;&gt; ________________________________&#013;&#010;&gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&#013;&#010;&gt; helloï¼Œ&#013;&#010;&gt;&#013;&#010;&gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; -&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&#013;&#010;&gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt; state.backend: rocksdb&#013;&#010;&gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt; state.backend.incremental: true&#013;&#010;&gt;&#013;&#010;&gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt;&#013;&#010;&gt; env.enableCheckpointing(10000);&#013;&#010;&gt;&#013;&#010;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAGR9zpZkX8Y_vp57DtWNW-tZ+5e6LVqr24YQvdxEpc9KbEztrw@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 06:46:15 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi Congxianï¼Œ&#013;&#010;&#013;&#010;è¿™ä¸ªé”™è¯¯æ˜¯ä»1.9 å‡çº§åˆ°1.10 é‡åˆ°çš„é—®é¢˜ã€‚ç”¨ç®€å•çš„wordcount æµ‹è¯•ï¼Œè‡ªå·±æ ¹æ®ç‰¹å®šword&#013;&#010;æŠ›å‡ºruntimeExceptionï¼Œå°±èƒ½å¤Ÿé‡ç°ã€‚flink on yarn å’Œ flink on k8s éƒ½å‡ºç°è¿™ä¸ªé—®é¢˜ã€‚1.10&#013;&#010;éƒ½ä¸èƒ½ä»ä¸Šæ¬¡çš„checkpointçŠ¶æ€ä¸­æ¢å¤ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯1.10éœ€è¦å…¶ä»–é…ç½®å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;Best wishes.&#013;&#010;&#013;&#010;Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸‹åˆ1:54å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi&#013;&#010;&gt;&#013;&#010;&gt; è¿™ä¸ªå‡ºé”™æ˜¯ä» 1.9 å‡çº§åˆ° 1.10 é‡åˆ°çš„é—®é¢˜ï¼Œè¿˜æ˜¯è¯´ 1.10 èƒ½æ­£å¸¸è·‘äº†ï¼Œç„¶åè·‘ç€è·‘ç€&#010;failover äº†å†æ¬¡æ¢å¤çš„æ—¶å€™å‡ºé”™äº†å‘¢ï¼Ÿ&#013;&#010;&gt; å¦å¤–ä½ å¯ä»¥çœ‹ä¸‹ tm log çœ‹çœ‹æœ‰æ²¡æœ‰å…¶ä»–å¼‚å¸¸&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ11:57å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hi Peihui&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; ä½ çš„å¼‚å¸¸åº”è¯¥æ˜¯ä»å¢é‡Checkpointæ¢å¤æ—¶ï¼Œæ–‡ä»¶å·²ç»ä¸‹è½½åˆ°æœ¬åœ°äº†ï¼Œåšç¡¬é“¾æ—¶[1]ï¼Œå‘ç°æºæ–‡ä»¶ä¸è§äº†ï¼Œæœ‰å¾ˆå¤§çš„å¯èƒ½æ˜¯å½“æ—¶å‘ç”Ÿäº†å¼‚å¸¸ï¼Œå¯¼è‡´restoreæµç¨‹é€€å‡ºäº†ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜åº”è¯¥ä¸æ˜¯root&#013;&#010;&gt; &gt; causeã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; [1]&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://github.com/apache/flink/blob/2a3b642b1efb957f3d4f20502c40398786ab1469/flink-state-backends/flink-statebackend-rocksdb/src/main/java/org/apache/flink/contrib/streaming/state/restore/RocksDBIncrementalRestoreOperation.java#L473&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ç¥å¥½&#013;&#010;&gt; &gt; å”äº‘&#013;&#010;&gt; &gt; ________________________________&#013;&#010;&gt; &gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt; &gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt; &gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; &gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; helloï¼Œ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; &gt; -&gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt; &gt; state.backend: rocksdb&#013;&#010;&gt; &gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt; &gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt; &gt; state.backend.incremental: true&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; env.enableCheckpointing(10000);&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt; &gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt; &gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "3",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAA8tFvue4su1JUNiqGCwfATKJiVUEQhkMzZzjBwm6FkuwPq+-g@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 05:04:12 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi&#013;&#010;&#013;&#010;æˆ‘å°è¯•ç†è§£ä¸€ä¸‹ï¼š&#013;&#010;1 ä½ ç”¨ 1.9 è·‘ wordcount ä½œä¸šï¼Œç„¶åæ‰§è¡Œäº†ä¸€äº› checkpointï¼Œç„¶ååœæ­¢ä½œä¸šï¼Œç„¶åä½¿ç”¨&#010;1.10 ä»ä¹‹å‰ 1.9 çš„ä½œä¸šç”Ÿæˆçš„&#013;&#010;checkpoint æ¢å¤ï¼Œå‘ç°æ¢å¤ä¸äº†ï¼Ÿ&#013;&#010;2 ä½ ç”¨ä½œä¸š 1.10 è·‘ wordcountï¼Œç„¶åé‡åˆ°ç‰¹å®šçš„ word ä¼šæŠ›å¼‚å¸¸ï¼Œç„¶å failoverï¼Œå‘ç°ä¸èƒ½ä»&#010;checkpoint æ¢å¤ï¼Ÿ&#013;&#010;&#013;&#010;ä½ è¿™é‡Œçš„é—®é¢˜æ˜¯ç¬¬ 1 ç§è¿˜æ˜¯ç¬¬ 2 ç§å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;å¦å¤–èƒ½å¦åˆ†äº«ä¸€ä¸‹ä½ çš„æ“ä½œæ­¥éª¤ä»¥åŠå‡ºé”™æ—¶å€™çš„ taskmanager log å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸‹åˆ2:46å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Congxianï¼Œ&#013;&#010;&gt;&#013;&#010;&gt; è¿™ä¸ªé”™è¯¯æ˜¯ä»1.9 å‡çº§åˆ°1.10 é‡åˆ°çš„é—®é¢˜ã€‚ç”¨ç®€å•çš„wordcount æµ‹è¯•ï¼Œè‡ªå·±æ ¹æ®ç‰¹å®šword&#013;&#010;&gt; æŠ›å‡ºruntimeExceptionï¼Œå°±èƒ½å¤Ÿé‡ç°ã€‚flink on yarn å’Œ flink on k8s éƒ½å‡ºç°è¿™ä¸ªé—®é¢˜ã€‚1.10&#013;&#010;&gt; éƒ½ä¸èƒ½ä»ä¸Šæ¬¡çš„checkpointçŠ¶æ€ä¸­æ¢å¤ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯1.10éœ€è¦å…¶ä»–é…ç½®å‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; Best wishes.&#013;&#010;&gt;&#013;&#010;&gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸‹åˆ1:54å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hi&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; è¿™ä¸ªå‡ºé”™æ˜¯ä» 1.9 å‡çº§åˆ° 1.10 é‡åˆ°çš„é—®é¢˜ï¼Œè¿˜æ˜¯è¯´ 1.10 èƒ½æ­£å¸¸è·‘äº†ï¼Œç„¶åè·‘ç€è·‘ç€&#010;failover äº†å†æ¬¡æ¢å¤çš„æ—¶å€™å‡ºé”™äº†å‘¢ï¼Ÿ&#013;&#010;&gt; &gt; å¦å¤–ä½ å¯ä»¥çœ‹ä¸‹ tm log çœ‹çœ‹æœ‰æ²¡æœ‰å…¶ä»–å¼‚å¸¸&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Best,&#013;&#010;&gt; &gt; Congxian&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ11:57å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; &gt; Hi Peihui&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; ä½ çš„å¼‚å¸¸åº”è¯¥æ˜¯ä»å¢é‡Checkpointæ¢å¤æ—¶ï¼Œæ–‡ä»¶å·²ç»ä¸‹è½½åˆ°æœ¬åœ°äº†ï¼Œåšç¡¬é“¾æ—¶[1]ï¼Œå‘ç°æºæ–‡ä»¶ä¸è§äº†ï¼Œæœ‰å¾ˆå¤§çš„å¯èƒ½æ˜¯å½“æ—¶å‘ç”Ÿäº†å¼‚å¸¸ï¼Œå¯¼è‡´restoreæµç¨‹é€€å‡ºäº†ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜åº”è¯¥ä¸æ˜¯root&#013;&#010;&gt; &gt; &gt; causeã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; [1]&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://github.com/apache/flink/blob/2a3b642b1efb957f3d4f20502c40398786ab1469/flink-state-backends/flink-statebackend-rocksdb/src/main/java/org/apache/flink/contrib/streaming/state/restore/RocksDBIncrementalRestoreOperation.java#L473&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; ç¥å¥½&#013;&#010;&gt; &gt; &gt; å”äº‘&#013;&#010;&gt; &gt; &gt; ________________________________&#013;&#010;&gt; &gt; &gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt; &gt; &gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt; &gt; &gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; &gt; &gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; helloï¼Œ&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; &gt; &gt; -&gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt; &gt; &gt; state.backend: rocksdb&#013;&#010;&gt; &gt; &gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt; &gt; &gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt; &gt; &gt; state.backend.incremental: true&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; env.enableCheckpointing(10000);&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt; &gt; &gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt; &gt; &gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "4",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAGR9zpZ5tyN8J5cST7+96r6vDfuqir-RwziG=tmFB2pL2Loq5g@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:05:06 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi  Congxian,&#013;&#010;&#013;&#010;ä¸å¥½æ„æ€ï¼Œæœ¬æ¥æƒ³å‡†å¤‡ä¸‹ä¾‹å­å†å›ä¸‹é‚®ä»¶çš„ï¼Œä¸€ç›´æ‹–äº†è¿™ä¹ˆä¹…ã€‚&#013;&#010;æƒ…å†µæ˜¯ä½ è¯´çš„ç¬¬2ç§ã€‚&#013;&#010;åŒ@chenxyzé‡åˆ°çš„æƒ…å†µç±»ä¼¼ï¼Œæ—¥å¿—å¯ä»¥å‚è€ƒchenxyzå‘çš„&#013;&#010;http://apache-flink.147419.n8.nabble.com/rocksdb-Could-not-restore-keyed-state-backend-for-KeyedProcessOperator-td2232.html&#013;&#010;&#013;&#010;&#013;&#010;æŒ‰ç…§chenxyz çš„å»ºè®®æ¢äº†1.10.1ç‰ˆæœ¬åå°±æ²¡æœ‰é—®é¢˜äº†ã€‚&#013;&#010;&#013;&#010;Best wishes.&#013;&#010;&#013;&#010;&#013;&#010;Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ1:04å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘å°è¯•ç†è§£ä¸€ä¸‹ï¼š&#013;&#010;&gt; 1 ä½ ç”¨ 1.9 è·‘ wordcount ä½œä¸šï¼Œç„¶åæ‰§è¡Œäº†ä¸€äº› checkpointï¼Œç„¶ååœæ­¢ä½œä¸šï¼Œç„¶åä½¿ç”¨&#010;1.10 ä»ä¹‹å‰ 1.9 çš„ä½œä¸šç”Ÿæˆçš„&#013;&#010;&gt; checkpoint æ¢å¤ï¼Œå‘ç°æ¢å¤ä¸äº†ï¼Ÿ&#013;&#010;&gt; 2 ä½ ç”¨ä½œä¸š 1.10 è·‘ wordcountï¼Œç„¶åé‡åˆ°ç‰¹å®šçš„ word ä¼šæŠ›å¼‚å¸¸ï¼Œç„¶å&#010;failoverï¼Œå‘ç°ä¸èƒ½ä» checkpoint æ¢å¤ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; ä½ è¿™é‡Œçš„é—®é¢˜æ˜¯ç¬¬ 1 ç§è¿˜æ˜¯ç¬¬ 2 ç§å‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; å¦å¤–èƒ½å¦åˆ†äº«ä¸€ä¸‹ä½ çš„æ“ä½œæ­¥éª¤ä»¥åŠå‡ºé”™æ—¶å€™çš„ taskmanager log å‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸‹åˆ2:46å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hi Congxianï¼Œ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; è¿™ä¸ªé”™è¯¯æ˜¯ä»1.9 å‡çº§åˆ°1.10 é‡åˆ°çš„é—®é¢˜ã€‚ç”¨ç®€å•çš„wordcount æµ‹è¯•ï¼Œè‡ªå·±æ ¹æ®ç‰¹å®šword&#013;&#010;&gt; &gt; æŠ›å‡ºruntimeExceptionï¼Œå°±èƒ½å¤Ÿé‡ç°ã€‚flink on yarn å’Œ flink on k8s éƒ½å‡ºç°è¿™ä¸ªé—®é¢˜ã€‚1.10&#013;&#010;&gt; &gt; éƒ½ä¸èƒ½ä»ä¸Šæ¬¡çš„checkpointçŠ¶æ€ä¸­æ¢å¤ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯1.10éœ€è¦å…¶ä»–é…ç½®å‘¢ï¼Ÿ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Best wishes.&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸‹åˆ1:54å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; &gt; Hi&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; è¿™ä¸ªå‡ºé”™æ˜¯ä» 1.9 å‡çº§åˆ° 1.10 é‡åˆ°çš„é—®é¢˜ï¼Œè¿˜æ˜¯è¯´ 1.10 èƒ½æ­£å¸¸è·‘äº†ï¼Œç„¶åè·‘ç€è·‘ç€&#010;failover äº†å†æ¬¡æ¢å¤çš„æ—¶å€™å‡ºé”™äº†å‘¢ï¼Ÿ&#013;&#010;&gt; &gt; &gt; å¦å¤–ä½ å¯ä»¥çœ‹ä¸‹ tm log çœ‹çœ‹æœ‰æ²¡æœ‰å…¶ä»–å¼‚å¸¸&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; Best,&#013;&#010;&gt; &gt; &gt; Congxian&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ11:57å†™é“ï¼š&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; Hi Peihui&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; ä½ çš„å¼‚å¸¸åº”è¯¥æ˜¯ä»å¢é‡Checkpointæ¢å¤æ—¶ï¼Œæ–‡ä»¶å·²ç»ä¸‹è½½åˆ°æœ¬åœ°äº†ï¼Œåšç¡¬é“¾æ—¶[1]ï¼Œå‘ç°æºæ–‡ä»¶ä¸è§äº†ï¼Œæœ‰å¾ˆå¤§çš„å¯èƒ½æ˜¯å½“æ—¶å‘ç”Ÿäº†å¼‚å¸¸ï¼Œå¯¼è‡´restoreæµç¨‹é€€å‡ºäº†ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜åº”è¯¥ä¸æ˜¯root&#013;&#010;&gt; &gt; &gt; &gt; causeã€‚&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; [1]&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://github.com/apache/flink/blob/2a3b642b1efb957f3d4f20502c40398786ab1469/flink-state-backends/flink-statebackend-rocksdb/src/main/java/org/apache/flink/contrib/streaming/state/restore/RocksDBIncrementalRestoreOperation.java#L473&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; ç¥å¥½&#013;&#010;&gt; &gt; &gt; &gt; å”äº‘&#013;&#010;&gt; &gt; &gt; &gt; ________________________________&#013;&#010;&gt; &gt; &gt; &gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt; &gt; &gt; &gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt; &gt; &gt; &gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; &gt; &gt; &gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; helloï¼Œ&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; &gt; &gt; &gt; -&gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt; &gt; &gt; &gt; state.backend: rocksdb&#013;&#010;&gt; &gt; &gt; &gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt; &gt; &gt; &gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt; &gt; &gt; &gt; state.backend.incremental: true&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; env.enableCheckpointing(10000);&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt; &gt; &gt; &gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt; &gt; &gt; &gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "5",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAGR9zpa3+tfw17r6A3MzjcLsNnov=48h_cCn7Lj778-RLnKYnA@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 06:41:53 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi Yunï¼Œ&#013;&#010;&#013;&#010;æˆ‘è¿™è¾¹ç”¨ä¸€ä¸ªword count ä¾‹å­ï¼Œsocket -&gt; flatmap -&gt; keyBy -&gt; reduce -&gt;&#013;&#010;print. åœ¨flatmap ä¸­å½“å‡ºç°ç‰¹å®šwordçš„æ—¶å€™å°±æŠ›å‡ºä¸€ä¸ªruntimeExceptionã€‚åœ¨1.9.2&#013;&#010;é‡Œé¢æ˜¯å¯ä»¥ä»checkpointä¸­è‡ªåŠ¨æ¢å¤ä¸Šæ¬¡åšcheckpointçš„æ—¶å€™çš„çŠ¶æ€ï¼Œä½†æ˜¯ç”¨1.10.0&#010;å°±ä¸èƒ½ã€‚ç¯å¢ƒæ˜¯flink on&#013;&#010;yarnã€‚&#013;&#010;&#013;&#010;Best wishes.&#013;&#010;&#013;&#010;Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ11:57å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Peihui&#013;&#010;&gt;&#013;&#010;&gt; ä½ çš„å¼‚å¸¸åº”è¯¥æ˜¯ä»å¢é‡Checkpointæ¢å¤æ—¶ï¼Œæ–‡ä»¶å·²ç»ä¸‹è½½åˆ°æœ¬åœ°äº†ï¼Œåšç¡¬é“¾æ—¶[1]ï¼Œå‘ç°æºæ–‡ä»¶ä¸è§äº†ï¼Œæœ‰å¾ˆå¤§çš„å¯èƒ½æ˜¯å½“æ—¶å‘ç”Ÿäº†å¼‚å¸¸ï¼Œå¯¼è‡´restoreæµç¨‹é€€å‡ºäº†ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜åº”è¯¥ä¸æ˜¯root&#013;&#010;&gt; causeã€‚&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt; https://github.com/apache/flink/blob/2a3b642b1efb957f3d4f20502c40398786ab1469/flink-state-backends/flink-statebackend-rocksdb/src/main/java/org/apache/flink/contrib/streaming/state/restore/RocksDBIncrementalRestoreOperation.java#L473&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½&#013;&#010;&gt; å”äº‘&#013;&#010;&gt; ________________________________&#013;&#010;&gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&#013;&#010;&gt; helloï¼Œ&#013;&#010;&gt;&#013;&#010;&gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; -&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&#013;&#010;&gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt; state.backend: rocksdb&#013;&#010;&gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt; state.backend.incremental: true&#013;&#010;&gt;&#013;&#010;&gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt;&#013;&#010;&gt; env.enableCheckpointing(10000);&#013;&#010;&gt;&#013;&#010;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<141378c.9085.17352bfcafc.Coremail.chenxyz@163.com>",
        "from": "chenxyz  &lt;chen...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 13:52:47 GMT",
        "subject": "Re:Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "&#010;&#010;&#010;Helloï¼Œ&#010;Peihuiï¼Œå¯ä»¥å‚è€ƒä¸‹æ˜¯ä¸æ˜¯å’Œè¿™ä¸ªé—®é¢˜ç±»ä¼¼ï¼Ÿä¹‹å‰æˆ‘åœ¨1.10.0ä¹Ÿé‡åˆ°è¿‡ã€‚&#010;http://apache-flink.147419.n8.nabble.com/rocksdb-Could-not-restore-keyed-state-backend-for-KeyedProcessOperator-td2232.html#a2239&#010;è§£å†³æ–¹å¼ï¼š&#010;1. ä½¿ç”¨hdfsä½œä¸ºçŠ¶æ€åç«¯ä¸ä¼šæŠ¥é”™&#010;2. å‡çº§è‡³1.10.1ä½¿ç”¨rocksdbä¹Ÿä¸ä¼šå‡ºç°è¯¥é—®é¢˜&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-14 14:41:53ï¼Œ\"Peihui He\" &lt;peihuihe@gmail.com&gt; å†™é“ï¼š&#010;&gt;Hi Yunï¼Œ&#010;&gt;&#010;&gt;æˆ‘è¿™è¾¹ç”¨ä¸€ä¸ªword count ä¾‹å­ï¼Œsocket -&gt; flatmap -&gt; keyBy -&gt; reduce -&gt;&#010;&gt;print. åœ¨flatmap ä¸­å½“å‡ºç°ç‰¹å®šwordçš„æ—¶å€™å°±æŠ›å‡ºä¸€ä¸ªruntimeExceptionã€‚åœ¨1.9.2&#010;&gt;é‡Œé¢æ˜¯å¯ä»¥ä»checkpointä¸­è‡ªåŠ¨æ¢å¤ä¸Šæ¬¡åšcheckpointçš„æ—¶å€™çš„çŠ¶æ€ï¼Œä½†æ˜¯ç”¨1.10.0&#010;å°±ä¸èƒ½ã€‚ç¯å¢ƒæ˜¯flink on&#010;&gt;yarnã€‚&#010;&gt;&#010;&gt;Best wishes.&#010;&gt;&#010;&gt;Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ11:57å†™é“ï¼š&#010;&gt;&#010;&gt;&gt; Hi Peihui&#010;&gt;&gt;&#010;&gt;&gt; ä½ çš„å¼‚å¸¸åº”è¯¥æ˜¯ä»å¢é‡Checkpointæ¢å¤æ—¶ï¼Œæ–‡ä»¶å·²ç»ä¸‹è½½åˆ°æœ¬åœ°äº†ï¼Œåšç¡¬é“¾æ—¶[1]ï¼Œå‘ç°æºæ–‡ä»¶ä¸è§äº†ï¼Œæœ‰å¾ˆå¤§çš„å¯èƒ½æ˜¯å½“æ—¶å‘ç”Ÿäº†å¼‚å¸¸ï¼Œå¯¼è‡´restoreæµç¨‹é€€å‡ºäº†ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜åº”è¯¥ä¸æ˜¯root&#010;&gt;&gt; causeã€‚&#010;&gt;&gt;&#010;&gt;&gt; [1]&#010;&gt;&gt; https://github.com/apache/flink/blob/2a3b642b1efb957f3d4f20502c40398786ab1469/flink-state-backends/flink-statebackend-rocksdb/src/main/java/org/apache/flink/contrib/streaming/state/restore/RocksDBIncrementalRestoreOperation.java#L473&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt; ç¥å¥½&#010;&gt;&gt; å”äº‘&#010;&gt;&gt; ________________________________&#010;&gt;&gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#010;&gt;&gt; Sent: Tuesday, July 14, 2020 10:42&#010;&gt;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#010;&gt;&gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#010;&gt;&gt;&#010;&gt;&gt; helloï¼Œ&#010;&gt;&gt;&#010;&gt;&gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt; Caused by: java.nio.file.NoSuchFileException:&#010;&gt;&gt;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#010;&gt;&gt; -&gt;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#010;&gt;&gt;&#010;&gt;&gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#010;&gt;&gt; state.backend: rocksdb&#010;&gt;&gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#010;&gt;&gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#010;&gt;&gt; state.backend.incremental: true&#010;&gt;&gt;&#010;&gt;&gt; ä»£ç ä¸Šéƒ½æœ‰&#010;&gt;&gt;&#010;&gt;&gt; env.enableCheckpointing(10000);&#010;&gt;&gt;&#010;&gt;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#010;&gt;&gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#010;&gt;&gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#010;&gt;&gt;&#010;",
        "depth": "3",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAGR9zpYW_5X+=4hTaAvGaY_ipbnk39FGonRjap4=bnAYUh-YwQ@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:06:56 GMT",
        "subject": "Re: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi chenxyz,&#013;&#010;&#013;&#010;æˆ‘ä»¬é‡åˆ°çš„é—®é¢˜åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œæ¢äº†1.10.1 åå°±å¯ä»¥ä»checkpoint ä¸­æ¢å¤äº†ã€‚ğŸ¤—&#013;&#010;&#013;&#010;Best wishes.&#013;&#010;&#013;&#010;chenxyz &lt;chenxyz@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ9:53å†™é“ï¼š&#013;&#010;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Helloï¼Œ&#013;&#010;&gt; Peihuiï¼Œå¯ä»¥å‚è€ƒä¸‹æ˜¯ä¸æ˜¯å’Œè¿™ä¸ªé—®é¢˜ç±»ä¼¼ï¼Ÿä¹‹å‰æˆ‘åœ¨1.10.0ä¹Ÿé‡åˆ°è¿‡ã€‚&#013;&#010;&gt;&#013;&#010;&gt; http://apache-flink.147419.n8.nabble.com/rocksdb-Could-not-restore-keyed-state-backend-for-KeyedProcessOperator-td2232.html#a2239&#013;&#010;&gt; è§£å†³æ–¹å¼ï¼š&#013;&#010;&gt; 1. ä½¿ç”¨hdfsä½œä¸ºçŠ¶æ€åç«¯ä¸ä¼šæŠ¥é”™&#013;&#010;&gt; 2. å‡çº§è‡³1.10.1ä½¿ç”¨rocksdbä¹Ÿä¸ä¼šå‡ºç°è¯¥é—®é¢˜&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; åœ¨ 2020-07-14 14:41:53ï¼Œ\"Peihui He\" &lt;peihuihe@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;Hi Yunï¼Œ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;æˆ‘è¿™è¾¹ç”¨ä¸€ä¸ªword count ä¾‹å­ï¼Œsocket -&gt; flatmap -&gt; keyBy -&gt; reduce&#010;-&gt;&#013;&#010;&gt; &gt;print. åœ¨flatmap ä¸­å½“å‡ºç°ç‰¹å®šwordçš„æ—¶å€™å°±æŠ›å‡ºä¸€ä¸ªruntimeExceptionã€‚åœ¨1.9.2&#013;&#010;&gt; &gt;é‡Œé¢æ˜¯å¯ä»¥ä»checkpointä¸­è‡ªåŠ¨æ¢å¤ä¸Šæ¬¡åšcheckpointçš„æ—¶å€™çš„çŠ¶æ€ï¼Œä½†æ˜¯ç”¨1.10.0&#010;å°±ä¸èƒ½ã€‚ç¯å¢ƒæ˜¯flink on&#013;&#010;&gt; &gt;yarnã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;Best wishes.&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ11:57å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&gt; Hi Peihui&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; ä½ çš„å¼‚å¸¸åº”è¯¥æ˜¯ä»å¢é‡Checkpointæ¢å¤æ—¶ï¼Œæ–‡ä»¶å·²ç»ä¸‹è½½åˆ°æœ¬åœ°äº†ï¼Œåšç¡¬é“¾æ—¶[1]ï¼Œå‘ç°æºæ–‡ä»¶ä¸è§äº†ï¼Œæœ‰å¾ˆå¤§çš„å¯èƒ½æ˜¯å½“æ—¶å‘ç”Ÿäº†å¼‚å¸¸ï¼Œå¯¼è‡´restoreæµç¨‹é€€å‡ºäº†ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜åº”è¯¥ä¸æ˜¯root&#013;&#010;&gt; &gt;&gt; causeã€‚&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; [1]&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; https://github.com/apache/flink/blob/2a3b642b1efb957f3d4f20502c40398786ab1469/flink-state-backends/flink-statebackend-rocksdb/src/main/java/org/apache/flink/contrib/streaming/state/restore/RocksDBIncrementalRestoreOperation.java#L473&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; ç¥å¥½&#013;&#010;&gt; &gt;&gt; å”äº‘&#013;&#010;&gt; &gt;&gt; ________________________________&#013;&#010;&gt; &gt;&gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt; &gt;&gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt; &gt;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; &gt;&gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; helloï¼Œ&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; &gt;&gt; -&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt; &gt;&gt; state.backend: rocksdb&#013;&#010;&gt; &gt;&gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt; &gt;&gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt; &gt;&gt; state.backend.incremental: true&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; env.enableCheckpointing(10000);&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt; &gt;&gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt; &gt;&gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "4",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<1594801437339-0.post@n8.nabble.com>",
        "from": "Robin Zhang &lt;vincent2015q...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 08:23:57 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "æ®æˆ‘æ‰€çŸ¥ï¼Œè·¨å¤§ç‰ˆæœ¬çš„ä¸èƒ½ç›´æ¥ä»checkointæ¢å¤ï¼Œåªèƒ½æ”¾å¼ƒçŠ¶æ€é‡æ–°è·‘&#010;&#010;Best&#010;Robin Zhang&#010;________________________________&#010;From: Peihui He &lt;[hidden email]&gt;&#010;Sent: Tuesday, July 14, 2020 10:42&#010;To: [hidden email] &lt;[hidden email]&gt;&#010;Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#010;&#010;helloï¼Œ&#010;&#010;        å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#010;&#010;&#010;Caused by: java.nio.file.NoSuchFileException:&#010;/data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#010;-&gt;&#010;/data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#010;&#010;é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#010;state.backend: rocksdb&#010;state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#010;state.savepoints.dir: hdfs:///flink/savepoints/wc/&#010;state.backend.incremental: true&#010;&#010;ä»£ç ä¸Šéƒ½æœ‰&#010;&#010;env.enableCheckpointing(10000);&#010;env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#010;env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#010;org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#010;&#010;&#010;          æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "1",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<DM5PR2001MB17856EEC9D62FD9AC34B6545DA7E0@DM5PR2001MB1785.namprd20.prod.outlook.com>",
        "from": "Yun Tang &lt;myas...@live.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 08:35:11 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi Robin&#013;&#010;&#013;&#010;å…¶å®ä½ çš„è¯´æ³•ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œç¤¾åŒºæ˜¯æ˜æ–‡ä¿è¯savepointçš„å…¼å®¹æ€§ [1]ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€è·¨å¤§ç‰ˆæœ¬æ—¶æ— æ³•ä»checkpointæ¢å¤ï¼Œç¤¾åŒºä¸æ‰¿è¯ºä¸»è¦è¿˜æ˜¯ç»´æŠ¤å…¶å¤ªè€—è´¹ç²¾åŠ›ï¼Œä½†æ˜¯å®é™…ä»ä»£ç è§’åº¦æ¥è¯´ï¼Œåœ¨åˆç†ä½¿ç”¨state&#010;schema evolution [2]çš„å‰æä¸‹ï¼Œç›®å‰è·¨ç‰ˆæœ¬checkpointæ¢å¤åŸºæœ¬éƒ½æ˜¯å…¼å®¹çš„.&#013;&#010;&#013;&#010;å¦å¤– @Peihui ä¹Ÿè¯·éº»çƒ¦å¯¹ä½ çš„å¼‚å¸¸æè¿°æ¸…æ™°ä¸€äº›ï¼Œæˆ‘çš„ç¬¬ä¸€æ¬¡å›å¤å·²ç»æ¨æµ‹è¯¥å¼‚å¸¸ä¸æ˜¯root&#010;causeï¼Œè¿˜è¯·åœ¨æ—¥å¿—ä¸­æ‰¾ä¸€ä¸‹æ— æ³•æ¢å¤çš„root causeï¼Œå¦‚æœä¸çŸ¥é“æ€ä¹ˆä»æ—¥å¿—é‡Œé¢æ‰¾ï¼Œå¯ä»¥æŠŠç›¸å…³æ—¥å¿—åˆ†äº«å‡ºæ¥ã€‚&#013;&#010;&#013;&#010;&#013;&#010;[1] https://ci.apache.org/projects/flink/flink-docs-stable/ops/upgrading.html#compatibility-table&#013;&#010;[2] https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/schema_evolution.html&#013;&#010;&#013;&#010;ç¥å¥½&#013;&#010;å”äº‘&#013;&#010;&#013;&#010;&#013;&#010;________________________________&#013;&#010;From: Robin Zhang &lt;vincent2015qdlg@outlook.com&gt;&#013;&#010;Sent: Wednesday, July 15, 2020 16:23&#013;&#010;To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&#013;&#010;æ®æˆ‘æ‰€çŸ¥ï¼Œè·¨å¤§ç‰ˆæœ¬çš„ä¸èƒ½ç›´æ¥ä»checkointæ¢å¤ï¼Œåªèƒ½æ”¾å¼ƒçŠ¶æ€é‡æ–°è·‘&#013;&#010;&#013;&#010;Best&#013;&#010;Robin Zhang&#013;&#010;________________________________&#013;&#010;From: Peihui He &lt;[hidden email]&gt;&#013;&#010;Sent: Tuesday, July 14, 2020 10:42&#013;&#010;To: [hidden email] &lt;[hidden email]&gt;&#013;&#010;Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&#013;&#010;helloï¼Œ&#013;&#010;&#013;&#010;        å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&#013;&#010;&#013;&#010;Caused by: java.nio.file.NoSuchFileException:&#013;&#010;/data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;-&gt;&#013;&#010;/data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&#013;&#010;é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;state.backend: rocksdb&#013;&#010;state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;state.backend.incremental: true&#013;&#010;&#013;&#010;ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&#013;&#010;env.enableCheckpointing(10000);&#013;&#010;env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&#013;&#010;&#013;&#010;          æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;--&#013;&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;",
        "depth": "2",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAGR9zpayr+Yd2TqJ618OYHAGUfn+WPswerBG5iVx2b9x3=2mkQ@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:15:18 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi Yun,&#013;&#010;&#013;&#010;ä¸å¥½æ„æ€è¿™ä¹ˆä¹…å›å¤ï¼Œæ˜¯@Congxian æè¿°çš„ç¬¬2ç§æƒ…å†µã€‚å¼‚å¸¸å°±æ˜¯æˆ‘é€šè¿‡socket&#013;&#010;è¾“å…¥çš„ç‰¹å®šçš„wordæŠ›å‡ºruntimeexception ä½¿task&#013;&#010;å¤±è´¥ï¼Œç„¶åjobä¼šå°è¯•ä»checkpointä¸­æ¢å¤ï¼Œä½†æ˜¯æ¢å¤çš„è¿‡ç¨‹ä¸­å°±æŠ¥&#013;&#010;&#013;&#010;Caused by: java.nio.file.NoSuchFileException:&#013;&#010;/data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;-&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&#013;&#010;æƒ…å†µå’Œ@chenxyz ç±»ä¼¼ã€‚&#013;&#010;http://apache-flink.147419.n8.nabble.com/rocksdb-Could-not-restore-keyed-state-backend-for-KeyedProcessOperator-td2232.html&#013;&#010;&#013;&#010;æ¢æˆ1.10.1 å°±å¯ä»¥äº†&#013;&#010;&#013;&#010;Best wishes.&#013;&#010;&#013;&#010;Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ4:35å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Robin&#013;&#010;&gt;&#013;&#010;&gt; å…¶å®ä½ çš„è¯´æ³•ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œç¤¾åŒºæ˜¯æ˜æ–‡ä¿è¯savepointçš„å…¼å®¹æ€§&#013;&#010;&gt; [1]ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€è·¨å¤§ç‰ˆæœ¬æ—¶æ— æ³•ä»checkpointæ¢å¤ï¼Œç¤¾åŒºä¸æ‰¿è¯ºä¸»è¦è¿˜æ˜¯ç»´æŠ¤å…¶å¤ªè€—è´¹ç²¾åŠ›ï¼Œä½†æ˜¯å®é™…ä»ä»£ç è§’åº¦æ¥è¯´ï¼Œåœ¨åˆç†ä½¿ç”¨state&#013;&#010;&gt; schema evolution [2]çš„å‰æä¸‹ï¼Œç›®å‰è·¨ç‰ˆæœ¬checkpointæ¢å¤åŸºæœ¬éƒ½æ˜¯å…¼å®¹çš„.&#013;&#010;&gt;&#013;&#010;&gt; å¦å¤– @Peihui ä¹Ÿè¯·éº»çƒ¦å¯¹ä½ çš„å¼‚å¸¸æè¿°æ¸…æ™°ä¸€äº›ï¼Œæˆ‘çš„ç¬¬ä¸€æ¬¡å›å¤å·²ç»æ¨æµ‹è¯¥å¼‚å¸¸ä¸æ˜¯root&#010;causeï¼Œè¿˜è¯·åœ¨æ—¥å¿—ä¸­æ‰¾ä¸€ä¸‹æ— æ³•æ¢å¤çš„root&#013;&#010;&gt; causeï¼Œå¦‚æœä¸çŸ¥é“æ€ä¹ˆä»æ—¥å¿—é‡Œé¢æ‰¾ï¼Œå¯ä»¥æŠŠç›¸å…³æ—¥å¿—åˆ†äº«å‡ºæ¥ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/ops/upgrading.html#compatibility-table&#013;&#010;&gt; [2]&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/schema_evolution.html&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½&#013;&#010;&gt; å”äº‘&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ________________________________&#013;&#010;&gt; From: Robin Zhang &lt;vincent2015qdlg@outlook.com&gt;&#013;&#010;&gt; Sent: Wednesday, July 15, 2020 16:23&#013;&#010;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&#013;&#010;&gt; æ®æˆ‘æ‰€çŸ¥ï¼Œè·¨å¤§ç‰ˆæœ¬çš„ä¸èƒ½ç›´æ¥ä»checkointæ¢å¤ï¼Œåªèƒ½æ”¾å¼ƒçŠ¶æ€é‡æ–°è·‘&#013;&#010;&gt;&#013;&#010;&gt; Best&#013;&#010;&gt; Robin Zhang&#013;&#010;&gt; ________________________________&#013;&#010;&gt; From: Peihui He &lt;[hidden email]&gt;&#013;&#010;&gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt; To: [hidden email] &lt;[hidden email]&gt;&#013;&#010;&gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&#013;&#010;&gt; helloï¼Œ&#013;&#010;&gt;&#013;&#010;&gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; -&gt;&#013;&#010;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&#013;&#010;&gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt; state.backend: rocksdb&#013;&#010;&gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt; state.backend.incremental: true&#013;&#010;&gt;&#013;&#010;&gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt;&#013;&#010;&gt; env.enableCheckpointing(10000);&#013;&#010;&gt;&#013;&#010;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt;&#013;&#010;",
        "depth": "3",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<DM5PR2001MB178571CED937CDB1BCD6C4EFDA7F0@DM5PR2001MB1785.namprd20.prod.outlook.com>",
        "from": "Yun Tang &lt;myas...@live.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 09:04:44 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi Peihui&#013;&#010;&#013;&#010;Flink-1.10.1 é‡Œé¢æ¶‰åŠåˆ°ç›¸å…³ä»£ç çš„æ”¹åŠ¨å°±æ˜¯æ›´æ”¹äº†restoreæ—¶pathçš„ç±»[1]ï¼Œä½†æ˜¯ä½ ä»¬çš„æ“ä½œç³»ç»Ÿå¹¶ä¸æ˜¯windowsï¼ŒæŒ‰é“ç†åº”è¯¥æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚&#013;&#010;å¦å¤–ï¼Œè¿™ä¸ªé—®é¢˜åœ¨ä½ é‡åˆ°failoveræ—¶å€™æ˜¯å¿…ç°çš„ä¹ˆï¼Ÿä»æ–‡ä»¶è·¯å¾„çœ‹ï¼Œä½œä¸šä¹Ÿæ²¡æœ‰å¼€å¯local&#010;recoveryæ˜¯å§ï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;[1] https://github.com/apache/flink/commit/399329275e5e2baca9ed9494cce97ff732ac077a&#013;&#010;ç¥å¥½&#013;&#010;å”äº‘&#013;&#010;________________________________&#013;&#010;From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;Sent: Thursday, July 16, 2020 16:15&#013;&#010;To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&#013;&#010;Hi Yun,&#013;&#010;&#013;&#010;ä¸å¥½æ„æ€è¿™ä¹ˆä¹…å›å¤ï¼Œæ˜¯@Congxian æè¿°çš„ç¬¬2ç§æƒ…å†µã€‚å¼‚å¸¸å°±æ˜¯æˆ‘é€šè¿‡socket&#013;&#010;è¾“å…¥çš„ç‰¹å®šçš„wordæŠ›å‡ºruntimeexception ä½¿task&#013;&#010;å¤±è´¥ï¼Œç„¶åjobä¼šå°è¯•ä»checkpointä¸­æ¢å¤ï¼Œä½†æ˜¯æ¢å¤çš„è¿‡ç¨‹ä¸­å°±æŠ¥&#013;&#010;&#013;&#010;Caused by: java.nio.file.NoSuchFileException:&#013;&#010;/data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;-&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&#013;&#010;æƒ…å†µå’Œ@chenxyz ç±»ä¼¼ã€‚&#013;&#010;http://apache-flink.147419.n8.nabble.com/rocksdb-Could-not-restore-keyed-state-backend-for-KeyedProcessOperator-td2232.html&#013;&#010;&#013;&#010;æ¢æˆ1.10.1 å°±å¯ä»¥äº†&#013;&#010;&#013;&#010;Best wishes.&#013;&#010;&#013;&#010;Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ4:35å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Robin&#013;&#010;&gt;&#013;&#010;&gt; å…¶å®ä½ çš„è¯´æ³•ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œç¤¾åŒºæ˜¯æ˜æ–‡ä¿è¯savepointçš„å…¼å®¹æ€§&#013;&#010;&gt; [1]ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€è·¨å¤§ç‰ˆæœ¬æ—¶æ— æ³•ä»checkpointæ¢å¤ï¼Œç¤¾åŒºä¸æ‰¿è¯ºä¸»è¦è¿˜æ˜¯ç»´æŠ¤å…¶å¤ªè€—è´¹ç²¾åŠ›ï¼Œä½†æ˜¯å®é™…ä»ä»£ç è§’åº¦æ¥è¯´ï¼Œåœ¨åˆç†ä½¿ç”¨state&#013;&#010;&gt; schema evolution [2]çš„å‰æä¸‹ï¼Œç›®å‰è·¨ç‰ˆæœ¬checkpointæ¢å¤åŸºæœ¬éƒ½æ˜¯å…¼å®¹çš„.&#013;&#010;&gt;&#013;&#010;&gt; å¦å¤– @Peihui ä¹Ÿè¯·éº»çƒ¦å¯¹ä½ çš„å¼‚å¸¸æè¿°æ¸…æ™°ä¸€äº›ï¼Œæˆ‘çš„ç¬¬ä¸€æ¬¡å›å¤å·²ç»æ¨æµ‹è¯¥å¼‚å¸¸ä¸æ˜¯root&#010;causeï¼Œè¿˜è¯·åœ¨æ—¥å¿—ä¸­æ‰¾ä¸€ä¸‹æ— æ³•æ¢å¤çš„root&#013;&#010;&gt; causeï¼Œå¦‚æœä¸çŸ¥é“æ€ä¹ˆä»æ—¥å¿—é‡Œé¢æ‰¾ï¼Œå¯ä»¥æŠŠç›¸å…³æ—¥å¿—åˆ†äº«å‡ºæ¥ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/ops/upgrading.html#compatibility-table&#013;&#010;&gt; [2]&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/schema_evolution.html&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½&#013;&#010;&gt; å”äº‘&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ________________________________&#013;&#010;&gt; From: Robin Zhang &lt;vincent2015qdlg@outlook.com&gt;&#013;&#010;&gt; Sent: Wednesday, July 15, 2020 16:23&#013;&#010;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&#013;&#010;&gt; æ®æˆ‘æ‰€çŸ¥ï¼Œè·¨å¤§ç‰ˆæœ¬çš„ä¸èƒ½ç›´æ¥ä»checkointæ¢å¤ï¼Œåªèƒ½æ”¾å¼ƒçŠ¶æ€é‡æ–°è·‘&#013;&#010;&gt;&#013;&#010;&gt; Best&#013;&#010;&gt; Robin Zhang&#013;&#010;&gt; ________________________________&#013;&#010;&gt; From: Peihui He &lt;[hidden email]&gt;&#013;&#010;&gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt; To: [hidden email] &lt;[hidden email]&gt;&#013;&#010;&gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&#013;&#010;&gt; helloï¼Œ&#013;&#010;&gt;&#013;&#010;&gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; -&gt;&#013;&#010;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&#013;&#010;&gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt; state.backend: rocksdb&#013;&#010;&gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt; state.backend.incremental: true&#013;&#010;&gt;&#013;&#010;&gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt;&#013;&#010;&gt; env.enableCheckpointing(10000);&#013;&#010;&gt;&#013;&#010;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt;&#013;&#010;",
        "depth": "4",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAGR9zpY8ohmAOw828Py1QSsgLE1Z2D-Jw55ymRb3upA77=uuGQ@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 09:26:01 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi Yunï¼Œ&#013;&#010;&#013;&#010;ä½œä¸šæ²¡æœ‰å¼€å¯local recoveryï¼Œ æˆ‘è¿™è¾¹æµ‹è¯•1.10.0æ˜¯å¿…ç°çš„ã€‚&#013;&#010;&#013;&#010;Best wishes.&#013;&#010;&#013;&#010;Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:04å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Peihui&#013;&#010;&gt;&#013;&#010;&gt; Flink-1.10.1&#013;&#010;&gt; é‡Œé¢æ¶‰åŠåˆ°ç›¸å…³ä»£ç çš„æ”¹åŠ¨å°±æ˜¯æ›´æ”¹äº†restoreæ—¶pathçš„ç±»[1]ï¼Œä½†æ˜¯ä½ ä»¬çš„æ“ä½œç³»ç»Ÿå¹¶ä¸æ˜¯windowsï¼ŒæŒ‰é“ç†åº”è¯¥æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚&#013;&#010;&gt; å¦å¤–ï¼Œè¿™ä¸ªé—®é¢˜åœ¨ä½ é‡åˆ°failoveræ—¶å€™æ˜¯å¿…ç°çš„ä¹ˆï¼Ÿä»æ–‡ä»¶è·¯å¾„çœ‹ï¼Œä½œä¸šä¹Ÿæ²¡æœ‰å¼€å¯local&#010;recoveryæ˜¯å§ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt; https://github.com/apache/flink/commit/399329275e5e2baca9ed9494cce97ff732ac077a&#013;&#010;&gt; ç¥å¥½&#013;&#010;&gt; å”äº‘&#013;&#010;&gt; ________________________________&#013;&#010;&gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt; Sent: Thursday, July 16, 2020 16:15&#013;&#010;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&#013;&#010;&gt; Hi Yun,&#013;&#010;&gt;&#013;&#010;&gt; ä¸å¥½æ„æ€è¿™ä¹ˆä¹…å›å¤ï¼Œæ˜¯@Congxian æè¿°çš„ç¬¬2ç§æƒ…å†µã€‚å¼‚å¸¸å°±æ˜¯æˆ‘é€šè¿‡socket&#013;&#010;&gt; è¾“å…¥çš„ç‰¹å®šçš„wordæŠ›å‡ºruntimeexception ä½¿task&#013;&#010;&gt; å¤±è´¥ï¼Œç„¶åjobä¼šå°è¯•ä»checkpointä¸­æ¢å¤ï¼Œä½†æ˜¯æ¢å¤çš„è¿‡ç¨‹ä¸­å°±æŠ¥&#013;&#010;&gt;&#013;&#010;&gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; -&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&#013;&#010;&gt; æƒ…å†µå’Œ@chenxyz ç±»ä¼¼ã€‚&#013;&#010;&gt;&#013;&#010;&gt; http://apache-flink.147419.n8.nabble.com/rocksdb-Could-not-restore-keyed-state-backend-for-KeyedProcessOperator-td2232.html&#013;&#010;&gt;&#013;&#010;&gt; æ¢æˆ1.10.1 å°±å¯ä»¥äº†&#013;&#010;&gt;&#013;&#010;&gt; Best wishes.&#013;&#010;&gt;&#013;&#010;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ4:35å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hi Robin&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; å…¶å®ä½ çš„è¯´æ³•ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œç¤¾åŒºæ˜¯æ˜æ–‡ä¿è¯savepointçš„å…¼å®¹æ€§&#013;&#010;&gt; &gt; [1]ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€è·¨å¤§ç‰ˆæœ¬æ—¶æ— æ³•ä»checkpointæ¢å¤ï¼Œç¤¾åŒºä¸æ‰¿è¯ºä¸»è¦è¿˜æ˜¯ç»´æŠ¤å…¶å¤ªè€—è´¹ç²¾åŠ›ï¼Œä½†æ˜¯å®é™…ä»ä»£ç è§’åº¦æ¥è¯´ï¼Œåœ¨åˆç†ä½¿ç”¨state&#013;&#010;&gt; &gt; schema evolution [2]çš„å‰æä¸‹ï¼Œç›®å‰è·¨ç‰ˆæœ¬checkpointæ¢å¤åŸºæœ¬éƒ½æ˜¯å…¼å®¹çš„.&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; å¦å¤– @Peihui ä¹Ÿè¯·éº»çƒ¦å¯¹ä½ çš„å¼‚å¸¸æè¿°æ¸…æ™°ä¸€äº›ï¼Œæˆ‘çš„ç¬¬ä¸€æ¬¡å›å¤å·²ç»æ¨æµ‹è¯¥å¼‚å¸¸ä¸æ˜¯root&#010;causeï¼Œè¿˜è¯·åœ¨æ—¥å¿—ä¸­æ‰¾ä¸€ä¸‹æ— æ³•æ¢å¤çš„root&#013;&#010;&gt; &gt; causeï¼Œå¦‚æœä¸çŸ¥é“æ€ä¹ˆä»æ—¥å¿—é‡Œé¢æ‰¾ï¼Œå¯ä»¥æŠŠç›¸å…³æ—¥å¿—åˆ†äº«å‡ºæ¥ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; [1]&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/ops/upgrading.html#compatibility-table&#013;&#010;&gt; &gt; [2]&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/schema_evolution.html&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ç¥å¥½&#013;&#010;&gt; &gt; å”äº‘&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ________________________________&#013;&#010;&gt; &gt; From: Robin Zhang &lt;vincent2015qdlg@outlook.com&gt;&#013;&#010;&gt; &gt; Sent: Wednesday, July 15, 2020 16:23&#013;&#010;&gt; &gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; &gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; æ®æˆ‘æ‰€çŸ¥ï¼Œè·¨å¤§ç‰ˆæœ¬çš„ä¸èƒ½ç›´æ¥ä»checkointæ¢å¤ï¼Œåªèƒ½æ”¾å¼ƒçŠ¶æ€é‡æ–°è·‘&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Best&#013;&#010;&gt; &gt; Robin Zhang&#013;&#010;&gt; &gt; ________________________________&#013;&#010;&gt; &gt; From: Peihui He &lt;[hidden email]&gt;&#013;&#010;&gt; &gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt; &gt; To: [hidden email] &lt;[hidden email]&gt;&#013;&#010;&gt; &gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; helloï¼Œ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; &gt; -&gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt; &gt; state.backend: rocksdb&#013;&#010;&gt; &gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt; &gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt; &gt; state.backend.incremental: true&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; env.enableCheckpointing(10000);&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt; &gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt; &gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; --&#013;&#010;&gt; &gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "5",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAGR9zpZ6AUDRG1zHrDAf5s5747oFytEpyi_J+JeV+hi+FG-cuw@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 09:53:49 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi Yun,&#013;&#010;&#013;&#010;æˆ‘è¿™è¾¹æµ‹è¯•éœ€è¦åœ¨é›†ç¾¤ä¸Šè·‘çš„ï¼Œæœ¬åœ°ideaè·‘æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#013;&#010;flink 1.10.1 çš„flink-conf.yaml æ˜¯cope flink 1.10.0 çš„ï¼Œä½†æ˜¯1.10.0 å°±æ˜¯æŠ¥é”™ã€‚&#013;&#010;&#013;&#010;é™„ä»¶å°±æ˜¯æºç jobã€‚å¦‚æœä½ è¦çš„è·‘éœ€è¦æ”¹ä¸‹socket hostçš„ã€‚åªè¦socket ä¸­è¾“å…¥hepeihui&#010;å°±ä¼šæŠ›å¼‚å¸¸çš„ã€‚&#013;&#010;&#013;&#010;Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:26å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Yunï¼Œ&#013;&#010;&gt;&#013;&#010;&gt; ä½œä¸šæ²¡æœ‰å¼€å¯local recoveryï¼Œ æˆ‘è¿™è¾¹æµ‹è¯•1.10.0æ˜¯å¿…ç°çš„ã€‚&#013;&#010;&gt;&#013;&#010;&gt; Best wishes.&#013;&#010;&gt;&#013;&#010;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:04å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&gt; Hi Peihui&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Flink-1.10.1&#013;&#010;&gt;&gt; é‡Œé¢æ¶‰åŠåˆ°ç›¸å…³ä»£ç çš„æ”¹åŠ¨å°±æ˜¯æ›´æ”¹äº†restoreæ—¶pathçš„ç±»[1]ï¼Œä½†æ˜¯ä½ ä»¬çš„æ“ä½œç³»ç»Ÿå¹¶ä¸æ˜¯windowsï¼ŒæŒ‰é“ç†åº”è¯¥æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚&#013;&#010;&gt;&gt; å¦å¤–ï¼Œè¿™ä¸ªé—®é¢˜åœ¨ä½ é‡åˆ°failoveræ—¶å€™æ˜¯å¿…ç°çš„ä¹ˆï¼Ÿä»æ–‡ä»¶è·¯å¾„çœ‹ï¼Œä½œä¸šä¹Ÿæ²¡æœ‰å¼€å¯local&#010;recoveryæ˜¯å§ï¼Ÿ&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; [1]&#013;&#010;&gt;&gt; https://github.com/apache/flink/commit/399329275e5e2baca9ed9494cce97ff732ac077a&#013;&#010;&gt;&gt; ç¥å¥½&#013;&#010;&gt;&gt; å”äº‘&#013;&#010;&gt;&gt; ________________________________&#013;&#010;&gt;&gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt;&gt; Sent: Thursday, July 16, 2020 16:15&#013;&#010;&gt;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt;&gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Hi Yun,&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; ä¸å¥½æ„æ€è¿™ä¹ˆä¹…å›å¤ï¼Œæ˜¯@Congxian æè¿°çš„ç¬¬2ç§æƒ…å†µã€‚å¼‚å¸¸å°±æ˜¯æˆ‘é€šè¿‡socket&#013;&#010;&gt;&gt; è¾“å…¥çš„ç‰¹å®šçš„wordæŠ›å‡ºruntimeexception ä½¿task&#013;&#010;&gt;&gt; å¤±è´¥ï¼Œç„¶åjobä¼šå°è¯•ä»checkpointä¸­æ¢å¤ï¼Œä½†æ˜¯æ¢å¤çš„è¿‡ç¨‹ä¸­å°±æŠ¥&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt;&gt; -&gt;&#013;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; æƒ…å†µå’Œ@chenxyz ç±»ä¼¼ã€‚&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; http://apache-flink.147419.n8.nabble.com/rocksdb-Could-not-restore-keyed-state-backend-for-KeyedProcessOperator-td2232.html&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; æ¢æˆ1.10.1 å°±å¯ä»¥äº†&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Best wishes.&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ4:35å†™é“ï¼š&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; &gt; Hi Robin&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; å…¶å®ä½ çš„è¯´æ³•ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œç¤¾åŒºæ˜¯æ˜æ–‡ä¿è¯savepointçš„å…¼å®¹æ€§&#013;&#010;&gt;&gt; &gt; [1]ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€è·¨å¤§ç‰ˆæœ¬æ—¶æ— æ³•ä»checkpointæ¢å¤ï¼Œç¤¾åŒºä¸æ‰¿è¯ºä¸»è¦è¿˜æ˜¯ç»´æŠ¤å…¶å¤ªè€—è´¹ç²¾åŠ›ï¼Œä½†æ˜¯å®é™…ä»ä»£ç è§’åº¦æ¥è¯´ï¼Œåœ¨åˆç†ä½¿ç”¨state&#013;&#010;&gt;&gt; &gt; schema evolution [2]çš„å‰æä¸‹ï¼Œç›®å‰è·¨ç‰ˆæœ¬checkpointæ¢å¤åŸºæœ¬éƒ½æ˜¯å…¼å®¹çš„.&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; å¦å¤– @Peihui ä¹Ÿè¯·éº»çƒ¦å¯¹ä½ çš„å¼‚å¸¸æè¿°æ¸…æ™°ä¸€äº›ï¼Œæˆ‘çš„ç¬¬ä¸€æ¬¡å›å¤å·²ç»æ¨æµ‹è¯¥å¼‚å¸¸ä¸æ˜¯root&#010;causeï¼Œè¿˜è¯·åœ¨æ—¥å¿—ä¸­æ‰¾ä¸€ä¸‹æ— æ³•æ¢å¤çš„root&#013;&#010;&gt;&gt; &gt; causeï¼Œå¦‚æœä¸çŸ¥é“æ€ä¹ˆä»æ—¥å¿—é‡Œé¢æ‰¾ï¼Œå¯ä»¥æŠŠç›¸å…³æ—¥å¿—åˆ†äº«å‡ºæ¥ã€‚&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; [1]&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/ops/upgrading.html#compatibility-table&#013;&#010;&gt;&gt; &gt; [2]&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/schema_evolution.html&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; ç¥å¥½&#013;&#010;&gt;&gt; &gt; å”äº‘&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; ________________________________&#013;&#010;&gt;&gt; &gt; From: Robin Zhang &lt;vincent2015qdlg@outlook.com&gt;&#013;&#010;&gt;&gt; &gt; Sent: Wednesday, July 15, 2020 16:23&#013;&#010;&gt;&gt; &gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt;&gt; &gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; æ®æˆ‘æ‰€çŸ¥ï¼Œè·¨å¤§ç‰ˆæœ¬çš„ä¸èƒ½ç›´æ¥ä»checkointæ¢å¤ï¼Œåªèƒ½æ”¾å¼ƒçŠ¶æ€é‡æ–°è·‘&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; Best&#013;&#010;&gt;&gt; &gt; Robin Zhang&#013;&#010;&gt;&gt; &gt; ________________________________&#013;&#010;&gt;&gt; &gt; From: Peihui He &lt;[hidden email]&gt;&#013;&#010;&gt;&gt; &gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt;&gt; &gt; To: [hidden email] &lt;[hidden email]&gt;&#013;&#010;&gt;&gt; &gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; helloï¼Œ&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt;&gt; &gt; -&gt;&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt;&gt; &gt; state.backend: rocksdb&#013;&#010;&gt;&gt; &gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt;&gt; &gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt;&gt; &gt; state.backend.incremental: true&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; env.enableCheckpointing(10000);&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt;&gt; &gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt;&gt; &gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; --&#013;&#010;&gt;&gt; &gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "6",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAA8tFvuPCDRO1Z+Fb8Z6ir8X-OkfksEXHJ2CCpyBS3U0bRjiPA@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 12:23:48 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi Peihui&#013;&#010;&#013;&#010;æ„Ÿè°¢ä½ çš„å›ä¿¡ã€‚èƒ½å¦å¸®å¿™ç”¨ 1.10.0 å¤ç°ä¸€æ¬¡ï¼Œç„¶åæŠŠç›¸å…³çš„æ—¥å¿—(JM log&#010;å’Œ TM Logï¼Œæ–¹ä¾¿çš„è¯ï¼Œä¹Ÿå¼€å¯ä¸€ä¸‹ debug&#013;&#010;æ—¥å¿—ï¼‰åˆ†äº«ä¸€ä¸‹å‘¢ï¼Ÿå¦‚æœæ—¥å¿—å¤ªå¤§çš„è¯ï¼Œå¯ä»¥å°è¯•è´´å¾… gist[1] ç„¶åé‚®ä»¶åˆ—è¡¨å›å¤ä¸€ä¸ªåœ°å€å³å¯ï¼Œ&#013;&#010;éå¸¸æ„Ÿè°¢~&#013;&#010;&#013;&#010;[1] https://gist.github.com/&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:54å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Yun,&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘è¿™è¾¹æµ‹è¯•éœ€è¦åœ¨é›†ç¾¤ä¸Šè·‘çš„ï¼Œæœ¬åœ°ideaè·‘æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#013;&#010;&gt; flink 1.10.1 çš„flink-conf.yaml æ˜¯cope flink 1.10.0 çš„ï¼Œä½†æ˜¯1.10.0 å°±æ˜¯æŠ¥é”™ã€‚&#013;&#010;&gt;&#013;&#010;&gt; é™„ä»¶å°±æ˜¯æºç jobã€‚å¦‚æœä½ è¦çš„è·‘éœ€è¦æ”¹ä¸‹socket hostçš„ã€‚åªè¦socket ä¸­è¾“å…¥hepeihui&#010;å°±ä¼šæŠ›å¼‚å¸¸çš„ã€‚&#013;&#010;&gt;&#013;&#010;&gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:26å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&gt; Hi Yunï¼Œ&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; ä½œä¸šæ²¡æœ‰å¼€å¯local recoveryï¼Œ æˆ‘è¿™è¾¹æµ‹è¯•1.10.0æ˜¯å¿…ç°çš„ã€‚&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Best wishes.&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:04å†™é“ï¼š&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt;&gt; Hi Peihui&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; Flink-1.10.1&#013;&#010;&gt;&gt;&gt; é‡Œé¢æ¶‰åŠåˆ°ç›¸å…³ä»£ç çš„æ”¹åŠ¨å°±æ˜¯æ›´æ”¹äº†restoreæ—¶pathçš„ç±»[1]ï¼Œä½†æ˜¯ä½ ä»¬çš„æ“ä½œç³»ç»Ÿå¹¶ä¸æ˜¯windowsï¼ŒæŒ‰é“ç†åº”è¯¥æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚&#013;&#010;&gt;&gt;&gt; å¦å¤–ï¼Œè¿™ä¸ªé—®é¢˜åœ¨ä½ é‡åˆ°failoveræ—¶å€™æ˜¯å¿…ç°çš„ä¹ˆï¼Ÿä»æ–‡ä»¶è·¯å¾„çœ‹ï¼Œä½œä¸šä¹Ÿæ²¡æœ‰å¼€å¯local&#010;recoveryæ˜¯å§ï¼Ÿ&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; [1]&#013;&#010;&gt;&gt;&gt; https://github.com/apache/flink/commit/399329275e5e2baca9ed9494cce97ff732ac077a&#013;&#010;&gt;&gt;&gt; ç¥å¥½&#013;&#010;&gt;&gt;&gt; å”äº‘&#013;&#010;&gt;&gt;&gt; ________________________________&#013;&#010;&gt;&gt;&gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt;&gt;&gt; Sent: Thursday, July 16, 2020 16:15&#013;&#010;&gt;&gt;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt;&gt;&gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; Hi Yun,&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; ä¸å¥½æ„æ€è¿™ä¹ˆä¹…å›å¤ï¼Œæ˜¯@Congxian æè¿°çš„ç¬¬2ç§æƒ…å†µã€‚å¼‚å¸¸å°±æ˜¯æˆ‘é€šè¿‡socket&#013;&#010;&gt;&gt;&gt; è¾“å…¥çš„ç‰¹å®šçš„wordæŠ›å‡ºruntimeexception ä½¿task&#013;&#010;&gt;&gt;&gt; å¤±è´¥ï¼Œç„¶åjobä¼šå°è¯•ä»checkpointä¸­æ¢å¤ï¼Œä½†æ˜¯æ¢å¤çš„è¿‡ç¨‹ä¸­å°±æŠ¥&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt;&gt;&gt; -&gt;&#013;&#010;&gt;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; æƒ…å†µå’Œ@chenxyz ç±»ä¼¼ã€‚&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; http://apache-flink.147419.n8.nabble.com/rocksdb-Could-not-restore-keyed-state-backend-for-KeyedProcessOperator-td2232.html&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; æ¢æˆ1.10.1 å°±å¯ä»¥äº†&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; Best wishes.&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ4:35å†™é“ï¼š&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt; Hi Robin&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; å…¶å®ä½ çš„è¯´æ³•ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œç¤¾åŒºæ˜¯æ˜æ–‡ä¿è¯savepointçš„å…¼å®¹æ€§&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; [1]ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€è·¨å¤§ç‰ˆæœ¬æ—¶æ— æ³•ä»checkpointæ¢å¤ï¼Œç¤¾åŒºä¸æ‰¿è¯ºä¸»è¦è¿˜æ˜¯ç»´æŠ¤å…¶å¤ªè€—è´¹ç²¾åŠ›ï¼Œä½†æ˜¯å®é™…ä»ä»£ç è§’åº¦æ¥è¯´ï¼Œåœ¨åˆç†ä½¿ç”¨state&#013;&#010;&gt;&gt;&gt; &gt; schema evolution [2]çš„å‰æä¸‹ï¼Œç›®å‰è·¨ç‰ˆæœ¬checkpointæ¢å¤åŸºæœ¬éƒ½æ˜¯å…¼å®¹çš„.&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; å¦å¤– @Peihui ä¹Ÿè¯·éº»çƒ¦å¯¹ä½ çš„å¼‚å¸¸æè¿°æ¸…æ™°ä¸€äº›ï¼Œæˆ‘çš„ç¬¬ä¸€æ¬¡å›å¤å·²ç»æ¨æµ‹è¯¥å¼‚å¸¸ä¸æ˜¯root&#013;&#010;&gt;&gt;&gt; causeï¼Œè¿˜è¯·åœ¨æ—¥å¿—ä¸­æ‰¾ä¸€ä¸‹æ— æ³•æ¢å¤çš„root&#013;&#010;&gt;&gt;&gt; &gt; causeï¼Œå¦‚æœä¸çŸ¥é“æ€ä¹ˆä»æ—¥å¿—é‡Œé¢æ‰¾ï¼Œå¯ä»¥æŠŠç›¸å…³æ—¥å¿—åˆ†äº«å‡ºæ¥ã€‚&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; [1]&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/ops/upgrading.html#compatibility-table&#013;&#010;&gt;&gt;&gt; &gt; [2]&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/schema_evolution.html&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; ç¥å¥½&#013;&#010;&gt;&gt;&gt; &gt; å”äº‘&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; ________________________________&#013;&#010;&gt;&gt;&gt; &gt; From: Robin Zhang &lt;vincent2015qdlg@outlook.com&gt;&#013;&#010;&gt;&gt;&gt; &gt; Sent: Wednesday, July 15, 2020 16:23&#013;&#010;&gt;&gt;&gt; &gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt;&gt;&gt; &gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; æ®æˆ‘æ‰€çŸ¥ï¼Œè·¨å¤§ç‰ˆæœ¬çš„ä¸èƒ½ç›´æ¥ä»checkointæ¢å¤ï¼Œåªèƒ½æ”¾å¼ƒçŠ¶æ€é‡æ–°è·‘&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; Best&#013;&#010;&gt;&gt;&gt; &gt; Robin Zhang&#013;&#010;&gt;&gt;&gt; &gt; ________________________________&#013;&#010;&gt;&gt;&gt; &gt; From: Peihui He &lt;[hidden email]&gt;&#013;&#010;&gt;&gt;&gt; &gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt;&gt;&gt; &gt; To: [hidden email] &lt;[hidden email]&gt;&#013;&#010;&gt;&gt;&gt; &gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; helloï¼Œ&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt;&gt;&gt; &gt; -&gt;&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt;&gt;&gt; &gt; state.backend: rocksdb&#013;&#010;&gt;&gt;&gt; &gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt;&gt;&gt; &gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt;&gt;&gt; &gt; state.backend.incremental: true&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; env.enableCheckpointing(10000);&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt;&gt;&gt; &gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt;&gt;&gt; &gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; --&#013;&#010;&gt;&gt;&gt; &gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&#013;&#010;",
        "depth": "7",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAGR9zpZ0XzeyYx5bPcMc5dRwSQzLgvSxhr0tcCdhEoDxdL7rsA@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 17 Jul 2020 02:12:52 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi Congxian&#013;&#010;&#013;&#010;è§é™„ä»¶ã€‚&#013;&#010;&#013;&#010;Best wishes.&#013;&#010;&#013;&#010;Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ8:24å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Peihui&#013;&#010;&gt;&#013;&#010;&gt; æ„Ÿè°¢ä½ çš„å›ä¿¡ã€‚èƒ½å¦å¸®å¿™ç”¨ 1.10.0 å¤ç°ä¸€æ¬¡ï¼Œç„¶åæŠŠç›¸å…³çš„æ—¥å¿—(JM&#010;log å’Œ TM Logï¼Œæ–¹ä¾¿çš„è¯ï¼Œä¹Ÿå¼€å¯ä¸€ä¸‹ debug&#013;&#010;&gt; æ—¥å¿—ï¼‰åˆ†äº«ä¸€ä¸‹å‘¢ï¼Ÿå¦‚æœæ—¥å¿—å¤ªå¤§çš„è¯ï¼Œå¯ä»¥å°è¯•è´´å¾… gist[1] ç„¶åé‚®ä»¶åˆ—è¡¨å›å¤ä¸€ä¸ªåœ°å€å³å¯ï¼Œ&#013;&#010;&gt; éå¸¸æ„Ÿè°¢~&#013;&#010;&gt;&#013;&#010;&gt; [1] https://gist.github.com/&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:54å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hi Yun,&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; æˆ‘è¿™è¾¹æµ‹è¯•éœ€è¦åœ¨é›†ç¾¤ä¸Šè·‘çš„ï¼Œæœ¬åœ°ideaè·‘æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#013;&#010;&gt; &gt; flink 1.10.1 çš„flink-conf.yaml æ˜¯cope flink 1.10.0 çš„ï¼Œä½†æ˜¯1.10.0 å°±æ˜¯æŠ¥é”™ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; é™„ä»¶å°±æ˜¯æºç jobã€‚å¦‚æœä½ è¦çš„è·‘éœ€è¦æ”¹ä¸‹socket hostçš„ã€‚åªè¦socket&#010;ä¸­è¾“å…¥hepeihui å°±ä¼šæŠ›å¼‚å¸¸çš„ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:26å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&gt; Hi Yunï¼Œ&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; ä½œä¸šæ²¡æœ‰å¼€å¯local recoveryï¼Œ æˆ‘è¿™è¾¹æµ‹è¯•1.10.0æ˜¯å¿…ç°çš„ã€‚&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; Best wishes.&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:04å†™é“ï¼š&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt; Hi Peihui&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt; Flink-1.10.1&#013;&#010;&gt; &gt;&gt;&gt; é‡Œé¢æ¶‰åŠåˆ°ç›¸å…³ä»£ç çš„æ”¹åŠ¨å°±æ˜¯æ›´æ”¹äº†restoreæ—¶pathçš„ç±»[1]ï¼Œä½†æ˜¯ä½ ä»¬çš„æ“ä½œç³»ç»Ÿå¹¶ä¸æ˜¯windowsï¼ŒæŒ‰é“ç†åº”è¯¥æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚&#013;&#010;&gt; &gt;&gt;&gt; å¦å¤–ï¼Œè¿™ä¸ªé—®é¢˜åœ¨ä½ é‡åˆ°failoveræ—¶å€™æ˜¯å¿…ç°çš„ä¹ˆï¼Ÿä»æ–‡ä»¶è·¯å¾„çœ‹ï¼Œä½œä¸šä¹Ÿæ²¡æœ‰å¼€å¯local&#010;recoveryæ˜¯å§ï¼Ÿ&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt; [1]&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; https://github.com/apache/flink/commit/399329275e5e2baca9ed9494cce97ff732ac077a&#013;&#010;&gt; &gt;&gt;&gt; ç¥å¥½&#013;&#010;&gt; &gt;&gt;&gt; å”äº‘&#013;&#010;&gt; &gt;&gt;&gt; ________________________________&#013;&#010;&gt; &gt;&gt;&gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt; &gt;&gt;&gt; Sent: Thursday, July 16, 2020 16:15&#013;&#010;&gt; &gt;&gt;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; &gt;&gt;&gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt; Hi Yun,&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt; ä¸å¥½æ„æ€è¿™ä¹ˆä¹…å›å¤ï¼Œæ˜¯@Congxian æè¿°çš„ç¬¬2ç§æƒ…å†µã€‚å¼‚å¸¸å°±æ˜¯æˆ‘é€šè¿‡socket&#013;&#010;&gt; &gt;&gt;&gt; è¾“å…¥çš„ç‰¹å®šçš„wordæŠ›å‡ºruntimeexception ä½¿task&#013;&#010;&gt; &gt;&gt;&gt; å¤±è´¥ï¼Œç„¶åjobä¼šå°è¯•ä»checkpointä¸­æ¢å¤ï¼Œä½†æ˜¯æ¢å¤çš„è¿‡ç¨‹ä¸­å°±æŠ¥&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; &gt;&gt;&gt; -&gt;&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt; æƒ…å†µå’Œ@chenxyz ç±»ä¼¼ã€‚&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; http://apache-flink.147419.n8.nabble.com/rocksdb-Could-not-restore-keyed-state-backend-for-KeyedProcessOperator-td2232.html&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt; æ¢æˆ1.10.1 å°±å¯ä»¥äº†&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt; Best wishes.&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ4:35å†™é“ï¼š&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; Hi Robin&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; å…¶å®ä½ çš„è¯´æ³•ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œç¤¾åŒºæ˜¯æ˜æ–‡ä¿è¯savepointçš„å…¼å®¹æ€§&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; [1]ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€è·¨å¤§ç‰ˆæœ¬æ—¶æ— æ³•ä»checkpointæ¢å¤ï¼Œç¤¾åŒºä¸æ‰¿è¯ºä¸»è¦è¿˜æ˜¯ç»´æŠ¤å…¶å¤ªè€—è´¹ç²¾åŠ›ï¼Œä½†æ˜¯å®é™…ä»ä»£ç è§’åº¦æ¥è¯´ï¼Œåœ¨åˆç†ä½¿ç”¨state&#013;&#010;&gt; &gt;&gt;&gt; &gt; schema evolution [2]çš„å‰æä¸‹ï¼Œç›®å‰è·¨ç‰ˆæœ¬checkpointæ¢å¤åŸºæœ¬éƒ½æ˜¯å…¼å®¹çš„.&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; å¦å¤– @Peihui ä¹Ÿè¯·éº»çƒ¦å¯¹ä½ çš„å¼‚å¸¸æè¿°æ¸…æ™°ä¸€äº›ï¼Œæˆ‘çš„ç¬¬ä¸€æ¬¡å›å¤å·²ç»æ¨æµ‹è¯¥å¼‚å¸¸ä¸æ˜¯root&#013;&#010;&gt; &gt;&gt;&gt; causeï¼Œè¿˜è¯·åœ¨æ—¥å¿—ä¸­æ‰¾ä¸€ä¸‹æ— æ³•æ¢å¤çš„root&#013;&#010;&gt; &gt;&gt;&gt; &gt; causeï¼Œå¦‚æœä¸çŸ¥é“æ€ä¹ˆä»æ—¥å¿—é‡Œé¢æ‰¾ï¼Œå¯ä»¥æŠŠç›¸å…³æ—¥å¿—åˆ†äº«å‡ºæ¥ã€‚&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; [1]&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/ops/upgrading.html#compatibility-table&#013;&#010;&gt; &gt;&gt;&gt; &gt; [2]&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/schema_evolution.html&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; ç¥å¥½&#013;&#010;&gt; &gt;&gt;&gt; &gt; å”äº‘&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; ________________________________&#013;&#010;&gt; &gt;&gt;&gt; &gt; From: Robin Zhang &lt;vincent2015qdlg@outlook.com&gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; Sent: Wednesday, July 15, 2020 16:23&#013;&#010;&gt; &gt;&gt;&gt; &gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; æ®æˆ‘æ‰€çŸ¥ï¼Œè·¨å¤§ç‰ˆæœ¬çš„ä¸èƒ½ç›´æ¥ä»checkointæ¢å¤ï¼Œåªèƒ½æ”¾å¼ƒçŠ¶æ€é‡æ–°è·‘&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; Best&#013;&#010;&gt; &gt;&gt;&gt; &gt; Robin Zhang&#013;&#010;&gt; &gt;&gt;&gt; &gt; ________________________________&#013;&#010;&gt; &gt;&gt;&gt; &gt; From: Peihui He &lt;[hidden email]&gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt; &gt;&gt;&gt; &gt; To: [hidden email] &lt;[hidden email]&gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; helloï¼Œ&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; &gt;&gt;&gt; &gt; -&gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt; &gt;&gt;&gt; &gt; state.backend: rocksdb&#013;&#010;&gt; &gt;&gt;&gt; &gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt; &gt;&gt;&gt; &gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt; &gt;&gt;&gt; &gt; state.backend.incremental: true&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; env.enableCheckpointing(10000);&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt; &gt;&gt;&gt; &gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt; &gt;&gt;&gt; &gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt; &gt; --&#013;&#010;&gt; &gt;&gt;&gt; &gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "8",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAA8tFvtnEKR1K6EDNs8rcLAZvwbq4Y06fFH2k=j_tnguqKw7hw@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 17 Jul 2020 05:31:22 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi  Peihui&#013;&#010;&#013;&#010;æ„Ÿè°¢ä½ çš„å›å¤ï¼Œæˆ‘è¿™è¾¹æ²¡æœ‰çœ‹åˆ°é™„ä»¶ï¼Œä½ é‚£è¾¹èƒ½å¦ç¡®è®¤ä¸‹å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ17æ—¥å‘¨äº” ä¸Šåˆ10:13å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Congxian&#013;&#010;&gt;&#013;&#010;&gt; è§é™„ä»¶ã€‚&#013;&#010;&gt;&#013;&#010;&gt; Best wishes.&#013;&#010;&gt;&#013;&#010;&gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ8:24å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&gt; Hi Peihui&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; æ„Ÿè°¢ä½ çš„å›ä¿¡ã€‚èƒ½å¦å¸®å¿™ç”¨ 1.10.0 å¤ç°ä¸€æ¬¡ï¼Œç„¶åæŠŠç›¸å…³çš„æ—¥å¿—(JM&#010;log å’Œ TM Logï¼Œæ–¹ä¾¿çš„è¯ï¼Œä¹Ÿå¼€å¯ä¸€ä¸‹ debug&#013;&#010;&gt;&gt; æ—¥å¿—ï¼‰åˆ†äº«ä¸€ä¸‹å‘¢ï¼Ÿå¦‚æœæ—¥å¿—å¤ªå¤§çš„è¯ï¼Œå¯ä»¥å°è¯•è´´å¾… gist[1]&#010;ç„¶åé‚®ä»¶åˆ—è¡¨å›å¤ä¸€ä¸ªåœ°å€å³å¯ï¼Œ&#013;&#010;&gt;&gt; éå¸¸æ„Ÿè°¢~&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; [1] https://gist.github.com/&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Best,&#013;&#010;&gt;&gt; Congxian&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:54å†™é“ï¼š&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; &gt; Hi Yun,&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; æˆ‘è¿™è¾¹æµ‹è¯•éœ€è¦åœ¨é›†ç¾¤ä¸Šè·‘çš„ï¼Œæœ¬åœ°ideaè·‘æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#013;&#010;&gt;&gt; &gt; flink 1.10.1 çš„flink-conf.yaml æ˜¯cope flink 1.10.0 çš„ï¼Œä½†æ˜¯1.10.0 å°±æ˜¯æŠ¥é”™ã€‚&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; é™„ä»¶å°±æ˜¯æºç jobã€‚å¦‚æœä½ è¦çš„è·‘éœ€è¦æ”¹ä¸‹socket hostçš„ã€‚åªè¦socket&#010;ä¸­è¾“å…¥hepeihui å°±ä¼šæŠ›å¼‚å¸¸çš„ã€‚&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:26å†™é“ï¼š&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; Hi Yunï¼Œ&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; ä½œä¸šæ²¡æœ‰å¼€å¯local recoveryï¼Œ æˆ‘è¿™è¾¹æµ‹è¯•1.10.0æ˜¯å¿…ç°çš„ã€‚&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; Best wishes.&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:04å†™é“ï¼š&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; Hi Peihui&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; Flink-1.10.1&#013;&#010;&gt;&gt; &gt;&gt;&gt; é‡Œé¢æ¶‰åŠåˆ°ç›¸å…³ä»£ç çš„æ”¹åŠ¨å°±æ˜¯æ›´æ”¹äº†restoreæ—¶pathçš„ç±»[1]ï¼Œä½†æ˜¯ä½ ä»¬çš„æ“ä½œç³»ç»Ÿå¹¶ä¸æ˜¯windowsï¼ŒæŒ‰é“ç†åº”è¯¥æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚&#013;&#010;&gt;&gt; &gt;&gt;&gt; å¦å¤–ï¼Œè¿™ä¸ªé—®é¢˜åœ¨ä½ é‡åˆ°failoveræ—¶å€™æ˜¯å¿…ç°çš„ä¹ˆï¼Ÿä»æ–‡ä»¶è·¯å¾„çœ‹ï¼Œä½œä¸šä¹Ÿæ²¡æœ‰å¼€å¯local&#010;recoveryæ˜¯å§ï¼Ÿ&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; [1]&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; https://github.com/apache/flink/commit/399329275e5e2baca9ed9494cce97ff732ac077a&#013;&#010;&gt;&gt; &gt;&gt;&gt; ç¥å¥½&#013;&#010;&gt;&gt; &gt;&gt;&gt; å”äº‘&#013;&#010;&gt;&gt; &gt;&gt;&gt; ________________________________&#013;&#010;&gt;&gt; &gt;&gt;&gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; Sent: Thursday, July 16, 2020 16:15&#013;&#010;&gt;&gt; &gt;&gt;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; Hi Yun,&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; ä¸å¥½æ„æ€è¿™ä¹ˆä¹…å›å¤ï¼Œæ˜¯@Congxian æè¿°çš„ç¬¬2ç§æƒ…å†µã€‚å¼‚å¸¸å°±æ˜¯æˆ‘é€šè¿‡socket&#013;&#010;&gt;&gt; &gt;&gt;&gt; è¾“å…¥çš„ç‰¹å®šçš„wordæŠ›å‡ºruntimeexception ä½¿task&#013;&#010;&gt;&gt; &gt;&gt;&gt; å¤±è´¥ï¼Œç„¶åjobä¼šå°è¯•ä»checkpointä¸­æ¢å¤ï¼Œä½†æ˜¯æ¢å¤çš„è¿‡ç¨‹ä¸­å°±æŠ¥&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt;&gt; &gt;&gt;&gt; -&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; æƒ…å†µå’Œ@chenxyz ç±»ä¼¼ã€‚&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; http://apache-flink.147419.n8.nabble.com/rocksdb-Could-not-restore-keyed-state-backend-for-KeyedProcessOperator-td2232.html&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; æ¢æˆ1.10.1 å°±å¯ä»¥äº†&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; Best wishes.&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ4:35å†™é“ï¼š&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; Hi Robin&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; å…¶å®ä½ çš„è¯´æ³•ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œç¤¾åŒºæ˜¯æ˜æ–‡ä¿è¯savepointçš„å…¼å®¹æ€§&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; [1]ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€è·¨å¤§ç‰ˆæœ¬æ—¶æ— æ³•ä»checkpointæ¢å¤ï¼Œç¤¾åŒºä¸æ‰¿è¯ºä¸»è¦è¿˜æ˜¯ç»´æŠ¤å…¶å¤ªè€—è´¹ç²¾åŠ›ï¼Œä½†æ˜¯å®é™…ä»ä»£ç è§’åº¦æ¥è¯´ï¼Œåœ¨åˆç†ä½¿ç”¨state&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; schema evolution [2]çš„å‰æä¸‹ï¼Œç›®å‰è·¨ç‰ˆæœ¬checkpointæ¢å¤åŸºæœ¬éƒ½æ˜¯å…¼å®¹çš„.&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; å¦å¤– @Peihui ä¹Ÿè¯·éº»çƒ¦å¯¹ä½ çš„å¼‚å¸¸æè¿°æ¸…æ™°ä¸€äº›ï¼Œæˆ‘çš„ç¬¬ä¸€æ¬¡å›å¤å·²ç»æ¨æµ‹è¯¥å¼‚å¸¸ä¸æ˜¯root&#013;&#010;&gt;&gt; &gt;&gt;&gt; causeï¼Œè¿˜è¯·åœ¨æ—¥å¿—ä¸­æ‰¾ä¸€ä¸‹æ— æ³•æ¢å¤çš„root&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; causeï¼Œå¦‚æœä¸çŸ¥é“æ€ä¹ˆä»æ—¥å¿—é‡Œé¢æ‰¾ï¼Œå¯ä»¥æŠŠç›¸å…³æ—¥å¿—åˆ†äº«å‡ºæ¥ã€‚&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; [1]&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/ops/upgrading.html#compatibility-table&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; [2]&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/schema_evolution.html&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; ç¥å¥½&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; å”äº‘&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; ________________________________&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; From: Robin Zhang &lt;vincent2015qdlg@outlook.com&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; Sent: Wednesday, July 15, 2020 16:23&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; æ®æˆ‘æ‰€çŸ¥ï¼Œè·¨å¤§ç‰ˆæœ¬çš„ä¸èƒ½ç›´æ¥ä»checkointæ¢å¤ï¼Œåªèƒ½æ”¾å¼ƒçŠ¶æ€é‡æ–°è·‘&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; Best&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; Robin Zhang&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; ________________________________&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; From: Peihui He &lt;[hidden email]&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; To: [hidden email] &lt;[hidden email]&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; helloï¼Œ&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; -&gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; state.backend: rocksdb&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; state.backend.incremental: true&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; env.enableCheckpointing(10000);&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; --&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "9",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAGR9zpYLXu=SyFCDSRaZOO8krQn+Q_Ggx9FYfJV5QkadKLSXqg@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 17 Jul 2020 08:21:33 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi Congxian,&#013;&#010;&#013;&#010;[image: Snipaste_2020-07-17_16-20-06.png]&#013;&#010;&#013;&#010;æˆ‘è¿™è¾¹é€šè¿‡chrome æµè§ˆå™¨çœ‹åˆ°æ˜¯ä¸Šä¼ äº†çš„ï¼Œå¹¶ä¸”å¯ä»¥ä¸‹è½½çš„ã€‚&#013;&#010;&#013;&#010;Best wishes.&#013;&#010;&#013;&#010;Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ17æ—¥å‘¨äº” ä¸‹åˆ1:31å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi  Peihui&#013;&#010;&gt;&#013;&#010;&gt; æ„Ÿè°¢ä½ çš„å›å¤ï¼Œæˆ‘è¿™è¾¹æ²¡æœ‰çœ‹åˆ°é™„ä»¶ï¼Œä½ é‚£è¾¹èƒ½å¦ç¡®è®¤ä¸‹å‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ17æ—¥å‘¨äº” ä¸Šåˆ10:13å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hi Congxian&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; è§é™„ä»¶ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Best wishes.&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ8:24å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&gt; Hi Peihui&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; æ„Ÿè°¢ä½ çš„å›ä¿¡ã€‚èƒ½å¦å¸®å¿™ç”¨ 1.10.0 å¤ç°ä¸€æ¬¡ï¼Œç„¶åæŠŠç›¸å…³çš„æ—¥å¿—(JM&#010;log å’Œ TM Logï¼Œæ–¹ä¾¿çš„è¯ï¼Œä¹Ÿå¼€å¯ä¸€ä¸‹ debug&#013;&#010;&gt; &gt;&gt; æ—¥å¿—ï¼‰åˆ†äº«ä¸€ä¸‹å‘¢ï¼Ÿå¦‚æœæ—¥å¿—å¤ªå¤§çš„è¯ï¼Œå¯ä»¥å°è¯•è´´å¾… gist[1]&#010;ç„¶åé‚®ä»¶åˆ—è¡¨å›å¤ä¸€ä¸ªåœ°å€å³å¯ï¼Œ&#013;&#010;&gt; &gt;&gt; éå¸¸æ„Ÿè°¢~&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; [1] https://gist.github.com/&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; Best,&#013;&#010;&gt; &gt;&gt; Congxian&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:54å†™é“ï¼š&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt; Hi Yun,&#013;&#010;&gt; &gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt; æˆ‘è¿™è¾¹æµ‹è¯•éœ€è¦åœ¨é›†ç¾¤ä¸Šè·‘çš„ï¼Œæœ¬åœ°ideaè·‘æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#013;&#010;&gt; &gt;&gt; &gt; flink 1.10.1 çš„flink-conf.yaml æ˜¯cope flink 1.10.0 çš„ï¼Œä½†æ˜¯1.10.0&#010;å°±æ˜¯æŠ¥é”™ã€‚&#013;&#010;&gt; &gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt; é™„ä»¶å°±æ˜¯æºç jobã€‚å¦‚æœä½ è¦çš„è·‘éœ€è¦æ”¹ä¸‹socket hostçš„ã€‚åªè¦socket&#010;ä¸­è¾“å…¥hepeihui å°±ä¼šæŠ›å¼‚å¸¸çš„ã€‚&#013;&#010;&gt; &gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:26å†™é“ï¼š&#013;&#010;&gt; &gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt; Hi Yunï¼Œ&#013;&#010;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt; ä½œä¸šæ²¡æœ‰å¼€å¯local recoveryï¼Œ æˆ‘è¿™è¾¹æµ‹è¯•1.10.0æ˜¯å¿…ç°çš„ã€‚&#013;&#010;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt; Best wishes.&#013;&#010;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:04å†™é“ï¼š&#013;&#010;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; Hi Peihui&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; Flink-1.10.1&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; é‡Œé¢æ¶‰åŠåˆ°ç›¸å…³ä»£ç çš„æ”¹åŠ¨å°±æ˜¯æ›´æ”¹äº†restoreæ—¶pathçš„ç±»[1]ï¼Œä½†æ˜¯ä½ ä»¬çš„æ“ä½œç³»ç»Ÿå¹¶ä¸æ˜¯windowsï¼ŒæŒ‰é“ç†åº”è¯¥æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; å¦å¤–ï¼Œè¿™ä¸ªé—®é¢˜åœ¨ä½ é‡åˆ°failoveræ—¶å€™æ˜¯å¿…ç°çš„ä¹ˆï¼Ÿä»æ–‡ä»¶è·¯å¾„çœ‹ï¼Œä½œä¸šä¹Ÿæ²¡æœ‰å¼€å¯local&#010;recoveryæ˜¯å§ï¼Ÿ&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; [1]&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; https://github.com/apache/flink/commit/399329275e5e2baca9ed9494cce97ff732ac077a&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; ç¥å¥½&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; å”äº‘&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; ________________________________&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; Sent: Thursday, July 16, 2020 16:15&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; Hi Yun,&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; ä¸å¥½æ„æ€è¿™ä¹ˆä¹…å›å¤ï¼Œæ˜¯@Congxian æè¿°çš„ç¬¬2ç§æƒ…å†µã€‚å¼‚å¸¸å°±æ˜¯æˆ‘é€šè¿‡socket&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; è¾“å…¥çš„ç‰¹å®šçš„wordæŠ›å‡ºruntimeexception ä½¿task&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; å¤±è´¥ï¼Œç„¶åjobä¼šå°è¯•ä»checkpointä¸­æ¢å¤ï¼Œä½†æ˜¯æ¢å¤çš„è¿‡ç¨‹ä¸­å°±æŠ¥&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; -&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; æƒ…å†µå’Œ@chenxyz ç±»ä¼¼ã€‚&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; http://apache-flink.147419.n8.nabble.com/rocksdb-Could-not-restore-keyed-state-backend-for-KeyedProcessOperator-td2232.html&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; æ¢æˆ1.10.1 å°±å¯ä»¥äº†&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; Best wishes.&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ4:35å†™é“ï¼š&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Hi Robin&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; å…¶å®ä½ çš„è¯´æ³•ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œç¤¾åŒºæ˜¯æ˜æ–‡ä¿è¯savepointçš„å…¼å®¹æ€§&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; [1]ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€è·¨å¤§ç‰ˆæœ¬æ—¶æ— æ³•ä»checkpointæ¢å¤ï¼Œç¤¾åŒºä¸æ‰¿è¯ºä¸»è¦è¿˜æ˜¯ç»´æŠ¤å…¶å¤ªè€—è´¹ç²¾åŠ›ï¼Œä½†æ˜¯å®é™…ä»ä»£ç è§’åº¦æ¥è¯´ï¼Œåœ¨åˆç†ä½¿ç”¨state&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; schema evolution [2]çš„å‰æä¸‹ï¼Œç›®å‰è·¨ç‰ˆæœ¬checkpointæ¢å¤åŸºæœ¬éƒ½æ˜¯å…¼å®¹çš„.&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; å¦å¤– @Peihui ä¹Ÿè¯·éº»çƒ¦å¯¹ä½ çš„å¼‚å¸¸æè¿°æ¸…æ™°ä¸€äº›ï¼Œæˆ‘çš„ç¬¬ä¸€æ¬¡å›å¤å·²ç»æ¨æµ‹è¯¥å¼‚å¸¸ä¸æ˜¯root&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; causeï¼Œè¿˜è¯·åœ¨æ—¥å¿—ä¸­æ‰¾ä¸€ä¸‹æ— æ³•æ¢å¤çš„root&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; causeï¼Œå¦‚æœä¸çŸ¥é“æ€ä¹ˆä»æ—¥å¿—é‡Œé¢æ‰¾ï¼Œå¯ä»¥æŠŠç›¸å…³æ—¥å¿—åˆ†äº«å‡ºæ¥ã€‚&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; [1]&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/ops/upgrading.html#compatibility-table&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; [2]&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/schema_evolution.html&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; ç¥å¥½&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; å”äº‘&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; ________________________________&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; From: Robin Zhang &lt;vincent2015qdlg@outlook.com&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Sent: Wednesday, July 15, 2020 16:23&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; æ®æˆ‘æ‰€çŸ¥ï¼Œè·¨å¤§ç‰ˆæœ¬çš„ä¸èƒ½ç›´æ¥ä»checkointæ¢å¤ï¼Œåªèƒ½æ”¾å¼ƒçŠ¶æ€é‡æ–°è·‘&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Best&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Robin Zhang&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; ________________________________&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; From: Peihui He &lt;[hidden email]&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; To: [hidden email] &lt;[hidden email]&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; helloï¼Œ&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; -&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; state.backend: rocksdb&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; state.backend.incremental: true&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; env.enableCheckpointing(10000);&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; --&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "10",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAGR9zpbD1KrDDb5Kh_Mna0RbMLkguV=cEwJxqZ8HMnT+tiJKzg@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 23 Jul 2020 00:56:55 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi Congxian,&#013;&#010;&#013;&#010;è¿™ä¸ªé—®é¢˜æœ‰ç»“è®ºæ²¡å‘¢?&#013;&#010;&#013;&#010;Best wishes.&#013;&#010;&#013;&#010;Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ17æ—¥å‘¨äº” ä¸‹åˆ4:21å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Congxian,&#013;&#010;&gt;&#013;&#010;&gt; [image: Snipaste_2020-07-17_16-20-06.png]&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘è¿™è¾¹é€šè¿‡chrome æµè§ˆå™¨çœ‹åˆ°æ˜¯ä¸Šä¼ äº†çš„ï¼Œå¹¶ä¸”å¯ä»¥ä¸‹è½½çš„ã€‚&#013;&#010;&gt;&#013;&#010;&gt; Best wishes.&#013;&#010;&gt;&#013;&#010;&gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ17æ—¥å‘¨äº” ä¸‹åˆ1:31å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&gt; Hi  Peihui&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; æ„Ÿè°¢ä½ çš„å›å¤ï¼Œæˆ‘è¿™è¾¹æ²¡æœ‰çœ‹åˆ°é™„ä»¶ï¼Œä½ é‚£è¾¹èƒ½å¦ç¡®è®¤ä¸‹å‘¢ï¼Ÿ&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Best,&#013;&#010;&gt;&gt; Congxian&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ17æ—¥å‘¨äº” ä¸Šåˆ10:13å†™é“ï¼š&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; &gt; Hi Congxian&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; è§é™„ä»¶ã€‚&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; Best wishes.&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ8:24å†™é“ï¼š&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; Hi Peihui&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; æ„Ÿè°¢ä½ çš„å›ä¿¡ã€‚èƒ½å¦å¸®å¿™ç”¨ 1.10.0 å¤ç°ä¸€æ¬¡ï¼Œç„¶åæŠŠç›¸å…³çš„æ—¥å¿—(JM&#010;log å’Œ TM Logï¼Œæ–¹ä¾¿çš„è¯ï¼Œä¹Ÿå¼€å¯ä¸€ä¸‹ debug&#013;&#010;&gt;&gt; &gt;&gt; æ—¥å¿—ï¼‰åˆ†äº«ä¸€ä¸‹å‘¢ï¼Ÿå¦‚æœæ—¥å¿—å¤ªå¤§çš„è¯ï¼Œå¯ä»¥å°è¯•è´´å¾…&#010;gist[1] ç„¶åé‚®ä»¶åˆ—è¡¨å›å¤ä¸€ä¸ªåœ°å€å³å¯ï¼Œ&#013;&#010;&gt;&gt; &gt;&gt; éå¸¸æ„Ÿè°¢~&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; [1] https://gist.github.com/&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; Best,&#013;&#010;&gt;&gt; &gt;&gt; Congxian&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:54å†™é“ï¼š&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt; Hi Yun,&#013;&#010;&gt;&gt; &gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt; æˆ‘è¿™è¾¹æµ‹è¯•éœ€è¦åœ¨é›†ç¾¤ä¸Šè·‘çš„ï¼Œæœ¬åœ°ideaè·‘æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#013;&#010;&gt;&gt; &gt;&gt; &gt; flink 1.10.1 çš„flink-conf.yaml æ˜¯cope flink 1.10.0 çš„ï¼Œä½†æ˜¯1.10.0&#010;å°±æ˜¯æŠ¥é”™ã€‚&#013;&#010;&gt;&gt; &gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt; é™„ä»¶å°±æ˜¯æºç jobã€‚å¦‚æœä½ è¦çš„è·‘éœ€è¦æ”¹ä¸‹socket hostçš„ã€‚åªè¦socket&#010;ä¸­è¾“å…¥hepeihui å°±ä¼šæŠ›å¼‚å¸¸çš„ã€‚&#013;&#010;&gt;&gt; &gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:26å†™é“ï¼š&#013;&#010;&gt;&gt; &gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt; Hi Yunï¼Œ&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt; ä½œä¸šæ²¡æœ‰å¼€å¯local recoveryï¼Œ æˆ‘è¿™è¾¹æµ‹è¯•1.10.0æ˜¯å¿…ç°çš„ã€‚&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt; Best wishes.&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:04å†™é“ï¼š&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Hi Peihui&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Flink-1.10.1&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; é‡Œé¢æ¶‰åŠåˆ°ç›¸å…³ä»£ç çš„æ”¹åŠ¨å°±æ˜¯æ›´æ”¹äº†restoreæ—¶pathçš„ç±»[1]ï¼Œä½†æ˜¯ä½ ä»¬çš„æ“ä½œç³»ç»Ÿå¹¶ä¸æ˜¯windowsï¼ŒæŒ‰é“ç†åº”è¯¥æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; å¦å¤–ï¼Œè¿™ä¸ªé—®é¢˜åœ¨ä½ é‡åˆ°failoveræ—¶å€™æ˜¯å¿…ç°çš„ä¹ˆï¼Ÿä»æ–‡ä»¶è·¯å¾„çœ‹ï¼Œä½œä¸šä¹Ÿæ²¡æœ‰å¼€å¯local&#010;recoveryæ˜¯å§ï¼Ÿ&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; [1]&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; https://github.com/apache/flink/commit/399329275e5e2baca9ed9494cce97ff732ac077a&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; ç¥å¥½&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; å”äº‘&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; ________________________________&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Sent: Thursday, July 16, 2020 16:15&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Hi Yun,&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; ä¸å¥½æ„æ€è¿™ä¹ˆä¹…å›å¤ï¼Œæ˜¯@Congxian æè¿°çš„ç¬¬2ç§æƒ…å†µã€‚å¼‚å¸¸å°±æ˜¯æˆ‘é€šè¿‡socket&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; è¾“å…¥çš„ç‰¹å®šçš„wordæŠ›å‡ºruntimeexception ä½¿task&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; å¤±è´¥ï¼Œç„¶åjobä¼šå°è¯•ä»checkpointä¸­æ¢å¤ï¼Œä½†æ˜¯æ¢å¤çš„è¿‡ç¨‹ä¸­å°±æŠ¥&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; -&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; æƒ…å†µå’Œ@chenxyz ç±»ä¼¼ã€‚&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; http://apache-flink.147419.n8.nabble.com/rocksdb-Could-not-restore-keyed-state-backend-for-KeyedProcessOperator-td2232.html&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; æ¢æˆ1.10.1 å°±å¯ä»¥äº†&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Best wishes.&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰&#010;ä¸‹åˆ4:35å†™é“ï¼š&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Hi Robin&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; å…¶å®ä½ çš„è¯´æ³•ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œç¤¾åŒºæ˜¯æ˜æ–‡ä¿è¯savepointçš„å…¼å®¹æ€§&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; [1]ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€è·¨å¤§ç‰ˆæœ¬æ—¶æ— æ³•ä»checkpointæ¢å¤ï¼Œç¤¾åŒºä¸æ‰¿è¯ºä¸»è¦è¿˜æ˜¯ç»´æŠ¤å…¶å¤ªè€—è´¹ç²¾åŠ›ï¼Œä½†æ˜¯å®é™…ä»ä»£ç è§’åº¦æ¥è¯´ï¼Œåœ¨åˆç†ä½¿ç”¨state&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; schema evolution [2]çš„å‰æä¸‹ï¼Œç›®å‰è·¨ç‰ˆæœ¬checkpointæ¢å¤åŸºæœ¬éƒ½æ˜¯å…¼å®¹çš„.&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; å¦å¤– @Peihui ä¹Ÿè¯·éº»çƒ¦å¯¹ä½ çš„å¼‚å¸¸æè¿°æ¸…æ™°ä¸€äº›ï¼Œæˆ‘çš„ç¬¬ä¸€æ¬¡å›å¤å·²ç»æ¨æµ‹è¯¥å¼‚å¸¸ä¸æ˜¯root&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; causeï¼Œè¿˜è¯·åœ¨æ—¥å¿—ä¸­æ‰¾ä¸€ä¸‹æ— æ³•æ¢å¤çš„root&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; causeï¼Œå¦‚æœä¸çŸ¥é“æ€ä¹ˆä»æ—¥å¿—é‡Œé¢æ‰¾ï¼Œå¯ä»¥æŠŠç›¸å…³æ—¥å¿—åˆ†äº«å‡ºæ¥ã€‚&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; [1]&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/ops/upgrading.html#compatibility-table&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; [2]&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/schema_evolution.html&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; ç¥å¥½&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; å”äº‘&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; ________________________________&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; From: Robin Zhang &lt;vincent2015qdlg@outlook.com&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Sent: Wednesday, July 15, 2020 16:23&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; æ®æˆ‘æ‰€çŸ¥ï¼Œè·¨å¤§ç‰ˆæœ¬çš„ä¸èƒ½ç›´æ¥ä»checkointæ¢å¤ï¼Œåªèƒ½æ”¾å¼ƒçŠ¶æ€é‡æ–°è·‘&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Best&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Robin Zhang&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; ________________________________&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; From: Peihui He &lt;[hidden email]&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; To: [hidden email] &lt;[hidden email]&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; helloï¼Œ&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; -&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; state.backend: rocksdb&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; state.backend.incremental: true&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; env.enableCheckpointing(10000);&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; org.apache.flink.api.common.time.Time.of(10, TimeUnit.SECONDS)));&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; --&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "11",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<CAA8tFvtK2fpgsxr08zZ9EASVh1Mirm+XoDS0VtfHVQJ6Pq_suA@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 23 Jul 2020 05:18:31 GMT",
        "subject": "Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤",
        "content": "Hi Peihui&#013;&#010;   ä¸ç¡®å®šæ˜¯ä»€ä¹ˆåŸå› æˆ‘è¿™è¾¹æš‚æ—¶æ²¡çœ‹åˆ°é™„ä»¶ï¼Œæˆ‘å†ç§èŠä½ è¦ä¸€ä¸‹å…·ä½“çš„&#010;log ç„¶åçœ‹çœ‹&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸Šåˆ8:57å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Congxian,&#013;&#010;&gt;&#013;&#010;&gt; è¿™ä¸ªé—®é¢˜æœ‰ç»“è®ºæ²¡å‘¢?&#013;&#010;&gt;&#013;&#010;&gt; Best wishes.&#013;&#010;&gt;&#013;&#010;&gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ17æ—¥å‘¨äº” ä¸‹åˆ4:21å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&gt; Hi Congxian,&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; [image: Snipaste_2020-07-17_16-20-06.png]&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; æˆ‘è¿™è¾¹é€šè¿‡chrome æµè§ˆå™¨çœ‹åˆ°æ˜¯ä¸Šä¼ äº†çš„ï¼Œå¹¶ä¸”å¯ä»¥ä¸‹è½½çš„ã€‚&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Best wishes.&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ17æ—¥å‘¨äº” ä¸‹åˆ1:31å†™é“ï¼š&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt;&gt; Hi  Peihui&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; æ„Ÿè°¢ä½ çš„å›å¤ï¼Œæˆ‘è¿™è¾¹æ²¡æœ‰çœ‹åˆ°é™„ä»¶ï¼Œä½ é‚£è¾¹èƒ½å¦ç¡®è®¤ä¸‹å‘¢ï¼Ÿ&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; Best,&#013;&#010;&gt;&gt;&gt; Congxian&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ17æ—¥å‘¨äº” ä¸Šåˆ10:13å†™é“ï¼š&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt; Hi Congxian&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; è§é™„ä»¶ã€‚&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; Best wishes.&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ8:24å†™é“ï¼š&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; Hi Peihui&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; æ„Ÿè°¢ä½ çš„å›ä¿¡ã€‚èƒ½å¦å¸®å¿™ç”¨ 1.10.0 å¤ç°ä¸€æ¬¡ï¼Œç„¶åæŠŠç›¸å…³çš„æ—¥å¿—(JM&#010;log å’Œ TM Logï¼Œæ–¹ä¾¿çš„è¯ï¼Œä¹Ÿå¼€å¯ä¸€ä¸‹ debug&#013;&#010;&gt;&gt;&gt; &gt;&gt; æ—¥å¿—ï¼‰åˆ†äº«ä¸€ä¸‹å‘¢ï¼Ÿå¦‚æœæ—¥å¿—å¤ªå¤§çš„è¯ï¼Œå¯ä»¥å°è¯•è´´å¾…&#010;gist[1] ç„¶åé‚®ä»¶åˆ—è¡¨å›å¤ä¸€ä¸ªåœ°å€å³å¯ï¼Œ&#013;&#010;&gt;&gt;&gt; &gt;&gt; éå¸¸æ„Ÿè°¢~&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; [1] https://gist.github.com/&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; Best,&#013;&#010;&gt;&gt;&gt; &gt;&gt; Congxian&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ5:54å†™é“ï¼š&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt; Hi Yun,&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt; æˆ‘è¿™è¾¹æµ‹è¯•éœ€è¦åœ¨é›†ç¾¤ä¸Šè·‘çš„ï¼Œæœ¬åœ°ideaè·‘æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt; flink 1.10.1 çš„flink-conf.yaml æ˜¯cope flink 1.10.0 çš„ï¼Œä½†æ˜¯1.10.0&#010;å°±æ˜¯æŠ¥é”™ã€‚&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt; é™„ä»¶å°±æ˜¯æºç jobã€‚å¦‚æœä½ è¦çš„è·‘éœ€è¦æ”¹ä¸‹socket hostçš„ã€‚åªè¦socket&#010;ä¸­è¾“å…¥hepeihui å°±ä¼šæŠ›å¼‚å¸¸çš„ã€‚&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å››&#010;ä¸‹åˆ5:26å†™é“ï¼š&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt; Hi Yunï¼Œ&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt; ä½œä¸šæ²¡æœ‰å¼€å¯local recoveryï¼Œ æˆ‘è¿™è¾¹æµ‹è¯•1.10.0æ˜¯å¿…ç°çš„ã€‚&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt; Best wishes.&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å››&#010;ä¸‹åˆ5:04å†™é“ï¼š&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Hi Peihui&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Flink-1.10.1&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; é‡Œé¢æ¶‰åŠåˆ°ç›¸å…³ä»£ç çš„æ”¹åŠ¨å°±æ˜¯æ›´æ”¹äº†restoreæ—¶pathçš„ç±»[1]ï¼Œä½†æ˜¯ä½ ä»¬çš„æ“ä½œç³»ç»Ÿå¹¶ä¸æ˜¯windowsï¼ŒæŒ‰é“ç†åº”è¯¥æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; å¦å¤–ï¼Œè¿™ä¸ªé—®é¢˜åœ¨ä½ é‡åˆ°failoveræ—¶å€™æ˜¯å¿…ç°çš„ä¹ˆï¼Ÿä»æ–‡ä»¶è·¯å¾„çœ‹ï¼Œä½œä¸šä¹Ÿæ²¡æœ‰å¼€å¯local&#010;recoveryæ˜¯å§ï¼Ÿ&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; [1]&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; https://github.com/apache/flink/commit/399329275e5e2baca9ed9494cce97ff732ac077a&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; ç¥å¥½&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; å”äº‘&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; ________________________________&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; From: Peihui He &lt;peihuihe@gmail.com&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Sent: Thursday, July 16, 2020 16:15&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Hi Yun,&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; ä¸å¥½æ„æ€è¿™ä¹ˆä¹…å›å¤ï¼Œæ˜¯@Congxian æè¿°çš„ç¬¬2ç§æƒ…å†µã€‚å¼‚å¸¸å°±æ˜¯æˆ‘é€šè¿‡socket&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; è¾“å…¥çš„ç‰¹å®šçš„wordæŠ›å‡ºruntimeexception ä½¿task&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; å¤±è´¥ï¼Œç„¶åjobä¼šå°è¯•ä»checkpointä¸­æ¢å¤ï¼Œä½†æ˜¯æ¢å¤çš„è¿‡ç¨‹ä¸­å°±æŠ¥&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; -&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; æƒ…å†µå’Œ@chenxyz ç±»ä¼¼ã€‚&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; http://apache-flink.147419.n8.nabble.com/rocksdb-Could-not-restore-keyed-state-backend-for-KeyedProcessOperator-td2232.html&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; æ¢æˆ1.10.1 å°±å¯ä»¥äº†&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Best wishes.&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰&#010;ä¸‹åˆ4:35å†™é“ï¼š&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Hi Robin&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; å…¶å®ä½ çš„è¯´æ³•ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œç¤¾åŒºæ˜¯æ˜æ–‡ä¿è¯savepointçš„å…¼å®¹æ€§&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; [1]ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€è·¨å¤§ç‰ˆæœ¬æ—¶æ— æ³•ä»checkpointæ¢å¤ï¼Œç¤¾åŒºä¸æ‰¿è¯ºä¸»è¦è¿˜æ˜¯ç»´æŠ¤å…¶å¤ªè€—è´¹ç²¾åŠ›ï¼Œä½†æ˜¯å®é™…ä»ä»£ç è§’åº¦æ¥è¯´ï¼Œåœ¨åˆç†ä½¿ç”¨state&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; schema evolution [2]çš„å‰æä¸‹ï¼Œç›®å‰è·¨ç‰ˆæœ¬checkpointæ¢å¤åŸºæœ¬éƒ½æ˜¯å…¼å®¹çš„.&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; å¦å¤– @Peihui ä¹Ÿè¯·éº»çƒ¦å¯¹ä½ çš„å¼‚å¸¸æè¿°æ¸…æ™°ä¸€äº›ï¼Œæˆ‘çš„ç¬¬ä¸€æ¬¡å›å¤å·²ç»æ¨æµ‹è¯¥å¼‚å¸¸ä¸æ˜¯root&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; causeï¼Œè¿˜è¯·åœ¨æ—¥å¿—ä¸­æ‰¾ä¸€ä¸‹æ— æ³•æ¢å¤çš„root&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; causeï¼Œå¦‚æœä¸çŸ¥é“æ€ä¹ˆä»æ—¥å¿—é‡Œé¢æ‰¾ï¼Œå¯ä»¥æŠŠç›¸å…³æ—¥å¿—åˆ†äº«å‡ºæ¥ã€‚&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; [1]&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/ops/upgrading.html#compatibility-table&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; [2]&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/schema_evolution.html&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; ç¥å¥½&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; å”äº‘&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; ________________________________&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; From: Robin Zhang &lt;vincent2015qdlg@outlook.com&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Sent: Wednesday, July 15, 2020 16:23&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Subject: Re: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; æ®æˆ‘æ‰€çŸ¥ï¼Œè·¨å¤§ç‰ˆæœ¬çš„ä¸èƒ½ç›´æ¥ä»checkointæ¢å¤ï¼Œåªèƒ½æ”¾å¼ƒçŠ¶æ€é‡æ–°è·‘&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Best&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Robin Zhang&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; ________________________________&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; From: Peihui He &lt;[hidden email]&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Sent: Tuesday, July 14, 2020 10:42&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; To: [hidden email] &lt;[hidden email]&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Subject: flink 1.9.2 å‡çº§ 1.10.0 ä»»åŠ¡å¤±è´¥ä¸èƒ½ä»checkpointæ¢å¤&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; helloï¼Œ&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;         å½“å‡çº§åˆ°1.10.0 æ—¶å€™ï¼Œç¨‹åºå‡ºé”™åä¼šå°è¯•ä»checkpointæ¢å¤ï¼Œä½†æ˜¯æ€»æ˜¯å¤±è´¥ï¼Œæç¤º&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Caused by: java.nio.file.NoSuchFileException:&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/db/000009.sst&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; -&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; /data/hadoop/yarn/local/usercache/hdfs/appcache/application_1589438582606_30760/flink-io-26af2be2-2b14-4eab-90d8-9ebb32ace6e3/job_6b6cacb02824b8521808381113f57eff_op_StreamGroupedReduce_54cc3719665e6629c9000e9308537a5e__1_1__uuid_afda2b8b-0b79-449e-88b5-c34c27c1a079/8f609663-4fbb-483f-83c0-de04654310f7/000009.sst&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; é…ç½®å’Œ1.9.2 ä¸€æ ·ï¼š&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; state.backend: rocksdb&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; state.checkpoints.dir: hdfs:///flink/checkpoints/wc/&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; state.savepoints.dir: hdfs:///flink/savepoints/wc/&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; state.backend.incremental: true&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; ä»£ç ä¸Šéƒ½æœ‰&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; env.enableCheckpointing(10000);&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; env.getCheckpointConfig().enableExternalizedCheckpoints(CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION);&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; env.setRestartStrategy(RestartStrategies.fixedDelayRestart(3,&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; org.apache.flink.api.common.time.Time.of(10,&#013;&#010;&gt;&gt;&gt; TimeUnit.SECONDS)));&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;           æ˜¯1.10.0 éœ€è¦åšä»€ä¹ˆç‰¹åˆ«é…ç½®ä¹ˆï¼Ÿ&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; --&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&gt;&#013;&#010;&gt;&gt;&gt; &gt;&#013;&#010;&gt;&gt;&gt;&#013;&#010;&gt;&gt;&#013;&#010;",
        "depth": "12",
        "reply": "<CAGR9zpaoLCgOw3h1GudONDzcmhw39AgH1E5BXNxurp4u1er45w@mail.gmail.com>"
    },
    {
        "id": "<87D0B776-D5DF-4535-8768-A779F560F913@163.com>",
        "from": "admin &lt;17626017...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 02:50:39 GMT",
        "subject": "è‡ªå®šä¹‰çš„sql connectoråœ¨sql-cliä¸­è¿è¡Œé—®é¢˜",
        "content": "hi allï¼Œ&#010;æˆ‘è‡ªå®šä¹‰äº†ä¸€ä¸ªsql connectorï¼Œåœ¨æœ¬åœ°ideaé‡Œé¢æ˜¯è°ƒè¯•é€šè¿‡çš„ï¼Œæ•°æ®èƒ½æ­£å¸¸å†™å…¥ï¼Œä½†æ˜¯æ•´ä¸ªflinkç¼–è¯‘ä¹‹åï¼Œç”¨ç¼–è¯‘åçš„åŒ…åœ¨æœ¬åœ°èµ·äº†standaloneé›†ç¾¤ï¼Œåœ¨sql-cliä¸­è¿è¡ŒæŠ¥é”™å¦‚ä¸‹&#010;2020-07-14 10:36:29,148 WARN  org.apache.flink.table.client.cli.CliClient                &#010; [] - Could not execute SQL statement.&#010;org.apache.flink.table.client.gateway.SqlExecutionException: Invalid SQL update statement.&#010;   at org.apache.flink.table.client.gateway.local.LocalExecutor.applyUpdate(LocalExecutor.java:698)&#010;~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.client.gateway.local.LocalExecutor.executeUpdateInternal(LocalExecutor.java:576)&#010;~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.client.gateway.local.LocalExecutor.executeUpdate(LocalExecutor.java:527)&#010;~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.client.cli.CliClient.callInsert(CliClient.java:551) ~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.client.cli.CliClient.callCommand(CliClient.java:299) ~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at java.util.Optional.ifPresent(Optional.java:159) [?:1.8.0_251]&#010;   at org.apache.flink.table.client.cli.CliClient.open(CliClient.java:200) [flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.client.SqlClient.openCli(SqlClient.java:125) [flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.client.SqlClient.start(SqlClient.java:104) [flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.client.SqlClient.main(SqlClient.java:178) [flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;Caused by: scala.MatchError: null&#010;   at org.apache.flink.table.planner.sinks.TableSinkUtils$.inferSinkPhysicalSchema(TableSinkUtils.scala:165)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.planner.sinks.TableSinkUtils$.validateLogicalPhysicalTypesCompatible(TableSinkUtils.scala:305)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.planner.delegation.PlannerBase$$anonfun$2.apply(PlannerBase.scala:194)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.planner.delegation.PlannerBase$$anonfun$2.apply(PlannerBase.scala:190)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at scala.Option.map(Option.scala:146) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.planner.delegation.PlannerBase.translateToRel(PlannerBase.scala:190)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.planner.delegation.PlannerBase$$anonfun$1.apply(PlannerBase.scala:150)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.planner.delegation.PlannerBase$$anonfun$1.apply(PlannerBase.scala:150)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at scala.collection.Iterator$class.foreach(Iterator.scala:891) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at scala.collection.AbstractIterator.foreach(Iterator.scala:1334) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at scala.collection.IterableLike$class.foreach(IterableLike.scala:72) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at scala.collection.AbstractIterable.foreach(Iterable.scala:54) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at scala.collection.TraversableLike$class.map(TraversableLike.scala:234) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at scala.collection.AbstractTraversable.map(Traversable.scala:104) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.planner.delegation.PlannerBase.translate(PlannerBase.scala:150)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.api.internal.TableEnvironmentImpl.translate(TableEnvironmentImpl.java:767)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.api.internal.TableEnvironmentImpl.sqlUpdate(TableEnvironmentImpl.java:571)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.api.java.internal.StreamTableEnvironmentImpl.sqlUpdate(StreamTableEnvironmentImpl.java:341)&#010;~[flink-table-api-java-bridge_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.client.gateway.local.LocalExecutor.lambda$applyUpdate$17(LocalExecutor.java:691)&#010;~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.client.gateway.local.ExecutionContext.wrapClassLoader(ExecutionContext.java:246)&#010;~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   at org.apache.flink.table.client.gateway.local.LocalExecutor.applyUpdate(LocalExecutor.java:689)&#010;~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;   ... 9 more&#010;flinkç‰ˆæœ¬1.10.1 blink planner&#010;æµ‹è¯•çš„sqlä¸ºï¼š&#010;Flink SQL&gt; CREATE TABLE prometheus_table (value DOUBLE )WITH ('connector.type' = 'prometheus','connector.job'&#010;= 'testJob','connector.metrics' = 'testMetrics','connector.address' = 'localhost:9091');&#010;Flink SQL&gt; insert into prometheus_table select cast(100.01 as double) as value;&#010;çœ‹æŠ¥é”™çš„åœ°æ–¹åº”è¯¥æ˜¯&#010;def inferSinkPhysicalSchema(&#010;    queryLogicalType: RowType,&#010;    sink: TableSink[_]): TableSchema = {&#010;  val withChangeFlag = sink match {&#010;    case _: RetractStreamTableSink[_] | _: UpsertStreamTableSink[_] =&gt; true&#010;    case _: StreamTableSink[_] =&gt; false&#010;    case dsts: DataStreamTableSink[_] =&gt; dsts.withChangeFlag&#010;  }&#010;  inferSinkPhysicalSchema(sink.getConsumedDataType, queryLogicalType, withChangeFlag)&#010;}&#010;sinkæ²¡æœ‰matchåˆ°ï¼Œä½†æ˜¯æˆ‘çš„tablesinkæ˜¯å®ç°äº†AppendStreamTableSinkçš„&#010;æƒ³è¿œç¨‹debugè°ƒè¯•ä¸€ä¸‹ï¼ŒæŒ‰ç…§ç½‘ä¸Šçš„æ–¹æ³•[1]ä¹Ÿæ²¡æˆåŠŸ&#010;&#010;å¤§ä½¬ä»¬æœ‰æ²¡æœ‰ä»€ä¹ˆæ€è·¯æŒ‡å¯¼ä¸€ä¸‹ã€‚æ„Ÿè°¢&#010;&#010;[1]https://blog.csdn.net/xianzhen376/article/details/80117637 &lt;https://blog.csdn.net/xianzhen376/article/details/80117637&gt;&#010;",
        "depth": "0",
        "reply": "<87D0B776-D5DF-4535-8768-A779F560F913@163.com>"
    },
    {
        "id": "<0F525F03-CD72-47D8-AB47-E8229BB9C00C@163.com>",
        "from": "admin &lt;17626017...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 13:26:55 GMT",
        "subject": "Re: è‡ªå®šä¹‰çš„sql connectoråœ¨sql-cliä¸­è¿è¡Œé—®é¢˜",
        "content": "è§£å†³äº†ï¼ŒåŸå› æ˜¯æˆ‘åŒæ—¶å®ç°äº†createTableSinkå’ŒcreateStreamTableSinkå¯¼è‡´&#010;åˆ æ‰createTableSinkå°±å¯ä»¥äº†&#010;&#010;&#010;&gt; 2020å¹´7æœˆ14æ—¥ ä¸Šåˆ10:50ï¼Œadmin &lt;17626017841@163.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; hi allï¼Œ&#010;&gt; æˆ‘è‡ªå®šä¹‰äº†ä¸€ä¸ªsql connectorï¼Œåœ¨æœ¬åœ°ideaé‡Œé¢æ˜¯è°ƒè¯•é€šè¿‡çš„ï¼Œæ•°æ®èƒ½æ­£å¸¸å†™å…¥ï¼Œä½†æ˜¯æ•´ä¸ªflinkç¼–è¯‘ä¹‹åï¼Œç”¨ç¼–è¯‘åçš„åŒ…åœ¨æœ¬åœ°èµ·äº†standaloneé›†ç¾¤ï¼Œåœ¨sql-cliä¸­è¿è¡ŒæŠ¥é”™å¦‚ä¸‹&#010;&gt; 2020-07-14 10:36:29,148 WARN  org.apache.flink.table.client.cli.CliClient           &#010;      [] - Could not execute SQL statement.&#010;&gt; org.apache.flink.table.client.gateway.SqlExecutionException: Invalid SQL update statement.&#010;&gt;    at org.apache.flink.table.client.gateway.local.LocalExecutor.applyUpdate(LocalExecutor.java:698)&#010;~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.client.gateway.local.LocalExecutor.executeUpdateInternal(LocalExecutor.java:576)&#010;~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.client.gateway.local.LocalExecutor.executeUpdate(LocalExecutor.java:527)&#010;~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.client.cli.CliClient.callInsert(CliClient.java:551) ~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.client.cli.CliClient.callCommand(CliClient.java:299) ~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at java.util.Optional.ifPresent(Optional.java:159) [?:1.8.0_251]&#010;&gt;    at org.apache.flink.table.client.cli.CliClient.open(CliClient.java:200) [flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.client.SqlClient.openCli(SqlClient.java:125) [flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.client.SqlClient.start(SqlClient.java:104) [flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.client.SqlClient.main(SqlClient.java:178) [flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt; Caused by: scala.MatchError: null&#010;&gt;    at org.apache.flink.table.planner.sinks.TableSinkUtils$.inferSinkPhysicalSchema(TableSinkUtils.scala:165)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.planner.sinks.TableSinkUtils$.validateLogicalPhysicalTypesCompatible(TableSinkUtils.scala:305)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.planner.delegation.PlannerBase$$anonfun$2.apply(PlannerBase.scala:194)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.planner.delegation.PlannerBase$$anonfun$2.apply(PlannerBase.scala:190)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at scala.Option.map(Option.scala:146) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.planner.delegation.PlannerBase.translateToRel(PlannerBase.scala:190)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.planner.delegation.PlannerBase$$anonfun$1.apply(PlannerBase.scala:150)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.planner.delegation.PlannerBase$$anonfun$1.apply(PlannerBase.scala:150)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)&#010;~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)&#010;~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at scala.collection.Iterator$class.foreach(Iterator.scala:891) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at scala.collection.AbstractIterator.foreach(Iterator.scala:1334) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at scala.collection.IterableLike$class.foreach(IterableLike.scala:72) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at scala.collection.AbstractIterable.foreach(Iterable.scala:54) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at scala.collection.TraversableLike$class.map(TraversableLike.scala:234) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at scala.collection.AbstractTraversable.map(Traversable.scala:104) ~[flink-dist_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.planner.delegation.PlannerBase.translate(PlannerBase.scala:150)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.api.internal.TableEnvironmentImpl.translate(TableEnvironmentImpl.java:767)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.api.internal.TableEnvironmentImpl.sqlUpdate(TableEnvironmentImpl.java:571)&#010;~[flink-table-blink_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.api.java.internal.StreamTableEnvironmentImpl.sqlUpdate(StreamTableEnvironmentImpl.java:341)&#010;~[flink-table-api-java-bridge_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.client.gateway.local.LocalExecutor.lambda$applyUpdate$17(LocalExecutor.java:691)&#010;~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.client.gateway.local.ExecutionContext.wrapClassLoader(ExecutionContext.java:246)&#010;~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    at org.apache.flink.table.client.gateway.local.LocalExecutor.applyUpdate(LocalExecutor.java:689)&#010;~[flink-sql-client_2.11-1.11-SNAPSHOT.jar:1.11-SNAPSHOT]&#010;&gt;    ... 9 more&#010;&gt; flinkç‰ˆæœ¬1.10.1 blink planner&#010;&gt; æµ‹è¯•çš„sqlä¸ºï¼š&#010;&gt; Flink SQL&gt; CREATE TABLE prometheus_table (value DOUBLE )WITH ('connector.type' = 'prometheus','connector.job'&#010;= 'testJob','connector.metrics' = 'testMetrics','connector.address' = 'localhost:9091');&#010;&gt; Flink SQL&gt; insert into prometheus_table select cast(100.01 as double) as value;&#010;&gt; çœ‹æŠ¥é”™çš„åœ°æ–¹åº”è¯¥æ˜¯&#010;&gt; def inferSinkPhysicalSchema(&#010;&gt;     queryLogicalType: RowType,&#010;&gt;     sink: TableSink[_]): TableSchema = {&#010;&gt;   val withChangeFlag = sink match {&#010;&gt;     case _: RetractStreamTableSink[_] | _: UpsertStreamTableSink[_] =&gt; true&#010;&gt;     case _: StreamTableSink[_] =&gt; false&#010;&gt;     case dsts: DataStreamTableSink[_] =&gt; dsts.withChangeFlag&#010;&gt;   }&#010;&gt;   inferSinkPhysicalSchema(sink.getConsumedDataType, queryLogicalType, withChangeFlag)&#010;&gt; }&#010;&gt; sinkæ²¡æœ‰matchåˆ°ï¼Œä½†æ˜¯æˆ‘çš„tablesinkæ˜¯å®ç°äº†AppendStreamTableSinkçš„&#010;&gt; æƒ³è¿œç¨‹debugè°ƒè¯•ä¸€ä¸‹ï¼ŒæŒ‰ç…§ç½‘ä¸Šçš„æ–¹æ³•[1]ä¹Ÿæ²¡æˆåŠŸ&#010;&gt; &#010;&gt; å¤§ä½¬ä»¬æœ‰æ²¡æœ‰ä»€ä¹ˆæ€è·¯æŒ‡å¯¼ä¸€ä¸‹ã€‚æ„Ÿè°¢&#010;&gt; &#010;&gt; [1]https://blog.csdn.net/xianzhen376/article/details/80117637 &lt;https://blog.csdn.net/xianzhen376/article/details/80117637&gt;&#010;&#010;",
        "depth": "1",
        "reply": "<87D0B776-D5DF-4535-8768-A779F560F913@163.com>"
    },
    {
        "id": "<26fa451.531c.1734b480dfe.Coremail.drewfranklin@163.com>",
        "from": "drewfranklin &lt;drewfrank...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 03:04:40 GMT",
        "subject": "flink cep å¦‚ä½•å¤„ç†è¶…æ—¶äº‹ä»¶ï¼Ÿ",
        "content": "Hello all.&#010; æƒ³è¯·æ•™ä¸‹å„ä½ã€‚&#010; &#010;æˆ‘æœ‰ä¸ªç”¨æˆ·å¼€æˆ·è¶…æ—¶æ–­ç‚¹çš„åœºæ™¯ã€‚è°ƒç ”äº†ä¸€ä¸‹ï¼Œæƒ³é€šè¿‡flink cep æ¥å®ç°ã€‚&#010; &#010;ä½†æ˜¯æˆ‘å®šä¹‰pattern åå‘ç°ï¼Œæˆ‘çš„è¿™ä¸ªæ²¡åŠæ³•åœ¨ä¸€æ¡äº‹ä»¶æ•°æ®ä¸Šå®Œæˆåˆ¤å®šã€‚å¿…é¡»å€ŸåŠ©å’Œä¸Šä¸€äº‹ä»¶æ•°æ®æ¯”è¾ƒä¹‹ååˆ¤æ–­æ˜¯ä¸æ˜¯è¶…æ—¶ã€‚&#010;&#010;&#010;æƒ³çŸ¥é“è¯¥å¦‚ä½•å®šä¹‰pattern èƒ½å¤Ÿï¼Œå–åˆ°æ’åºä¹‹åå‰åä¸¤ä¸ªä¸¤ä¸ªäº‹ä»¶ã€‚",
        "depth": "0",
        "reply": "<26fa451.531c.1734b480dfe.Coremail.drewfranklin@163.com>"
    },
    {
        "id": "<CAOMLN=b-emeHg=0r--LkP8GkLW-80UQH1abQNXzFhNze1DB0qQ@mail.gmail.com>",
        "from": "shizk233 &lt;wangwangdaxian...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 10:27:09 GMT",
        "subject": "Re: flink cep å¦‚ä½•å¤„ç†è¶…æ—¶äº‹ä»¶ï¼Ÿ",
        "content": "Hi drewfranklin,&#013;&#010;&#013;&#010;flinkä½¿ç”¨event timeï¼Œç„¶åç±»ä¼¼ä¸‹é¢è¿™æ ·å¯ä»¥å—ï¼Ÿ&#013;&#010;Pattern.begin(\"a\").next(\"b\").within(Time.minutes(1));&#013;&#010;&#013;&#010;Best,&#013;&#010;shizk233&#013;&#010;&#013;&#010;drewfranklin &lt;drewfranklin@163.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ11:05å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hello all.&#013;&#010;&gt;  æƒ³è¯·æ•™ä¸‹å„ä½ã€‚&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘æœ‰ä¸ªç”¨æˆ·å¼€æˆ·è¶…æ—¶æ–­ç‚¹çš„åœºæ™¯ã€‚è°ƒç ”äº†ä¸€ä¸‹ï¼Œæƒ³é€šè¿‡flink cep æ¥å®ç°ã€‚&#013;&#010;&gt;&#013;&#010;&gt; ä½†æ˜¯æˆ‘å®šä¹‰pattern åå‘ç°ï¼Œæˆ‘çš„è¿™ä¸ªæ²¡åŠæ³•åœ¨ä¸€æ¡äº‹ä»¶æ•°æ®ä¸Šå®Œæˆåˆ¤å®šã€‚å¿…é¡»å€ŸåŠ©å’Œä¸Šä¸€äº‹ä»¶æ•°æ®æ¯”è¾ƒä¹‹ååˆ¤æ–­æ˜¯ä¸æ˜¯è¶…æ—¶ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æƒ³çŸ¥é“è¯¥å¦‚ä½•å®šä¹‰pattern èƒ½å¤Ÿï¼Œå–åˆ°æ’åºä¹‹åå‰åä¸¤ä¸ªä¸¤ä¸ªäº‹ä»¶ã€‚&#013;&#010;",
        "depth": "1",
        "reply": "<26fa451.531c.1734b480dfe.Coremail.drewfranklin@163.com>"
    },
    {
        "id": "<CAEZk0438ohrd=O8oQg2NKr=CwXHEL90HugxD1baBqonUqe+AGQ@mail.gmail.com>",
        "from": "Dream-åº•é™ &lt;zhan...@akulaku.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 03:07:16 GMT",
        "subject": "flink1.9çŠ¶æ€åŠä½œä¸šè¿ç§»",
        "content": "hiï¼š&#013;&#010;flink1.9çš„æ£€æŸ¥ç‚¹æˆ–ä¿å­˜ç‚¹ä¸­ä¼šä¿ç•™hadoopé›†ç¾¤çš„nameserviceæ•°æ®å—ï¼Ÿç°åœ¨æƒ³å°†ä¸€ä¸ªé›†ç¾¤çš„flinkä½œä¸šè¿ç§»åˆ°å¦ä¸€ä¸ªé›†ç¾¤ï¼Œä½†ä¸¤ä¸ªé›†ç¾¤çš„nameserviceåç§°ä¸ä¸€æ ·ï¼Œè¿ç§»ä¼šæœ‰é—®é¢˜å—ï¼Ÿå¦‚æœæœ‰é—®é¢˜çš„è¯å¯¹åº”çŠ¶æ€ä¿å­˜çš„nameserviceå¯ä»¥ä¿®æ”¹å—ï¼Ÿæˆ–è€…è¯´è¿ç§»çš„æ—¶å€™è¿˜æœ‰å“ªäº›å…¶ä»–éœ€è¦æ³¨æ„çš„é—®é¢˜ï¼Ÿ&#013;&#010;",
        "depth": "0",
        "reply": "<CAEZk0438ohrd=O8oQg2NKr=CwXHEL90HugxD1baBqonUqe+AGQ@mail.gmail.com>"
    },
    {
        "id": "<DM5PR2001MB178514BE21E463B7182A95DCDA610@DM5PR2001MB1785.namprd20.prod.outlook.com>",
        "from": "Yun Tang &lt;myas...@live.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 03:53:54 GMT",
        "subject": "Re: flink1.9çŠ¶æ€åŠä½œä¸šè¿ç§»",
        "content": "Checkpoint metaä¸­å­˜å‚¨çš„æ˜¯å®Œæ•´è·¯å¾„ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šæŠŠhdfsçš„namespaceå­˜å‚¨èµ·æ¥ï¼Œå¯¼è‡´æ²¡åŠæ³•ç›´æ¥è¿ç§»ã€‚&#013;&#010;&#013;&#010;Flink-1.11 æ”¯æŒå°†savepointï¼ˆä½†æ˜¯ä¸æ”¯æŒCheckpointï¼‰è¿›è¡Œä½ç½®è¿ç§» [1]ï¼Œè€Œå¯¹äºFlink-1.9ï¼ŒäºŒè€…å‡ä¸æ”¯æŒã€‚&#013;&#010;&#013;&#010;&#013;&#010;[1] https://issues.apache.org/jira/browse/FLINK-5763&#013;&#010;&#013;&#010;ç¥å¥½&#013;&#010;å”äº‘&#013;&#010;&#013;&#010;________________________________&#013;&#010;From: Dream-åº•é™ &lt;zhangyu@akulaku.com&gt;&#013;&#010;Sent: Tuesday, July 14, 2020 11:07&#013;&#010;To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;Subject: flink1.9çŠ¶æ€åŠä½œä¸šè¿ç§»&#013;&#010;&#013;&#010;hiï¼š&#013;&#010;flink1.9çš„æ£€æŸ¥ç‚¹æˆ–ä¿å­˜ç‚¹ä¸­ä¼šä¿ç•™hadoopé›†ç¾¤çš„nameserviceæ•°æ®å—ï¼Ÿç°åœ¨æƒ³å°†ä¸€ä¸ªé›†ç¾¤çš„flinkä½œä¸šè¿ç§»åˆ°å¦ä¸€ä¸ªé›†ç¾¤ï¼Œä½†ä¸¤ä¸ªé›†ç¾¤çš„nameserviceåç§°ä¸ä¸€æ ·ï¼Œè¿ç§»ä¼šæœ‰é—®é¢˜å—ï¼Ÿå¦‚æœæœ‰é—®é¢˜çš„è¯å¯¹åº”çŠ¶æ€ä¿å­˜çš„nameserviceå¯ä»¥ä¿®æ”¹å—ï¼Ÿæˆ–è€…è¯´è¿ç§»çš„æ—¶å€™è¿˜æœ‰å“ªäº›å…¶ä»–éœ€è¦æ³¨æ„çš„é—®é¢˜ï¼Ÿ&#013;&#010;",
        "depth": "1",
        "reply": "<CAEZk0438ohrd=O8oQg2NKr=CwXHEL90HugxD1baBqonUqe+AGQ@mail.gmail.com>"
    },
    {
        "id": "<CAEZk043ta+1g7SZWLF1S+Cx0xZ9DLTg2VqoJsbWqpNMkaCm5bQ@mail.gmail.com>",
        "from": "Dream-åº•é™ &lt;zhan...@akulaku.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 03:57:50 GMT",
        "subject": "Re: flink1.9çŠ¶æ€åŠä½œä¸šè¿ç§»",
        "content": "hiã€&#013;&#010;è¯·é—®å¯¹äºä¸‹é¢çš„æƒ…å†µï¼ŒCheckpoint metaä¸­å­˜å‚¨çš„hdfs namespaceå¯ä»¥ä¿®æ”¹å—&#013;&#010;ã€‹ã€‹Checkpoint metaä¸­å­˜å‚¨çš„æ˜¯å®Œæ•´è·¯å¾„ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šæŠŠhdfsçš„namespaceå­˜å‚¨èµ·æ¥ï¼Œå¯¼è‡´æ²¡åŠæ³•ç›´æ¥è¿ç§»ã€‚&#013;&#010;&#013;&#010;Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ11:54å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Checkpoint metaä¸­å­˜å‚¨çš„æ˜¯å®Œæ•´è·¯å¾„ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šæŠŠhdfsçš„namespaceå­˜å‚¨èµ·æ¥ï¼Œå¯¼è‡´æ²¡åŠæ³•ç›´æ¥è¿ç§»ã€‚&#013;&#010;&gt;&#013;&#010;&gt; Flink-1.11 æ”¯æŒå°†savepointï¼ˆä½†æ˜¯ä¸æ”¯æŒCheckpointï¼‰è¿›è¡Œä½ç½®è¿ç§» [1]ï¼Œè€Œå¯¹äºFlink-1.9ï¼ŒäºŒè€…å‡ä¸æ”¯æŒã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; [1] https://issues.apache.org/jira/browse/FLINK-5763&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½&#013;&#010;&gt; å”äº‘&#013;&#010;&gt;&#013;&#010;&gt; ________________________________&#013;&#010;&gt; From: Dream-åº•é™ &lt;zhangyu@akulaku.com&gt;&#013;&#010;&gt; Sent: Tuesday, July 14, 2020 11:07&#013;&#010;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; Subject: flink1.9çŠ¶æ€åŠä½œä¸šè¿ç§»&#013;&#010;&gt;&#013;&#010;&gt; hiï¼š&#013;&#010;&gt;&#013;&#010;&gt; flink1.9çš„æ£€æŸ¥ç‚¹æˆ–ä¿å­˜ç‚¹ä¸­ä¼šä¿ç•™hadoopé›†ç¾¤çš„nameserviceæ•°æ®å—ï¼Ÿç°åœ¨æƒ³å°†ä¸€ä¸ªé›†ç¾¤çš„flinkä½œä¸šè¿ç§»åˆ°å¦ä¸€ä¸ªé›†ç¾¤ï¼Œä½†ä¸¤ä¸ªé›†ç¾¤çš„nameserviceåç§°ä¸ä¸€æ ·ï¼Œè¿ç§»ä¼šæœ‰é—®é¢˜å—ï¼Ÿå¦‚æœæœ‰é—®é¢˜çš„è¯å¯¹åº”çŠ¶æ€ä¿å­˜çš„nameserviceå¯ä»¥ä¿®æ”¹å—ï¼Ÿæˆ–è€…è¯´è¿ç§»çš„æ—¶å€™è¿˜æœ‰å“ªäº›å…¶ä»–éœ€è¦æ³¨æ„çš„é—®é¢˜ï¼Ÿ&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<CAEZk0438ohrd=O8oQg2NKr=CwXHEL90HugxD1baBqonUqe+AGQ@mail.gmail.com>"
    },
    {
        "id": "<DM5PR2001MB17850D9CD0282DA301CBDA3BDA610@DM5PR2001MB1785.namprd20.prod.outlook.com>",
        "from": "Yun Tang &lt;myas...@live.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 04:15:42 GMT",
        "subject": "Re: flink1.9çŠ¶æ€åŠä½œä¸šè¿ç§»",
        "content": "å¯¹äºFlinkæœ¬èº«æœºåˆ¶ä¸æ”¯æŒçš„åœºæ™¯ï¼Œå¯ä»¥é€šè¿‡ç›´æ¥ä¿®æ”¹Checkpoint meta æ–‡ä»¶åŒæ—¶å°†metaä»¥åŠdataæ–‡ä»¶è¿ç§»åˆ°æ–°HDFSé›†ç¾¤ä¹Ÿèƒ½åšåˆ°ï¼ŒåŠ è½½Checkpointçš„å…·ä½“ä»£ç å¯ä»¥å‚ç…§Checkpoints#loadAndValidateCheckpoint&#010;[1]ï¼Œè€Œå­˜å‚¨Checkpointçš„ä»£ç å¯ä»¥å‚ç…§Checkpoints#storeCheckpointMetadata [2]&#013;&#010;&#013;&#010;&#013;&#010;[1] https://github.com/apache/flink/blob/5125b1123dfcfff73b5070401dfccb162959080c/flink-runtime/src/main/java/org/apache/flink/runtime/checkpoint/Checkpoints.java#L124&#013;&#010;[2] https://github.com/apache/flink/blob/5125b1123dfcfff73b5070401dfccb162959080c/flink-runtime/src/main/java/org/apache/flink/runtime/checkpoint/Checkpoints.java#L81&#013;&#010;&#013;&#010;&#013;&#010;ç¥å¥½&#013;&#010;å”äº‘&#013;&#010;________________________________&#013;&#010;From: Dream-åº•é™ &lt;zhangyu@akulaku.com&gt;&#013;&#010;Sent: Tuesday, July 14, 2020 11:57&#013;&#010;To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;Subject: Re: flink1.9çŠ¶æ€åŠä½œä¸šè¿ç§»&#013;&#010;&#013;&#010;hiã€&#013;&#010;è¯·é—®å¯¹äºä¸‹é¢çš„æƒ…å†µï¼ŒCheckpoint metaä¸­å­˜å‚¨çš„hdfs namespaceå¯ä»¥ä¿®æ”¹å—&#013;&#010;ã€‹ã€‹Checkpoint metaä¸­å­˜å‚¨çš„æ˜¯å®Œæ•´è·¯å¾„ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šæŠŠhdfsçš„namespaceå­˜å‚¨èµ·æ¥ï¼Œå¯¼è‡´æ²¡åŠæ³•ç›´æ¥è¿ç§»ã€‚&#013;&#010;&#013;&#010;Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ11:54å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Checkpoint metaä¸­å­˜å‚¨çš„æ˜¯å®Œæ•´è·¯å¾„ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šæŠŠhdfsçš„namespaceå­˜å‚¨èµ·æ¥ï¼Œå¯¼è‡´æ²¡åŠæ³•ç›´æ¥è¿ç§»ã€‚&#013;&#010;&gt;&#013;&#010;&gt; Flink-1.11 æ”¯æŒå°†savepointï¼ˆä½†æ˜¯ä¸æ”¯æŒCheckpointï¼‰è¿›è¡Œä½ç½®è¿ç§» [1]ï¼Œè€Œå¯¹äºFlink-1.9ï¼ŒäºŒè€…å‡ä¸æ”¯æŒã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; [1] https://issues.apache.org/jira/browse/FLINK-5763&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½&#013;&#010;&gt; å”äº‘&#013;&#010;&gt;&#013;&#010;&gt; ________________________________&#013;&#010;&gt; From: Dream-åº•é™ &lt;zhangyu@akulaku.com&gt;&#013;&#010;&gt; Sent: Tuesday, July 14, 2020 11:07&#013;&#010;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; Subject: flink1.9çŠ¶æ€åŠä½œä¸šè¿ç§»&#013;&#010;&gt;&#013;&#010;&gt; hiï¼š&#013;&#010;&gt;&#013;&#010;&gt; flink1.9çš„æ£€æŸ¥ç‚¹æˆ–ä¿å­˜ç‚¹ä¸­ä¼šä¿ç•™hadoopé›†ç¾¤çš„nameserviceæ•°æ®å—ï¼Ÿç°åœ¨æƒ³å°†ä¸€ä¸ªé›†ç¾¤çš„flinkä½œä¸šè¿ç§»åˆ°å¦ä¸€ä¸ªé›†ç¾¤ï¼Œä½†ä¸¤ä¸ªé›†ç¾¤çš„nameserviceåç§°ä¸ä¸€æ ·ï¼Œè¿ç§»ä¼šæœ‰é—®é¢˜å—ï¼Ÿå¦‚æœæœ‰é—®é¢˜çš„è¯å¯¹åº”çŠ¶æ€ä¿å­˜çš„nameserviceå¯ä»¥ä¿®æ”¹å—ï¼Ÿæˆ–è€…è¯´è¿ç§»çš„æ—¶å€™è¿˜æœ‰å“ªäº›å…¶ä»–éœ€è¦æ³¨æ„çš„é—®é¢˜ï¼Ÿ&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<CAEZk0438ohrd=O8oQg2NKr=CwXHEL90HugxD1baBqonUqe+AGQ@mail.gmail.com>"
    },
    {
        "id": "<6e960a46.bcc9.1734b89e36b.Coremail.chq19970719@163.com>",
        "from": "æˆæ¬¢æ™´ &lt;chq19970...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 04:16:34 GMT",
        "subject": "å›å¤ï¼šflink1.9çŠ¶æ€åŠä½œä¸šè¿ç§»",
        "content": "é€€è®¢&#010;&#010;&#010;&#010;&#010;| |&#010;chq19970719&#010;|&#010;|&#010;é‚®ç®±ï¼šchq19970719@163.com&#010;|&#010;&#010;Signature is customized by Netease Mail Master&#010;&#010;åœ¨2020å¹´07æœˆ14æ—¥ 12:15ï¼ŒYun Tang å†™é“ï¼š&#010;å¯¹äºFlinkæœ¬èº«æœºåˆ¶ä¸æ”¯æŒçš„åœºæ™¯ï¼Œå¯ä»¥é€šè¿‡ç›´æ¥ä¿®æ”¹Checkpoint meta æ–‡ä»¶åŒæ—¶å°†metaä»¥åŠdataæ–‡ä»¶è¿ç§»åˆ°æ–°HDFSé›†ç¾¤ä¹Ÿèƒ½åšåˆ°ï¼ŒåŠ è½½Checkpointçš„å…·ä½“ä»£ç å¯ä»¥å‚ç…§Checkpoints#loadAndValidateCheckpoint&#010;[1]ï¼Œè€Œå­˜å‚¨Checkpointçš„ä»£ç å¯ä»¥å‚ç…§Checkpoints#storeCheckpointMetadata [2]&#010;&#010;&#010;[1] https://github.com/apache/flink/blob/5125b1123dfcfff73b5070401dfccb162959080c/flink-runtime/src/main/java/org/apache/flink/runtime/checkpoint/Checkpoints.java#L124&#010;[2] https://github.com/apache/flink/blob/5125b1123dfcfff73b5070401dfccb162959080c/flink-runtime/src/main/java/org/apache/flink/runtime/checkpoint/Checkpoints.java#L81&#010;&#010;&#010;ç¥å¥½&#010;å”äº‘&#010;________________________________&#010;From: Dream-åº•é™ &lt;zhangyu@akulaku.com&gt;&#010;Sent: Tuesday, July 14, 2020 11:57&#010;To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#010;Subject: Re: flink1.9çŠ¶æ€åŠä½œä¸šè¿ç§»&#010;&#010;hiã€&#010;è¯·é—®å¯¹äºä¸‹é¢çš„æƒ…å†µï¼ŒCheckpoint metaä¸­å­˜å‚¨çš„hdfs namespaceå¯ä»¥ä¿®æ”¹å—&#010;ã€‹ã€‹Checkpoint metaä¸­å­˜å‚¨çš„æ˜¯å®Œæ•´è·¯å¾„ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šæŠŠhdfsçš„namespaceå­˜å‚¨èµ·æ¥ï¼Œå¯¼è‡´æ²¡åŠæ³•ç›´æ¥è¿ç§»ã€‚&#010;&#010;Yun Tang &lt;myasuka@live.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ11:54å†™é“ï¼š&#010;&#010;&gt; Checkpoint metaä¸­å­˜å‚¨çš„æ˜¯å®Œæ•´è·¯å¾„ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šæŠŠhdfsçš„namespaceå­˜å‚¨èµ·æ¥ï¼Œå¯¼è‡´æ²¡åŠæ³•ç›´æ¥è¿ç§»ã€‚&#010;&gt;&#010;&gt; Flink-1.11 æ”¯æŒå°†savepointï¼ˆä½†æ˜¯ä¸æ”¯æŒCheckpointï¼‰è¿›è¡Œä½ç½®è¿ç§» [1]ï¼Œè€Œå¯¹äºFlink-1.9ï¼ŒäºŒè€…å‡ä¸æ”¯æŒã€‚&#010;&gt;&#010;&gt;&#010;&gt; [1] https://issues.apache.org/jira/browse/FLINK-5763&#010;&gt;&#010;&gt; ç¥å¥½&#010;&gt; å”äº‘&#010;&gt;&#010;&gt; ________________________________&#010;&gt; From: Dream-åº•é™ &lt;zhangyu@akulaku.com&gt;&#010;&gt; Sent: Tuesday, July 14, 2020 11:07&#010;&gt; To: user-zh@flink.apache.org &lt;user-zh@flink.apache.org&gt;&#010;&gt; Subject: flink1.9çŠ¶æ€åŠä½œä¸šè¿ç§»&#010;&gt;&#010;&gt; hiï¼š&#010;&gt;&#010;&gt; flink1.9çš„æ£€æŸ¥ç‚¹æˆ–ä¿å­˜ç‚¹ä¸­ä¼šä¿ç•™hadoopé›†ç¾¤çš„nameserviceæ•°æ®å—ï¼Ÿç°åœ¨æƒ³å°†ä¸€ä¸ªé›†ç¾¤çš„flinkä½œä¸šè¿ç§»åˆ°å¦ä¸€ä¸ªé›†ç¾¤ï¼Œä½†ä¸¤ä¸ªé›†ç¾¤çš„nameserviceåç§°ä¸ä¸€æ ·ï¼Œè¿ç§»ä¼šæœ‰é—®é¢˜å—ï¼Ÿå¦‚æœæœ‰é—®é¢˜çš„è¯å¯¹åº”çŠ¶æ€ä¿å­˜çš„nameserviceå¯ä»¥ä¿®æ”¹å—ï¼Ÿæˆ–è€…è¯´è¿ç§»çš„æ—¶å€™è¿˜æœ‰å“ªäº›å…¶ä»–éœ€è¦æ³¨æ„çš„é—®é¢˜ï¼Ÿ&#010;&gt;&#010;",
        "depth": "3",
        "reply": "<CAEZk0438ohrd=O8oQg2NKr=CwXHEL90HugxD1baBqonUqe+AGQ@mail.gmail.com>"
    },
    {
        "id": "<1594696795014-0.post@n8.nabble.com>",
        "from": "Robin Zhang &lt;vincent2015q...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 03:19:55 GMT",
        "subject": "Flink1.10 flinksql å¤šè¡¨joinçŠ¶æ€ttlä¸æˆåŠŸçš„é—®é¢˜",
        "content": "&lt;http://apache-flink.147419.n8.nabble.com/file/t447/ttl.png&gt; &#010;æˆ‘ç”¨flink sql è®¾ç½®äº† ç©ºé—²çŠ¶æ€çš„æ¸…ç†æ—¶é—´ï¼Œä½†æ˜¯ çŠ¶æ€è¿˜æ˜¯ä¸€ç›´å¢åŠ ï¼Œé‡Œé¢æœ‰&#010;å¤šæ¬¡ group by  å’Œå¤šæ¬¡ æµè¡¨çš„å…³è” ã€‚&#010;ä»£ç å¦‚ä¸‹ï¼š&#010;   tEnv.getConfig()&#010;         .setIdleStateRetentionTime(Time.hours(minIdleStateRetentionTime), &#010;                                                &#010;Time.hours(maxIdleStateRetentionTime));&#010;&#010;ç¨‹åºè¿è¡Œä¸€å‘¨ä¹‹åçŠ¶æ€ç°åœ¨2.2G. æœ€è¿‘å‡ å¤©è¶Šæ¥è¶Šå¤§ï¼Œè¡¨ç°åœ¨ttlæ²¡æœ‰æˆåŠŸï¼Œè¯·æ•™ä¸€ä¸‹å„ä½å¤§ä½¬&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "1",
        "reply": "<1594696795014-0.post@n8.nabble.com>"
    },
    {
        "id": "<CAELO931-MegnFEgSzFYoR7kkq1rXKGeifB6Myr5JbnmM8OZRsw@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 02:35:48 GMT",
        "subject": "Re: Flink1.10 flinksql å¤šè¡¨joinçŠ¶æ€ttlä¸æˆåŠŸçš„é—®é¢˜",
        "content": "Hi,&#013;&#010;&#013;&#010;è¯·é—®ç”¨çš„æ˜¯ä»€ä¹ˆç‰ˆæœ¬ï¼Œblink planner è¿˜æ˜¯ old plannerï¼Ÿ&#013;&#010;æœ‰æ²¡æœ‰ç®€åŒ–ä¸€ç‚¹çš„ query ä¹Ÿèƒ½å¤ç°è¿™ä¸ª ttl é—®é¢˜çš„ï¼Ÿ æ¯”å¦‚ä¸€å±‚ groupbyï¼Ÿ&#013;&#010;&#013;&#010;Best,&#013;&#010;Jark&#013;&#010;&#013;&#010;On Tue, 14 Jul 2020 at 15:36, Robin Zhang &lt;vincent2015qdlg@outlook.com&gt;&#013;&#010;wrote:&#013;&#010;&#013;&#010;&gt; &lt;http://apache-flink.147419.n8.nabble.com/file/t447/ttl.png&gt;&#013;&#010;&gt; æˆ‘ç”¨flink sql è®¾ç½®äº† ç©ºé—²çŠ¶æ€çš„æ¸…ç†æ—¶é—´ï¼Œä½†æ˜¯ çŠ¶æ€è¿˜æ˜¯ä¸€ç›´å¢åŠ ï¼Œé‡Œé¢æœ‰&#010;å¤šæ¬¡ group by  å’Œå¤šæ¬¡ æµè¡¨çš„å…³è” ã€‚&#013;&#010;&gt; ä»£ç å¦‚ä¸‹ï¼š&#013;&#010;&gt;    tEnv.getConfig()&#013;&#010;&gt;          .setIdleStateRetentionTime(Time.hours(minIdleStateRetentionTime),&#013;&#010;&gt;&#013;&#010;&gt; Time.hours(maxIdleStateRetentionTime));&#013;&#010;&gt;&#013;&#010;&gt; ç¨‹åºè¿è¡Œä¸€å‘¨ä¹‹åçŠ¶æ€ç°åœ¨2.2G. æœ€è¿‘å‡ å¤©è¶Šæ¥è¶Šå¤§ï¼Œè¡¨ç°åœ¨ttlæ²¡æœ‰æˆåŠŸï¼Œè¯·æ•™ä¸€ä¸‹å„ä½å¤§ä½¬&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<1594696795014-0.post@n8.nabble.com>"
    },
    {
        "id": "<1594698525908-0.post@n8.nabble.com>",
        "from": "Robin Zhang &lt;vincent2015q...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 03:48:45 GMT",
        "subject": "Flink1.10 flinksql å¤šè¡¨joinçŠ¶æ€ttlä¸æˆåŠŸçš„é—®é¢˜",
        "content": "&lt;http://apache-flink.147419.n8.nabble.com/file/t447/ttl.png&gt; &#010;æˆ‘ç”¨flink sql è®¾ç½®äº† ç©ºé—²çŠ¶æ€çš„æ¸…ç†æ—¶é—´ï¼Œä½†æ˜¯ çŠ¶æ€è¿˜æ˜¯ä¸€ç›´å¢åŠ ï¼Œé‡Œé¢æœ‰&#010;å¤šæ¬¡ group by  å’Œå¤šæ¬¡ æµè¡¨çš„å…³è” ã€‚&#010;ä»£ç å¦‚ä¸‹ï¼š&#010;   tEnv.getConfig()&#010;         .setIdleStateRetentionTime(Time.hours(minIdleStateRetentionTime), &#010;                                                &#010;Time.hours(maxIdleStateRetentionTime));&#010;&#010;ç¨‹åºè¿è¡Œä¸€å‘¨ä¹‹åçŠ¶æ€ç°åœ¨2.2G. æœ€è¿‘å‡ å¤©è¶Šæ¥è¶Šå¤§ï¼Œè¡¨ç°åœ¨ttlæ²¡æœ‰æˆåŠŸï¼Œè¯·æ•™ä¸€ä¸‹å„ä½å¤§ä½¬&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "1",
        "reply": "<1594696795014-0.post@n8.nabble.com>"
    },
    {
        "id": "<CAMhjQvivw358Tx5RBs2d70BCaa7+h8y5EoUGHaK-TfH7F-82FQ@mail.gmail.com>",
        "from": "zhisheng &lt;zhisheng2...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 04:36:25 GMT",
        "subject": "Re: Flink1.10 flinksql å¤šè¡¨joinçŠ¶æ€ttlä¸æˆåŠŸçš„é—®é¢˜",
        "content": "æœ‰æ²¡æœ‰çª—å£å•Šï¼Ÿ&#013;&#010;&#013;&#010;Robin Zhang &lt;vincent2015qdlg@outlook.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ11:48å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; &lt;http://apache-flink.147419.n8.nabble.com/file/t447/ttl.png&gt;&#013;&#010;&gt; æˆ‘ç”¨flink sql è®¾ç½®äº† ç©ºé—²çŠ¶æ€çš„æ¸…ç†æ—¶é—´ï¼Œä½†æ˜¯ çŠ¶æ€è¿˜æ˜¯ä¸€ç›´å¢åŠ ï¼Œé‡Œé¢æœ‰&#010;å¤šæ¬¡ group by  å’Œå¤šæ¬¡ æµè¡¨çš„å…³è” ã€‚&#013;&#010;&gt; ä»£ç å¦‚ä¸‹ï¼š&#013;&#010;&gt;    tEnv.getConfig()&#013;&#010;&gt;          .setIdleStateRetentionTime(Time.hours(minIdleStateRetentionTime),&#013;&#010;&gt;&#013;&#010;&gt; Time.hours(maxIdleStateRetentionTime));&#013;&#010;&gt;&#013;&#010;&gt; ç¨‹åºè¿è¡Œä¸€å‘¨ä¹‹åçŠ¶æ€ç°åœ¨2.2G. æœ€è¿‘å‡ å¤©è¶Šæ¥è¶Šå¤§ï¼Œè¡¨ç°åœ¨ttlæ²¡æœ‰æˆåŠŸï¼Œè¯·æ•™ä¸€ä¸‹å„ä½å¤§ä½¬&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<1594696795014-0.post@n8.nabble.com>"
    },
    {
        "id": "<1594705051673-0.post@n8.nabble.com>",
        "from": "Robin Zhang &lt;vincent2015q...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 05:37:31 GMT",
        "subject": "Re: Flink1.10 flinksql å¤šè¡¨joinçŠ¶æ€ttlä¸æˆåŠŸçš„é—®é¢˜",
        "content": "æ²¡æœ‰ä½¿ç”¨çª—å£å‘¢ï¼Œå°±å¤šè¡¨å…³è”ï¼Œæ¶‰åŠåˆ°æµè¡¨joinæµè¡¨ï¼Œæµè¡¨joinç»´è¡¨ï¼Œgroup&#010;by ã€topNç­‰&#010;&#010;&#010;&#013;&#010;--&#013;&#010;Sent from: http://apache-flink.147419.n8.nabble.com/",
        "depth": "3",
        "reply": "<1594696795014-0.post@n8.nabble.com>"
    },
    {
        "id": "<1594706724184-0.post@n8.nabble.com>",
        "from": "Robin Zhang &lt;vincent2015q...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 06:05:24 GMT",
        "subject": "Re: Flink1.10 flinksql å¤šè¡¨joinçŠ¶æ€ttlä¸æˆåŠŸçš„é—®é¢˜",
        "content": "æ²¡æœ‰çª—å£ï¼Œå°±ç®€å•çš„è¡¨joinï¼Œæœ‰kafkaæµè¡¨ ï¼Œkuduç»´è¡¨ï¼Œä½¿ç”¨äº†group by&#010;&#010;&gt; Jul 14, 2020; 12:36pm â€” by zhisheng zhisheng&#010;&gt; æœ‰æ²¡æœ‰çª—å£å•Šï¼Ÿ&#010;&#010;Robin Zhang &lt;[hidden email]&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸Šåˆ11:48å†™é“ï¼š&#010;&#010;&gt; &lt;http://apache-flink.147419.n8.nabble.com/file/t447/ttl.png&gt;&#010;&gt; æˆ‘ç”¨flink sql è®¾ç½®äº† ç©ºé—²çŠ¶æ€çš„æ¸…ç†æ—¶é—´ï¼Œä½†æ˜¯ çŠ¶æ€è¿˜æ˜¯ä¸€ç›´å¢åŠ ï¼Œé‡Œé¢æœ‰&#010;å¤šæ¬¡ group by  å’Œå¤šæ¬¡ æµè¡¨çš„å…³è” ã€‚&#010;&gt; ä»£ç å¦‚ä¸‹ï¼š&#010;&gt;    tEnv.getConfig()&#010;&gt;          .setIdleStateRetentionTime(Time.hours(minIdleStateRetentionTime),&#010;&gt;&#010;&gt; Time.hours(maxIdleStateRetentionTime));&#010;&gt;&#010;&gt; ç¨‹åºè¿è¡Œä¸€å‘¨ä¹‹åçŠ¶æ€ç°åœ¨2.2G. æœ€è¿‘å‡ å¤©è¶Šæ¥è¶Šå¤§ï¼Œè¡¨ç°åœ¨ttlæ²¡æœ‰æˆåŠŸï¼Œè¯·æ•™ä¸€ä¸‹å„ä½å¤§ä½¬&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; --&#010;&gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&gt;&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "3",
        "reply": "<1594696795014-0.post@n8.nabble.com>"
    },
    {
        "id": "<434f3f70.be7d.1734b9b2fb5.Coremail.chq19970719@163.com>",
        "from": "æˆæ¬¢æ™´ &lt;chq19970...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 04:35:28 GMT",
        "subject": "é€€å‡ºé‚®ä»¶ç»„",
        "content": "&#010;&#010;&#010;&#010;| |&#010;chq19970719&#010;|&#010;|&#010;é‚®ç®±ï¼šchq19970719@163.com&#010;|&#010;&#010;Signature is customized by Netease Mail Master",
        "depth": "0",
        "reply": "<434f3f70.be7d.1734b9b2fb5.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>",
        "from": "æˆæ¬¢æ™´ &lt;chq19970...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 04:36:10 GMT",
        "subject": "(æ— ä¸»é¢˜)",
        "content": "é€€è®¢&#010;&#010;&#010;| |&#010;chq19970719&#010;|&#010;|&#010;é‚®ç®±ï¼šchq19970719@163.com&#010;|&#010;&#010;Signature is customized by Netease Mail Master",
        "depth": "1",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<CABi+2jQ_euPP_pno1eN3PbCKrU=hhAhA0LjTEs_+k_UQovNMAQ@mail.gmail.com>",
        "from": "Jingsong Li &lt;jingsongl...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 04:38:45 GMT",
        "subject": "Re: (æ— ä¸»é¢˜)",
        "content": "Hi&#010;&#010;é€€è®¢åº”è¯¥å‘è¿™ä¸ªé‚®ç®±ï¼šuser-zh-unsubscribe@flink.apache.org&#010;&#010;Best&#010;Jingsong&#010;&#010;On Tue, Jul 14, 2020 at 12:36 PM æˆæ¬¢æ™´ &lt;chq19970719@163.com&gt; wrote:&#010;&#010;&gt; é€€è®¢&#010;&gt;&#010;&gt;&#010;&gt; | |&#010;&gt; chq19970719&#010;&gt; |&#010;&gt; |&#010;&gt; é‚®ç®±ï¼šchq19970719@163.com&#010;&gt; |&#010;&gt;&#010;&gt; Signature is customized by Netease Mail Master&#010;&#010;&#010;&#010;-- &#010;Best, Jingsong Lee&#010;&#010;",
        "depth": "2",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<29b62a72.216a.1736814a675.Coremail.15927482803@163.com>",
        "from": "ç½—æ˜¾å®´ &lt;15927482...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Sun, 19 Jul 2020 17:17:30 GMT",
        "subject": "(æ— ä¸»é¢˜)",
        "content": "&#010;å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#010;apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶",
        "depth": "1",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<CAOMLN=Zv3s3niLKt+2sXLQ+J9ZrFsNiq_jsMOjmxEY-JsANUNw@mail.gmail.com>",
        "from": "shizk233 &lt;wangwangdaxian...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 20 Jul 2020 03:47:27 GMT",
        "subject": "Re: (æ— ä¸»é¢˜)",
        "content": "Hi,&#013;&#010;&#013;&#010;ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#013;&#010;Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;shizk233&#013;&#010;&#013;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#013;&#010;&#013;&#010;&gt;&#013;&#010;&gt; å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#013;&#010;&gt; apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;",
        "depth": "2",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<5cb5c383.5056.1736ad72707.Coremail.15927482803@163.com>",
        "from": "ç½—æ˜¾å®´ &lt;15927482...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 20 Jul 2020 06:09:11 GMT",
        "subject": "å›å¤ï¼š (æ— ä¸»é¢˜)",
        "content": "&#010;&#010;ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#010;Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#010;&#010;&#010;å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#010;apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;",
        "depth": "3",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<CAOMLN=Y6uz8PzFR9uM62kQpyajBy9M1_dq32iCwX=s+OepVkfg@mail.gmail.com>",
        "from": "shizk233 &lt;wangwangdaxian...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 20 Jul 2020 07:11:09 GMT",
        "subject": "Re: (æ— ä¸»é¢˜)",
        "content": "Hi,&#013;&#010;&#013;&#010;ä»ä½ ä¸¾çš„è¿™ä¸ªä¾‹å­è€ƒè™‘ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨ContinusEventTimeTriggeræ¥æŒç»­è§¦å‘ç»“æœæ›´æ–°çš„ï¼Œåªä¸è¿‡æ•´ä¸ªçª—å£å¯ä»¥æ ¹æ®ç»“æŸæ¡ä»¶è€ƒè™‘åˆ«çš„ï¼Œæ¯”å¦‚Globalçª—å£ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;shizk233&#013;&#010;&#013;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸‹åˆ2:09å†™é“ï¼š&#013;&#010;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt; ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#013;&#010;&gt; Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; shizk233&#013;&#010;&gt;&#013;&#010;&gt; ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#013;&#010;&gt; apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;",
        "depth": "4",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<41c967b.7cac.1736c257457.Coremail.15927482803@163.com>",
        "from": "ç½—æ˜¾å®´ &lt;15927482...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 20 Jul 2020 12:14:20 GMT",
        "subject": "å›å¤ï¼š(æ— ä¸»é¢˜)",
        "content": "å¥½çš„ï¼Œè°¢è°¢å¤§ä½¬ï¼Œæˆ‘ç”¨è¿™ä¸ªè¯•è¯•&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;åœ¨2020å¹´07æœˆ20æ—¥ 15:11ï¼Œshizk233 å†™é“ï¼š&#010;Hi,&#010;&#010;ä»ä½ ä¸¾çš„è¿™ä¸ªä¾‹å­è€ƒè™‘ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨ContinusEventTimeTriggeræ¥æŒç»­è§¦å‘ç»“æœæ›´æ–°çš„ï¼Œåªä¸è¿‡æ•´ä¸ªçª—å£å¯ä»¥æ ¹æ®ç»“æŸæ¡ä»¶è€ƒè™‘åˆ«çš„ï¼Œæ¯”å¦‚Globalçª—å£ã€‚&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸‹åˆ2:09å†™é“ï¼š&#010;&#010;&gt;&#010;&gt;&#010;&gt; ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#010;&gt; | |&#010;&gt; ç½—æ˜¾å®´&#010;&gt; |&#010;&gt; |&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#010;&gt; |&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;&gt; Hi,&#010;&gt;&#010;&gt; ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#010;&gt; Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#010;&gt;&#010;&gt; Best,&#010;&gt; shizk233&#010;&gt;&#010;&gt; ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#010;&gt; apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#010;&gt;&#010;&gt; | |&#010;&gt; ç½—æ˜¾å®´&#010;&gt; |&#010;&gt; |&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#010;&gt; |&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt;&#010;",
        "depth": "5",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<1b1e3646.7dbb.1736c390b21.Coremail.15927482803@163.com>",
        "from": "ç½—æ˜¾å®´ &lt;15927482...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 20 Jul 2020 12:35:44 GMT",
        "subject": "å›å¤ï¼š (æ— ä¸»é¢˜)",
        "content": "     æˆ‘è¿è¡Œçš„æ—¶å€™ï¼Œä»–ç›´æ¥æŒ‰1å°æ—¶çª—å£è¾“å‡ºäº†ï¼Œå¹¶æ²¡æœ‰æŒ‰20ç§’è¿ç»­è¾“å‡ºé€’å¢&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 14:09ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;&#010;&#010;ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#010;Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#010;&#010;&#010;å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#010;apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;",
        "depth": "4",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<a454095.7de3.1736c3b6104.Coremail.15927482803@163.com>",
        "from": "ç½—æ˜¾å®´ &lt;15927482...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 20 Jul 2020 12:38:17 GMT",
        "subject": "å›å¤ï¼š (æ— ä¸»é¢˜)",
        "content": "ä¸å¥½æ„æ€ï¼Œåˆšæ‰å‘çš„å¿«ï¼Œæ²¡æ¥å¾—åŠè§£é‡Šï¼Œ&#010;è¿™é‡Œaggregateç®—å­ä¸»è¦åšäº†ä¸€ä¸ªé¢„èšåˆï¼ŒæŠŠçª—å£çš„ä¸ªæ•°ç½®ä¸ºä¸€ï¼Œç„¶åç”¨windowResultè¾“å‡ºç»“æœï¼Œç„¶åå¯¹çª—å£åˆ†åŒºï¼Œæœ€åç”¨mapStateå¤„ç†é€’å¢&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 14:09ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;&#010;&#010;ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#010;Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#010;&#010;&#010;å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#010;apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;",
        "depth": "4",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<472064d5.7e34.1736c40a8ee.Coremail.15927482803@163.com>",
        "from": "ç½—æ˜¾å®´ &lt;15927482...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 20 Jul 2020 12:44:03 GMT",
        "subject": "å›å¤ï¼š (æ— ä¸»é¢˜)",
        "content": "&#010;&#010;å¤§ä½¬ï¼Œä¸å¥½æ„æ€ï¼Œå¯èƒ½å›¾ç‰‡çœ‹ä¸åˆ°ï¼Œæˆ‘æŠŠä»£ç å‘ä¸€æ¬¡ï¼Œåˆšå­¦ä¹ flinkåŠä¸ªæœˆï¼Œå¥½å¤šä¸æ‡‚ï¼Œå¸Œæœ›å¤§ä½¬è«å«Œçƒ¦&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 20:38ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;ä¸å¥½æ„æ€ï¼Œåˆšæ‰å‘çš„å¿«ï¼Œæ²¡æ¥å¾—åŠè§£é‡Šï¼Œ&#010;è¿™é‡Œaggregateç®—å­ä¸»è¦åšäº†ä¸€ä¸ªé¢„èšåˆï¼ŒæŠŠçª—å£çš„ä¸ªæ•°ç½®ä¸ºä¸€ï¼Œç„¶åç”¨windowResultè¾“å‡ºç»“æœï¼Œç„¶åå¯¹çª—å£åˆ†åŒºï¼Œæœ€åç”¨mapStateå¤„ç†é€’å¢&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 14:09ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;&#010;&#010;ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#010;Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#010;&#010;&#010;å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#010;apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;",
        "depth": "5",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<CAOMLN=YMEQQc7V2VHrTi1w_MC2GbU9zfpZWw4EPq05duuRa-jA@mail.gmail.com>",
        "from": "shizk233 &lt;wangwangdaxian...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 03:10:53 GMT",
        "subject": "Re: (æ— ä¸»é¢˜)",
        "content": "Hi,&#013;&#010;&#013;&#010;æˆ‘çŒœæ˜¯å› ä¸ºè®¾çš„1å°æ—¶æ»šåŠ¨çª—å£ï¼ŒWindowFunctioné‡Œæ‹¿åˆ°çš„WindowEndå°±æ˜¯1å°æ—¶çš„ENDï¼Œ&#013;&#010;è€Œaccå…¶å®æ²¡æœ‰å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯æ¯éš”20sè§¦å‘æ‹¿åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œåœ¨MapStateé‡Œä¹Ÿä¼šå¿½ç•¥é‡å¤å€¼ã€‚&#013;&#010;&#013;&#010;ä½ å¯ä»¥è®©accåšä¸ªç´¯åŠ ï¼Œç„¶åç»“æœè¾“å‡ºé‡ŒæŠŠaccçš„å€¼å¸¦ä¸Šçœ‹çœ‹ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;shizk233&#013;&#010;&#013;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸‹åˆ8:44å†™é“ï¼š&#013;&#010;&#013;&#010;&gt;&#013;&#010;&gt; å¤§ä½¬ï¼Œä¸å¥½æ„æ€ï¼Œå¯èƒ½å›¾ç‰‡çœ‹ä¸åˆ°ï¼Œæˆ‘æŠŠä»£ç å‘ä¸€æ¬¡ï¼Œåˆšå­¦ä¹ flinkåŠä¸ªæœˆï¼Œå¥½å¤šä¸æ‡‚ï¼Œå¸Œæœ›å¤§ä½¬è«å«Œçƒ¦&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt;&#013;&#010;&gt; &lt;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=%E7%BD%97%E6%98%BE%E5%AE%B4&amp;uid=15927482803%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fwzpmmc%2Fba95f912526bde9c6f0f1ae6f5b9b114.jpg&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9A15927482803%40163.com%22%5D&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail81&gt;&#010;å®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 20:38ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; &lt;15927482803@163.com&gt;&#010;å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; ä¸å¥½æ„æ€ï¼Œåˆšæ‰å‘çš„å¿«ï¼Œæ²¡æ¥å¾—åŠè§£é‡Šï¼Œ&#013;&#010;&gt; è¿™é‡Œaggregateç®—å­ä¸»è¦åšäº†ä¸€ä¸ªé¢„èšåˆï¼ŒæŠŠçª—å£çš„ä¸ªæ•°ç½®ä¸ºä¸€ï¼Œç„¶åç”¨windowResultè¾“å‡ºç»“æœï¼Œç„¶åå¯¹çª—å£åˆ†åŒºï¼Œæœ€åç”¨mapStateå¤„ç†é€’å¢&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt;&#013;&#010;&gt; &lt;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=%E7%BD%97%E6%98%BE%E5%AE%B4&amp;uid=15927482803%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fwzpmmc%2Fba95f912526bde9c6f0f1ae6f5b9b114.jpg&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9A15927482803%40163.com%22%5D&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail81&gt;&#010;å®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 14:09ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; &lt;15927482803@163.com&gt;&#010;å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt; ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#013;&#010;&gt; Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; shizk233&#013;&#010;&gt;&#013;&#010;&gt; ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#013;&#010;&gt; apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "6",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<731075cf.a592.1736f6acdc5.Coremail.15927482803@163.com>",
        "from": "ç½—æ˜¾å®´ &lt;15927482...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 03:28:57 GMT",
        "subject": "å›å¤ï¼š (æ— ä¸»é¢˜)",
        "content": "hi,&#010;CountAggæ˜¯å¯¹ä¸€ä¸ªçª—å£è¿›è¡Œèšåˆï¼Œè€Œä¸€ä¸ªçª—å£ä¸­çš„å…ƒç´ éƒ½æ˜¯æ ¹æ®åŒ»è¯ç±»åˆ«categoryåˆ†åŒºè€Œæ¥çš„ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘åšç´¯åŠ å°±ç›´æ¥ç½®ä¸º1äº†ï¼Œä½ çš„æ„æ€æ˜¯è®©æˆ‘åœ¨CuontAggä¸Šåšç´¯åŠ å—&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 11:10ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;&#010;æˆ‘çŒœæ˜¯å› ä¸ºè®¾çš„1å°æ—¶æ»šåŠ¨çª—å£ï¼ŒWindowFunctioné‡Œæ‹¿åˆ°çš„WindowEndå°±æ˜¯1å°æ—¶çš„ENDï¼Œ&#010;è€Œaccå…¶å®æ²¡æœ‰å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯æ¯éš”20sè§¦å‘æ‹¿åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œåœ¨MapStateé‡Œä¹Ÿä¼šå¿½ç•¥é‡å¤å€¼ã€‚&#010;&#010;&#010;ä½ å¯ä»¥è®©accåšä¸ªç´¯åŠ ï¼Œç„¶åç»“æœè¾“å‡ºé‡ŒæŠŠaccçš„å€¼å¸¦ä¸Šçœ‹çœ‹ã€‚&#010;&#010;&#010;Best,&#010;shizk233&#010;&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸‹åˆ8:44å†™é“ï¼š&#010;&#010;&#010;&#010;å¤§ä½¬ï¼Œä¸å¥½æ„æ€ï¼Œå¯èƒ½å›¾ç‰‡çœ‹ä¸åˆ°ï¼Œæˆ‘æŠŠä»£ç å‘ä¸€æ¬¡ï¼Œåˆšå­¦ä¹ flinkåŠä¸ªæœˆï¼Œå¥½å¤šä¸æ‡‚ï¼Œå¸Œæœ›å¤§ä½¬è«å«Œçƒ¦&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 20:38ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;ä¸å¥½æ„æ€ï¼Œåˆšæ‰å‘çš„å¿«ï¼Œæ²¡æ¥å¾—åŠè§£é‡Šï¼Œ&#010;è¿™é‡Œaggregateç®—å­ä¸»è¦åšäº†ä¸€ä¸ªé¢„èšåˆï¼ŒæŠŠçª—å£çš„ä¸ªæ•°ç½®ä¸ºä¸€ï¼Œç„¶åç”¨windowResultè¾“å‡ºç»“æœï¼Œç„¶åå¯¹çª—å£åˆ†åŒºï¼Œæœ€åç”¨mapStateå¤„ç†é€’å¢&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 14:09ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;&#010;&#010;ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#010;Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#010;&#010;&#010;å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#010;apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;",
        "depth": "7",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<CAOMLN=ZDZmGLxdSQcxLUhY55LLtNC4JWu+84YRdB2OPD9Pz6ng@mail.gmail.com>",
        "from": "shizk233 &lt;wangwangdaxian...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 03:37:46 GMT",
        "subject": "Re: (æ— ä¸»é¢˜)",
        "content": "Hi,&#013;&#010;&#013;&#010;æœ‰ç‚¹ä¸å¤ªç†è§£ï¼Œèƒ½ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸€ä¸‹resulté‚£éƒ¨åˆ†ä½ é¢„æœŸçš„è¾“å…¥(å‡ æ¡sample&#010;æ•°æ®å°±è¡Œ)å’ŒæœŸæœ›çš„è¾“å‡ºç»“æœå—&#013;&#010;&#013;&#010;Best,&#013;&#010;shizk233&#013;&#010;&#013;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸Šåˆ11:29å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; hi,&#013;&#010;&gt;&#013;&#010;&gt; CountAggæ˜¯å¯¹ä¸€ä¸ªçª—å£è¿›è¡Œèšåˆï¼Œè€Œä¸€ä¸ªçª—å£ä¸­çš„å…ƒç´ éƒ½æ˜¯æ ¹æ®åŒ»è¯ç±»åˆ«categoryåˆ†åŒºè€Œæ¥çš„ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘åšç´¯åŠ å°±ç›´æ¥ç½®ä¸º1äº†ï¼Œä½ çš„æ„æ€æ˜¯è®©æˆ‘åœ¨CuontAggä¸Šåšç´¯åŠ å—&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ21æ—¥ 11:10ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘çŒœæ˜¯å› ä¸ºè®¾çš„1å°æ—¶æ»šåŠ¨çª—å£ï¼ŒWindowFunctioné‡Œæ‹¿åˆ°çš„WindowEndå°±æ˜¯1å°æ—¶çš„ENDï¼Œ&#013;&#010;&gt; è€Œaccå…¶å®æ²¡æœ‰å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯æ¯éš”20sè§¦å‘æ‹¿åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œåœ¨MapStateé‡Œä¹Ÿä¼šå¿½ç•¥é‡å¤å€¼ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ä½ å¯ä»¥è®©accåšä¸ªç´¯åŠ ï¼Œç„¶åç»“æœè¾“å‡ºé‡ŒæŠŠaccçš„å€¼å¸¦ä¸Šçœ‹çœ‹ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; shizk233&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸‹åˆ8:44å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¤§ä½¬ï¼Œä¸å¥½æ„æ€ï¼Œå¯èƒ½å›¾ç‰‡çœ‹ä¸åˆ°ï¼Œæˆ‘æŠŠä»£ç å‘ä¸€æ¬¡ï¼Œåˆšå­¦ä¹ flinkåŠä¸ªæœˆï¼Œå¥½å¤šä¸æ‡‚ï¼Œå¸Œæœ›å¤§ä½¬è«å«Œçƒ¦&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 20:38ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#013;&#010;&gt; ä¸å¥½æ„æ€ï¼Œåˆšæ‰å‘çš„å¿«ï¼Œæ²¡æ¥å¾—åŠè§£é‡Šï¼Œ&#013;&#010;&gt;&#013;&#010;&gt; è¿™é‡Œaggregateç®—å­ä¸»è¦åšäº†ä¸€ä¸ªé¢„èšåˆï¼ŒæŠŠçª—å£çš„ä¸ªæ•°ç½®ä¸ºä¸€ï¼Œç„¶åç”¨windowResultè¾“å‡ºç»“æœï¼Œç„¶åå¯¹çª—å£åˆ†åŒºï¼Œæœ€åç”¨mapStateå¤„ç†é€’å¢&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 14:09ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt; ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#013;&#010;&gt; Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; shizk233&#013;&#010;&gt;&#013;&#010;&gt; ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#013;&#010;&gt; apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;",
        "depth": "8",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<35413b50.a803.1736f7c9256.Coremail.15927482803@163.com>",
        "from": "ç½—æ˜¾å®´ &lt;15927482...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 03:48:21 GMT",
        "subject": "å›å¤ï¼š (æ— ä¸»é¢˜)",
        "content": "å¥½çš„ï¼Œ&#010;è¾“å…¥ï¼š&#010;å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;æŠ—åˆ©å°¿å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;è¡€ç®¡æ”¶ç¼©å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;è¡€ç®¡ç´§å¼ ç´ IIå—ä½“æ‹®æŠ—å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;&#010;&#010;è¿™é‡Œçš„æ—¶é—´æˆ³å°±æ˜¯eventtimeäº†&#010;æ¯”å¦‚å‰ä¸‰æ¡æ˜¯åœ¨ä¸€ä¸ª20ç§’çª—å£ä¸­ï¼Œæ‰€ä»¥åº”è¯¥åˆ†ä¸ºä¸¤ä¸ªçª—å£ï¼š&#010;å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯å’ŒæŠ—åˆ©å°¿å‰‚ï¼Œä½†æ˜¯æˆ‘æ˜¯è®¡æ•°è¯ç‰©çš„ç§ç±»çš„&#010;æ‰€ä»¥ä¸ç®¡çª—å£æœ‰å¤šå°‘å…ƒç´ æˆ‘è¿˜æ˜¯ç½®ä¸º1ï¼Œæ‰€ä»¥è¾“å‡ºçš„æ¥å£å°±æ˜¯çª—å£ä¹‹å’Œï¼Œå³ä¸º2&#010;æ¥ä¸‹æ¥20ç§’éƒ½å¤šäº†2ä¸ªçª—å£è€Œä¸”å’Œå‰é¢çš„åŒ»è¯ç§ç±»ä¸ä¸€æ ·,æ‰€ä»¥åœ¨åŸæ¥åŸºç¡€ä¸Šå†åŠ 2&#010;è¾“å‡º4&#010;&#010;&#010;å³è¾“å‡ºï¼š&#010;2020-7-20 19:00:00,2&#010;2020-7-20 19:00:20,4&#010;&#010;&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 11:37ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;æœ‰ç‚¹ä¸å¤ªç†è§£ï¼Œèƒ½ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸€ä¸‹resulté‚£éƒ¨åˆ†ä½ é¢„æœŸçš„è¾“å…¥(å‡ æ¡sample&#010;æ•°æ®å°±è¡Œ)å’ŒæœŸæœ›çš„è¾“å‡ºç»“æœå—&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸Šåˆ11:29å†™é“ï¼š&#010;&#010;hi,&#010;&#010;CountAggæ˜¯å¯¹ä¸€ä¸ªçª—å£è¿›è¡Œèšåˆï¼Œè€Œä¸€ä¸ªçª—å£ä¸­çš„å…ƒç´ éƒ½æ˜¯æ ¹æ®åŒ»è¯ç±»åˆ«categoryåˆ†åŒºè€Œæ¥çš„ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘åšç´¯åŠ å°±ç›´æ¥ç½®ä¸º1äº†ï¼Œä½ çš„æ„æ€æ˜¯è®©æˆ‘åœ¨CuontAggä¸Šåšç´¯åŠ å—&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 11:10ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;&#010;æˆ‘çŒœæ˜¯å› ä¸ºè®¾çš„1å°æ—¶æ»šåŠ¨çª—å£ï¼ŒWindowFunctioné‡Œæ‹¿åˆ°çš„WindowEndå°±æ˜¯1å°æ—¶çš„ENDï¼Œ&#010;è€Œaccå…¶å®æ²¡æœ‰å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯æ¯éš”20sè§¦å‘æ‹¿åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œåœ¨MapStateé‡Œä¹Ÿä¼šå¿½ç•¥é‡å¤å€¼ã€‚&#010;&#010;&#010;ä½ å¯ä»¥è®©accåšä¸ªç´¯åŠ ï¼Œç„¶åç»“æœè¾“å‡ºé‡ŒæŠŠaccçš„å€¼å¸¦ä¸Šçœ‹çœ‹ã€‚&#010;&#010;&#010;Best,&#010;shizk233&#010;&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸‹åˆ8:44å†™é“ï¼š&#010;&#010;&#010;&#010;å¤§ä½¬ï¼Œä¸å¥½æ„æ€ï¼Œå¯èƒ½å›¾ç‰‡çœ‹ä¸åˆ°ï¼Œæˆ‘æŠŠä»£ç å‘ä¸€æ¬¡ï¼Œåˆšå­¦ä¹ flinkåŠä¸ªæœˆï¼Œå¥½å¤šä¸æ‡‚ï¼Œå¸Œæœ›å¤§ä½¬è«å«Œçƒ¦&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 20:38ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;ä¸å¥½æ„æ€ï¼Œåˆšæ‰å‘çš„å¿«ï¼Œæ²¡æ¥å¾—åŠè§£é‡Šï¼Œ&#010;&#010;è¿™é‡Œaggregateç®—å­ä¸»è¦åšäº†ä¸€ä¸ªé¢„èšåˆï¼ŒæŠŠçª—å£çš„ä¸ªæ•°ç½®ä¸ºä¸€ï¼Œç„¶åç”¨windowResultè¾“å‡ºç»“æœï¼Œç„¶åå¯¹çª—å£åˆ†åŒºï¼Œæœ€åç”¨mapStateå¤„ç†é€’å¢&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 14:09ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;&#010;&#010;ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#010;Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#010;&#010;&#010;&#010;å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#010;apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;",
        "depth": "9",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<CAOMLN=ZntbPrsThEZ_6rq1bfQDhZZ9PVdjNz5Bw=gRmkA+av5A@mail.gmail.com>",
        "from": "shizk233 &lt;wangwangdaxian...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 05:58:50 GMT",
        "subject": "Re: (æ— ä¸»é¢˜)",
        "content": "Hi,&#013;&#010;&#013;&#010;é¦–å…ˆç»Ÿä¸€ä¸€ä¸‹è¡¨è¿°ï¼Œå½“å‰åªæœ‰1å°æ—¶çš„æ»šåŠ¨çª—å£ï¼Œä¸å­˜åœ¨20åˆ†é’Ÿçš„çª—å£ï¼Œtriggeråªæ˜¯è¾“å‡ºç»“æœï¼Œtriggerçš„é—´éš”å’Œçª—å£å¤§å°æ— å…³ã€‚&#013;&#010;&#013;&#010;æŒ‰ç›®å‰çš„è®¾è®¡ï¼Œåœ¨11-12ç‚¹çš„çª—å£é‡Œï¼Œè¾“å…¥xæ¡ç±»å‹Açš„æ•°æ®ï¼Œaggéƒ½è®°ä¸º1æ¡ï¼Œä½†1å°æ—¶çª—å£ä¼šè§¦å‘3æ¬¡20sçš„triggerï¼Œ&#013;&#010;ä¹Ÿå°±æ˜¯ä¼šæœ€å¤šè¾“å‡º3æ¡(Aç±»å‹,12ç‚¹)çš„æ•°æ®ï¼ˆåŒä¸€ä¸ª1å°æ—¶çª—å£ï¼ŒWindowEndéƒ½æ˜¯12ç‚¹ï¼‰ã€‚&#013;&#010;è¿™3æ¡æ•°æ®è¿›å…¥MapStateåï¼Œå†™ä¸‹äº†((Aç±»å‹,12ç‚¹)ï¼Œ1)çš„è®°å½•å¹¶éƒ½æ³¨å†Œäº†12ç‚¹+1çš„timerï¼Œ&#013;&#010;é‚£ä¹ˆtimeråœ¨12ç‚¹çš„æ—¶å€™ä¼šè¾“å‡ºçš„ç»“æœå°±æ˜¯ï¼ˆ12ç‚¹ï¼Œ1ï¼‰ã€‚&#013;&#010;&#013;&#010;å¦‚æœ12-13ç‚¹é‡Œï¼ŒAç±»å‹åšç›¸åŒçš„è¾“å…¥ï¼ŒMapStateæ–°å¢ä¸€æ¡ï¼ˆ(Aç±»å‹,13ç‚¹)ï¼Œ1ï¼‰çš„è®°å½•ï¼Œåœ¨13ç‚¹å¾—åˆ°æœ€ç»ˆç»“æœï¼ˆ13ç‚¹ï¼Œ2ï¼‰ã€‚&#013;&#010;&#013;&#010;è€Œè¿™ä¸ªç»“æœå’Œæˆ‘ç†è§£çš„ä½ çš„éœ€æ±‚ä¸å¤ªä¸€æ ·ï¼Œæˆ‘ç†è§£çš„æƒ…å†µåº”è¯¥æ˜¯12ç‚¹è¾“å‡ºï¼ˆ12ç‚¹ï¼Œ1ï¼‰ï¼Œ13ç‚¹è¾“å‡ºï¼ˆ13ç‚¹ï¼Œ1ï¼‰ï¼Œå› ä¸ºç›®å‰åªæœ‰Aç±»å‹çš„æ•°æ®ã€‚&#013;&#010;æœŸæœ›çš„è¾“å‡ºåº”è¯¥æ˜¯æ— é™æ—¶é—´ä¸Šçš„å»é‡ç±»å‹ç»Ÿè®¡ï¼Œæ¯éš”1å°æ—¶è¾“å‡ºï¼ˆå‡ ç‚¹ï¼Œå½“å‰æ‰€æœ‰çš„ç±»å‹æ€»æ•°ï¼‰ã€‚&#013;&#010;&#013;&#010;æˆ‘è§‰å¾—ç›®å‰çš„è®¾è®¡å¯èƒ½å’Œæè¿°çš„éœ€æ±‚ä¸å¤ªä¸€è‡´ï¼Ÿä½ çœ‹çœ‹æ˜¯ä¸æ˜¯è¿™ä¹ˆå›äº‹å„¿&#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;shizk233&#013;&#010;&#013;&#010;&#013;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸Šåˆ11:53å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; å¥½çš„ï¼Œ&#013;&#010;&gt; è¾“å…¥ï¼š&#013;&#010;&gt; å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯ï¼Œ1ï¼Œæ—¶é—´æˆ³&#013;&#010;&gt; å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯ï¼Œ1ï¼Œæ—¶é—´æˆ³&#013;&#010;&gt; æŠ—åˆ©å°¿å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#013;&#010;&gt; è¡€ç®¡æ”¶ç¼©å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#013;&#010;&gt; è¡€ç®¡ç´§å¼ ç´ IIå—ä½“æ‹®æŠ—å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; è¿™é‡Œçš„æ—¶é—´æˆ³å°±æ˜¯eventtimeäº†&#013;&#010;&gt; æ¯”å¦‚å‰ä¸‰æ¡æ˜¯åœ¨ä¸€ä¸ª20ç§’çª—å£ä¸­ï¼Œæ‰€ä»¥åº”è¯¥åˆ†ä¸ºä¸¤ä¸ªçª—å£ï¼š&#013;&#010;&gt; å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯å’ŒæŠ—åˆ©å°¿å‰‚ï¼Œä½†æ˜¯æˆ‘æ˜¯è®¡æ•°è¯ç‰©çš„ç§ç±»çš„&#013;&#010;&gt; æ‰€ä»¥ä¸ç®¡çª—å£æœ‰å¤šå°‘å…ƒç´ æˆ‘è¿˜æ˜¯ç½®ä¸º1ï¼Œæ‰€ä»¥è¾“å‡ºçš„æ¥å£å°±æ˜¯çª—å£ä¹‹å’Œï¼Œå³ä¸º2&#013;&#010;&gt; æ¥ä¸‹æ¥20ç§’éƒ½å¤šäº†2ä¸ªçª—å£è€Œä¸”å’Œå‰é¢çš„åŒ»è¯ç§ç±»ä¸ä¸€æ ·,æ‰€ä»¥åœ¨åŸæ¥åŸºç¡€ä¸Šå†åŠ 2&#013;&#010;&gt; è¾“å‡º4&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å³è¾“å‡ºï¼š&#013;&#010;&gt; 2020-7-20 19:00:00,2&#013;&#010;&gt; 2020-7-20 19:00:20,4&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ21æ—¥ 11:37ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt; æœ‰ç‚¹ä¸å¤ªç†è§£ï¼Œèƒ½ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸€ä¸‹resulté‚£éƒ¨åˆ†ä½ é¢„æœŸçš„è¾“å…¥(å‡ æ¡sample&#010;æ•°æ®å°±è¡Œ)å’ŒæœŸæœ›çš„è¾“å‡ºç»“æœå—&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; shizk233&#013;&#010;&gt;&#013;&#010;&gt; ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸Šåˆ11:29å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; hi,&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; CountAggæ˜¯å¯¹ä¸€ä¸ªçª—å£è¿›è¡Œèšåˆï¼Œè€Œä¸€ä¸ªçª—å£ä¸­çš„å…ƒç´ éƒ½æ˜¯æ ¹æ®åŒ»è¯ç±»åˆ«categoryåˆ†åŒºè€Œæ¥çš„ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘åšç´¯åŠ å°±ç›´æ¥ç½®ä¸º1äº†ï¼Œä½ çš„æ„æ€æ˜¯è®©æˆ‘åœ¨CuontAggä¸Šåšç´¯åŠ å—&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ21æ—¥ 11:10ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘çŒœæ˜¯å› ä¸ºè®¾çš„1å°æ—¶æ»šåŠ¨çª—å£ï¼ŒWindowFunctioné‡Œæ‹¿åˆ°çš„WindowEndå°±æ˜¯1å°æ—¶çš„ENDï¼Œ&#013;&#010;&gt; è€Œaccå…¶å®æ²¡æœ‰å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯æ¯éš”20sè§¦å‘æ‹¿åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œåœ¨MapStateé‡Œä¹Ÿä¼šå¿½ç•¥é‡å¤å€¼ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ä½ å¯ä»¥è®©accåšä¸ªç´¯åŠ ï¼Œç„¶åç»“æœè¾“å‡ºé‡ŒæŠŠaccçš„å€¼å¸¦ä¸Šçœ‹çœ‹ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; shizk233&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸‹åˆ8:44å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¤§ä½¬ï¼Œä¸å¥½æ„æ€ï¼Œå¯èƒ½å›¾ç‰‡çœ‹ä¸åˆ°ï¼Œæˆ‘æŠŠä»£ç å‘ä¸€æ¬¡ï¼Œåˆšå­¦ä¹ flinkåŠä¸ªæœˆï¼Œå¥½å¤šä¸æ‡‚ï¼Œå¸Œæœ›å¤§ä½¬è«å«Œçƒ¦&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 20:38ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#013;&#010;&gt; ä¸å¥½æ„æ€ï¼Œåˆšæ‰å‘çš„å¿«ï¼Œæ²¡æ¥å¾—åŠè§£é‡Šï¼Œ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; è¿™é‡Œaggregateç®—å­ä¸»è¦åšäº†ä¸€ä¸ªé¢„èšåˆï¼ŒæŠŠçª—å£çš„ä¸ªæ•°ç½®ä¸ºä¸€ï¼Œç„¶åç”¨windowResultè¾“å‡ºç»“æœï¼Œç„¶åå¯¹çª—å£åˆ†åŒºï¼Œæœ€åç”¨mapStateå¤„ç†é€’å¢&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 14:09ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt; ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#013;&#010;&gt; Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; shizk233&#013;&#010;&gt;&#013;&#010;&gt; ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#013;&#010;&gt; apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "10",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<69cc9c86.b3d1.1737002d78c.Coremail.15927482803@163.com>",
        "from": "ç½—æ˜¾å®´ &lt;15927482...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 06:15:01 GMT",
        "subject": "å›å¤ï¼š (æ— ä¸»é¢˜)",
        "content": "&#010;&#010;hiï¼Œ&#010;æˆ‘è§‰å¾—ä½ è¯´çš„æ˜¯å¯¹çš„ï¼Œæˆ‘åˆšæ‰æ²¡æœ‰ç†è§£triggerï¼Œæˆ‘ä»¥ä¸ºtriggerå½“æˆä¸€ä¸ª1å°æ—¶çª—å£çš„20åˆ†é’Ÿçš„å°çª—å£äº†ï¼Œå…¶å®æˆ‘è¦çš„ç»“æœå°±æ˜¯æ¯20åˆ†é’Ÿæœ‰å¤šå°‘ä¸ªçª—å£æ¯”å¦‚å½“å‰20åˆ†é’Ÿæœ‰Aç±»å‹ã€Bç±»å‹å’ŒCç±»å‹ä¸‰ä¸ªçª—å£ï¼Œé‚£ä¹ˆè¾“å‡ºå°±æ˜¯3ï¼Œåæ¥20åˆ†é’Ÿæœ‰Aç±»å‹ã€Bç±»å‹å’ŒDç±»å‹çš„ç»“æœï¼Œé‚£ä¹ˆAç±»å‹å’ŒBç±»å‹æ˜¯é‡å¤çš„åªæœ‰Dä¸æ˜¯é‡å¤çš„ï¼Œç»“æœä¸º4&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 13:58ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;é¦–å…ˆç»Ÿä¸€ä¸€ä¸‹è¡¨è¿°ï¼Œå½“å‰åªæœ‰1å°æ—¶çš„æ»šåŠ¨çª—å£ï¼Œä¸å­˜åœ¨20åˆ†é’Ÿçš„çª—å£ï¼Œtriggeråªæ˜¯è¾“å‡ºç»“æœï¼Œtriggerçš„é—´éš”å’Œçª—å£å¤§å°æ— å…³ã€‚&#010;&#010;æŒ‰ç›®å‰çš„è®¾è®¡ï¼Œåœ¨11-12ç‚¹çš„çª—å£é‡Œï¼Œè¾“å…¥xæ¡ç±»å‹Açš„æ•°æ®ï¼Œaggéƒ½è®°ä¸º1æ¡ï¼Œä½†1å°æ—¶çª—å£ä¼šè§¦å‘3æ¬¡20sçš„triggerï¼Œ&#010;ä¹Ÿå°±æ˜¯ä¼šæœ€å¤šè¾“å‡º3æ¡(Aç±»å‹,12ç‚¹)çš„æ•°æ®ï¼ˆåŒä¸€ä¸ª1å°æ—¶çª—å£ï¼ŒWindowEndéƒ½æ˜¯12ç‚¹ï¼‰ã€‚&#010;è¿™3æ¡æ•°æ®è¿›å…¥MapStateåï¼Œå†™ä¸‹äº†((Aç±»å‹,12ç‚¹)ï¼Œ1)çš„è®°å½•å¹¶éƒ½æ³¨å†Œäº†12ç‚¹+1çš„timerï¼Œ&#010;é‚£ä¹ˆtimeråœ¨12ç‚¹çš„æ—¶å€™ä¼šè¾“å‡ºçš„ç»“æœå°±æ˜¯ï¼ˆ12ç‚¹ï¼Œ1ï¼‰ã€‚&#010;&#010;å¦‚æœ12-13ç‚¹é‡Œï¼ŒAç±»å‹åšç›¸åŒçš„è¾“å…¥ï¼ŒMapStateæ–°å¢ä¸€æ¡ï¼ˆ(Aç±»å‹,13ç‚¹)ï¼Œ1ï¼‰çš„è®°å½•ï¼Œåœ¨13ç‚¹å¾—åˆ°æœ€ç»ˆç»“æœï¼ˆ13ç‚¹ï¼Œ2ï¼‰ã€‚&#010;&#010;è€Œè¿™ä¸ªç»“æœå’Œæˆ‘ç†è§£çš„ä½ çš„éœ€æ±‚ä¸å¤ªä¸€æ ·ï¼Œæˆ‘ç†è§£çš„æƒ…å†µåº”è¯¥æ˜¯12ç‚¹è¾“å‡ºï¼ˆ12ç‚¹ï¼Œ1ï¼‰ï¼Œ13ç‚¹è¾“å‡ºï¼ˆ13ç‚¹ï¼Œ1ï¼‰ï¼Œå› ä¸ºç›®å‰åªæœ‰Aç±»å‹çš„æ•°æ®ã€‚&#010;æœŸæœ›çš„è¾“å‡ºåº”è¯¥æ˜¯æ— é™æ—¶é—´ä¸Šçš„å»é‡ç±»å‹ç»Ÿè®¡ï¼Œæ¯éš”1å°æ—¶è¾“å‡ºï¼ˆå‡ ç‚¹ï¼Œå½“å‰æ‰€æœ‰çš„ç±»å‹æ€»æ•°ï¼‰ã€‚&#010;&#010;æˆ‘è§‰å¾—ç›®å‰çš„è®¾è®¡å¯èƒ½å’Œæè¿°çš„éœ€æ±‚ä¸å¤ªä¸€è‡´ï¼Ÿä½ çœ‹çœ‹æ˜¯ä¸æ˜¯è¿™ä¹ˆå›äº‹å„¿&#010;&#010;&#010;Best,&#010;shizk233&#010;&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸Šåˆ11:53å†™é“ï¼š&#010;&#010;å¥½çš„ï¼Œ&#010;è¾“å…¥ï¼š&#010;å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;æŠ—åˆ©å°¿å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;è¡€ç®¡æ”¶ç¼©å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;è¡€ç®¡ç´§å¼ ç´ IIå—ä½“æ‹®æŠ—å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;&#010;&#010;è¿™é‡Œçš„æ—¶é—´æˆ³å°±æ˜¯eventtimeäº†&#010;æ¯”å¦‚å‰ä¸‰æ¡æ˜¯åœ¨ä¸€ä¸ª20ç§’çª—å£ä¸­ï¼Œæ‰€ä»¥åº”è¯¥åˆ†ä¸ºä¸¤ä¸ªçª—å£ï¼š&#010;å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯å’ŒæŠ—åˆ©å°¿å‰‚ï¼Œä½†æ˜¯æˆ‘æ˜¯è®¡æ•°è¯ç‰©çš„ç§ç±»çš„&#010;æ‰€ä»¥ä¸ç®¡çª—å£æœ‰å¤šå°‘å…ƒç´ æˆ‘è¿˜æ˜¯ç½®ä¸º1ï¼Œæ‰€ä»¥è¾“å‡ºçš„æ¥å£å°±æ˜¯çª—å£ä¹‹å’Œï¼Œå³ä¸º2&#010;æ¥ä¸‹æ¥20ç§’éƒ½å¤šäº†2ä¸ªçª—å£è€Œä¸”å’Œå‰é¢çš„åŒ»è¯ç§ç±»ä¸ä¸€æ ·,æ‰€ä»¥åœ¨åŸæ¥åŸºç¡€ä¸Šå†åŠ 2&#010;è¾“å‡º4&#010;&#010;&#010;å³è¾“å‡ºï¼š&#010;2020-7-20 19:00:00,2&#010;2020-7-20 19:00:20,4&#010;&#010;&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 11:37ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;æœ‰ç‚¹ä¸å¤ªç†è§£ï¼Œèƒ½ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸€ä¸‹resulté‚£éƒ¨åˆ†ä½ é¢„æœŸçš„è¾“å…¥(å‡ æ¡sample&#010;æ•°æ®å°±è¡Œ)å’ŒæœŸæœ›çš„è¾“å‡ºç»“æœå—&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸Šåˆ11:29å†™é“ï¼š&#010;&#010;hi,&#010;&#010;&#010;CountAggæ˜¯å¯¹ä¸€ä¸ªçª—å£è¿›è¡Œèšåˆï¼Œè€Œä¸€ä¸ªçª—å£ä¸­çš„å…ƒç´ éƒ½æ˜¯æ ¹æ®åŒ»è¯ç±»åˆ«categoryåˆ†åŒºè€Œæ¥çš„ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘åšç´¯åŠ å°±ç›´æ¥ç½®ä¸º1äº†ï¼Œä½ çš„æ„æ€æ˜¯è®©æˆ‘åœ¨CuontAggä¸Šåšç´¯åŠ å—&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 11:10ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;&#010;æˆ‘çŒœæ˜¯å› ä¸ºè®¾çš„1å°æ—¶æ»šåŠ¨çª—å£ï¼ŒWindowFunctioné‡Œæ‹¿åˆ°çš„WindowEndå°±æ˜¯1å°æ—¶çš„ENDï¼Œ&#010;è€Œaccå…¶å®æ²¡æœ‰å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯æ¯éš”20sè§¦å‘æ‹¿åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œåœ¨MapStateé‡Œä¹Ÿä¼šå¿½ç•¥é‡å¤å€¼ã€‚&#010;&#010;&#010;ä½ å¯ä»¥è®©accåšä¸ªç´¯åŠ ï¼Œç„¶åç»“æœè¾“å‡ºé‡ŒæŠŠaccçš„å€¼å¸¦ä¸Šçœ‹çœ‹ã€‚&#010;&#010;&#010;Best,&#010;shizk233&#010;&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸‹åˆ8:44å†™é“ï¼š&#010;&#010;&#010;&#010;å¤§ä½¬ï¼Œä¸å¥½æ„æ€ï¼Œå¯èƒ½å›¾ç‰‡çœ‹ä¸åˆ°ï¼Œæˆ‘æŠŠä»£ç å‘ä¸€æ¬¡ï¼Œåˆšå­¦ä¹ flinkåŠä¸ªæœˆï¼Œå¥½å¤šä¸æ‡‚ï¼Œå¸Œæœ›å¤§ä½¬è«å«Œçƒ¦&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 20:38ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;ä¸å¥½æ„æ€ï¼Œåˆšæ‰å‘çš„å¿«ï¼Œæ²¡æ¥å¾—åŠè§£é‡Šï¼Œ&#010;&#010;&#010;è¿™é‡Œaggregateç®—å­ä¸»è¦åšäº†ä¸€ä¸ªé¢„èšåˆï¼ŒæŠŠçª—å£çš„ä¸ªæ•°ç½®ä¸ºä¸€ï¼Œç„¶åç”¨windowResultè¾“å‡ºç»“æœï¼Œç„¶åå¯¹çª—å£åˆ†åŒºï¼Œæœ€åç”¨mapStateå¤„ç†é€’å¢&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 14:09ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;&#010;&#010;ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#010;Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#010;&#010;&#010;&#010;&#010;å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#010;apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;&#010;",
        "depth": "11",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<69092db3.ba3a.17370303463.Coremail.15927482803@163.com>",
        "from": "ç½—æ˜¾å®´ &lt;15927482...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 07:04:34 GMT",
        "subject": "å›å¤ï¼š (æ— ä¸»é¢˜)",
        "content": "hiï¼Œæˆ‘æƒ³åˆ°è§£å†³åŠæ³•äº†ï¼Œå¯ä»¥ç”¨å…¨å±€windowï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºæ˜¯è¦åˆ†åŒºåœ¨åšçª—å£è¿ç®—å…¶å®å¯ä»¥ç›´æ¥ç”¨timewindowAllæ¥ç®—ï¼Œç„¶åç”¨çŠ¶æ€ä¿å­˜å°±å¤Ÿäº†&#010;val result = num.timeWindowAll(Time.seconds(20))&#010;//        .trigger(ContinuousEventTimeTrigger.of(Time.seconds(20)))&#010;.process(new ProcessAllWindowFunction[IncreaseNumPerHour,IncreasePerHour,TimeWindow] {&#010;&#010;private var itemState: MapState[String,Int] = _&#010;&#010;override def open(parameters: Configuration): Unit = {&#010;itemState = getRuntimeContext.getMapState(new MapStateDescriptor[String,Int](\"item-state\",TypeInformation.of(classOf[String]),TypeInformation.of(classOf[Int])))&#010;          }&#010;&#010;override def process(context: Context, elements: Iterable[IncreaseNumPerHour], out: Collector[IncreasePerHour]):&#010;Unit = {&#010;var timestamp:Long = 0L&#010;elements.foreach(kv =&gt; {&#010;itemState.put(kv.category, 1)&#010;timestamp = (kv.timestamp/2000+1)*2000&#010;})&#010;import scala.collection.JavaConversions._&#010;            out.collect(IncreasePerHour(new Timestamp( timestamp - 1 ).toString,itemState.keys().size))&#010;          }&#010;        })&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 14:15ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;&#010;&#010;hiï¼Œ&#010;æˆ‘è§‰å¾—ä½ è¯´çš„æ˜¯å¯¹çš„ï¼Œæˆ‘åˆšæ‰æ²¡æœ‰ç†è§£triggerï¼Œæˆ‘ä»¥ä¸ºtriggerå½“æˆä¸€ä¸ª1å°æ—¶çª—å£çš„20åˆ†é’Ÿçš„å°çª—å£äº†ï¼Œå…¶å®æˆ‘è¦çš„ç»“æœå°±æ˜¯æ¯20åˆ†é’Ÿæœ‰å¤šå°‘ä¸ªçª—å£æ¯”å¦‚å½“å‰20åˆ†é’Ÿæœ‰Aç±»å‹ã€Bç±»å‹å’ŒCç±»å‹ä¸‰ä¸ªçª—å£ï¼Œé‚£ä¹ˆè¾“å‡ºå°±æ˜¯3ï¼Œåæ¥20åˆ†é’Ÿæœ‰Aç±»å‹ã€Bç±»å‹å’ŒDç±»å‹çš„ç»“æœï¼Œé‚£ä¹ˆAç±»å‹å’ŒBç±»å‹æ˜¯é‡å¤çš„åªæœ‰Dä¸æ˜¯é‡å¤çš„ï¼Œç»“æœä¸º4&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 13:58ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;é¦–å…ˆç»Ÿä¸€ä¸€ä¸‹è¡¨è¿°ï¼Œå½“å‰åªæœ‰1å°æ—¶çš„æ»šåŠ¨çª—å£ï¼Œä¸å­˜åœ¨20åˆ†é’Ÿçš„çª—å£ï¼Œtriggeråªæ˜¯è¾“å‡ºç»“æœï¼Œtriggerçš„é—´éš”å’Œçª—å£å¤§å°æ— å…³ã€‚&#010;&#010;æŒ‰ç›®å‰çš„è®¾è®¡ï¼Œåœ¨11-12ç‚¹çš„çª—å£é‡Œï¼Œè¾“å…¥xæ¡ç±»å‹Açš„æ•°æ®ï¼Œaggéƒ½è®°ä¸º1æ¡ï¼Œä½†1å°æ—¶çª—å£ä¼šè§¦å‘3æ¬¡20sçš„triggerï¼Œ&#010;ä¹Ÿå°±æ˜¯ä¼šæœ€å¤šè¾“å‡º3æ¡(Aç±»å‹,12ç‚¹)çš„æ•°æ®ï¼ˆåŒä¸€ä¸ª1å°æ—¶çª—å£ï¼ŒWindowEndéƒ½æ˜¯12ç‚¹ï¼‰ã€‚&#010;è¿™3æ¡æ•°æ®è¿›å…¥MapStateåï¼Œå†™ä¸‹äº†((Aç±»å‹,12ç‚¹)ï¼Œ1)çš„è®°å½•å¹¶éƒ½æ³¨å†Œäº†12ç‚¹+1çš„timerï¼Œ&#010;é‚£ä¹ˆtimeråœ¨12ç‚¹çš„æ—¶å€™ä¼šè¾“å‡ºçš„ç»“æœå°±æ˜¯ï¼ˆ12ç‚¹ï¼Œ1ï¼‰ã€‚&#010;&#010;å¦‚æœ12-13ç‚¹é‡Œï¼ŒAç±»å‹åšç›¸åŒçš„è¾“å…¥ï¼ŒMapStateæ–°å¢ä¸€æ¡ï¼ˆ(Aç±»å‹,13ç‚¹)ï¼Œ1ï¼‰çš„è®°å½•ï¼Œåœ¨13ç‚¹å¾—åˆ°æœ€ç»ˆç»“æœï¼ˆ13ç‚¹ï¼Œ2ï¼‰ã€‚&#010;&#010;è€Œè¿™ä¸ªç»“æœå’Œæˆ‘ç†è§£çš„ä½ çš„éœ€æ±‚ä¸å¤ªä¸€æ ·ï¼Œæˆ‘ç†è§£çš„æƒ…å†µåº”è¯¥æ˜¯12ç‚¹è¾“å‡ºï¼ˆ12ç‚¹ï¼Œ1ï¼‰ï¼Œ13ç‚¹è¾“å‡ºï¼ˆ13ç‚¹ï¼Œ1ï¼‰ï¼Œå› ä¸ºç›®å‰åªæœ‰Aç±»å‹çš„æ•°æ®ã€‚&#010;æœŸæœ›çš„è¾“å‡ºåº”è¯¥æ˜¯æ— é™æ—¶é—´ä¸Šçš„å»é‡ç±»å‹ç»Ÿè®¡ï¼Œæ¯éš”1å°æ—¶è¾“å‡ºï¼ˆå‡ ç‚¹ï¼Œå½“å‰æ‰€æœ‰çš„ç±»å‹æ€»æ•°ï¼‰ã€‚&#010;&#010;æˆ‘è§‰å¾—ç›®å‰çš„è®¾è®¡å¯èƒ½å’Œæè¿°çš„éœ€æ±‚ä¸å¤ªä¸€è‡´ï¼Ÿä½ çœ‹çœ‹æ˜¯ä¸æ˜¯è¿™ä¹ˆå›äº‹å„¿&#010;&#010;&#010;Best,&#010;shizk233&#010;&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸Šåˆ11:53å†™é“ï¼š&#010;&#010;å¥½çš„ï¼Œ&#010;è¾“å…¥ï¼š&#010;å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;æŠ—åˆ©å°¿å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;è¡€ç®¡æ”¶ç¼©å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;è¡€ç®¡ç´§å¼ ç´ IIå—ä½“æ‹®æŠ—å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;&#010;&#010;è¿™é‡Œçš„æ—¶é—´æˆ³å°±æ˜¯eventtimeäº†&#010;æ¯”å¦‚å‰ä¸‰æ¡æ˜¯åœ¨ä¸€ä¸ª20ç§’çª—å£ä¸­ï¼Œæ‰€ä»¥åº”è¯¥åˆ†ä¸ºä¸¤ä¸ªçª—å£ï¼š&#010;å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯å’ŒæŠ—åˆ©å°¿å‰‚ï¼Œä½†æ˜¯æˆ‘æ˜¯è®¡æ•°è¯ç‰©çš„ç§ç±»çš„&#010;æ‰€ä»¥ä¸ç®¡çª—å£æœ‰å¤šå°‘å…ƒç´ æˆ‘è¿˜æ˜¯ç½®ä¸º1ï¼Œæ‰€ä»¥è¾“å‡ºçš„æ¥å£å°±æ˜¯çª—å£ä¹‹å’Œï¼Œå³ä¸º2&#010;æ¥ä¸‹æ¥20ç§’éƒ½å¤šäº†2ä¸ªçª—å£è€Œä¸”å’Œå‰é¢çš„åŒ»è¯ç§ç±»ä¸ä¸€æ ·,æ‰€ä»¥åœ¨åŸæ¥åŸºç¡€ä¸Šå†åŠ 2&#010;è¾“å‡º4&#010;&#010;&#010;å³è¾“å‡ºï¼š&#010;2020-7-20 19:00:00,2&#010;2020-7-20 19:00:20,4&#010;&#010;&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 11:37ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;æœ‰ç‚¹ä¸å¤ªç†è§£ï¼Œèƒ½ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸€ä¸‹resulté‚£éƒ¨åˆ†ä½ é¢„æœŸçš„è¾“å…¥(å‡ æ¡sample&#010;æ•°æ®å°±è¡Œ)å’ŒæœŸæœ›çš„è¾“å‡ºç»“æœå—&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸Šåˆ11:29å†™é“ï¼š&#010;&#010;hi,&#010;&#010;&#010;CountAggæ˜¯å¯¹ä¸€ä¸ªçª—å£è¿›è¡Œèšåˆï¼Œè€Œä¸€ä¸ªçª—å£ä¸­çš„å…ƒç´ éƒ½æ˜¯æ ¹æ®åŒ»è¯ç±»åˆ«categoryåˆ†åŒºè€Œæ¥çš„ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘åšç´¯åŠ å°±ç›´æ¥ç½®ä¸º1äº†ï¼Œä½ çš„æ„æ€æ˜¯è®©æˆ‘åœ¨CuontAggä¸Šåšç´¯åŠ å—&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 11:10ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;&#010;æˆ‘çŒœæ˜¯å› ä¸ºè®¾çš„1å°æ—¶æ»šåŠ¨çª—å£ï¼ŒWindowFunctioné‡Œæ‹¿åˆ°çš„WindowEndå°±æ˜¯1å°æ—¶çš„ENDï¼Œ&#010;è€Œaccå…¶å®æ²¡æœ‰å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯æ¯éš”20sè§¦å‘æ‹¿åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œåœ¨MapStateé‡Œä¹Ÿä¼šå¿½ç•¥é‡å¤å€¼ã€‚&#010;&#010;&#010;ä½ å¯ä»¥è®©accåšä¸ªç´¯åŠ ï¼Œç„¶åç»“æœè¾“å‡ºé‡ŒæŠŠaccçš„å€¼å¸¦ä¸Šçœ‹çœ‹ã€‚&#010;&#010;&#010;Best,&#010;shizk233&#010;&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸‹åˆ8:44å†™é“ï¼š&#010;&#010;&#010;&#010;å¤§ä½¬ï¼Œä¸å¥½æ„æ€ï¼Œå¯èƒ½å›¾ç‰‡çœ‹ä¸åˆ°ï¼Œæˆ‘æŠŠä»£ç å‘ä¸€æ¬¡ï¼Œåˆšå­¦ä¹ flinkåŠä¸ªæœˆï¼Œå¥½å¤šä¸æ‡‚ï¼Œå¸Œæœ›å¤§ä½¬è«å«Œçƒ¦&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 20:38ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;ä¸å¥½æ„æ€ï¼Œåˆšæ‰å‘çš„å¿«ï¼Œæ²¡æ¥å¾—åŠè§£é‡Šï¼Œ&#010;&#010;&#010;è¿™é‡Œaggregateç®—å­ä¸»è¦åšäº†ä¸€ä¸ªé¢„èšåˆï¼ŒæŠŠçª—å£çš„ä¸ªæ•°ç½®ä¸ºä¸€ï¼Œç„¶åç”¨windowResultè¾“å‡ºç»“æœï¼Œç„¶åå¯¹çª—å£åˆ†åŒºï¼Œæœ€åç”¨mapStateå¤„ç†é€’å¢&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 14:09ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;&#010;&#010;ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#010;Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#010;&#010;&#010;&#010;&#010;å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#010;apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;&#010;",
        "depth": "12",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<4a1b197f.5b9a.1737775d3e3.Coremail.15927482803@163.com>",
        "from": "ç½—æ˜¾å®´ &lt;15927482...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 22 Jul 2020 16:57:57 GMT",
        "subject": "å›å¤ï¼š(æ— ä¸»é¢˜)",
        "content": "æ„Ÿè°¢shizk233å¤§ä½¬ï¼Œæˆ‘è¿™ä¸ªé—®é¢˜ç»ˆäºå¾—åˆ°è§£å†³ï¼Œæˆ‘ä¸»è¦æ˜¯é€šè¿‡å…¨çª—å£åŠ mapstateå®ç°çš„&#010;best&#010;shizk233&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;åœ¨2020å¹´07æœˆ21æ—¥ 15:04ï¼Œç½—æ˜¾å®´ å†™é“ï¼š&#010;hiï¼Œæˆ‘æƒ³åˆ°è§£å†³åŠæ³•äº†ï¼Œå¯ä»¥ç”¨å…¨å±€windowï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºæ˜¯è¦åˆ†åŒºåœ¨åšçª—å£è¿ç®—å…¶å®å¯ä»¥ç›´æ¥ç”¨timewindowAllæ¥ç®—ï¼Œç„¶åç”¨çŠ¶æ€ä¿å­˜å°±å¤Ÿäº†&#010;val result = num.timeWindowAll(Time.seconds(20))&#010;//        .trigger(ContinuousEventTimeTrigger.of(Time.seconds(20)))&#010;.process(new ProcessAllWindowFunction[IncreaseNumPerHour,IncreasePerHour,TimeWindow] {&#010;&#010;private var itemState: MapState[String,Int] = _&#010;&#010;override def open(parameters: Configuration): Unit = {&#010;itemState = getRuntimeContext.getMapState(new MapStateDescriptor[String,Int](\"item-state\",TypeInformation.of(classOf[String]),TypeInformation.of(classOf[Int])))&#010;         }&#010;&#010;override def process(context: Context, elements: Iterable[IncreaseNumPerHour], out: Collector[IncreasePerHour]):&#010;Unit = {&#010;var timestamp:Long = 0L&#010;elements.foreach(kv =&gt; {&#010;itemState.put(kv.category, 1)&#010;timestamp = (kv.timestamp/2000+1)*2000&#010;})&#010;import scala.collection.JavaConversions._&#010;           out.collect(IncreasePerHour(new Timestamp( timestamp - 1 ).toString,itemState.keys().size))&#010;         }&#010;       })&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 14:15ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;&#010;&#010;hiï¼Œ&#010;æˆ‘è§‰å¾—ä½ è¯´çš„æ˜¯å¯¹çš„ï¼Œæˆ‘åˆšæ‰æ²¡æœ‰ç†è§£triggerï¼Œæˆ‘ä»¥ä¸ºtriggerå½“æˆä¸€ä¸ª1å°æ—¶çª—å£çš„20åˆ†é’Ÿçš„å°çª—å£äº†ï¼Œå…¶å®æˆ‘è¦çš„ç»“æœå°±æ˜¯æ¯20åˆ†é’Ÿæœ‰å¤šå°‘ä¸ªçª—å£æ¯”å¦‚å½“å‰20åˆ†é’Ÿæœ‰Aç±»å‹ã€Bç±»å‹å’ŒCç±»å‹ä¸‰ä¸ªçª—å£ï¼Œé‚£ä¹ˆè¾“å‡ºå°±æ˜¯3ï¼Œåæ¥20åˆ†é’Ÿæœ‰Aç±»å‹ã€Bç±»å‹å’ŒDç±»å‹çš„ç»“æœï¼Œé‚£ä¹ˆAç±»å‹å’ŒBç±»å‹æ˜¯é‡å¤çš„åªæœ‰Dä¸æ˜¯é‡å¤çš„ï¼Œç»“æœä¸º4&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 13:58ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;é¦–å…ˆç»Ÿä¸€ä¸€ä¸‹è¡¨è¿°ï¼Œå½“å‰åªæœ‰1å°æ—¶çš„æ»šåŠ¨çª—å£ï¼Œä¸å­˜åœ¨20åˆ†é’Ÿçš„çª—å£ï¼Œtriggeråªæ˜¯è¾“å‡ºç»“æœï¼Œtriggerçš„é—´éš”å’Œçª—å£å¤§å°æ— å…³ã€‚&#010;&#010;æŒ‰ç›®å‰çš„è®¾è®¡ï¼Œåœ¨11-12ç‚¹çš„çª—å£é‡Œï¼Œè¾“å…¥xæ¡ç±»å‹Açš„æ•°æ®ï¼Œaggéƒ½è®°ä¸º1æ¡ï¼Œä½†1å°æ—¶çª—å£ä¼šè§¦å‘3æ¬¡20sçš„triggerï¼Œ&#010;ä¹Ÿå°±æ˜¯ä¼šæœ€å¤šè¾“å‡º3æ¡(Aç±»å‹,12ç‚¹)çš„æ•°æ®ï¼ˆåŒä¸€ä¸ª1å°æ—¶çª—å£ï¼ŒWindowEndéƒ½æ˜¯12ç‚¹ï¼‰ã€‚&#010;è¿™3æ¡æ•°æ®è¿›å…¥MapStateåï¼Œå†™ä¸‹äº†((Aç±»å‹,12ç‚¹)ï¼Œ1)çš„è®°å½•å¹¶éƒ½æ³¨å†Œäº†12ç‚¹+1çš„timerï¼Œ&#010;é‚£ä¹ˆtimeråœ¨12ç‚¹çš„æ—¶å€™ä¼šè¾“å‡ºçš„ç»“æœå°±æ˜¯ï¼ˆ12ç‚¹ï¼Œ1ï¼‰ã€‚&#010;&#010;å¦‚æœ12-13ç‚¹é‡Œï¼ŒAç±»å‹åšç›¸åŒçš„è¾“å…¥ï¼ŒMapStateæ–°å¢ä¸€æ¡ï¼ˆ(Aç±»å‹,13ç‚¹)ï¼Œ1ï¼‰çš„è®°å½•ï¼Œåœ¨13ç‚¹å¾—åˆ°æœ€ç»ˆç»“æœï¼ˆ13ç‚¹ï¼Œ2ï¼‰ã€‚&#010;&#010;è€Œè¿™ä¸ªç»“æœå’Œæˆ‘ç†è§£çš„ä½ çš„éœ€æ±‚ä¸å¤ªä¸€æ ·ï¼Œæˆ‘ç†è§£çš„æƒ…å†µåº”è¯¥æ˜¯12ç‚¹è¾“å‡ºï¼ˆ12ç‚¹ï¼Œ1ï¼‰ï¼Œ13ç‚¹è¾“å‡ºï¼ˆ13ç‚¹ï¼Œ1ï¼‰ï¼Œå› ä¸ºç›®å‰åªæœ‰Aç±»å‹çš„æ•°æ®ã€‚&#010;æœŸæœ›çš„è¾“å‡ºåº”è¯¥æ˜¯æ— é™æ—¶é—´ä¸Šçš„å»é‡ç±»å‹ç»Ÿè®¡ï¼Œæ¯éš”1å°æ—¶è¾“å‡ºï¼ˆå‡ ç‚¹ï¼Œå½“å‰æ‰€æœ‰çš„ç±»å‹æ€»æ•°ï¼‰ã€‚&#010;&#010;æˆ‘è§‰å¾—ç›®å‰çš„è®¾è®¡å¯èƒ½å’Œæè¿°çš„éœ€æ±‚ä¸å¤ªä¸€è‡´ï¼Ÿä½ çœ‹çœ‹æ˜¯ä¸æ˜¯è¿™ä¹ˆå›äº‹å„¿&#010;&#010;&#010;Best,&#010;shizk233&#010;&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸Šåˆ11:53å†™é“ï¼š&#010;&#010;å¥½çš„ï¼Œ&#010;è¾“å…¥ï¼š&#010;å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;æŠ—åˆ©å°¿å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;è¡€ç®¡æ”¶ç¼©å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;è¡€ç®¡ç´§å¼ ç´ IIå—ä½“æ‹®æŠ—å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#010;&#010;&#010;è¿™é‡Œçš„æ—¶é—´æˆ³å°±æ˜¯eventtimeäº†&#010;æ¯”å¦‚å‰ä¸‰æ¡æ˜¯åœ¨ä¸€ä¸ª20ç§’çª—å£ä¸­ï¼Œæ‰€ä»¥åº”è¯¥åˆ†ä¸ºä¸¤ä¸ªçª—å£ï¼š&#010;å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯å’ŒæŠ—åˆ©å°¿å‰‚ï¼Œä½†æ˜¯æˆ‘æ˜¯è®¡æ•°è¯ç‰©çš„ç§ç±»çš„&#010;æ‰€ä»¥ä¸ç®¡çª—å£æœ‰å¤šå°‘å…ƒç´ æˆ‘è¿˜æ˜¯ç½®ä¸º1ï¼Œæ‰€ä»¥è¾“å‡ºçš„æ¥å£å°±æ˜¯çª—å£ä¹‹å’Œï¼Œå³ä¸º2&#010;æ¥ä¸‹æ¥20ç§’éƒ½å¤šäº†2ä¸ªçª—å£è€Œä¸”å’Œå‰é¢çš„åŒ»è¯ç§ç±»ä¸ä¸€æ ·,æ‰€ä»¥åœ¨åŸæ¥åŸºç¡€ä¸Šå†åŠ 2&#010;è¾“å‡º4&#010;&#010;&#010;å³è¾“å‡ºï¼š&#010;2020-7-20 19:00:00,2&#010;2020-7-20 19:00:20,4&#010;&#010;&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 11:37ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;æœ‰ç‚¹ä¸å¤ªç†è§£ï¼Œèƒ½ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸€ä¸‹resulté‚£éƒ¨åˆ†ä½ é¢„æœŸçš„è¾“å…¥(å‡ æ¡sample&#010;æ•°æ®å°±è¡Œ)å’ŒæœŸæœ›çš„è¾“å‡ºç»“æœå—&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸Šåˆ11:29å†™é“ï¼š&#010;&#010;hi,&#010;&#010;&#010;CountAggæ˜¯å¯¹ä¸€ä¸ªçª—å£è¿›è¡Œèšåˆï¼Œè€Œä¸€ä¸ªçª—å£ä¸­çš„å…ƒç´ éƒ½æ˜¯æ ¹æ®åŒ»è¯ç±»åˆ«categoryåˆ†åŒºè€Œæ¥çš„ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘åšç´¯åŠ å°±ç›´æ¥ç½®ä¸º1äº†ï¼Œä½ çš„æ„æ€æ˜¯è®©æˆ‘åœ¨CuontAggä¸Šåšç´¯åŠ å—&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ21æ—¥ 11:10ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;&#010;æˆ‘çŒœæ˜¯å› ä¸ºè®¾çš„1å°æ—¶æ»šåŠ¨çª—å£ï¼ŒWindowFunctioné‡Œæ‹¿åˆ°çš„WindowEndå°±æ˜¯1å°æ—¶çš„ENDï¼Œ&#010;è€Œaccå…¶å®æ²¡æœ‰å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯æ¯éš”20sè§¦å‘æ‹¿åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œåœ¨MapStateé‡Œä¹Ÿä¼šå¿½ç•¥é‡å¤å€¼ã€‚&#010;&#010;&#010;ä½ å¯ä»¥è®©accåšä¸ªç´¯åŠ ï¼Œç„¶åç»“æœè¾“å‡ºé‡ŒæŠŠaccçš„å€¼å¸¦ä¸Šçœ‹çœ‹ã€‚&#010;&#010;&#010;Best,&#010;shizk233&#010;&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸‹åˆ8:44å†™é“ï¼š&#010;&#010;&#010;&#010;å¤§ä½¬ï¼Œä¸å¥½æ„æ€ï¼Œå¯èƒ½å›¾ç‰‡çœ‹ä¸åˆ°ï¼Œæˆ‘æŠŠä»£ç å‘ä¸€æ¬¡ï¼Œåˆšå­¦ä¹ flinkåŠä¸ªæœˆï¼Œå¥½å¤šä¸æ‡‚ï¼Œå¸Œæœ›å¤§ä½¬è«å«Œçƒ¦&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 20:38ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;ä¸å¥½æ„æ€ï¼Œåˆšæ‰å‘çš„å¿«ï¼Œæ²¡æ¥å¾—åŠè§£é‡Šï¼Œ&#010;&#010;&#010;è¿™é‡Œaggregateç®—å­ä¸»è¦åšäº†ä¸€ä¸ªé¢„èšåˆï¼ŒæŠŠçª—å£çš„ä¸ªæ•°ç½®ä¸ºä¸€ï¼Œç„¶åç”¨windowResultè¾“å‡ºç»“æœï¼Œç„¶åå¯¹çª—å£åˆ†åŒºï¼Œæœ€åç”¨mapStateå¤„ç†é€’å¢&#010;&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 14:09ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#010;&#010;&#010;ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#010;Hi,&#010;&#010;ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#010;Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#010;&#010;Best,&#010;shizk233&#010;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#010;&#010;&#010;&#010;&#010;å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#010;apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#010;&#010;| |&#010;ç½—æ˜¾å®´&#010;|&#010;|&#010;é‚®ç®±ï¼š15927482803@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;&#010;",
        "depth": "13",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<CAOMLN=ZBUDPBFGWeggFnjbXKukREdhwWuvKQ9Jp_8Q02WB0JUA@mail.gmail.com>",
        "from": "shizk233 &lt;wangwangdaxian...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 23 Jul 2020 10:50:17 GMT",
        "subject": "Re: (æ— ä¸»é¢˜)",
        "content": "æ­å–œï¼&#013;&#010;&#013;&#010;ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸Šåˆ1:14å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; æ„Ÿè°¢shizk233å¤§ä½¬ï¼Œæˆ‘è¿™ä¸ªé—®é¢˜ç»ˆäºå¾—åˆ°è§£å†³ï¼Œæˆ‘ä¸»è¦æ˜¯é€šè¿‡å…¨çª—å£åŠ mapstateå®ç°çš„&#013;&#010;&gt; best&#013;&#010;&gt; shizk233&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; åœ¨2020å¹´07æœˆ21æ—¥ 15:04ï¼Œç½—æ˜¾å®´ å†™é“ï¼š&#013;&#010;&gt; hiï¼Œæˆ‘æƒ³åˆ°è§£å†³åŠæ³•äº†ï¼Œå¯ä»¥ç”¨å…¨å±€windowï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºæ˜¯è¦åˆ†åŒºåœ¨åšçª—å£è¿ç®—å…¶å®å¯ä»¥ç›´æ¥ç”¨timewindowAllæ¥ç®—ï¼Œç„¶åç”¨çŠ¶æ€ä¿å­˜å°±å¤Ÿäº†&#013;&#010;&gt; val result = num.timeWindowAll(Time.seconds(20))&#013;&#010;&gt; //        .trigger(ContinuousEventTimeTrigger.of(Time.seconds(20)))&#013;&#010;&gt; .process(new&#013;&#010;&gt; ProcessAllWindowFunction[IncreaseNumPerHour,IncreasePerHour,TimeWindow] {&#013;&#010;&gt;&#013;&#010;&gt; private var itemState: MapState[String,Int] = _&#013;&#010;&gt;&#013;&#010;&gt; override def open(parameters: Configuration): Unit = {&#013;&#010;&gt; itemState = getRuntimeContext.getMapState(new&#013;&#010;&gt; MapStateDescriptor[String,Int](\"item-state\",TypeInformation.of(classOf[String]),TypeInformation.of(classOf[Int])))&#013;&#010;&gt;          }&#013;&#010;&gt;&#013;&#010;&gt; override def process(context: Context, elements:&#013;&#010;&gt; Iterable[IncreaseNumPerHour], out: Collector[IncreasePerHour]): Unit = {&#013;&#010;&gt; var timestamp:Long = 0L&#013;&#010;&gt; elements.foreach(kv =&gt; {&#013;&#010;&gt; itemState.put(kv.category, 1)&#013;&#010;&gt; timestamp = (kv.timestamp/2000+1)*2000&#013;&#010;&gt; })&#013;&#010;&gt; import scala.collection.JavaConversions._&#013;&#010;&gt;            out.collect(IncreasePerHour(new Timestamp( timestamp - 1&#013;&#010;&gt; ).toString,itemState.keys().size))&#013;&#010;&gt;          }&#013;&#010;&gt;        })&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ21æ—¥ 14:15ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; hiï¼Œ&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘è§‰å¾—ä½ è¯´çš„æ˜¯å¯¹çš„ï¼Œæˆ‘åˆšæ‰æ²¡æœ‰ç†è§£triggerï¼Œæˆ‘ä»¥ä¸ºtriggerå½“æˆä¸€ä¸ª1å°æ—¶çª—å£çš„20åˆ†é’Ÿçš„å°çª—å£äº†ï¼Œå…¶å®æˆ‘è¦çš„ç»“æœå°±æ˜¯æ¯20åˆ†é’Ÿæœ‰å¤šå°‘ä¸ªçª—å£æ¯”å¦‚å½“å‰20åˆ†é’Ÿæœ‰Aç±»å‹ã€Bç±»å‹å’ŒCç±»å‹ä¸‰ä¸ªçª—å£ï¼Œé‚£ä¹ˆè¾“å‡ºå°±æ˜¯3ï¼Œåæ¥20åˆ†é’Ÿæœ‰Aç±»å‹ã€Bç±»å‹å’ŒDç±»å‹çš„ç»“æœï¼Œé‚£ä¹ˆAç±»å‹å’ŒBç±»å‹æ˜¯é‡å¤çš„åªæœ‰Dä¸æ˜¯é‡å¤çš„ï¼Œç»“æœä¸º4&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ21æ—¥ 13:58ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt; é¦–å…ˆç»Ÿä¸€ä¸€ä¸‹è¡¨è¿°ï¼Œå½“å‰åªæœ‰1å°æ—¶çš„æ»šåŠ¨çª—å£ï¼Œä¸å­˜åœ¨20åˆ†é’Ÿçš„çª—å£ï¼Œtriggeråªæ˜¯è¾“å‡ºç»“æœï¼Œtriggerçš„é—´éš”å’Œçª—å£å¤§å°æ— å…³ã€‚&#013;&#010;&gt;&#013;&#010;&gt; æŒ‰ç›®å‰çš„è®¾è®¡ï¼Œåœ¨11-12ç‚¹çš„çª—å£é‡Œï¼Œè¾“å…¥xæ¡ç±»å‹Açš„æ•°æ®ï¼Œaggéƒ½è®°ä¸º1æ¡ï¼Œä½†1å°æ—¶çª—å£ä¼šè§¦å‘3æ¬¡20sçš„triggerï¼Œ&#013;&#010;&gt; ä¹Ÿå°±æ˜¯ä¼šæœ€å¤šè¾“å‡º3æ¡(Aç±»å‹,12ç‚¹)çš„æ•°æ®ï¼ˆåŒä¸€ä¸ª1å°æ—¶çª—å£ï¼ŒWindowEndéƒ½æ˜¯12ç‚¹ï¼‰ã€‚&#013;&#010;&gt; è¿™3æ¡æ•°æ®è¿›å…¥MapStateåï¼Œå†™ä¸‹äº†((Aç±»å‹,12ç‚¹)ï¼Œ1)çš„è®°å½•å¹¶éƒ½æ³¨å†Œäº†12ç‚¹+1çš„timerï¼Œ&#013;&#010;&gt; é‚£ä¹ˆtimeråœ¨12ç‚¹çš„æ—¶å€™ä¼šè¾“å‡ºçš„ç»“æœå°±æ˜¯ï¼ˆ12ç‚¹ï¼Œ1ï¼‰ã€‚&#013;&#010;&gt;&#013;&#010;&gt; å¦‚æœ12-13ç‚¹é‡Œï¼ŒAç±»å‹åšç›¸åŒçš„è¾“å…¥ï¼ŒMapStateæ–°å¢ä¸€æ¡ï¼ˆ(Aç±»å‹,13ç‚¹)ï¼Œ1ï¼‰çš„è®°å½•ï¼Œåœ¨13ç‚¹å¾—åˆ°æœ€ç»ˆç»“æœï¼ˆ13ç‚¹ï¼Œ2ï¼‰ã€‚&#013;&#010;&gt;&#013;&#010;&gt; è€Œè¿™ä¸ªç»“æœå’Œæˆ‘ç†è§£çš„ä½ çš„éœ€æ±‚ä¸å¤ªä¸€æ ·ï¼Œæˆ‘ç†è§£çš„æƒ…å†µåº”è¯¥æ˜¯12ç‚¹è¾“å‡ºï¼ˆ12ç‚¹ï¼Œ1ï¼‰ï¼Œ13ç‚¹è¾“å‡ºï¼ˆ13ç‚¹ï¼Œ1ï¼‰ï¼Œå› ä¸ºç›®å‰åªæœ‰Aç±»å‹çš„æ•°æ®ã€‚&#013;&#010;&gt; æœŸæœ›çš„è¾“å‡ºåº”è¯¥æ˜¯æ— é™æ—¶é—´ä¸Šçš„å»é‡ç±»å‹ç»Ÿè®¡ï¼Œæ¯éš”1å°æ—¶è¾“å‡ºï¼ˆå‡ ç‚¹ï¼Œå½“å‰æ‰€æœ‰çš„ç±»å‹æ€»æ•°ï¼‰ã€‚&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘è§‰å¾—ç›®å‰çš„è®¾è®¡å¯èƒ½å’Œæè¿°çš„éœ€æ±‚ä¸å¤ªä¸€è‡´ï¼Ÿä½ çœ‹çœ‹æ˜¯ä¸æ˜¯è¿™ä¹ˆå›äº‹å„¿&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; shizk233&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸Šåˆ11:53å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; å¥½çš„ï¼Œ&#013;&#010;&gt; è¾“å…¥ï¼š&#013;&#010;&gt; å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯ï¼Œ1ï¼Œæ—¶é—´æˆ³&#013;&#010;&gt; å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯ï¼Œ1ï¼Œæ—¶é—´æˆ³&#013;&#010;&gt; æŠ—åˆ©å°¿å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#013;&#010;&gt; è¡€ç®¡æ”¶ç¼©å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#013;&#010;&gt; è¡€ç®¡ç´§å¼ ç´ IIå—ä½“æ‹®æŠ—å‰‚ï¼Œ1ï¼Œæ—¶é—´æˆ³&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; è¿™é‡Œçš„æ—¶é—´æˆ³å°±æ˜¯eventtimeäº†&#013;&#010;&gt; æ¯”å¦‚å‰ä¸‰æ¡æ˜¯åœ¨ä¸€ä¸ª20ç§’çª—å£ä¸­ï¼Œæ‰€ä»¥åº”è¯¥åˆ†ä¸ºä¸¤ä¸ªçª—å£ï¼š&#013;&#010;&gt; å¿ƒåŠŸèƒ½ä¸å…¨å’Œå¿ƒå¾‹å¤±å¸¸ç”¨è¯å’ŒæŠ—åˆ©å°¿å‰‚ï¼Œä½†æ˜¯æˆ‘æ˜¯è®¡æ•°è¯ç‰©çš„ç§ç±»çš„&#013;&#010;&gt; æ‰€ä»¥ä¸ç®¡çª—å£æœ‰å¤šå°‘å…ƒç´ æˆ‘è¿˜æ˜¯ç½®ä¸º1ï¼Œæ‰€ä»¥è¾“å‡ºçš„æ¥å£å°±æ˜¯çª—å£ä¹‹å’Œï¼Œå³ä¸º2&#013;&#010;&gt; æ¥ä¸‹æ¥20ç§’éƒ½å¤šäº†2ä¸ªçª—å£è€Œä¸”å’Œå‰é¢çš„åŒ»è¯ç§ç±»ä¸ä¸€æ ·,æ‰€ä»¥åœ¨åŸæ¥åŸºç¡€ä¸Šå†åŠ 2&#013;&#010;&gt; è¾“å‡º4&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å³è¾“å‡ºï¼š&#013;&#010;&gt; 2020-7-20 19:00:00,2&#013;&#010;&gt; 2020-7-20 19:00:20,4&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ21æ—¥ 11:37ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt; æœ‰ç‚¹ä¸å¤ªç†è§£ï¼Œèƒ½ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸€ä¸‹resulté‚£éƒ¨åˆ†ä½ é¢„æœŸçš„è¾“å…¥(å‡ æ¡sample&#010;æ•°æ®å°±è¡Œ)å’ŒæœŸæœ›çš„è¾“å‡ºç»“æœå—&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; shizk233&#013;&#010;&gt;&#013;&#010;&gt; ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸Šåˆ11:29å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; hi,&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; CountAggæ˜¯å¯¹ä¸€ä¸ªçª—å£è¿›è¡Œèšåˆï¼Œè€Œä¸€ä¸ªçª—å£ä¸­çš„å…ƒç´ éƒ½æ˜¯æ ¹æ®åŒ»è¯ç±»åˆ«categoryåˆ†åŒºè€Œæ¥çš„ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘åšç´¯åŠ å°±ç›´æ¥ç½®ä¸º1äº†ï¼Œä½ çš„æ„æ€æ˜¯è®©æˆ‘åœ¨CuontAggä¸Šåšç´¯åŠ å—&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ21æ—¥ 11:10ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘çŒœæ˜¯å› ä¸ºè®¾çš„1å°æ—¶æ»šåŠ¨çª—å£ï¼ŒWindowFunctioné‡Œæ‹¿åˆ°çš„WindowEndå°±æ˜¯1å°æ—¶çš„ENDï¼Œ&#013;&#010;&gt; è€Œaccå…¶å®æ²¡æœ‰å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯æ¯éš”20sè§¦å‘æ‹¿åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œåœ¨MapStateé‡Œä¹Ÿä¼šå¿½ç•¥é‡å¤å€¼ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ä½ å¯ä»¥è®©accåšä¸ªç´¯åŠ ï¼Œç„¶åç»“æœè¾“å‡ºé‡ŒæŠŠaccçš„å€¼å¸¦ä¸Šçœ‹çœ‹ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; shizk233&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸‹åˆ8:44å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¤§ä½¬ï¼Œä¸å¥½æ„æ€ï¼Œå¯èƒ½å›¾ç‰‡çœ‹ä¸åˆ°ï¼Œæˆ‘æŠŠä»£ç å‘ä¸€æ¬¡ï¼Œåˆšå­¦ä¹ flinkåŠä¸ªæœˆï¼Œå¥½å¤šä¸æ‡‚ï¼Œå¸Œæœ›å¤§ä½¬è«å«Œçƒ¦&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 20:38ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#013;&#010;&gt; ä¸å¥½æ„æ€ï¼Œåˆšæ‰å‘çš„å¿«ï¼Œæ²¡æ¥å¾—åŠè§£é‡Šï¼Œ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; è¿™é‡Œaggregateç®—å­ä¸»è¦åšäº†ä¸€ä¸ªé¢„èšåˆï¼ŒæŠŠçª—å£çš„ä¸ªæ•°ç½®ä¸ºä¸€ï¼Œç„¶åç”¨windowResultè¾“å‡ºç»“æœï¼Œç„¶åå¯¹çª—å£åˆ†åŒºï¼Œæœ€åç”¨mapStateå¤„ç†é€’å¢&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 14:09ï¼Œç½—æ˜¾å®´&lt;15927482803@163.com&gt; å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ä¸æ˜¯ï¼Œæ˜¯è¿ç»­ç´¯è®¡ï¼Œæ¯”å¦‚æˆ‘åœ¨æŸä¸ªåŒ»è¯ç½‘ç«™ä¸Šçˆ¬å–æœ‰å…³è¯ç‰©ï¼Œæ¯å°æ—¶ç»Ÿè®¡çˆ¬å–åˆ°çš„æ–°å¢è¯ç‰©ç§ç±»ï¼Œç„¶åä¸€ç›´è¿™æ ·è¿›è¡Œä¸‹å»ï¼Œç„¶åè¿™ä¸ªç½‘ç«™çˆ¬å®Œäº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªç½‘ç«™ï¼Œ&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ20æ—¥ 11:47ï¼Œshizk233&lt;wangwangdaxian233@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt; ç´¯è®¡æ˜¯ä»…åœ¨ä¸€å¤©ä¹‹å†…ç´¯è®¡å—ï¼Œè¿™æ ·çš„è¯å¯ä»¥å¼€ä¸ªä¸€å¤©çš„Tumbling&#013;&#010;&gt; Windowï¼Œç„¶åä½¿ç”¨ContinusEventTimeTriggeræ¯å°æ—¶è§¦å‘ä¸€ä¸‹è¾“å‡ºç»“æœã€‚&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; shizk233&#013;&#010;&gt;&#013;&#010;&gt; ç½—æ˜¾å®´ &lt;15927482803@163.com&gt; äº2020å¹´7æœˆ20æ—¥å‘¨ä¸€ ä¸Šåˆ1:18å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¤§å®¶å¥½ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªæ»šåŠ¨çª—å£å†…çš„è¿ç»­é€’å¢å…ƒç´ ä¸ªæ•°ï¼Œæ¯”å¦‚æ¯å°æ—¶ç´¯è®¡ç”¨æˆ·ç™»å½•æ•°ï¼Œæ¯”å¦‚è¯´å‡Œæ™¨1ç‚¹ç™»å½•äº†500äººï¼Œåˆ°äº†ä¸¤ç‚¹å°±ç´¯è®¡åˆ°1200ï¼Œåˆ°3ç‚¹ç´¯è®¡åˆ°ï¼Œï¼Œï¼Œï¼Œè¿™æ ·å®ç°ä¸€ä¸ªé€’å¢æ›²çº¿ï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°äº‘é‚ªå¤§ä½¬å†™çš„sqlä½†æ˜¯ä¸ä¼šå†™datastream&#013;&#010;&gt; apiï¼Œå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬èƒ½å¸®æˆ‘è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢å•¦&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; ç½—æ˜¾å®´&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼š15927482803@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "14",
        "reply": "<3004174a.be89.1734b9bd46f.Coremail.chq19970719@163.com>"
    },
    {
        "id": "<tencent_181C0913B245ADC8A1314567707CF754D906@qq.com>",
        "from": "&quot;ã‚é‡è »éŠæˆ²Ï‡&quot; &lt;zhoujiazhi1...@vip.qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 05:09:35 GMT",
        "subject": "State 0ç‚¹æ¸…é™¤çš„é—®é¢˜",
        "content": "å¤§å®¶å¥½ï¼š&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;æˆ‘æƒ³é—®ä¸‹ï¼Œåœ¨ProcessAllWindowFunctionä¸­ï¼Œåœ¨æ¯å¤©çš„0ç‚¹æ¸…é™¤stateå¦‚ä½•æ¸…é™¤ï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;Thanks&#013;&#010;å˜‰æ²»",
        "depth": "0",
        "reply": "<tencent_181C0913B245ADC8A1314567707CF754D906@qq.com>"
    },
    {
        "id": "<CAA8tFvse9bYUMoZ0kp68jbKWWqdqwwSs9df5bi6E4-XQCVrapA@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 05:46:25 GMT",
        "subject": "Re: State 0ç‚¹æ¸…é™¤çš„é—®é¢˜",
        "content": "Hi&#013;&#010;å¦‚æœä½ éœ€è¦ç²¾ç¡®çš„æ§åˆ¶æ¯å¤© 0 ç‚¹æ¸…é™¤  state çš„è¯ï¼Œæˆ–è®¸ä½ å¯ä»¥è€ƒè™‘ä½¿ç”¨&#010;processFunction[1], ç„¶åè‡ªå·±ä½¿ç”¨ timer&#013;&#010;å®ç°ç›¸å…³é€»è¾‘&#013;&#010;&#013;&#010;[1]&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-release-1.11/zh/dev/stream/operators/process_function.html&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;ã‚é‡è »éŠæˆ²Ï‡ &lt;zhoujiazhi1985@vip.qq.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸‹åˆ1:10å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; å¤§å®¶å¥½ï¼š&amp;nbsp; &amp;nbsp; &amp;nbsp;&#013;&#010;&gt; &amp;nbsp;æˆ‘æƒ³é—®ä¸‹ï¼Œåœ¨ProcessAllWindowFunctionä¸­ï¼Œåœ¨æ¯å¤©çš„0ç‚¹æ¸…é™¤stateå¦‚ä½•æ¸…é™¤ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Thanks&#013;&#010;&gt; å˜‰æ²»&#013;&#010;",
        "depth": "1",
        "reply": "<tencent_181C0913B245ADC8A1314567707CF754D906@qq.com>"
    },
    {
        "id": "<202007141437518255817@163.com>",
        "from": "&quot;amenhub@163.com&quot; &lt;amen...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 06:37:57 GMT",
        "subject": "flink-1.11ä½¿ç”¨executeSql()æ‰§è¡ŒDDLè¯­å¥é—®é¢˜",
        "content": "hi, everyone&#013;&#010;&#013;&#010;ç¯å¢ƒä¿¡æ¯ï¼šflink-1.11.0, blink-planner, æœ¬åœ°ideå¼€å‘æµ‹è¯•ï¼ˆIDEAï¼‰&#013;&#010;&#013;&#010;é—®é¢˜æè¿°ï¼šä½¿ç”¨executeSql()æ–¹æ³•æ‰§è¡ŒDDLè¯­å¥ï¼Œæ§åˆ¶å°æ‰“å°å¦‚ä¸‹å¼‚å¸¸ä¿¡æ¯ã€‚ï¼ˆflink-connector-kafka_2.11ä¾èµ–å·²æ·»åŠ ï¼‰&#013;&#010;&#013;&#010;æˆ‘ä¸ç¡®å®šæ˜¯å¦è¿˜æœ‰æŸä¸ªå¿…è¦çš„ä¾èµ–æ²¡æœ‰æ·»åŠ ï¼Œè¿˜æ˜¯æœ‰å…¶ä»–çš„åœ°æ–¹æ²¡æœ‰è€ƒè™‘å®Œæ•´ï¼Œè¯·å¤§ä½¬èµæ•™ã€‚&#013;&#010;&#013;&#010;--------------------------------------------------------------åˆ†å‰²çº¿-------------------------------------------------------------&#013;&#010;Exception in thread \"main\" org.apache.flink.table.api.ValidationException: Unable to create&#010;a source for reading table 'default_catalog.default_database.kafka_out'.&#013;&#010;&#013;&#010;Table options are:&#013;&#010;&#013;&#010;'connector'='kafka'&#013;&#010;'format'='json'&#013;&#010;'properties.bootstrap.servers'='localhost:9092'&#013;&#010;'properties.group.id'='flink-1.11'&#013;&#010;'scan.startup.mode'='group-offsets'&#013;&#010;'topic'='flink-kafka'&#013;&#010;at org.apache.flink.table.factories.FactoryUtil.createTableSource(FactoryUtil.java:125)&#013;&#010;at org.apache.flink.table.planner.plan.schema.CatalogSourceTable.buildTableScan(CatalogSourceTable.scala:135)&#013;&#010;at org.apache.flink.table.planner.plan.schema.CatalogSourceTable.toRel(CatalogSourceTable.scala:78)&#013;&#010;at org.apache.calcite.sql2rel.SqlToRelConverter.toRel(SqlToRelConverter.java:3492)&#013;&#010;at org.apache.calcite.sql2rel.SqlToRelConverter.convertIdentifier(SqlToRelConverter.java:2415)&#013;&#010;at org.apache.calcite.sql2rel.SqlToRelConverter.convertFrom(SqlToRelConverter.java:2102)&#013;&#010;at org.apache.calcite.sql2rel.SqlToRelConverter.convertFrom(SqlToRelConverter.java:2051)&#013;&#010;at org.apache.calcite.sql2rel.SqlToRelConverter.convertSelectImpl(SqlToRelConverter.java:661)&#013;&#010;at org.apache.calcite.sql2rel.SqlToRelConverter.convertSelect(SqlToRelConverter.java:642)&#013;&#010;at org.apache.calcite.sql2rel.SqlToRelConverter.convertQueryRecursive(SqlToRelConverter.java:3345)&#013;&#010;at org.apache.calcite.sql2rel.SqlToRelConverter.convertFrom(SqlToRelConverter.java:2178)&#013;&#010;at org.apache.calcite.sql2rel.SqlToRelConverter.convertFrom(SqlToRelConverter.java:2051)&#013;&#010;at org.apache.calcite.sql2rel.SqlToRelConverter.convertSelectImpl(SqlToRelConverter.java:661)&#013;&#010;at org.apache.calcite.sql2rel.SqlToRelConverter.convertSelect(SqlToRelConverter.java:642)&#013;&#010;at org.apache.calcite.sql2rel.SqlToRelConverter.convertQueryRecursive(SqlToRelConverter.java:3345)&#013;&#010;at org.apache.calcite.sql2rel.SqlToRelConverter.convertQuery(SqlToRelConverter.java:568)&#013;&#010;at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.org$apache$flink$table$planner$calcite$FlinkPlannerImpl$$rel(FlinkPlannerImpl.scala:164)&#013;&#010;at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.rel(FlinkPlannerImpl.scala:151)&#013;&#010;at org.apache.flink.table.planner.operations.SqlToOperationConverter.toQueryOperation(SqlToOperationConverter.java:773)&#013;&#010;at org.apache.flink.table.planner.operations.SqlToOperationConverter.convertSqlQuery(SqlToOperationConverter.java:745)&#013;&#010;at org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:238)&#013;&#010;at org.apache.flink.table.planner.operations.SqlToOperationConverter.convertSqlInsert(SqlToOperationConverter.java:527)&#013;&#010;at org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:204)&#013;&#010;at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:78)&#013;&#010;at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:678)&#013;&#010;at example.Example.main(Example.java:77)&#013;&#010;Caused by: org.apache.flink.table.api.ValidationException: Could not find any factories that&#010;implement 'org.apache.flink.table.factories.DeserializationFormatFactory' in the classpath.&#013;&#010;at org.apache.flink.table.factories.FactoryUtil.discoverFactory(FactoryUtil.java:229)&#013;&#010;at org.apache.flink.table.factories.FactoryUtil$TableFactoryHelper.discoverOptionalFormatFactory(FactoryUtil.java:538)&#013;&#010;at org.apache.flink.table.factories.FactoryUtil$TableFactoryHelper.discoverOptionalDecodingFormat(FactoryUtil.java:426)&#013;&#010;at org.apache.flink.table.factories.FactoryUtil$TableFactoryHelper.discoverDecodingFormat(FactoryUtil.java:413)&#013;&#010;at org.apache.flink.streaming.connectors.kafka.table.KafkaDynamicTableFactoryBase.createDynamicTableSource(KafkaDynamicTableFactoryBase.java:73)&#013;&#010;at org.apache.flink.table.factories.FactoryUtil.createTableSource(FactoryUtil.java:122)&#013;&#010;... 25 more&#013;&#010;&#013;&#010;--------------------------------------------------------------åˆ†å‰²çº¿-------------------------------------------------------------&#013;&#010;&#013;&#010;ç¥å¥½ï¼&#013;&#010;amenhub&#013;&#010;",
        "depth": "0",
        "reply": "<202007141437518255817@163.com>"
    },
    {
        "id": "<CABKuJ_TqH6=z_iiafiBRHGHMLqcr=T3g8+gaYOgq-RHPbm8hbQ@mail.gmail.com>",
        "from": "Benchao Li &lt;libenc...@apache.org&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 06:45:13 GMT",
        "subject": "Re: flink-1.11ä½¿ç”¨executeSql()æ‰§è¡ŒDDLè¯­å¥é—®é¢˜",
        "content": "çœ‹èµ·æ¥æ˜¯formatæ‰¾ä¸åˆ°å®ç°ï¼Œä½ å¯ä»¥æ·»åŠ ä¸€ä¸‹flink-jsonçš„ä¾èµ–çœ‹ä¸€ä¸‹ã€‚&#010;&#010;amenhub@163.com &lt;amenhub@163.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸‹åˆ2:38å†™é“ï¼š&#010;&#010;&gt; hi, everyone&#010;&gt;&#010;&gt; ç¯å¢ƒä¿¡æ¯ï¼šflink-1.11.0, blink-planner, æœ¬åœ°ideå¼€å‘æµ‹è¯•ï¼ˆIDEAï¼‰&#010;&gt;&#010;&gt; é—®é¢˜æè¿°ï¼šä½¿ç”¨executeSql()æ–¹æ³•æ‰§è¡ŒDDLè¯­å¥ï¼Œæ§åˆ¶å°æ‰“å°å¦‚ä¸‹å¼‚å¸¸ä¿¡æ¯ã€‚ï¼ˆflink-connector-kafka_2.11ä¾èµ–å·²æ·»åŠ ï¼‰&#010;&gt;&#010;&gt; æˆ‘ä¸ç¡®å®šæ˜¯å¦è¿˜æœ‰æŸä¸ªå¿…è¦çš„ä¾èµ–æ²¡æœ‰æ·»åŠ ï¼Œè¿˜æ˜¯æœ‰å…¶ä»–çš„åœ°æ–¹æ²¡æœ‰è€ƒè™‘å®Œæ•´ï¼Œè¯·å¤§ä½¬èµæ•™ã€‚&#010;&gt;&#010;&gt;&#010;&gt; --------------------------------------------------------------åˆ†å‰²çº¿-------------------------------------------------------------&#010;&gt; Exception in thread \"main\" org.apache.flink.table.api.ValidationException:&#010;&gt; Unable to create a source for reading table&#010;&gt; 'default_catalog.default_database.kafka_out'.&#010;&gt;&#010;&gt; Table options are:&#010;&gt;&#010;&gt; 'connector'='kafka'&#010;&gt; 'format'='json'&#010;&gt; 'properties.bootstrap.servers'='localhost:9092'&#010;&gt; 'properties.group.id'='flink-1.11'&#010;&gt; 'scan.startup.mode'='group-offsets'&#010;&gt; 'topic'='flink-kafka'&#010;&gt; at&#010;&gt; org.apache.flink.table.factories.FactoryUtil.createTableSource(FactoryUtil.java:125)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.plan.schema.CatalogSourceTable.buildTableScan(CatalogSourceTable.scala:135)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.plan.schema.CatalogSourceTable.toRel(CatalogSourceTable.scala:78)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.toRel(SqlToRelConverter.java:3492)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertIdentifier(SqlToRelConverter.java:2415)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertFrom(SqlToRelConverter.java:2102)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertFrom(SqlToRelConverter.java:2051)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertSelectImpl(SqlToRelConverter.java:661)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertSelect(SqlToRelConverter.java:642)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertQueryRecursive(SqlToRelConverter.java:3345)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertFrom(SqlToRelConverter.java:2178)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertFrom(SqlToRelConverter.java:2051)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertSelectImpl(SqlToRelConverter.java:661)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertSelect(SqlToRelConverter.java:642)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertQueryRecursive(SqlToRelConverter.java:3345)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertQuery(SqlToRelConverter.java:568)&#010;&gt; at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.org&#010;&gt; $apache$flink$table$planner$calcite$FlinkPlannerImpl$$rel(FlinkPlannerImpl.scala:164)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.calcite.FlinkPlannerImpl.rel(FlinkPlannerImpl.scala:151)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.operations.SqlToOperationConverter.toQueryOperation(SqlToOperationConverter.java:773)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.operations.SqlToOperationConverter.convertSqlQuery(SqlToOperationConverter.java:745)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:238)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.operations.SqlToOperationConverter.convertSqlInsert(SqlToOperationConverter.java:527)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:204)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:78)&#010;&gt; at&#010;&gt; org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:678)&#010;&gt; at example.Example.main(Example.java:77)&#010;&gt; Caused by: org.apache.flink.table.api.ValidationException: Could not find&#010;&gt; any factories that implement&#010;&gt; 'org.apache.flink.table.factories.DeserializationFormatFactory' in the&#010;&gt; classpath.&#010;&gt; at&#010;&gt; org.apache.flink.table.factories.FactoryUtil.discoverFactory(FactoryUtil.java:229)&#010;&gt; at&#010;&gt; org.apache.flink.table.factories.FactoryUtil$TableFactoryHelper.discoverOptionalFormatFactory(FactoryUtil.java:538)&#010;&gt; at&#010;&gt; org.apache.flink.table.factories.FactoryUtil$TableFactoryHelper.discoverOptionalDecodingFormat(FactoryUtil.java:426)&#010;&gt; at&#010;&gt; org.apache.flink.table.factories.FactoryUtil$TableFactoryHelper.discoverDecodingFormat(FactoryUtil.java:413)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.connectors.kafka.table.KafkaDynamicTableFactoryBase.createDynamicTableSource(KafkaDynamicTableFactoryBase.java:73)&#010;&gt; at&#010;&gt; org.apache.flink.table.factories.FactoryUtil.createTableSource(FactoryUtil.java:122)&#010;&gt; ... 25 more&#010;&gt;&#010;&gt;&#010;&gt; --------------------------------------------------------------åˆ†å‰²çº¿-------------------------------------------------------------&#010;&gt;&#010;&gt; ç¥å¥½ï¼&#010;&gt; amenhub&#010;&gt;&#010;&#010;&#010;-- &#010;&#010;Best,&#010;Benchao Li&#010;&#010;",
        "depth": "1",
        "reply": "<202007141437518255817@163.com>"
    },
    {
        "id": "<CABi+2jSQSXcPQZwW3fYRrp-K8zUumxb+-OPdkcyNDLYQMN3hYg@mail.gmail.com>",
        "from": "Jingsong Li &lt;jingsongl...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 06:45:17 GMT",
        "subject": "Re: flink-1.11ä½¿ç”¨executeSql()æ‰§è¡ŒDDLè¯­å¥é—®é¢˜",
        "content": "è¿˜è¦æ·»åŠ flink-json&#010;&#010;Best,&#010;Jingsong&#010;&#010;On Tue, Jul 14, 2020 at 2:38 PM amenhub@163.com &lt;amenhub@163.com&gt; wrote:&#010;&#010;&gt; hi, everyone&#010;&gt;&#010;&gt; ç¯å¢ƒä¿¡æ¯ï¼šflink-1.11.0, blink-planner, æœ¬åœ°ideå¼€å‘æµ‹è¯•ï¼ˆIDEAï¼‰&#010;&gt;&#010;&gt; é—®é¢˜æè¿°ï¼šä½¿ç”¨executeSql()æ–¹æ³•æ‰§è¡ŒDDLè¯­å¥ï¼Œæ§åˆ¶å°æ‰“å°å¦‚ä¸‹å¼‚å¸¸ä¿¡æ¯ã€‚ï¼ˆflink-connector-kafka_2.11ä¾èµ–å·²æ·»åŠ ï¼‰&#010;&gt;&#010;&gt; æˆ‘ä¸ç¡®å®šæ˜¯å¦è¿˜æœ‰æŸä¸ªå¿…è¦çš„ä¾èµ–æ²¡æœ‰æ·»åŠ ï¼Œè¿˜æ˜¯æœ‰å…¶ä»–çš„åœ°æ–¹æ²¡æœ‰è€ƒè™‘å®Œæ•´ï¼Œè¯·å¤§ä½¬èµæ•™ã€‚&#010;&gt;&#010;&gt;&#010;&gt; --------------------------------------------------------------åˆ†å‰²çº¿-------------------------------------------------------------&#010;&gt; Exception in thread \"main\" org.apache.flink.table.api.ValidationException:&#010;&gt; Unable to create a source for reading table&#010;&gt; 'default_catalog.default_database.kafka_out'.&#010;&gt;&#010;&gt; Table options are:&#010;&gt;&#010;&gt; 'connector'='kafka'&#010;&gt; 'format'='json'&#010;&gt; 'properties.bootstrap.servers'='localhost:9092'&#010;&gt; 'properties.group.id'='flink-1.11'&#010;&gt; 'scan.startup.mode'='group-offsets'&#010;&gt; 'topic'='flink-kafka'&#010;&gt; at&#010;&gt; org.apache.flink.table.factories.FactoryUtil.createTableSource(FactoryUtil.java:125)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.plan.schema.CatalogSourceTable.buildTableScan(CatalogSourceTable.scala:135)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.plan.schema.CatalogSourceTable.toRel(CatalogSourceTable.scala:78)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.toRel(SqlToRelConverter.java:3492)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertIdentifier(SqlToRelConverter.java:2415)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertFrom(SqlToRelConverter.java:2102)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertFrom(SqlToRelConverter.java:2051)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertSelectImpl(SqlToRelConverter.java:661)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertSelect(SqlToRelConverter.java:642)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertQueryRecursive(SqlToRelConverter.java:3345)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertFrom(SqlToRelConverter.java:2178)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertFrom(SqlToRelConverter.java:2051)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertSelectImpl(SqlToRelConverter.java:661)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertSelect(SqlToRelConverter.java:642)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertQueryRecursive(SqlToRelConverter.java:3345)&#010;&gt; at&#010;&gt; org.apache.calcite.sql2rel.SqlToRelConverter.convertQuery(SqlToRelConverter.java:568)&#010;&gt; at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.org&#010;&gt; $apache$flink$table$planner$calcite$FlinkPlannerImpl$$rel(FlinkPlannerImpl.scala:164)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.calcite.FlinkPlannerImpl.rel(FlinkPlannerImpl.scala:151)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.operations.SqlToOperationConverter.toQueryOperation(SqlToOperationConverter.java:773)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.operations.SqlToOperationConverter.convertSqlQuery(SqlToOperationConverter.java:745)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:238)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.operations.SqlToOperationConverter.convertSqlInsert(SqlToOperationConverter.java:527)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:204)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:78)&#010;&gt; at&#010;&gt; org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:678)&#010;&gt; at example.Example.main(Example.java:77)&#010;&gt; Caused by: org.apache.flink.table.api.ValidationException: Could not find&#010;&gt; any factories that implement&#010;&gt; 'org.apache.flink.table.factories.DeserializationFormatFactory' in the&#010;&gt; classpath.&#010;&gt; at&#010;&gt; org.apache.flink.table.factories.FactoryUtil.discoverFactory(FactoryUtil.java:229)&#010;&gt; at&#010;&gt; org.apache.flink.table.factories.FactoryUtil$TableFactoryHelper.discoverOptionalFormatFactory(FactoryUtil.java:538)&#010;&gt; at&#010;&gt; org.apache.flink.table.factories.FactoryUtil$TableFactoryHelper.discoverOptionalDecodingFormat(FactoryUtil.java:426)&#010;&gt; at&#010;&gt; org.apache.flink.table.factories.FactoryUtil$TableFactoryHelper.discoverDecodingFormat(FactoryUtil.java:413)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.connectors.kafka.table.KafkaDynamicTableFactoryBase.createDynamicTableSource(KafkaDynamicTableFactoryBase.java:73)&#010;&gt; at&#010;&gt; org.apache.flink.table.factories.FactoryUtil.createTableSource(FactoryUtil.java:122)&#010;&gt; ... 25 more&#010;&gt;&#010;&gt;&#010;&gt; --------------------------------------------------------------åˆ†å‰²çº¿-------------------------------------------------------------&#010;&gt;&#010;&gt; ç¥å¥½ï¼&#010;&gt; amenhub&#010;&gt;&#010;&#010;&#010;-- &#010;Best, Jingsong Lee&#010;&#010;",
        "depth": "1",
        "reply": "<202007141437518255817@163.com>"
    },
    {
        "id": "<488a95e6.84ab.1734c18c82d.Coremail.lixin58688@163.com>",
        "from": "æå®‡å½¬ &lt;lixin58...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 06:52:39 GMT",
        "subject": "å¦‚æœè§£å†³å†™hdfsçš„æ–‡ä»¶æè¿°ç¬¦é—®é¢˜ï¼Ÿ",
        "content": "hi, everyone&#010;&#010;&#010;&#010;    ç¯å¢ƒä¿¡æ¯ï¼šflink-1.10.0ã€hadoop 2.6.0&#010;&#010;    æˆ‘ä»kafka topicæ¶ˆè´¹æ•°æ®ï¼Œé€šè¿‡BucketSinkå†™åˆ°hdfsï¼Œåœ¨0ç‚¹çš„æ—¶å€™ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œè¦åŒæ—¶æ¶ˆè´¹å½“å¤©å’Œæ˜¨å¤©çš„æ•°æ®ï¼Œè¿™æ ·åœ¨å†™hdfsæ—¶ä¼šäº§ç”Ÿä¸¤å€çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå¯¹hdfsé€ æˆå¾ˆå¤§çš„å‹åŠ›ï¼Œè¯·é—®åœ¨ä¸å¢åŠ æ–‡ä»¶æè¿°ç¬¦ä¸Šé™çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ",
        "depth": "0",
        "reply": "<488a95e6.84ab.1734c18c82d.Coremail.lixin58688@163.com>"
    },
    {
        "id": "<CAHOPYeVvoJLkZSJNS2raBZe88T6H5YRZQ7L9tf1vML3VTqU8FQ@mail.gmail.com>",
        "from": "&quot;Harold.Miao&quot; &lt;miaohong...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 07:31:45 GMT",
        "subject": "[flink-sql] å¦‚ä½•åœ¨sqlè¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹kafkaçš„scan.startup.mode",
        "content": "hi  all&#013;&#010;ç°åœ¨æœ‰ä¸ªéœ€æ±‚ï¼Œå°±æ˜¯ä¸€æ®µç”¨sql-clientæäº¤çš„sqlä»»åŠ¡éœ€è¦åŠ¨æ€ä¿®æ”¹kafkaçš„scan.startup.modeï¼Œä»¥æ”¯æŒä¸åŒçš„æ¶ˆè´¹éœ€æ±‚ã€‚è¯·é—®æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•å—ï¼Ÿ&#013;&#010;è°¢è°¢&#013;&#010;&#013;&#010;&#013;&#010;-- &#013;&#010;&#013;&#010;Best Regards,&#013;&#010;Harold Miao&#013;&#010;",
        "depth": "0",
        "reply": "<CAHOPYeVvoJLkZSJNS2raBZe88T6H5YRZQ7L9tf1vML3VTqU8FQ@mail.gmail.com>"
    },
    {
        "id": "<CABKuJ_R4Zggw=QXXxHUoHi5UeswNrZh22UPX+9+=MxXqF1dm6Q@mail.gmail.com>",
        "from": "Benchao Li &lt;libenc...@apache.org&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 07:37:48 GMT",
        "subject": "Re: [flink-sql] å¦‚ä½•åœ¨sqlè¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹kafkaçš„scan.startup.mode",
        "content": "å¯ä»¥å°è¯•ä¸‹1.11ä¸­å¼•å…¥çš„LIKE[1]æˆ–è€…æ˜¯Table Hint[2]&#013;&#010;&#013;&#010;[1]&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-master/dev/table/sql/create.html#create-table&#013;&#010;[2]&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-master/dev/table/sql/hints.html&#013;&#010;&#013;&#010;Harold.Miao &lt;miaohonghit@gmail.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸‹åˆ3:32å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; hi  all&#013;&#010;&gt;&#013;&#010;&gt; ç°åœ¨æœ‰ä¸ªéœ€æ±‚ï¼Œå°±æ˜¯ä¸€æ®µç”¨sql-clientæäº¤çš„sqlä»»åŠ¡éœ€è¦åŠ¨æ€ä¿®æ”¹kafkaçš„scan.startup.modeï¼Œä»¥æ”¯æŒä¸åŒçš„æ¶ˆè´¹éœ€æ±‚ã€‚è¯·é—®æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•å—ï¼Ÿ&#013;&#010;&gt; è°¢è°¢&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt;&#013;&#010;&gt; Best Regards,&#013;&#010;&gt; Harold Miao&#013;&#010;&gt;&#013;&#010;&#013;&#010;&#013;&#010;-- &#013;&#010;&#013;&#010;Best,&#013;&#010;Benchao Li&#013;&#010;",
        "depth": "1",
        "reply": "<CAHOPYeVvoJLkZSJNS2raBZe88T6H5YRZQ7L9tf1vML3VTqU8FQ@mail.gmail.com>"
    },
    {
        "id": "<202007141547551571989@geekplus.com.cn>",
        "from": "&quot;wanglei2@geekplus.com.cn&quot; &lt;wangl...@geekplus.com.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 07:47:56 GMT",
        "subject": "ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®",
        "content": "&#013;&#010;è¯•éªŒäº†ä¸€ä¸‹ Flink-1.11  hive streaming çš„åŠŸèƒ½&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/hive_streaming.html&#013;&#010;&#013;&#010;åˆ›å»º kafka è¡¨ï¼Œé€šè¿‡ SQL å®æ—¶å†™å…¥ Hive.&#013;&#010;&#013;&#010;ä½†æˆ‘å†é€šè¿‡ flink sql-client å®¢æˆ·ç«¯ select * from hive_table å®¢æˆ·ç«¯æ²¡æœ‰ä»»ä½•è¿”å›ï¼Œé€šè¿‡&#010;flink webUI é¡µé¢è§‚å¯Ÿ è¿™ä¸ª select * from hive_table çš„ job å·²ç»ç»“æŸäº†ã€‚&#013;&#010;&#013;&#010;è°¢è°¢ï¼Œ&#013;&#010;ç‹ç£Š&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;&#013;&#010;",
        "depth": "0",
        "reply": "<202007141547551571989@geekplus.com.cn>"
    },
    {
        "id": "<626F1908-3C0B-4E76-8B83-66872C158088@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 08:17:34 GMT",
        "subject": "Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®",
        "content": "HI, wanglei&#010;&#010;ä½ å¼€å¯äº† streaming-source.enable å—ï¼Ÿè¿™ä¸ªå‚æ•°ç”¨äºæŒ‡å®šå¦‚ä½•è¯»å–æ˜¯batchè¯»ï¼Œè¿˜æ˜¯streamè¯»ï¼Œå¦‚æœä½ è¦å®æ—¶è¯»çš„è¯åº”è¯¥æŠŠè¿™ä¸ªå€¼è®¾å®šä¸ºtrue,&#010;å¯ä»¥ä½¿ç”¨tablehints æ–¹ä¾¿åœ°æŒ‡å®šå‚æ•°ã€‚&#010;&#010;SELECT * FROM hive_table /*+ OPTIONS('streaming-source.enable'='true', 'streaming-source.consume-start-offset'='2020-05-20')&#010;*/;&#010;&#010;å°±åœ¨ä½ çœ‹å¾—è¿™ä¸ªé¡µé¢åº”è¯¥æœ‰å¯¹åº”çš„æ–‡æ¡£è¯´æ˜å¦‚ä½•è¯»å–hiveæ•°æ®ã€‚&#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ15:47ï¼Œwanglei2@geekplus.com.cn å†™é“ï¼š&#010;&gt; &#010;&gt; &#010;&gt; è¯•éªŒäº†ä¸€ä¸‹ Flink-1.11  hive streaming çš„åŠŸèƒ½&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/hive_streaming.html&#010;&gt; &#010;&gt; åˆ›å»º kafka è¡¨ï¼Œé€šè¿‡ SQL å®æ—¶å†™å…¥ Hive.&#010;&gt; &#010;&gt; ä½†æˆ‘å†é€šè¿‡ flink sql-client å®¢æˆ·ç«¯ select * from hive_table å®¢æˆ·ç«¯æ²¡æœ‰ä»»ä½•è¿”å›ï¼Œé€šè¿‡&#010;flink webUI é¡µé¢è§‚å¯Ÿ è¿™ä¸ª select * from hive_table çš„ job å·²ç»ç»“æŸäº†ã€‚&#010;&gt; &#010;&gt; è°¢è°¢ï¼Œ&#010;&gt; ç‹ç£Š&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; wanglei2@geekplus.com.cn &#010;&gt; &#010;&#010;&#010;",
        "depth": "1",
        "reply": "<202007141547551571989@geekplus.com.cn>"
    },
    {
        "id": "<2020071416403836301514@geekplus.com.cn>",
        "from": "&quot;wanglei2@geekplus.com.cn&quot; &lt;wangl...@geekplus.com.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 08:40:39 GMT",
        "subject": "å›å¤: Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®",
        "content": "&#013;&#010;æˆ‘åŠ ä¸Šäº†è¿™ä¸ª tablehint ã€‚&#013;&#010;ä»»åŠ¡æäº¤ä¸Šå»äº†ï¼Œä½†å®¢æˆ·ç«¯è¿˜æ˜¯æ²¡æœ‰ä»»ä½•è¿”å›æ˜¾ç¤ºã€‚ &#013;&#010;æˆ‘åˆ° hadoop é›†ç¾¤ä¸Šçœ‹äº†ä¸‹ hive è¡¨æ‰€åœ¨çš„è¿™ä¸ªç›®å½•ï¼Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½æ˜¯ .part&#010;å¼€å¤´çš„ inprogress æ–‡ä»¶ã€‚ &#013;&#010;&#013;&#010;è°¢è°¢ï¼Œ&#013;&#010;ç‹ç£Š&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;&#013;&#010;å‘ä»¶äººï¼š Leonard Xu&#013;&#010;å‘é€æ—¶é—´ï¼š 2020-07-14 16:17&#013;&#010;æ”¶ä»¶äººï¼š user-zh&#013;&#010;ä¸»é¢˜ï¼š Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;HI, wanglei&#013;&#010; &#013;&#010;ä½ å¼€å¯äº† streaming-source.enable å—ï¼Ÿè¿™ä¸ªå‚æ•°ç”¨äºæŒ‡å®šå¦‚ä½•è¯»å–æ˜¯batchè¯»ï¼Œè¿˜æ˜¯streamè¯»ï¼Œå¦‚æœä½ è¦å®æ—¶è¯»çš„è¯åº”è¯¥æŠŠè¿™ä¸ªå€¼è®¾å®šä¸ºtrue,&#010;å¯ä»¥ä½¿ç”¨tablehints æ–¹ä¾¿åœ°æŒ‡å®šå‚æ•°ã€‚&#013;&#010; &#013;&#010;SELECT * FROM hive_table /*+ OPTIONS('streaming-source.enable'='true', 'streaming-source.consume-start-offset'='2020-05-20')&#010;*/;&#013;&#010; &#013;&#010;å°±åœ¨ä½ çœ‹å¾—è¿™ä¸ªé¡µé¢åº”è¯¥æœ‰å¯¹åº”çš„æ–‡æ¡£è¯´æ˜å¦‚ä½•è¯»å–hiveæ•°æ®ã€‚&#013;&#010; &#013;&#010;ç¥å¥½ï¼Œ&#013;&#010;Leonard Xu&#013;&#010; &#013;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ15:47ï¼Œwanglei2@geekplus.com.cn å†™é“ï¼š&#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; è¯•éªŒäº†ä¸€ä¸‹ Flink-1.11  hive streaming çš„åŠŸèƒ½&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/hive_streaming.html&#013;&#010;&gt; &#013;&#010;&gt; åˆ›å»º kafka è¡¨ï¼Œé€šè¿‡ SQL å®æ—¶å†™å…¥ Hive.&#013;&#010;&gt; &#013;&#010;&gt; ä½†æˆ‘å†é€šè¿‡ flink sql-client å®¢æˆ·ç«¯ select * from hive_table å®¢æˆ·ç«¯æ²¡æœ‰ä»»ä½•è¿”å›ï¼Œé€šè¿‡&#010;flink webUI é¡µé¢è§‚å¯Ÿ è¿™ä¸ª select * from hive_table çš„ job å·²ç»ç»“æŸäº†ã€‚&#013;&#010;&gt; &#013;&#010;&gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; ç‹ç£Š&#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; wanglei2@geekplus.com.cn &#013;&#010;&gt; &#013;&#010; &#013;&#010;",
        "depth": "2",
        "reply": "<202007141547551571989@geekplus.com.cn>"
    },
    {
        "id": "<3df1ceeb-b958-4ab0-a12a-17843ad94803.jkillers@dingtalk.com>",
        "from": "&quot;å¤å¸…&quot; &lt;jkill...@dingtalk.com.INVALID&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 08:43:58 GMT",
        "subject": "å›å¤ï¼šRe: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®",
        "content": "ä½ å¥½,&#010;è¿™è¯´æ˜å†™å…¥çš„hiveæ–‡ä»¶æ²¡æœ‰è¿›è¡Œrollup,å¯ä»¥è´´ä¸‹SQLä¹ˆ&#010;&#010;&#010;------------------------------------------------------------------&#010;å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#010;å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:40&#010;æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; xbjtdcq &lt;xbjtdcq@gmail.com&gt;&#010;ä¸»ã€€é¢˜ï¼šå›å¤: Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#010;&#010;&#010;æˆ‘åŠ ä¸Šäº†è¿™ä¸ª tablehint ã€‚&#010;ä»»åŠ¡æäº¤ä¸Šå»äº†ï¼Œä½†å®¢æˆ·ç«¯è¿˜æ˜¯æ²¡æœ‰ä»»ä½•è¿”å›æ˜¾ç¤ºã€‚ &#010;æˆ‘åˆ° hadoop é›†ç¾¤ä¸Šçœ‹äº†ä¸‹ hive è¡¨æ‰€åœ¨çš„è¿™ä¸ªç›®å½•ï¼Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½æ˜¯ .part&#010;å¼€å¤´çš„ inprogress æ–‡ä»¶ã€‚ &#010;&#010;è°¢è°¢ï¼Œ&#010;ç‹ç£Š&#010;&#010;&#010;&#010;wanglei2@geekplus.com.cn &#010;&#010;å‘ä»¶äººï¼š Leonard Xu&#010;å‘é€æ—¶é—´ï¼š 2020-07-14 16:17&#010;æ”¶ä»¶äººï¼š user-zh&#010;ä¸»é¢˜ï¼š Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#010;HI, wanglei&#010;&#010;ä½ å¼€å¯äº† streaming-source.enable å—ï¼Ÿè¿™ä¸ªå‚æ•°ç”¨äºæŒ‡å®šå¦‚ä½•è¯»å–æ˜¯batchè¯»ï¼Œè¿˜æ˜¯streamè¯»ï¼Œå¦‚æœä½ è¦å®æ—¶è¯»çš„è¯åº”è¯¥æŠŠè¿™ä¸ªå€¼è®¾å®šä¸ºtrue,&#010;å¯ä»¥ä½¿ç”¨tablehints æ–¹ä¾¿åœ°æŒ‡å®šå‚æ•°ã€‚&#010;&#010;SELECT * FROM hive_table /*+ OPTIONS('streaming-source.enable'='true', 'streaming-source.consume-start-offset'='2020-05-20')&#010;*/;&#010;&#010;å°±åœ¨ä½ çœ‹å¾—è¿™ä¸ªé¡µé¢åº”è¯¥æœ‰å¯¹åº”çš„æ–‡æ¡£è¯´æ˜å¦‚ä½•è¯»å–hiveæ•°æ®ã€‚&#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ15:47ï¼Œwanglei2@geekplus.com.cn å†™é“ï¼š&#010;&gt; &#010;&gt; &#010;&gt; è¯•éªŒäº†ä¸€ä¸‹ Flink-1.11  hive streaming çš„åŠŸèƒ½&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/hive_streaming.html&#010;&gt; &#010;&gt; åˆ›å»º kafka è¡¨ï¼Œé€šè¿‡ SQL å®æ—¶å†™å…¥ Hive.&#010;&gt; &#010;&gt; ä½†æˆ‘å†é€šè¿‡ flink sql-client å®¢æˆ·ç«¯ select * from hive_table å®¢æˆ·ç«¯æ²¡æœ‰ä»»ä½•è¿”å›ï¼Œé€šè¿‡&#010;flink webUI é¡µé¢è§‚å¯Ÿ è¿™ä¸ª select * from hive_table çš„ job å·²ç»ç»“æŸäº†ã€‚&#010;&gt; &#010;&gt; è°¢è°¢ï¼Œ&#010;&gt; ç‹ç£Š&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; wanglei2@geekplus.com.cn &#010;&gt; &#010;&#010;",
        "depth": "1",
        "reply": "<202007141547551571989@geekplus.com.cn>"
    },
    {
        "id": "<2020071416500244902417@geekplus.com.cn>",
        "from": "&quot;wanglei2@geekplus.com.cn&quot; &lt;wangl...@geekplus.com.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 08:50:03 GMT",
        "subject": "Re: å›å¤: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®",
        "content": "åº”è¯¥æ˜¯æˆ‘æ²¡æœ‰ç†è§£ partitiion-commit çš„æ„æ€ï¼Œæˆ‘çœ‹è¿™é‡Œæœ‰æ–‡æ¡£ï¼šhttps://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/filesystem.html#partition-commit&#013;&#010;&#013;&#010;&#013;&#010;CREATE TABLE kafka_ods_wms_pick_order (&#013;&#010; order_no STRING,&#013;&#010; status INT,&#013;&#010; dispatch_time TIMESTAMP(3)&#013;&#010;) WITH (&#013;&#010; 'connector' = 'kafka',&#013;&#010; 'topic' = 'ods_wms_pick_order',&#013;&#010; 'properties.bootstrap.servers' = 'xxxx:9092',&#013;&#010; 'properties.group.id' = 'testGroup',&#013;&#010; 'format' = 'json',&#013;&#010; 'scan.startup.mode' = 'latest-offset'&#013;&#010;)&#013;&#010;&#013;&#010;&#013;&#010;CREATE TABLE hive_ods_wms_pick_order (&#013;&#010;  order_no STRING,&#013;&#010;  status INT,&#013;&#010;  dispatch_time TIMESTAMP&#013;&#010;) PARTITIONED BY (dt STRING, hr STRING) STORED AS parquet TBLPROPERTIES (&#013;&#010;  'partition.time-extractor.timestamp-pattern'='$dt $hr:00:00',&#013;&#010;  'sink.partition-commit.trigger'='partition-time',&#013;&#010;  'sink.partition-commit.delay'='1 h',&#013;&#010;  'sink.partition-commit.policy.kind'='metastore,success-file'&#013;&#010;);&#013;&#010;&#013;&#010;INSERT INTO TABLE hive_ods_wms_pick_order SELECT order_no, status, dispatch_time, DATE_FORMAT(dispatch_time,&#010;'yyyy-MM-dd'), DATE_FORMAT(dispatch_time, 'HH') FROM kafka_ods_wms_pick_order;&#013;&#010;SELECT * FROM hive_ods_wms_pick_order /*+ OPTIONS('streaming-source.enable'='true', 'streaming-source.consume-start-offset'='2020-07-24')&#010;*/;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;&#013;&#010; &#013;&#010;Sender: å¤å¸…&#013;&#010;Send Time: 2020-07-14 16:43&#013;&#010;Receiver: user-zh; xbjtdcq&#013;&#010;Subject: å›å¤ï¼šRe: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;ä½ å¥½,&#013;&#010;è¿™è¯´æ˜å†™å…¥çš„hiveæ–‡ä»¶æ²¡æœ‰è¿›è¡Œrollup,å¯ä»¥è´´ä¸‹SQLä¹ˆ&#013;&#010; &#013;&#010; &#013;&#010;------------------------------------------------------------------&#013;&#010;å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#013;&#010;å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:40&#013;&#010;æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; xbjtdcq &lt;xbjtdcq@gmail.com&gt;&#013;&#010;ä¸»ã€€é¢˜ï¼šå›å¤: Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010; &#013;&#010; &#013;&#010;æˆ‘åŠ ä¸Šäº†è¿™ä¸ª tablehint ã€‚&#013;&#010;ä»»åŠ¡æäº¤ä¸Šå»äº†ï¼Œä½†å®¢æˆ·ç«¯è¿˜æ˜¯æ²¡æœ‰ä»»ä½•è¿”å›æ˜¾ç¤ºã€‚ &#013;&#010;æˆ‘åˆ° hadoop é›†ç¾¤ä¸Šçœ‹äº†ä¸‹ hive è¡¨æ‰€åœ¨çš„è¿™ä¸ªç›®å½•ï¼Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½æ˜¯ .part&#010;å¼€å¤´çš„ inprogress æ–‡ä»¶ã€‚ &#013;&#010; &#013;&#010;è°¢è°¢ï¼Œ&#013;&#010;ç‹ç£Š&#013;&#010; &#013;&#010; &#013;&#010; &#013;&#010;wanglei2@geekplus.com.cn &#013;&#010; &#013;&#010;å‘ä»¶äººï¼š Leonard Xu&#013;&#010;å‘é€æ—¶é—´ï¼š 2020-07-14 16:17&#013;&#010;æ”¶ä»¶äººï¼š user-zh&#013;&#010;ä¸»é¢˜ï¼š Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;HI, wanglei&#013;&#010; &#013;&#010;ä½ å¼€å¯äº† streaming-source.enable å—ï¼Ÿè¿™ä¸ªå‚æ•°ç”¨äºæŒ‡å®šå¦‚ä½•è¯»å–æ˜¯batchè¯»ï¼Œè¿˜æ˜¯streamè¯»ï¼Œå¦‚æœä½ è¦å®æ—¶è¯»çš„è¯åº”è¯¥æŠŠè¿™ä¸ªå€¼è®¾å®šä¸ºtrue,&#010;å¯ä»¥ä½¿ç”¨tablehints æ–¹ä¾¿åœ°æŒ‡å®šå‚æ•°ã€‚&#013;&#010; &#013;&#010;SELECT * FROM hive_table /*+ OPTIONS('streaming-source.enable'='true', 'streaming-source.consume-start-offset'='2020-05-20')&#010;*/;&#013;&#010; &#013;&#010;å°±åœ¨ä½ çœ‹å¾—è¿™ä¸ªé¡µé¢åº”è¯¥æœ‰å¯¹åº”çš„æ–‡æ¡£è¯´æ˜å¦‚ä½•è¯»å–hiveæ•°æ®ã€‚&#013;&#010; &#013;&#010;ç¥å¥½ï¼Œ&#013;&#010;Leonard Xu&#013;&#010; &#013;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ15:47ï¼Œwanglei2@geekplus.com.cn å†™é“ï¼š&#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; è¯•éªŒäº†ä¸€ä¸‹ Flink-1.11  hive streaming çš„åŠŸèƒ½&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/hive_streaming.html&#013;&#010;&gt; &#013;&#010;&gt; åˆ›å»º kafka è¡¨ï¼Œé€šè¿‡ SQL å®æ—¶å†™å…¥ Hive.&#013;&#010;&gt; &#013;&#010;&gt; ä½†æˆ‘å†é€šè¿‡ flink sql-client å®¢æˆ·ç«¯ select * from hive_table å®¢æˆ·ç«¯æ²¡æœ‰ä»»ä½•è¿”å›ï¼Œé€šè¿‡&#010;flink webUI é¡µé¢è§‚å¯Ÿ è¿™ä¸ª select * from hive_table çš„ job å·²ç»ç»“æŸäº†ã€‚&#013;&#010;&gt; &#013;&#010;&gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; ç‹ç£Š&#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; wanglei2@geekplus.com.cn &#013;&#010;&gt; &#013;&#010; &#013;&#010;",
        "depth": "2",
        "reply": "<202007141547551571989@geekplus.com.cn>"
    },
    {
        "id": "<6121de37-e84f-4df9-9bd9-238f3da03b64.jkillers@dingtalk.com>",
        "from": "&quot;å¤å¸…&quot; &lt;jkill...@dingtalk.com.INVALID&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 08:59:06 GMT",
        "subject": "å›å¤ï¼šå›å¤: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®",
        "content": "ä½ å¥½,&#010;å¯ä»¥å‚è€ƒä¸‹è¿™ä¸ªé—®é¢˜çš„è§£å†³&#010;http://apache-flink.147419.n8.nabble.com/Table-options-do-not-contain-an-option-key-connector-for-discovering-a-connector-td4767.html&#010;&#010;&#010;------------------------------------------------------------------&#010;å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#010;å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:50&#010;æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; å¤å¸… &lt;jkillers@dingtalk.com&gt;;&#010;Leonard Xu &lt;xbjtdcq@gmail.com&gt;&#010;ä¸»ã€€é¢˜ï¼šRe: å›å¤: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#010;&#010;&#010;åº”è¯¥æ˜¯æˆ‘æ²¡æœ‰ç†è§£ partitiion-commit çš„æ„æ€ï¼Œæˆ‘çœ‹è¿™é‡Œæœ‰æ–‡æ¡£ï¼šhttps://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/filesystem.html#partition-commit&#010;&#010;&#010;CREATE TABLE kafka_ods_wms_pick_order (&#010; order_no STRING,&#010; status INT,&#010; dispatch_time TIMESTAMP(3)&#010;) WITH (&#010; 'connector' = 'kafka',&#010; 'topic' = 'ods_wms_pick_order',&#010; 'properties.bootstrap.servers' = 'xxxx:9092',&#010; 'properties.group.id' = 'testGroup',&#010; 'format' = 'json',&#010; 'scan.startup.mode' = 'latest-offset'&#010;)&#010;&#010;&#010;CREATE TABLE hive_ods_wms_pick_order (&#010;  order_no STRING,&#010;  status INT,&#010;  dispatch_time TIMESTAMP&#010;) PARTITIONED BY (dt STRING, hr STRING) STORED AS parquet TBLPROPERTIES (&#010;  'partition.time-extractor.timestamp-pattern'='$dt $hr:00:00',&#010;  'sink.partition-commit.trigger'='partition-time',&#010;  'sink.partition-commit.delay'='1 h',&#010;  'sink.partition-commit.policy.kind'='metastore,success-file'&#010;);&#010;&#010;INSERT INTO TABLE hive_ods_wms_pick_order SELECT order_no, status, dispatch_time, DATE_FORMAT(dispatch_time,&#010;'yyyy-MM-dd'), DATE_FORMAT(dispatch_time, 'HH') FROM kafka_ods_wms_pick_order;&#010;SELECT * FROM hive_ods_wms_pick_order /*+ OPTIONS('streaming-source.enable'='true', 'streaming-source.consume-start-offset'='2020-07-24')&#010;*/;&#010;&#010;&#010;&#010;&#010;wanglei2@geekplus.com.cn&#010;&#010;&#010;Sender: å¤å¸…&#010;Send Time: 2020-07-14 16:43&#010;Receiver: user-zh; xbjtdcq&#010;Subject: å›å¤ï¼šRe: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#010;ä½ å¥½,&#010;è¿™è¯´æ˜å†™å…¥çš„hiveæ–‡ä»¶æ²¡æœ‰è¿›è¡Œrollup,å¯ä»¥è´´ä¸‹SQLä¹ˆ&#010;------------------------------------------------------------------&#010;å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#010;å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:40&#010;æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; xbjtdcq &lt;xbjtdcq@gmail.com&gt;&#010;ä¸»ã€€é¢˜ï¼šå›å¤: Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#010;æˆ‘åŠ ä¸Šäº†è¿™ä¸ª tablehint ã€‚&#010;ä»»åŠ¡æäº¤ä¸Šå»äº†ï¼Œä½†å®¢æˆ·ç«¯è¿˜æ˜¯æ²¡æœ‰ä»»ä½•è¿”å›æ˜¾ç¤ºã€‚ &#010;æˆ‘åˆ° hadoop é›†ç¾¤ä¸Šçœ‹äº†ä¸‹ hive è¡¨æ‰€åœ¨çš„è¿™ä¸ªç›®å½•ï¼Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½æ˜¯ .part&#010;å¼€å¤´çš„ inprogress æ–‡ä»¶ã€‚ &#010;è°¢è°¢ï¼Œ&#010;ç‹ç£Š&#010;wanglei2@geekplus.com.cn &#010;å‘ä»¶äººï¼š Leonard Xu&#010;å‘é€æ—¶é—´ï¼š 2020-07-14 16:17&#010;æ”¶ä»¶äººï¼š user-zh&#010;ä¸»é¢˜ï¼š Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#010;HI, wanglei&#010;ä½ å¼€å¯äº† streaming-source.enable å—ï¼Ÿè¿™ä¸ªå‚æ•°ç”¨äºæŒ‡å®šå¦‚ä½•è¯»å–æ˜¯batchè¯»ï¼Œè¿˜æ˜¯streamè¯»ï¼Œå¦‚æœä½ è¦å®æ—¶è¯»çš„è¯åº”è¯¥æŠŠè¿™ä¸ªå€¼è®¾å®šä¸ºtrue,&#010;å¯ä»¥ä½¿ç”¨tablehints æ–¹ä¾¿åœ°æŒ‡å®šå‚æ•°ã€‚&#010;SELECT * FROM hive_table /*+ OPTIONS('streaming-source.enable'='true', 'streaming-source.consume-start-offset'='2020-05-20')&#010;*/;&#010;å°±åœ¨ä½ çœ‹å¾—è¿™ä¸ªé¡µé¢åº”è¯¥æœ‰å¯¹åº”çš„æ–‡æ¡£è¯´æ˜å¦‚ä½•è¯»å–hiveæ•°æ®ã€‚&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ15:47ï¼Œwanglei2@geekplus.com.cn å†™é“ï¼š&#010;&gt; &#010;&gt; &#010;&gt; è¯•éªŒäº†ä¸€ä¸‹ Flink-1.11  hive streaming çš„åŠŸèƒ½&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/hive_streaming.html&#010;&gt; &#010;&gt; åˆ›å»º kafka è¡¨ï¼Œé€šè¿‡ SQL å®æ—¶å†™å…¥ Hive.&#010;&gt; &#010;&gt; ä½†æˆ‘å†é€šè¿‡ flink sql-client å®¢æˆ·ç«¯ select * from hive_table å®¢æˆ·ç«¯æ²¡æœ‰ä»»ä½•è¿”å›ï¼Œé€šè¿‡&#010;flink webUI é¡µé¢è§‚å¯Ÿ è¿™ä¸ª select * from hive_table çš„ job å·²ç»ç»“æŸäº†ã€‚&#010;&gt; &#010;&gt; è°¢è°¢ï¼Œ&#010;&gt; ç‹ç£Š&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; wanglei2@geekplus.com.cn &#010;&gt; &#010;",
        "depth": "3",
        "reply": "<202007141547551571989@geekplus.com.cn>"
    },
    {
        "id": "<C2218A78-FB5C-458B-979A-5073E4D2BB82@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 09:20:26 GMT",
        "subject": "Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®",
        "content": "&#010;Hi, wanglei&#010;&#010;è¿™ä¸ªå‚æ•° 'sink.partition-commit.delay'='1 hâ€™ä¼šåœ¨cp å®Œæˆå + ä½ è®¾ç½®çš„1h delayåæ‰ä¼šæäº¤&#010;hive çš„åˆ†åŒºå·²å®Œæˆä¿¡æ¯(é€šè¿‡metastoreæˆ–successæ–‡ä»¶).&#010;&#010;ä½ çœ‹ä¸‹å¤å¸…è´´çš„é‚®ä»¶ï¼Œæ£€æŸ¥ä¸‹ checkpoint å’Œ  partition-commitçš„è®¾ç½®&#010;&#010;ç¥å¥½,&#010;Leonard Xu&#010;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ16:59ï¼Œå¤å¸… &lt;jkillers@dingtalk.com.INVALID&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; ä½ å¥½,&#010;&gt; å¯ä»¥å‚è€ƒä¸‹è¿™ä¸ªé—®é¢˜çš„è§£å†³&#010;&gt; http://apache-flink.147419.n8.nabble.com/Table-options-do-not-contain-an-option-key-connector-for-discovering-a-connector-td4767.html&#010;&gt; &#010;&gt; &#010;&gt; ------------------------------------------------------------------&#010;&gt; å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#010;&gt; å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:50&#010;&gt; æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; å¤å¸… &lt;jkillers@dingtalk.com&gt;;&#010;Leonard Xu &lt;xbjtdcq@gmail.com&gt;&#010;&gt; ä¸»ã€€é¢˜ï¼šRe: å›å¤: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#010;&gt; &#010;&gt; &#010;&gt; åº”è¯¥æ˜¯æˆ‘æ²¡æœ‰ç†è§£ partitiion-commit çš„æ„æ€ï¼Œæˆ‘çœ‹è¿™é‡Œæœ‰æ–‡æ¡£ï¼šhttps://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/filesystem.html#partition-commit&#010;&gt; &#010;&gt; &#010;&gt; CREATE TABLE kafka_ods_wms_pick_order (&#010;&gt; order_no STRING,&#010;&gt; status INT,&#010;&gt; dispatch_time TIMESTAMP(3)&#010;&gt; ) WITH (&#010;&gt; 'connector' = 'kafka',&#010;&gt; 'topic' = 'ods_wms_pick_order',&#010;&gt; 'properties.bootstrap.servers' = 'xxxx:9092',&#010;&gt; 'properties.group.id' = 'testGroup',&#010;&gt; 'format' = 'json',&#010;&gt; 'scan.startup.mode' = 'latest-offset'&#010;&gt; )&#010;&gt; &#010;&gt; &#010;&gt; CREATE TABLE hive_ods_wms_pick_order (&#010;&gt;  order_no STRING,&#010;&gt;  status INT,&#010;&gt;  dispatch_time TIMESTAMP&#010;&gt; ) PARTITIONED BY (dt STRING, hr STRING) STORED AS parquet TBLPROPERTIES (&#010;&gt;  'partition.time-extractor.timestamp-pattern'='$dt $hr:00:00',&#010;&gt;  'sink.partition-commit.trigger'='partition-time',&#010;&gt;  'sink.partition-commit.delay'='1 h',&#010;&gt;  'sink.partition-commit.policy.kind'='metastore,success-file'&#010;&gt; );&#010;&gt; &#010;&gt; INSERT INTO TABLE hive_ods_wms_pick_order SELECT order_no, status, dispatch_time, DATE_FORMAT(dispatch_time,&#010;'yyyy-MM-dd'), DATE_FORMAT(dispatch_time, 'HH') FROM kafka_ods_wms_pick_order;&#010;&gt; SELECT * FROM hive_ods_wms_pick_order /*+ OPTIONS('streaming-source.enable'='true', 'streaming-source.consume-start-offset'='2020-07-24')&#010;*/;&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; wanglei2@geekplus.com.cn&#010;&gt; &#010;&gt; &#010;&gt; Sender: å¤å¸…&#010;&gt; Send Time: 2020-07-14 16:43&#010;&gt; Receiver: user-zh; xbjtdcq&#010;&gt; Subject: å›å¤ï¼šRe: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#010;&gt; ä½ å¥½,&#010;&gt; è¿™è¯´æ˜å†™å…¥çš„hiveæ–‡ä»¶æ²¡æœ‰è¿›è¡Œrollup,å¯ä»¥è´´ä¸‹SQLä¹ˆ&#010;&gt; ------------------------------------------------------------------&#010;&gt; å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#010;&gt; å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:40&#010;&gt; æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; xbjtdcq &lt;xbjtdcq@gmail.com&gt;&#010;&gt; ä¸»ã€€é¢˜ï¼šå›å¤: Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#010;&gt; æˆ‘åŠ ä¸Šäº†è¿™ä¸ª tablehint ã€‚&#010;&gt; ä»»åŠ¡æäº¤ä¸Šå»äº†ï¼Œä½†å®¢æˆ·ç«¯è¿˜æ˜¯æ²¡æœ‰ä»»ä½•è¿”å›æ˜¾ç¤ºã€‚ &#010;&gt; æˆ‘åˆ° hadoop é›†ç¾¤ä¸Šçœ‹äº†ä¸‹ hive è¡¨æ‰€åœ¨çš„è¿™ä¸ªç›®å½•ï¼Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½æ˜¯&#010;.part å¼€å¤´çš„ inprogress æ–‡ä»¶ã€‚ &#010;&gt; è°¢è°¢ï¼Œ&#010;&gt; ç‹ç£Š&#010;&gt; wanglei2@geekplus.com.cn &#010;&gt; å‘ä»¶äººï¼š Leonard Xu&#010;&gt; å‘é€æ—¶é—´ï¼š 2020-07-14 16:17&#010;&gt; æ”¶ä»¶äººï¼š user-zh&#010;&gt; ä¸»é¢˜ï¼š Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#010;&gt; HI, wanglei&#010;&gt; ä½ å¼€å¯äº† streaming-source.enable å—ï¼Ÿè¿™ä¸ªå‚æ•°ç”¨äºæŒ‡å®šå¦‚ä½•è¯»å–æ˜¯batchè¯»ï¼Œè¿˜æ˜¯streamè¯»ï¼Œå¦‚æœä½ è¦å®æ—¶è¯»çš„è¯åº”è¯¥æŠŠè¿™ä¸ªå€¼è®¾å®šä¸ºtrue,&#010;å¯ä»¥ä½¿ç”¨tablehints æ–¹ä¾¿åœ°æŒ‡å®šå‚æ•°ã€‚&#010;&gt; SELECT * FROM hive_table /*+ OPTIONS('streaming-source.enable'='true', 'streaming-source.consume-start-offset'='2020-05-20')&#010;*/;&#010;&gt; å°±åœ¨ä½ çœ‹å¾—è¿™ä¸ªé¡µé¢åº”è¯¥æœ‰å¯¹åº”çš„æ–‡æ¡£è¯´æ˜å¦‚ä½•è¯»å–hiveæ•°æ®ã€‚&#010;&gt; ç¥å¥½ï¼Œ&#010;&gt; Leonard Xu&#010;&gt;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ15:47ï¼Œwanglei2@geekplus.com.cn å†™é“ï¼š&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; è¯•éªŒäº†ä¸€ä¸‹ Flink-1.11  hive streaming çš„åŠŸèƒ½&#010;&gt;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/hive_streaming.html&#010;&gt;&gt; &#010;&gt;&gt; åˆ›å»º kafka è¡¨ï¼Œé€šè¿‡ SQL å®æ—¶å†™å…¥ Hive.&#010;&gt;&gt; &#010;&gt;&gt; ä½†æˆ‘å†é€šè¿‡ flink sql-client å®¢æˆ·ç«¯ select * from hive_table å®¢æˆ·ç«¯æ²¡æœ‰ä»»ä½•è¿”å›ï¼Œé€šè¿‡&#010;flink webUI é¡µé¢è§‚å¯Ÿ è¿™ä¸ª select * from hive_table çš„ job å·²ç»ç»“æŸäº†ã€‚&#010;&gt;&gt; &#010;&gt;&gt; è°¢è°¢ï¼Œ&#010;&gt;&gt; ç‹ç£Š&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; wanglei2@geekplus.com.cn &#010;&gt;&gt; &#010;&#010;&#010;",
        "depth": "4",
        "reply": "<202007141547551571989@geekplus.com.cn>"
    },
    {
        "id": "<CADH6UNTTGgkqVqpiAJbH+m-ZSyrEEebuoKGkAzCCX0zinRxoLA@mail.gmail.com>",
        "from": "Rui Li &lt;lirui.fu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 09:24:39 GMT",
        "subject": "Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®",
        "content": "è¿˜å¯ä»¥åœ¨hiveé‚£è¾¹éªŒè¯ä¸€ä¸‹æ•°æ®æ˜¯å¦commitäº†ï¼Œæ¯”å¦‚ä»hive CLIç«¯æ‰§è¡Œä¸€ä¸‹show&#010;partitionsï¼Œæˆ–è€…è¯»ä¸€ç‚¹æ•°æ®&#013;&#010;&#013;&#010;On Tue, Jul 14, 2020 at 5:20 PM Leonard Xu &lt;xbjtdcq@gmail.com&gt; wrote:&#013;&#010;&#013;&#010;&gt;&#013;&#010;&gt; Hi, wanglei&#013;&#010;&gt;&#013;&#010;&gt; è¿™ä¸ªå‚æ•° 'sink.partition-commit.delay'='1 hâ€™ä¼šåœ¨cp å®Œæˆå + ä½ è®¾ç½®çš„1h&#010;delayåæ‰ä¼šæäº¤ hive&#013;&#010;&gt; çš„åˆ†åŒºå·²å®Œæˆä¿¡æ¯(é€šè¿‡metastoreæˆ–successæ–‡ä»¶).&#013;&#010;&gt;&#013;&#010;&gt; ä½ çœ‹ä¸‹å¤å¸…è´´çš„é‚®ä»¶ï¼Œæ£€æŸ¥ä¸‹ checkpoint å’Œ  partition-commitçš„è®¾ç½®&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½,&#013;&#010;&gt; Leonard Xu&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; &gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ16:59ï¼Œå¤å¸… &lt;jkillers@dingtalk.com.INVALID&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ä½ å¥½,&#013;&#010;&gt; &gt; å¯ä»¥å‚è€ƒä¸‹è¿™ä¸ªé—®é¢˜çš„è§£å†³&#013;&#010;&gt; &gt;&#013;&#010;&gt; http://apache-flink.147419.n8.nabble.com/Table-options-do-not-contain-an-option-key-connector-for-discovering-a-connector-td4767.html&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ------------------------------------------------------------------&#013;&#010;&gt; &gt; å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#013;&#010;&gt; &gt; å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:50&#013;&#010;&gt; &gt; æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; å¤å¸… &lt;jkillers@dingtalk.com&gt;;&#013;&#010;&gt; Leonard Xu &lt;xbjtdcq@gmail.com&gt;&#013;&#010;&gt; &gt; ä¸» é¢˜ï¼šRe: å›å¤: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; åº”è¯¥æ˜¯æˆ‘æ²¡æœ‰ç†è§£ partitiion-commit çš„æ„æ€ï¼Œæˆ‘çœ‹è¿™é‡Œæœ‰æ–‡æ¡£ï¼š&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/filesystem.html#partition-commit&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; CREATE TABLE kafka_ods_wms_pick_order (&#013;&#010;&gt; &gt; order_no STRING,&#013;&#010;&gt; &gt; status INT,&#013;&#010;&gt; &gt; dispatch_time TIMESTAMP(3)&#013;&#010;&gt; &gt; ) WITH (&#013;&#010;&gt; &gt; 'connector' = 'kafka',&#013;&#010;&gt; &gt; 'topic' = 'ods_wms_pick_order',&#013;&#010;&gt; &gt; 'properties.bootstrap.servers' = 'xxxx:9092',&#013;&#010;&gt; &gt; 'properties.group.id' = 'testGroup',&#013;&#010;&gt; &gt; 'format' = 'json',&#013;&#010;&gt; &gt; 'scan.startup.mode' = 'latest-offset'&#013;&#010;&gt; &gt; )&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; CREATE TABLE hive_ods_wms_pick_order (&#013;&#010;&gt; &gt;  order_no STRING,&#013;&#010;&gt; &gt;  status INT,&#013;&#010;&gt; &gt;  dispatch_time TIMESTAMP&#013;&#010;&gt; &gt; ) PARTITIONED BY (dt STRING, hr STRING) STORED AS parquet TBLPROPERTIES (&#013;&#010;&gt; &gt;  'partition.time-extractor.timestamp-pattern'='$dt $hr:00:00',&#013;&#010;&gt; &gt;  'sink.partition-commit.trigger'='partition-time',&#013;&#010;&gt; &gt;  'sink.partition-commit.delay'='1 h',&#013;&#010;&gt; &gt;  'sink.partition-commit.policy.kind'='metastore,success-file'&#013;&#010;&gt; &gt; );&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; INSERT INTO TABLE hive_ods_wms_pick_order SELECT order_no, status,&#013;&#010;&gt; dispatch_time, DATE_FORMAT(dispatch_time, 'yyyy-MM-dd'),&#013;&#010;&gt; DATE_FORMAT(dispatch_time, 'HH') FROM kafka_ods_wms_pick_order;&#013;&#010;&gt; &gt; SELECT * FROM hive_ods_wms_pick_order /*+&#013;&#010;&gt; OPTIONS('streaming-source.enable'='true',&#013;&#010;&gt; 'streaming-source.consume-start-offset'='2020-07-24') */;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; wanglei2@geekplus.com.cn&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Sender: å¤å¸…&#013;&#010;&gt; &gt; Send Time: 2020-07-14 16:43&#013;&#010;&gt; &gt; Receiver: user-zh; xbjtdcq&#013;&#010;&gt; &gt; Subject: å›å¤ï¼šRe: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt; &gt; ä½ å¥½,&#013;&#010;&gt; &gt; è¿™è¯´æ˜å†™å…¥çš„hiveæ–‡ä»¶æ²¡æœ‰è¿›è¡Œrollup,å¯ä»¥è´´ä¸‹SQLä¹ˆ&#013;&#010;&gt; &gt; ------------------------------------------------------------------&#013;&#010;&gt; &gt; å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#013;&#010;&gt; &gt; å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:40&#013;&#010;&gt; &gt; æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; xbjtdcq &lt;xbjtdcq@gmail.com&gt;&#013;&#010;&gt; &gt; ä¸» é¢˜ï¼šå›å¤: Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt; &gt; æˆ‘åŠ ä¸Šäº†è¿™ä¸ª tablehint ã€‚&#013;&#010;&gt; &gt; ä»»åŠ¡æäº¤ä¸Šå»äº†ï¼Œä½†å®¢æˆ·ç«¯è¿˜æ˜¯æ²¡æœ‰ä»»ä½•è¿”å›æ˜¾ç¤ºã€‚&#013;&#010;&gt; &gt; æˆ‘åˆ° hadoop é›†ç¾¤ä¸Šçœ‹äº†ä¸‹ hive è¡¨æ‰€åœ¨çš„è¿™ä¸ªç›®å½•ï¼Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½æ˜¯&#010;.part å¼€å¤´çš„ inprogress æ–‡ä»¶ã€‚&#013;&#010;&gt; &gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; &gt; ç‹ç£Š&#013;&#010;&gt; &gt; wanglei2@geekplus.com.cn&#013;&#010;&gt; &gt; å‘ä»¶äººï¼š Leonard Xu&#013;&#010;&gt; &gt; å‘é€æ—¶é—´ï¼š 2020-07-14 16:17&#013;&#010;&gt; &gt; æ”¶ä»¶äººï¼š user-zh&#013;&#010;&gt; &gt; ä¸»é¢˜ï¼š Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt; &gt; HI, wanglei&#013;&#010;&gt; &gt; ä½ å¼€å¯äº† streaming-source.enable&#013;&#010;&gt; å—ï¼Ÿè¿™ä¸ªå‚æ•°ç”¨äºæŒ‡å®šå¦‚ä½•è¯»å–æ˜¯batchè¯»ï¼Œè¿˜æ˜¯streamè¯»ï¼Œå¦‚æœä½ è¦å®æ—¶è¯»çš„è¯åº”è¯¥æŠŠè¿™ä¸ªå€¼è®¾å®šä¸ºtrue,&#010;å¯ä»¥ä½¿ç”¨tablehints&#013;&#010;&gt; æ–¹ä¾¿åœ°æŒ‡å®šå‚æ•°ã€‚&#013;&#010;&gt; &gt; SELECT * FROM hive_table /*+ OPTIONS('streaming-source.enable'='true',&#013;&#010;&gt; 'streaming-source.consume-start-offset'='2020-05-20') */;&#013;&#010;&gt; &gt; å°±åœ¨ä½ çœ‹å¾—è¿™ä¸ªé¡µé¢åº”è¯¥æœ‰å¯¹åº”çš„æ–‡æ¡£è¯´æ˜å¦‚ä½•è¯»å–hiveæ•°æ®ã€‚&#013;&#010;&gt; &gt; ç¥å¥½ï¼Œ&#013;&#010;&gt; &gt; Leonard Xu&#013;&#010;&gt; &gt;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ15:47ï¼Œwanglei2@geekplus.com.cn å†™é“ï¼š&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; è¯•éªŒäº†ä¸€ä¸‹ Flink-1.11  hive streaming çš„åŠŸèƒ½&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/hive_streaming.html&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; åˆ›å»º kafka è¡¨ï¼Œé€šè¿‡ SQL å®æ—¶å†™å…¥ Hive.&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; ä½†æˆ‘å†é€šè¿‡ flink sql-client å®¢æˆ·ç«¯ select * from hive_table å®¢æˆ·ç«¯æ²¡æœ‰ä»»ä½•è¿”å›ï¼Œé€šè¿‡&#010;flink&#013;&#010;&gt; webUI é¡µé¢è§‚å¯Ÿ è¿™ä¸ª select * from hive_table çš„ job å·²ç»ç»“æŸäº†ã€‚&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; &gt;&gt; ç‹ç£Š&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; wanglei2@geekplus.com.cn&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&#013;&#010;-- &#013;&#010;Best regards!&#013;&#010;Rui Li&#013;&#010;",
        "depth": "5",
        "reply": "<202007141547551571989@geekplus.com.cn>"
    },
    {
        "id": "<2020071417493613931426@geekplus.com.cn>",
        "from": "&quot;wanglei2@geekplus.com.cn&quot; &lt;wangl...@geekplus.com.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 09:49:37 GMT",
        "subject": "å›å¤: Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®",
        "content": "æˆ‘æŠŠé—®é¢˜ç®€åŒ–ä¸€ä¸‹ï¼Œåˆ›å»º Hive è¡¨æ—¶ä¸å¸¦ä»»ä½•å‚æ•°&#013;&#010;&#013;&#010;CREATE TABLE hive_ods_wms_pick_order (&#013;&#010;  order_no STRING,&#013;&#010;  status INT,&#013;&#010;  dispatch_time TIMESTAMP&#013;&#010;)  STORED AS parquet&#013;&#010;&#013;&#010;INSERT INTO TABLE hive_ods_wms_pick_order SELECT order_no, status, dispatch_time FROM kafka_ods_wms_pick_order;&#013;&#010;&#013;&#010;æˆ‘ç”¨çš„ sql-client å®¢æˆ·ç«¯ï¼Œ15 åˆ†é’Ÿè¿‡å»äº† hive è¡¨å¯¹åº”çš„ hdfs ç›®å½•ä¸ºä»€ä¹ˆè¿˜åªæ˜¯æœ‰ä¸€ä¸ªå¤§å°ä¸º&#010;0 çš„ .part æ–‡ä»¶å‘¢ï¼Ÿ&#013;&#010;æˆ‘åœ¨ flink å®¢æˆ·ç«¯ SELECT order_no, status, dispatch_time FROM kafka_ods_wms_pick_order&#010;ç¡®å®æ˜¯æœ‰æ•°æ®è¿”å›çš„ã€‚&#013;&#010;&#013;&#010;æˆ‘åœ¨ flink web ui çœ‹äº†ä¸‹è¿™ä¸ª job çš„ Checkpoint Counts æ˜¯ 0.&#013;&#010;æ˜¯éœ€è¦è®© job åš checkpoint æ‰èƒ½å†™åˆ° hdfs ä¸Šå—ï¼Ÿ&#013;&#010;æˆ‘ç”¨ Flink sql-client å®¢æˆ·ç«¯æ€ä¹ˆè®¾ç½®åš checkpoint çš„é¢‘ç‡å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;è°¢è°¢ï¼Œ&#013;&#010;ç‹ç£Š&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;&#013;&#010; &#013;&#010;å‘ä»¶äººï¼š Leonard Xu&#013;&#010;å‘é€æ—¶é—´ï¼š 2020-07-14 17:20&#013;&#010;æ”¶ä»¶äººï¼š user-zh; å¤å¸…&#013;&#010;æŠ„é€ï¼š wanglei2@geekplus.com.cn&#013;&#010;ä¸»é¢˜ï¼š Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&#013;&#010;Hi, wanglei&#013;&#010;&#013;&#010;è¿™ä¸ªå‚æ•° 'sink.partition-commit.delay'='1 hâ€™ä¼šåœ¨cp å®Œæˆå + ä½ è®¾ç½®çš„1h delayåæ‰ä¼šæäº¤&#010;hive çš„åˆ†åŒºå·²å®Œæˆä¿¡æ¯(é€šè¿‡metastoreæˆ–successæ–‡ä»¶).&#013;&#010;&#013;&#010;ä½ çœ‹ä¸‹å¤å¸…è´´çš„é‚®ä»¶ï¼Œæ£€æŸ¥ä¸‹ checkpoint å’Œ  partition-commitçš„è®¾ç½®&#013;&#010;&#013;&#010;ç¥å¥½,&#013;&#010;Leonard Xu&#013;&#010;&#013;&#010;&#013;&#010;åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ16:59ï¼Œå¤å¸… &lt;jkillers@dingtalk.com.INVALID&gt; å†™é“ï¼š&#013;&#010;&#013;&#010;ä½ å¥½,&#013;&#010;å¯ä»¥å‚è€ƒä¸‹è¿™ä¸ªé—®é¢˜çš„è§£å†³&#013;&#010;http://apache-flink.147419.n8.nabble.com/Table-options-do-not-contain-an-option-key-connector-for-discovering-a-connector-td4767.html&#013;&#010;&#013;&#010;&#013;&#010;------------------------------------------------------------------&#013;&#010;å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#013;&#010;å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:50&#013;&#010;æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; å¤å¸… &lt;jkillers@dingtalk.com&gt;;&#010;Leonard Xu &lt;xbjtdcq@gmail.com&gt;&#013;&#010;ä¸»ã€€é¢˜ï¼šRe: å›å¤: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&#013;&#010;&#013;&#010;åº”è¯¥æ˜¯æˆ‘æ²¡æœ‰ç†è§£ partitiion-commit çš„æ„æ€ï¼Œæˆ‘çœ‹è¿™é‡Œæœ‰æ–‡æ¡£ï¼šhttps://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/filesystem.html#partition-commit&#013;&#010;&#013;&#010;&#013;&#010;CREATE TABLE kafka_ods_wms_pick_order (&#013;&#010;order_no STRING,&#013;&#010;status INT,&#013;&#010;dispatch_time TIMESTAMP(3)&#013;&#010;) WITH (&#013;&#010;'connector' = 'kafka',&#013;&#010;'topic' = 'ods_wms_pick_order',&#013;&#010;'properties.bootstrap.servers' = 'xxxx:9092',&#013;&#010;'properties.group.id' = 'testGroup',&#013;&#010;'format' = 'json',&#013;&#010;'scan.startup.mode' = 'latest-offset'&#013;&#010;)&#013;&#010;&#013;&#010;&#013;&#010;CREATE TABLE hive_ods_wms_pick_order (&#013;&#010; order_no STRING,&#013;&#010; status INT,&#013;&#010; dispatch_time TIMESTAMP&#013;&#010;) PARTITIONED BY (dt STRING, hr STRING) STORED AS parquet TBLPROPERTIES (&#013;&#010; 'partition.time-extractor.timestamp-pattern'='$dt $hr:00:00',&#013;&#010; 'sink.partition-commit.trigger'='partition-time',&#013;&#010; 'sink.partition-commit.delay'='1 h',&#013;&#010; 'sink.partition-commit.policy.kind'='metastore,success-file'&#013;&#010;);&#013;&#010;&#013;&#010;INSERT INTO TABLE hive_ods_wms_pick_order SELECT order_no, status, dispatch_time, DATE_FORMAT(dispatch_time,&#010;'yyyy-MM-dd'), DATE_FORMAT(dispatch_time, 'HH') FROM kafka_ods_wms_pick_order;&#013;&#010;SELECT * FROM hive_ods_wms_pick_order /*+ OPTIONS('streaming-source.enable'='true', 'streaming-source.consume-start-offset'='2020-07-24')&#010;*/;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn&#013;&#010;&#013;&#010;&#013;&#010;Sender: å¤å¸…&#013;&#010;Send Time: 2020-07-14 16:43&#013;&#010;Receiver: user-zh; xbjtdcq&#013;&#010;Subject: å›å¤ï¼šRe: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;ä½ å¥½,&#013;&#010;è¿™è¯´æ˜å†™å…¥çš„hiveæ–‡ä»¶æ²¡æœ‰è¿›è¡Œrollup,å¯ä»¥è´´ä¸‹SQLä¹ˆ&#013;&#010;------------------------------------------------------------------&#013;&#010;å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#013;&#010;å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:40&#013;&#010;æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; xbjtdcq &lt;xbjtdcq@gmail.com&gt;&#013;&#010;ä¸»ã€€é¢˜ï¼šå›å¤: Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;æˆ‘åŠ ä¸Šäº†è¿™ä¸ª tablehint ã€‚&#013;&#010;ä»»åŠ¡æäº¤ä¸Šå»äº†ï¼Œä½†å®¢æˆ·ç«¯è¿˜æ˜¯æ²¡æœ‰ä»»ä½•è¿”å›æ˜¾ç¤ºã€‚ &#013;&#010;æˆ‘åˆ° hadoop é›†ç¾¤ä¸Šçœ‹äº†ä¸‹ hive è¡¨æ‰€åœ¨çš„è¿™ä¸ªç›®å½•ï¼Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½æ˜¯ .part&#010;å¼€å¤´çš„ inprogress æ–‡ä»¶ã€‚ &#013;&#010;è°¢è°¢ï¼Œ&#013;&#010;ç‹ç£Š&#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;å‘ä»¶äººï¼š Leonard Xu&#013;&#010;å‘é€æ—¶é—´ï¼š 2020-07-14 16:17&#013;&#010;æ”¶ä»¶äººï¼š user-zh&#013;&#010;ä¸»é¢˜ï¼š Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;HI, wanglei&#013;&#010;ä½ å¼€å¯äº† streaming-source.enable å—ï¼Ÿè¿™ä¸ªå‚æ•°ç”¨äºæŒ‡å®šå¦‚ä½•è¯»å–æ˜¯batchè¯»ï¼Œè¿˜æ˜¯streamè¯»ï¼Œå¦‚æœä½ è¦å®æ—¶è¯»çš„è¯åº”è¯¥æŠŠè¿™ä¸ªå€¼è®¾å®šä¸ºtrue,&#010;å¯ä»¥ä½¿ç”¨tablehints æ–¹ä¾¿åœ°æŒ‡å®šå‚æ•°ã€‚&#013;&#010;SELECT * FROM hive_table /*+ OPTIONS('streaming-source.enable'='true', 'streaming-source.consume-start-offset'='2020-05-20')&#010;*/;&#013;&#010;å°±åœ¨ä½ çœ‹å¾—è¿™ä¸ªé¡µé¢åº”è¯¥æœ‰å¯¹åº”çš„æ–‡æ¡£è¯´æ˜å¦‚ä½•è¯»å–hiveæ•°æ®ã€‚&#013;&#010;ç¥å¥½ï¼Œ&#013;&#010;Leonard Xu&#013;&#010;åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ15:47ï¼Œwanglei2@geekplus.com.cn å†™é“ï¼š&#013;&#010;&#013;&#010;&#013;&#010;è¯•éªŒäº†ä¸€ä¸‹ Flink-1.11  hive streaming çš„åŠŸèƒ½&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/hive_streaming.html&#013;&#010;&#013;&#010;åˆ›å»º kafka è¡¨ï¼Œé€šè¿‡ SQL å®æ—¶å†™å…¥ Hive.&#013;&#010;&#013;&#010;ä½†æˆ‘å†é€šè¿‡ flink sql-client å®¢æˆ·ç«¯ select * from hive_table å®¢æˆ·ç«¯æ²¡æœ‰ä»»ä½•è¿”å›ï¼Œé€šè¿‡&#010;flink webUI é¡µé¢è§‚å¯Ÿ è¿™ä¸ª select * from hive_table çš„ job å·²ç»ç»“æŸäº†ã€‚&#013;&#010;&#013;&#010;è°¢è°¢ï¼Œ&#013;&#010;ç‹ç£Š&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;&#013;&#010;&#013;&#010;",
        "depth": "1",
        "reply": "<202007141547551571989@geekplus.com.cn>"
    },
    {
        "id": "<CADH6UNTgxt9bOiHbT+5WossMQrbPKwJzvwh56Rp14Fn15Ez3BQ@mail.gmail.com>",
        "from": "Rui Li &lt;lirui.fu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 10:29:52 GMT",
        "subject": "Re: Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®",
        "content": "æµæ•°æ®å†™hiveæ—¶ï¼Œä¸ç®¡æ˜¯åˆ†åŒºè¡¨è¿˜æ˜¯éåˆ†åŒºè¡¨ï¼Œcommitéƒ½æ˜¯é€šè¿‡checkpointè§¦å‘çš„ã€‚ç”¨SQL&#013;&#010;clientçš„è¯å¯ä»¥åœ¨flink-conf.yamlé‡Œè®¾ç½®execution.checkpointing.intervalæ¥å¼€å¯checkpoint&#013;&#010;&#013;&#010;On Tue, Jul 14, 2020 at 5:49 PM wanglei2@geekplus.com.cn &lt;&#013;&#010;wanglei2@geekplus.com.cn&gt; wrote:&#013;&#010;&#013;&#010;&gt; æˆ‘æŠŠé—®é¢˜ç®€åŒ–ä¸€ä¸‹ï¼Œåˆ›å»º Hive è¡¨æ—¶ä¸å¸¦ä»»ä½•å‚æ•°&#013;&#010;&gt;&#013;&#010;&gt; CREATE TABLE hive_ods_wms_pick_order (&#013;&#010;&gt;   order_no STRING,&#013;&#010;&gt;   status INT,&#013;&#010;&gt;   dispatch_time TIMESTAMP&#013;&#010;&gt; )  STORED AS parquet&#013;&#010;&gt;&#013;&#010;&gt; INSERT INTO TABLE hive_ods_wms_pick_order SELECT order_no, status,&#013;&#010;&gt; dispatch_time FROM kafka_ods_wms_pick_order;&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘ç”¨çš„ sql-client å®¢æˆ·ç«¯ï¼Œ15 åˆ†é’Ÿè¿‡å»äº† hive è¡¨å¯¹åº”çš„ hdfs ç›®å½•ä¸ºä»€ä¹ˆè¿˜åªæ˜¯æœ‰ä¸€ä¸ªå¤§å°ä¸º&#010;0 çš„ .part æ–‡ä»¶å‘¢ï¼Ÿ&#013;&#010;&gt; æˆ‘åœ¨ flink å®¢æˆ·ç«¯ SELECT order_no, status, dispatch_time FROM&#013;&#010;&gt; kafka_ods_wms_pick_order ç¡®å®æ˜¯æœ‰æ•°æ®è¿”å›çš„ã€‚&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘åœ¨ flink web ui çœ‹äº†ä¸‹è¿™ä¸ª job çš„ Checkpoint Counts æ˜¯ 0.&#013;&#010;&gt; æ˜¯éœ€è¦è®© job åš checkpoint æ‰èƒ½å†™åˆ° hdfs ä¸Šå—ï¼Ÿ&#013;&#010;&gt; æˆ‘ç”¨ Flink sql-client å®¢æˆ·ç«¯æ€ä¹ˆè®¾ç½®åš checkpoint çš„é¢‘ç‡å‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; ç‹ç£Š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; wanglei2@geekplus.com.cn&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å‘ä»¶äººï¼š Leonard Xu&#013;&#010;&gt; å‘é€æ—¶é—´ï¼š 2020-07-14 17:20&#013;&#010;&gt; æ”¶ä»¶äººï¼š user-zh; å¤å¸…&#013;&#010;&gt; æŠ„é€ï¼š wanglei2@geekplus.com.cn&#013;&#010;&gt; ä¸»é¢˜ï¼š Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt;&#013;&#010;&gt; Hi, wanglei&#013;&#010;&gt;&#013;&#010;&gt; è¿™ä¸ªå‚æ•° 'sink.partition-commit.delay'='1 hâ€™ä¼šåœ¨cp å®Œæˆå + ä½ è®¾ç½®çš„1h&#010;delayåæ‰ä¼šæäº¤ hive&#013;&#010;&gt; çš„åˆ†åŒºå·²å®Œæˆä¿¡æ¯(é€šè¿‡metastoreæˆ–successæ–‡ä»¶).&#013;&#010;&gt;&#013;&#010;&gt; ä½ çœ‹ä¸‹å¤å¸…è´´çš„é‚®ä»¶ï¼Œæ£€æŸ¥ä¸‹ checkpoint å’Œ  partition-commitçš„è®¾ç½®&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½,&#013;&#010;&gt; Leonard Xu&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ16:59ï¼Œå¤å¸… &lt;jkillers@dingtalk.com.INVALID&gt; å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; ä½ å¥½,&#013;&#010;&gt; å¯ä»¥å‚è€ƒä¸‹è¿™ä¸ªé—®é¢˜çš„è§£å†³&#013;&#010;&gt;&#013;&#010;&gt; http://apache-flink.147419.n8.nabble.com/Table-options-do-not-contain-an-option-key-connector-for-discovering-a-connector-td4767.html&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ------------------------------------------------------------------&#013;&#010;&gt; å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#013;&#010;&gt; å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:50&#013;&#010;&gt; æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; å¤å¸… &lt;jkillers@dingtalk.com&gt;;&#013;&#010;&gt; Leonard Xu &lt;xbjtdcq@gmail.com&gt;&#013;&#010;&gt; ä¸» é¢˜ï¼šRe: å›å¤: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; åº”è¯¥æ˜¯æˆ‘æ²¡æœ‰ç†è§£ partitiion-commit çš„æ„æ€ï¼Œæˆ‘çœ‹è¿™é‡Œæœ‰æ–‡æ¡£ï¼š&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/filesystem.html#partition-commit&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; CREATE TABLE kafka_ods_wms_pick_order (&#013;&#010;&gt; order_no STRING,&#013;&#010;&gt; status INT,&#013;&#010;&gt; dispatch_time TIMESTAMP(3)&#013;&#010;&gt; ) WITH (&#013;&#010;&gt; 'connector' = 'kafka',&#013;&#010;&gt; 'topic' = 'ods_wms_pick_order',&#013;&#010;&gt; 'properties.bootstrap.servers' = 'xxxx:9092',&#013;&#010;&gt; 'properties.group.id' = 'testGroup',&#013;&#010;&gt; 'format' = 'json',&#013;&#010;&gt; 'scan.startup.mode' = 'latest-offset'&#013;&#010;&gt; )&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; CREATE TABLE hive_ods_wms_pick_order (&#013;&#010;&gt;  order_no STRING,&#013;&#010;&gt;  status INT,&#013;&#010;&gt;  dispatch_time TIMESTAMP&#013;&#010;&gt; ) PARTITIONED BY (dt STRING, hr STRING) STORED AS parquet TBLPROPERTIES (&#013;&#010;&gt;  'partition.time-extractor.timestamp-pattern'='$dt $hr:00:00',&#013;&#010;&gt;  'sink.partition-commit.trigger'='partition-time',&#013;&#010;&gt;  'sink.partition-commit.delay'='1 h',&#013;&#010;&gt;  'sink.partition-commit.policy.kind'='metastore,success-file'&#013;&#010;&gt; );&#013;&#010;&gt;&#013;&#010;&gt; INSERT INTO TABLE hive_ods_wms_pick_order SELECT order_no, status,&#013;&#010;&gt; dispatch_time, DATE_FORMAT(dispatch_time, 'yyyy-MM-dd'),&#013;&#010;&gt; DATE_FORMAT(dispatch_time, 'HH') FROM kafka_ods_wms_pick_order;&#013;&#010;&gt; SELECT * FROM hive_ods_wms_pick_order /*+&#013;&#010;&gt; OPTIONS('streaming-source.enable'='true',&#013;&#010;&gt; 'streaming-source.consume-start-offset'='2020-07-24') */;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; wanglei2@geekplus.com.cn&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Sender: å¤å¸…&#013;&#010;&gt; Send Time: 2020-07-14 16:43&#013;&#010;&gt; Receiver: user-zh; xbjtdcq&#013;&#010;&gt; Subject: å›å¤ï¼šRe: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt; ä½ å¥½,&#013;&#010;&gt; è¿™è¯´æ˜å†™å…¥çš„hiveæ–‡ä»¶æ²¡æœ‰è¿›è¡Œrollup,å¯ä»¥è´´ä¸‹SQLä¹ˆ&#013;&#010;&gt; ------------------------------------------------------------------&#013;&#010;&gt; å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#013;&#010;&gt; å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:40&#013;&#010;&gt; æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; xbjtdcq &lt;xbjtdcq@gmail.com&gt;&#013;&#010;&gt; ä¸» é¢˜ï¼šå›å¤: Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt; æˆ‘åŠ ä¸Šäº†è¿™ä¸ª tablehint ã€‚&#013;&#010;&gt; ä»»åŠ¡æäº¤ä¸Šå»äº†ï¼Œä½†å®¢æˆ·ç«¯è¿˜æ˜¯æ²¡æœ‰ä»»ä½•è¿”å›æ˜¾ç¤ºã€‚&#013;&#010;&gt; æˆ‘åˆ° hadoop é›†ç¾¤ä¸Šçœ‹äº†ä¸‹ hive è¡¨æ‰€åœ¨çš„è¿™ä¸ªç›®å½•ï¼Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½æ˜¯&#010;.part å¼€å¤´çš„ inprogress æ–‡ä»¶ã€‚&#013;&#010;&gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; ç‹ç£Š&#013;&#010;&gt; wanglei2@geekplus.com.cn&#013;&#010;&gt; å‘ä»¶äººï¼š Leonard Xu&#013;&#010;&gt; å‘é€æ—¶é—´ï¼š 2020-07-14 16:17&#013;&#010;&gt; æ”¶ä»¶äººï¼š user-zh&#013;&#010;&gt; ä¸»é¢˜ï¼š Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt; HI, wanglei&#013;&#010;&gt; ä½ å¼€å¯äº† streaming-source.enable&#013;&#010;&gt; å—ï¼Ÿè¿™ä¸ªå‚æ•°ç”¨äºæŒ‡å®šå¦‚ä½•è¯»å–æ˜¯batchè¯»ï¼Œè¿˜æ˜¯streamè¯»ï¼Œå¦‚æœä½ è¦å®æ—¶è¯»çš„è¯åº”è¯¥æŠŠè¿™ä¸ªå€¼è®¾å®šä¸ºtrue,&#010;å¯ä»¥ä½¿ç”¨tablehints&#013;&#010;&gt; æ–¹ä¾¿åœ°æŒ‡å®šå‚æ•°ã€‚&#013;&#010;&gt; SELECT * FROM hive_table /*+ OPTIONS('streaming-source.enable'='true',&#013;&#010;&gt; 'streaming-source.consume-start-offset'='2020-05-20') */;&#013;&#010;&gt; å°±åœ¨ä½ çœ‹å¾—è¿™ä¸ªé¡µé¢åº”è¯¥æœ‰å¯¹åº”çš„æ–‡æ¡£è¯´æ˜å¦‚ä½•è¯»å–hiveæ•°æ®ã€‚&#013;&#010;&gt; ç¥å¥½ï¼Œ&#013;&#010;&gt; Leonard Xu&#013;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ15:47ï¼Œwanglei2@geekplus.com.cn å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; è¯•éªŒäº†ä¸€ä¸‹ Flink-1.11  hive streaming çš„åŠŸèƒ½&#013;&#010;&gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/hive_streaming.html&#013;&#010;&gt;&#013;&#010;&gt; åˆ›å»º kafka è¡¨ï¼Œé€šè¿‡ SQL å®æ—¶å†™å…¥ Hive.&#013;&#010;&gt;&#013;&#010;&gt; ä½†æˆ‘å†é€šè¿‡ flink sql-client å®¢æˆ·ç«¯ select * from hive_table å®¢æˆ·ç«¯æ²¡æœ‰ä»»ä½•è¿”å›ï¼Œé€šè¿‡&#010;flink&#013;&#010;&gt; webUI é¡µé¢è§‚å¯Ÿ è¿™ä¸ª select * from hive_table çš„ job å·²ç»ç»“æŸäº†ã€‚&#013;&#010;&gt;&#013;&#010;&gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; ç‹ç£Š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; wanglei2@geekplus.com.cn&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&#013;&#010;-- &#013;&#010;Best regards!&#013;&#010;Rui Li&#013;&#010;",
        "depth": "2",
        "reply": "<202007141547551571989@geekplus.com.cn>"
    },
    {
        "id": "<2020071418495504683228@geekplus.com.cn>",
        "from": "&quot;wanglei2@geekplus.com.cn&quot; &lt;wangl...@geekplus.com.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 10:49:56 GMT",
        "subject": "Re: Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®",
        "content": "&#013;&#010;è°¢è°¢ï¼Œæ ¹æœ¬åŸå› å°±æ˜¯  flink sql-client å®¢æˆ·ç«¯é»˜è®¤æ²¡æœ‰è®¾ç½® checkpoint å¯¼è‡´çš„ã€‚&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;&#013;&#010; &#013;&#010;Sender: Rui Li&#013;&#010;Send Time: 2020-07-14 18:29&#013;&#010;Receiver: user-zh&#013;&#010;cc: Leonard Xu; å¤å¸…&#013;&#010;Subject: Re: Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;æµæ•°æ®å†™hiveæ—¶ï¼Œä¸ç®¡æ˜¯åˆ†åŒºè¡¨è¿˜æ˜¯éåˆ†åŒºè¡¨ï¼Œcommitéƒ½æ˜¯é€šè¿‡checkpointè§¦å‘çš„ã€‚ç”¨SQL&#013;&#010;clientçš„è¯å¯ä»¥åœ¨flink-conf.yamlé‡Œè®¾ç½®execution.checkpointing.intervalæ¥å¼€å¯checkpoint&#013;&#010; &#013;&#010;On Tue, Jul 14, 2020 at 5:49 PM wanglei2@geekplus.com.cn &lt;&#013;&#010;wanglei2@geekplus.com.cn&gt; wrote:&#013;&#010; &#013;&#010;&gt; æˆ‘æŠŠé—®é¢˜ç®€åŒ–ä¸€ä¸‹ï¼Œåˆ›å»º Hive è¡¨æ—¶ä¸å¸¦ä»»ä½•å‚æ•°&#013;&#010;&gt;&#013;&#010;&gt; CREATE TABLE hive_ods_wms_pick_order (&#013;&#010;&gt;   order_no STRING,&#013;&#010;&gt;   status INT,&#013;&#010;&gt;   dispatch_time TIMESTAMP&#013;&#010;&gt; )  STORED AS parquet&#013;&#010;&gt;&#013;&#010;&gt; INSERT INTO TABLE hive_ods_wms_pick_order SELECT order_no, status,&#013;&#010;&gt; dispatch_time FROM kafka_ods_wms_pick_order;&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘ç”¨çš„ sql-client å®¢æˆ·ç«¯ï¼Œ15 åˆ†é’Ÿè¿‡å»äº† hive è¡¨å¯¹åº”çš„ hdfs ç›®å½•ä¸ºä»€ä¹ˆè¿˜åªæ˜¯æœ‰ä¸€ä¸ªå¤§å°ä¸º&#010;0 çš„ .part æ–‡ä»¶å‘¢ï¼Ÿ&#013;&#010;&gt; æˆ‘åœ¨ flink å®¢æˆ·ç«¯ SELECT order_no, status, dispatch_time FROM&#013;&#010;&gt; kafka_ods_wms_pick_order ç¡®å®æ˜¯æœ‰æ•°æ®è¿”å›çš„ã€‚&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘åœ¨ flink web ui çœ‹äº†ä¸‹è¿™ä¸ª job çš„ Checkpoint Counts æ˜¯ 0.&#013;&#010;&gt; æ˜¯éœ€è¦è®© job åš checkpoint æ‰èƒ½å†™åˆ° hdfs ä¸Šå—ï¼Ÿ&#013;&#010;&gt; æˆ‘ç”¨ Flink sql-client å®¢æˆ·ç«¯æ€ä¹ˆè®¾ç½®åš checkpoint çš„é¢‘ç‡å‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; ç‹ç£Š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; wanglei2@geekplus.com.cn&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å‘ä»¶äººï¼š Leonard Xu&#013;&#010;&gt; å‘é€æ—¶é—´ï¼š 2020-07-14 17:20&#013;&#010;&gt; æ”¶ä»¶äººï¼š user-zh; å¤å¸…&#013;&#010;&gt; æŠ„é€ï¼š wanglei2@geekplus.com.cn&#013;&#010;&gt; ä¸»é¢˜ï¼š Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt;&#013;&#010;&gt; Hi, wanglei&#013;&#010;&gt;&#013;&#010;&gt; è¿™ä¸ªå‚æ•° 'sink.partition-commit.delay'='1 hâ€™ä¼šåœ¨cp å®Œæˆå + ä½ è®¾ç½®çš„1h&#010;delayåæ‰ä¼šæäº¤ hive&#013;&#010;&gt; çš„åˆ†åŒºå·²å®Œæˆä¿¡æ¯(é€šè¿‡metastoreæˆ–successæ–‡ä»¶).&#013;&#010;&gt;&#013;&#010;&gt; ä½ çœ‹ä¸‹å¤å¸…è´´çš„é‚®ä»¶ï¼Œæ£€æŸ¥ä¸‹ checkpoint å’Œ  partition-commitçš„è®¾ç½®&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½,&#013;&#010;&gt; Leonard Xu&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ16:59ï¼Œå¤å¸… &lt;jkillers@dingtalk.com.INVALID&gt; å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; ä½ å¥½,&#013;&#010;&gt; å¯ä»¥å‚è€ƒä¸‹è¿™ä¸ªé—®é¢˜çš„è§£å†³&#013;&#010;&gt;&#013;&#010;&gt; http://apache-flink.147419.n8.nabble.com/Table-options-do-not-contain-an-option-key-connector-for-discovering-a-connector-td4767.html&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ------------------------------------------------------------------&#013;&#010;&gt; å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#013;&#010;&gt; å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:50&#013;&#010;&gt; æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; å¤å¸… &lt;jkillers@dingtalk.com&gt;;&#013;&#010;&gt; Leonard Xu &lt;xbjtdcq@gmail.com&gt;&#013;&#010;&gt; ä¸» é¢˜ï¼šRe: å›å¤: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; åº”è¯¥æ˜¯æˆ‘æ²¡æœ‰ç†è§£ partitiion-commit çš„æ„æ€ï¼Œæˆ‘çœ‹è¿™é‡Œæœ‰æ–‡æ¡£ï¼š&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/filesystem.html#partition-commit&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; CREATE TABLE kafka_ods_wms_pick_order (&#013;&#010;&gt; order_no STRING,&#013;&#010;&gt; status INT,&#013;&#010;&gt; dispatch_time TIMESTAMP(3)&#013;&#010;&gt; ) WITH (&#013;&#010;&gt; 'connector' = 'kafka',&#013;&#010;&gt; 'topic' = 'ods_wms_pick_order',&#013;&#010;&gt; 'properties.bootstrap.servers' = 'xxxx:9092',&#013;&#010;&gt; 'properties.group.id' = 'testGroup',&#013;&#010;&gt; 'format' = 'json',&#013;&#010;&gt; 'scan.startup.mode' = 'latest-offset'&#013;&#010;&gt; )&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; CREATE TABLE hive_ods_wms_pick_order (&#013;&#010;&gt;  order_no STRING,&#013;&#010;&gt;  status INT,&#013;&#010;&gt;  dispatch_time TIMESTAMP&#013;&#010;&gt; ) PARTITIONED BY (dt STRING, hr STRING) STORED AS parquet TBLPROPERTIES (&#013;&#010;&gt;  'partition.time-extractor.timestamp-pattern'='$dt $hr:00:00',&#013;&#010;&gt;  'sink.partition-commit.trigger'='partition-time',&#013;&#010;&gt;  'sink.partition-commit.delay'='1 h',&#013;&#010;&gt;  'sink.partition-commit.policy.kind'='metastore,success-file'&#013;&#010;&gt; );&#013;&#010;&gt;&#013;&#010;&gt; INSERT INTO TABLE hive_ods_wms_pick_order SELECT order_no, status,&#013;&#010;&gt; dispatch_time, DATE_FORMAT(dispatch_time, 'yyyy-MM-dd'),&#013;&#010;&gt; DATE_FORMAT(dispatch_time, 'HH') FROM kafka_ods_wms_pick_order;&#013;&#010;&gt; SELECT * FROM hive_ods_wms_pick_order /*+&#013;&#010;&gt; OPTIONS('streaming-source.enable'='true',&#013;&#010;&gt; 'streaming-source.consume-start-offset'='2020-07-24') */;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; wanglei2@geekplus.com.cn&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Sender: å¤å¸…&#013;&#010;&gt; Send Time: 2020-07-14 16:43&#013;&#010;&gt; Receiver: user-zh; xbjtdcq&#013;&#010;&gt; Subject: å›å¤ï¼šRe: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt; ä½ å¥½,&#013;&#010;&gt; è¿™è¯´æ˜å†™å…¥çš„hiveæ–‡ä»¶æ²¡æœ‰è¿›è¡Œrollup,å¯ä»¥è´´ä¸‹SQLä¹ˆ&#013;&#010;&gt; ------------------------------------------------------------------&#013;&#010;&gt; å‘ä»¶äººï¼šwanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt;&#013;&#010;&gt; å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ14æ—¥(æ˜ŸæœŸäºŒ) 16:40&#013;&#010;&gt; æ”¶ä»¶äººï¼šuser-zh &lt;user-zh@flink.apache.org&gt;; xbjtdcq &lt;xbjtdcq@gmail.com&gt;&#013;&#010;&gt; ä¸» é¢˜ï¼šå›å¤: Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt; æˆ‘åŠ ä¸Šäº†è¿™ä¸ª tablehint ã€‚&#013;&#010;&gt; ä»»åŠ¡æäº¤ä¸Šå»äº†ï¼Œä½†å®¢æˆ·ç«¯è¿˜æ˜¯æ²¡æœ‰ä»»ä½•è¿”å›æ˜¾ç¤ºã€‚&#013;&#010;&gt; æˆ‘åˆ° hadoop é›†ç¾¤ä¸Šçœ‹äº†ä¸‹ hive è¡¨æ‰€åœ¨çš„è¿™ä¸ªç›®å½•ï¼Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½æ˜¯&#010;.part å¼€å¤´çš„ inprogress æ–‡ä»¶ã€‚&#013;&#010;&gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; ç‹ç£Š&#013;&#010;&gt; wanglei2@geekplus.com.cn&#013;&#010;&gt; å‘ä»¶äººï¼š Leonard Xu&#013;&#010;&gt; å‘é€æ—¶é—´ï¼š 2020-07-14 16:17&#013;&#010;&gt; æ”¶ä»¶äººï¼š user-zh&#013;&#010;&gt; ä¸»é¢˜ï¼š Re: ä¸èƒ½å®æ—¶è¯»å–å®æ—¶å†™å…¥åˆ° Hive çš„æ•°æ®&#013;&#010;&gt; HI, wanglei&#013;&#010;&gt; ä½ å¼€å¯äº† streaming-source.enable&#013;&#010;&gt; å—ï¼Ÿè¿™ä¸ªå‚æ•°ç”¨äºæŒ‡å®šå¦‚ä½•è¯»å–æ˜¯batchè¯»ï¼Œè¿˜æ˜¯streamè¯»ï¼Œå¦‚æœä½ è¦å®æ—¶è¯»çš„è¯åº”è¯¥æŠŠè¿™ä¸ªå€¼è®¾å®šä¸ºtrue,&#010;å¯ä»¥ä½¿ç”¨tablehints&#013;&#010;&gt; æ–¹ä¾¿åœ°æŒ‡å®šå‚æ•°ã€‚&#013;&#010;&gt; SELECT * FROM hive_table /*+ OPTIONS('streaming-source.enable'='true',&#013;&#010;&gt; 'streaming-source.consume-start-offset'='2020-05-20') */;&#013;&#010;&gt; å°±åœ¨ä½ çœ‹å¾—è¿™ä¸ªé¡µé¢åº”è¯¥æœ‰å¯¹åº”çš„æ–‡æ¡£è¯´æ˜å¦‚ä½•è¯»å–hiveæ•°æ®ã€‚&#013;&#010;&gt; ç¥å¥½ï¼Œ&#013;&#010;&gt; Leonard Xu&#013;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ15:47ï¼Œwanglei2@geekplus.com.cn å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; è¯•éªŒäº†ä¸€ä¸‹ Flink-1.11  hive streaming çš„åŠŸèƒ½&#013;&#010;&gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/hive_streaming.html&#013;&#010;&gt;&#013;&#010;&gt; åˆ›å»º kafka è¡¨ï¼Œé€šè¿‡ SQL å®æ—¶å†™å…¥ Hive.&#013;&#010;&gt;&#013;&#010;&gt; ä½†æˆ‘å†é€šè¿‡ flink sql-client å®¢æˆ·ç«¯ select * from hive_table å®¢æˆ·ç«¯æ²¡æœ‰ä»»ä½•è¿”å›ï¼Œé€šè¿‡&#010;flink&#013;&#010;&gt; webUI é¡µé¢è§‚å¯Ÿ è¿™ä¸ª select * from hive_table çš„ job å·²ç»ç»“æŸäº†ã€‚&#013;&#010;&gt;&#013;&#010;&gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; ç‹ç£Š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; wanglei2@geekplus.com.cn&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010; &#013;&#010;-- &#013;&#010;Best regards!&#013;&#010;Rui Li&#013;&#010;",
        "depth": "1",
        "reply": "<202007141547551571989@geekplus.com.cn>"
    },
    {
        "id": "<1594719520194-0.post@n8.nabble.com>",
        "from": "jindy_liu &lt;286729...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 09:38:40 GMT",
        "subject": "flink 1.11 è‡ªå®šä¹‰RichFlatMapFunctionä¸­ä½¿ç”¨JdbcRowDataOutputFormat å†™pgsqlæ•°æ®é—®é¢˜ï¼ŒRuntimeContextåˆå§‹åŒ–é—®é¢˜ï¼Œç©ºæŒ‡é’ˆæˆ–RuntimeContextæœªåˆå§‹åŒ–ï¼Œå“ªé‡Œç”¨çš„ä¸å¯¹ï¼",
        "content": "ä»£ç ï¼Œç¼–è¯‘æ²¡é—®é¢˜ï¼Œä½†è¿è¡Œçš„æ—¶å€™ï¼ŒRichFlatMapFunctionåœ¨opençš„æ—¶å€™ï¼ŒJdbcRowDataOutputFormat.openä¼šcoreï¼Œè¯´RuntimeContextä¸ºç©ºï¼Œå¦‚æœå»æ‰outputFormatStatus.setRuntimeContext(this.getRuntimeContext())ï¼Œåˆä¼šæç¤ºæ²¡æœ‰åˆå§‹åŒ–ï¼Ÿ&#010;&#010;éº»çƒ¦å¤§ä½¬å¸®çœ‹çœ‹ï¼Œä»€ä¹ˆé—®é¢˜å•Šï¼Œæ˜¯æˆ‘å“ªé‡Œç”¨çš„ä¸å¯¹å—ï¼Ÿ&#010;&#010;&#010;        at&#010;akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;Caused by: java.lang.NullPointerException&#010;        at&#010;org.apache.flink.connector.jdbc.table.JdbcRowDataOutputFormat.createSimpleRowDataExecutor(JdbcRowDataOutputFormat.java:198)&#010;        at&#010;org.apache.flink.connector.jdbc.table.JdbcRowDataOutputFormat.lambda$new$2d156164$1(JdbcRowDataOutputFormat.java:94)&#010;        at&#010;org.apache.flink.connector.jdbc.internal.JdbcBatchingOutputFormat.createAndOpenStatementExecutor(JdbcBatchingOutputFormat.java:131)&#010;        at&#010;org.apache.flink.connector.jdbc.internal.JdbcBatchingOutputFormat.open(JdbcBatchingOutputFormat.java:113)&#010;        at&#010;org.apache.flink.connector.jdbc.table.JdbcRowDataOutputFormat.open(JdbcRowDataOutputFormat.java:103)&#010;        at&#010;com.qqmusic.quku.cdcSync.PostgresSinkMapFunction.open(PostgresSinkMapFunction.java:132)&#010;        at&#010;org.apache.flink.api.common.functions.util.FunctionUtils.openFunction(FunctionUtils.java:36)&#010;        at&#010;org.apache.flink.streaming.api.operators.AbstractUdfStreamOperator.open(AbstractUdfStreamOperator.java:102)&#010;        at&#010;org.apache.flink.streaming.api.operators.StreamFlatMap.open(StreamFlatMap.java:43)&#010;        at&#010;org.apache.flink.streaming.runtime.tasks.OperatorChain.initializeStateAndOpenOperators(OperatorChain.java:291)&#010;        at&#010;org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$beforeInvoke$0(StreamTask.java:473)&#010;        at&#010;org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$SynchronizedStreamTaskActionExecutor.runThrowing(StreamTaskActionExecutor.java:92)&#010;        at&#010;org.apache.flink.streaming.runtime.tasks.StreamTask.beforeInvoke(StreamTask.java:469)&#010;        at&#010;org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:522)&#010;        at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:721)&#010;        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:546)&#010;        at java.lang.Thread.run(Thread.java:748)&#010;&#010;&#010;&#010;ä»£ç =====&gt;&#010;&#010;public class PostgresSinkMapFunction extends RichFlatMapFunction&lt;String,&#010;String&gt; {&#010;    private static String driverClass = \"org.postgresql.Driver\";&#010;    private static String dbUrl =&#010;\"jdbc:postgresql://localhost:5432/ai_audio_lyric_task\";&#010;    private static String userNmae = \"postgres\";&#010;    private static String passWord = \"1\";&#010;&#010;    // è¡¨status&#010;    private static JdbcRowDataOutputFormat outputFormatStatus;&#010;    private static String[] fieldNames = new String[] {\"id\", \"name\"};&#010;    private static DataType[] fieldDataTypes = new DataType[]{&#010;            DataTypes.INT(),&#010;            DataTypes.STRING()};&#010;&#010;    private static RowType rowType = RowType.of(&#010;            Arrays.stream(fieldDataTypes)&#010;                    .map(DataType::getLogicalType)&#010;                    .toArray(LogicalType[]::new),&#010;            fieldNames);&#010;    private static RowDataTypeInfo rowDataTypeInfo =&#010;RowDataTypeInfo.of(rowType);&#010;&#010;    @Override&#010;    public void flatMap(String s, Collector&lt;String&gt; collector) throws&#010;Exception {&#010;            GenericRowData row = new GenericRowData(2);&#010;&#010;             row.setRowKind(INSERT);&#010;             row.setField(0, count);&#010;             row.setField(1, \"jindy\" + Integer.toString(count));&#010;&#010;            outputFormatStatus.writeRecord(row);&#010;&#010;    }&#010;&#010;    public void open(Configuration parameters) throws Exception {&#010;        super.open(parameters);&#010;&#010;        JdbcOptions jdbcOptions = JdbcOptions.builder()&#010;                .setDriverName(driverClass)&#010;                .setDBUrl(dbUrl)&#010;                .setTableName(\"status_mirror\")&#010;                .setUsername(userNmae)&#010;                .setPassword(passWord)&#010;                .build();&#010;&#010;        JdbcDmlOptions dmlOptions = JdbcDmlOptions.builder()&#010;                .withTableName(jdbcOptions.getTableName())&#010;                .withDialect(jdbcOptions.getDialect())&#010;                .withFieldNames(fieldNames)&#010;                .build();&#010;&#010;        outputFormatStatus =&#010;JdbcRowDataOutputFormat.dynamicOutputFormatBuilder()&#010;                .setJdbcOptions(jdbcOptions)&#010;                .setFieldDataTypes(fieldDataTypes)&#010;                .setJdbcDmlOptions(dmlOptions)&#010;               &#010;.setJdbcExecutionOptions(JdbcExecutionOptions.builder().build())&#010;                .build();&#010;&#010;        // set context,è¿™é‡Œæœ‰é—®é¢˜ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼&#010;        outputFormatStatus.setRuntimeContext(this.getRuntimeContext());&#010;        outputFormatStatus.open(0, 1);&#010;    }&#010;&#010;    public void close() throws Exception {&#010;        super.close();&#010;        outputFormatStatus.close();&#010;    }&#010;}&#010;&#010;&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "0",
        "reply": "<1594719520194-0.post@n8.nabble.com>"
    },
    {
        "id": "<CAELO933UhsjM5miZcBmTmOXhJKbHM9w92YBJ0Q86xJvSKAE69Q@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 02:33:14 GMT",
        "subject": "Re: flink 1.11 è‡ªå®šä¹‰RichFlatMapFunctionä¸­ä½¿ç”¨JdbcRowDataOutputFormat å†™pgsqlæ•°æ®é—®é¢˜ï¼ŒRuntimeContextåˆå§‹åŒ–é—®é¢˜ï¼Œç©ºæŒ‡é’ˆæˆ–RuntimeContextæœªåˆå§‹åŒ–ï¼Œå“ªé‡Œç”¨çš„ä¸å¯¹ï¼",
        "content": "Hiï¼Œ&#010;&#010;ä»å¼‚å¸¸æ¥çœ‹ï¼Œåº”è¯¥æ˜¯å°‘äº†å¦‚ä¸‹è¿™ä¸€è¡Œï¼š&#010;&#010;       outputFormatStatus =&#010;JdbcRowDataOutputFormat.dynamicOutputFormatBuilder()&#010;               .setJdbcOptions(jdbcOptions)&#010;               .setFieldDataTypes(fieldDataTypes)&#010;               .setJdbcDmlOptions(dmlOptions)&#010;&#010; .setJdbcExecutionOptions(JdbcExecutionOptions.builder().build())&#010;               .setRowDataTypeInfo(rowDataTypeInfo) // å°‘äº†è¿™ä¸€è¡Œ&#010;               .build();&#010;&#010;é¡ºä¾¿æé†’ä¸‹ï¼Œ `RowDataTypeInfo` å’Œ JdbcRowDataOutputFormat&#010;éƒ½æ˜¯å†…éƒ¨ç±»ï¼Œä¸ä¿è¯è·¨ç‰ˆæœ¬çš„å…¼å®¹æ€§ï¼ˆå…¶å®ï¼Œåœ¨ä¸‹ä¸ªç‰ˆæœ¬ï¼Œè¿™ä¸¤ä¸ªç±»éƒ½è¢«é‡æ„äº†ï¼‰ã€‚&#010;&#010;Best,&#010;Jark&#010;&#010;&#010;On Tue, 14 Jul 2020 at 17:38, jindy_liu &lt;286729788@qq.com&gt; wrote:&#010;&#010;&gt;&#010;&gt; ä»£ç ï¼Œç¼–è¯‘æ²¡é—®é¢˜ï¼Œä½†è¿è¡Œçš„æ—¶å€™ï¼ŒRichFlatMapFunctionåœ¨opençš„æ—¶å€™ï¼ŒJdbcRowDataOutputFormat.openä¼šcoreï¼Œè¯´RuntimeContextä¸ºç©ºï¼Œå¦‚æœå»æ‰outputFormatStatus.setRuntimeContext(this.getRuntimeContext())ï¼Œåˆä¼šæç¤ºæ²¡æœ‰åˆå§‹åŒ–ï¼Ÿ&#010;&gt;&#010;&gt; éº»çƒ¦å¤§ä½¬å¸®çœ‹çœ‹ï¼Œä»€ä¹ˆé—®é¢˜å•Šï¼Œæ˜¯æˆ‘å“ªé‡Œç”¨çš„ä¸å¯¹å—ï¼Ÿ&#010;&gt;&#010;&gt;&#010;&gt;         at&#010;&gt;&#010;&gt; akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;&gt; Caused by: java.lang.NullPointerException&#010;&gt;         at&#010;&gt;&#010;&gt; org.apache.flink.connector.jdbc.table.JdbcRowDataOutputFormat.createSimpleRowDataExecutor(JdbcRowDataOutputFormat.java:198)&#010;&gt;         at&#010;&gt;&#010;&gt; org.apache.flink.connector.jdbc.table.JdbcRowDataOutputFormat.lambda$new$2d156164$1(JdbcRowDataOutputFormat.java:94)&#010;&gt;         at&#010;&gt;&#010;&gt; org.apache.flink.connector.jdbc.internal.JdbcBatchingOutputFormat.createAndOpenStatementExecutor(JdbcBatchingOutputFormat.java:131)&#010;&gt;         at&#010;&gt;&#010;&gt; org.apache.flink.connector.jdbc.internal.JdbcBatchingOutputFormat.open(JdbcBatchingOutputFormat.java:113)&#010;&gt;         at&#010;&gt;&#010;&gt; org.apache.flink.connector.jdbc.table.JdbcRowDataOutputFormat.open(JdbcRowDataOutputFormat.java:103)&#010;&gt;         at&#010;&gt;&#010;&gt; com.qqmusic.quku.cdcSync.PostgresSinkMapFunction.open(PostgresSinkMapFunction.java:132)&#010;&gt;         at&#010;&gt;&#010;&gt; org.apache.flink.api.common.functions.util.FunctionUtils.openFunction(FunctionUtils.java:36)&#010;&gt;         at&#010;&gt;&#010;&gt; org.apache.flink.streaming.api.operators.AbstractUdfStreamOperator.open(AbstractUdfStreamOperator.java:102)&#010;&gt;         at&#010;&gt;&#010;&gt; org.apache.flink.streaming.api.operators.StreamFlatMap.open(StreamFlatMap.java:43)&#010;&gt;         at&#010;&gt;&#010;&gt; org.apache.flink.streaming.runtime.tasks.OperatorChain.initializeStateAndOpenOperators(OperatorChain.java:291)&#010;&gt;         at&#010;&gt;&#010;&gt; org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$beforeInvoke$0(StreamTask.java:473)&#010;&gt;         at&#010;&gt;&#010;&gt; org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$SynchronizedStreamTaskActionExecutor.runThrowing(StreamTaskActionExecutor.java:92)&#010;&gt;         at&#010;&gt;&#010;&gt; org.apache.flink.streaming.runtime.tasks.StreamTask.beforeInvoke(StreamTask.java:469)&#010;&gt;         at&#010;&gt;&#010;&gt; org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:522)&#010;&gt;         at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:721)&#010;&gt;         at org.apache.flink.runtime.taskmanager.Task.run(Task.java:546)&#010;&gt;         at java.lang.Thread.run(Thread.java:748)&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; ä»£ç =====&gt;&#010;&gt;&#010;&gt; public class PostgresSinkMapFunction extends RichFlatMapFunction&lt;String,&#010;&gt; String&gt; {&#010;&gt;     private static String driverClass = \"org.postgresql.Driver\";&#010;&gt;     private static String dbUrl =&#010;&gt; \"jdbc:postgresql://localhost:5432/ai_audio_lyric_task\";&#010;&gt;     private static String userNmae = \"postgres\";&#010;&gt;     private static String passWord = \"1\";&#010;&gt;&#010;&gt;     // è¡¨status&#010;&gt;     private static JdbcRowDataOutputFormat outputFormatStatus;&#010;&gt;     private static String[] fieldNames = new String[] {\"id\", \"name\"};&#010;&gt;     private static DataType[] fieldDataTypes = new DataType[]{&#010;&gt;             DataTypes.INT(),&#010;&gt;             DataTypes.STRING()};&#010;&gt;&#010;&gt;     private static RowType rowType = RowType.of(&#010;&gt;             Arrays.stream(fieldDataTypes)&#010;&gt;                     .map(DataType::getLogicalType)&#010;&gt;                     .toArray(LogicalType[]::new),&#010;&gt;             fieldNames);&#010;&gt;     private static RowDataTypeInfo rowDataTypeInfo =&#010;&gt; RowDataTypeInfo.of(rowType);&#010;&gt;&#010;&gt;     @Override&#010;&gt;     public void flatMap(String s, Collector&lt;String&gt; collector) throws&#010;&gt; Exception {&#010;&gt;             GenericRowData row = new GenericRowData(2);&#010;&gt;&#010;&gt;              row.setRowKind(INSERT);&#010;&gt;              row.setField(0, count);&#010;&gt;              row.setField(1, \"jindy\" + Integer.toString(count));&#010;&gt;&#010;&gt;             outputFormatStatus.writeRecord(row);&#010;&gt;&#010;&gt;     }&#010;&gt;&#010;&gt;     public void open(Configuration parameters) throws Exception {&#010;&gt;         super.open(parameters);&#010;&gt;&#010;&gt;         JdbcOptions jdbcOptions = JdbcOptions.builder()&#010;&gt;                 .setDriverName(driverClass)&#010;&gt;                 .setDBUrl(dbUrl)&#010;&gt;                 .setTableName(\"status_mirror\")&#010;&gt;                 .setUsername(userNmae)&#010;&gt;                 .setPassword(passWord)&#010;&gt;                 .build();&#010;&gt;&#010;&gt;         JdbcDmlOptions dmlOptions = JdbcDmlOptions.builder()&#010;&gt;                 .withTableName(jdbcOptions.getTableName())&#010;&gt;                 .withDialect(jdbcOptions.getDialect())&#010;&gt;                 .withFieldNames(fieldNames)&#010;&gt;                 .build();&#010;&gt;&#010;&gt;         outputFormatStatus =&#010;&gt; JdbcRowDataOutputFormat.dynamicOutputFormatBuilder()&#010;&gt;                 .setJdbcOptions(jdbcOptions)&#010;&gt;                 .setFieldDataTypes(fieldDataTypes)&#010;&gt;                 .setJdbcDmlOptions(dmlOptions)&#010;&gt;&#010;&gt; .setJdbcExecutionOptions(JdbcExecutionOptions.builder().build())&#010;&gt;                 .build();&#010;&gt;&#010;&gt;         // set context,è¿™é‡Œæœ‰é—®é¢˜ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼&#010;&gt;         outputFormatStatus.setRuntimeContext(this.getRuntimeContext());&#010;&gt;         outputFormatStatus.open(0, 1);&#010;&gt;     }&#010;&gt;&#010;&gt;     public void close() throws Exception {&#010;&gt;         super.close();&#010;&gt;         outputFormatStatus.close();&#010;&gt;     }&#010;&gt; }&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; --&#010;&gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&gt;&#010;&#010;",
        "depth": "1",
        "reply": "<1594719520194-0.post@n8.nabble.com>"
    },
    {
        "id": "<1594802652850-0.post@n8.nabble.com>",
        "from": "jindy_liu &lt;286729...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 08:44:12 GMT",
        "subject": "Re: flink 1.11 è‡ªå®šä¹‰RichFlatMapFunctionä¸­ä½¿ç”¨JdbcRowDataOutputFormat å†™pgsqlæ•°æ®é—®é¢˜ï¼ŒRuntimeContextåˆå§‹åŒ–é—®é¢˜ï¼Œç©ºæŒ‡é’ˆæˆ–RuntimeContextæœªåˆå§‹åŒ–ï¼Œå“ªé‡Œç”¨çš„ä¸å¯¹ï¼",
        "content": "ç¡®å®æ˜¯è¿™è¡Œå¯¼è‡´çš„ï¼Œ&#013;&#010;å¦‚æœéƒ½é‡æ„äº†ï¼Œé‚£åº”è¯¥æ€ä¹ˆç”¨è¾ƒå¥½çš„ï¼Ÿ&#013;&#010;æˆ‘éœ€è¦çŸ¥é“æ¯ä¸€è¡Œå¯¹åº”çš„æ˜¯insert, updateè¿˜æ˜¯deleteäº‹ä»¶ã€‚&#013;&#010;æˆ–è€…é—®é¢˜å˜ä¸€ä¸‹ï¼Œå¯¹äºè¿™ç§apiï¼Œä¸€èˆ¬éµå®ˆä»€ä¹ˆè§„åˆ™ï¼Œflinkçš„ç‰ˆæœ¬å…¼å®¹æ€§ä¼šæ›´å¥½ï¼Ÿ&#010;&#010;&#010;&#013;&#010;--&#013;&#010;Sent from: http://apache-flink.147419.n8.nabble.com/",
        "depth": "2",
        "reply": "<1594719520194-0.post@n8.nabble.com>"
    },
    {
        "id": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>",
        "from": "&quot;å°å­¦ç”Ÿ&quot; &lt;201782...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 09:56:39 GMT",
        "subject": "flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "å„ä½å¤§ä½¬å¥½ï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜flinkä»Kafkaè¯»æ•°ï¼Œå†™å…¥mysqlï¼Œå¯¹mysqlç»“æœæ ¹æ®ä¸»é”®è¿›è¡Œæ•°æ®æ›´æ–°ï¼Œçœ‹å®˜ç½‘æ˜¯æ”¯æŒâ€œon&#010;DUPLICATEâ€çš„ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œä¸­æŠ¥é”™æ˜¯è¿™ä¸ªå¯¼è‡´çš„è¯­æ³•é—®é¢˜ã€‚å®Œæ•´ä»£ç å¦‚ä¸‹ï¼Œæ˜¯åœ¨linuxä¸‹ï¼Œç›´æ¥python&#010;*.pyæ‰§è¡Œçš„ã€‚è¯·é—®ä¸‹è¿™ä¸ªæ˜¯ä¸æ”¯æŒå—ï¼Œè¿˜æ˜¯æ€ä¹ˆå†™å‘¢ï¼&#013;&#010;&#013;&#010;&#013;&#010;from pyflink.datastream import StreamExecutionEnvironment, TimeCharacteristic, CheckpointingMode&#013;&#010;from pyflink.table import StreamTableEnvironment, EnvironmentSettings&#013;&#010;source=\"\"\"&#013;&#010;CREATE TABLE kafka_source_tab (&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&#013;&#010;&amp;nbsp;trck_id VARCHAR,&#013;&#010;&amp;nbsp;score&amp;nbsp; INT&#013;&#010;&#013;&#010;&#013;&#010;) WITH (&#013;&#010;&amp;nbsp;'connector' = 'kafka',&#013;&#010;&amp;nbsp;'topic' = 'alarm_test_g',&amp;nbsp; &amp;nbsp;&#013;&#010;&amp;nbsp;'scan.startup.mode' = 'earliest-offset', &#013;&#010;&amp;nbsp;'properties.bootstrap.servers' = '10.2.2.73:2181',&#013;&#010;&amp;nbsp;'properties.bootstrap.servers' = '10.2.2.73:9092',&#013;&#010;&amp;nbsp;'format' = 'json'&amp;nbsp; &#013;&#010;)&#013;&#010;\"\"\"&#013;&#010;&#013;&#010;sink=\"\"\"&#013;&#010;CREATE TABLE g_source_tab (&#013;&#010;&amp;nbsp;trck_id VARCHAR,&#013;&#010;&amp;nbsp;score&amp;nbsp; INT,&#013;&#010;&#013;&#010;PRIMARY KEY (trck_id) NOT ENFORCED&#013;&#010;) WITH (&#013;&#010;&amp;nbsp;'connector' = 'jdbc',&#013;&#010;&amp;nbsp;'url' = 'jdbc:mysql://10.2.2.77:3306/bdt?useSSL=false',&amp;nbsp; &#013;&#010;&amp;nbsp;'table-name' = 'g',&amp;nbsp; &amp;nbsp;&#013;&#010;&amp;nbsp;'username' = 'root',&#013;&#010;&amp;nbsp;'password' = '123456t',&#013;&#010;&amp;nbsp;'sink.buffer-flush.interval' = '1s'&#013;&#010;)&#013;&#010;\"\"\"&#013;&#010;env = StreamExecutionEnvironment.get_execution_environment()&#013;&#010;env.set_stream_time_characteristic(TimeCharacteristic.EventTime)&#013;&#010;env.set_parallelism(1)&#013;&#010;env_settings = EnvironmentSettings.new_instance().use_blink_planner().in_streaming_mode().build()&#013;&#010;t_env = StreamTableEnvironment.create(env, environment_settings=env_settings)&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;t_env.execute_sql(source)&#013;&#010;t_env.execute_sql(sink)&#013;&#010;&#013;&#010;&#013;&#010;table_result1=t_env.execute_sql('''Insert into g_source_tab (`trck_id`,`score`) VALUES (select&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp;trck_id,score from kafka_source_tab ) ON DUPLICATE KEY UPDATE&#010;score=score+1''')&#013;&#010;&#013;&#010;table_result1.get_job_client().get_job_execution_result().result()",
        "depth": "0",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<3D487A2C-953F-4988-994F-10E0045C5E3A@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 10:15:30 GMT",
        "subject": "Re: flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "Hello,&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ17:56ï¼Œå°å­¦ç”Ÿ &lt;201782053@qq.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; ON DUPLICATE KEY UPDATE &#010;&#010;è¿™ä¸ªè¯­æ³• Flink è¿˜ä¸æ”¯æŒçš„ï¼Œå®˜ç½‘ä¸Šè¯´çš„ Flink çš„ JDBC connector å®ç° å¹‚ç­‰å†™å…¥[1]çš„æ–¹å¼ï¼Œå°±æ˜¯æœ‰ç›¸åŒpkçš„æ•°æ®åœ¨å†™å…¥æ•°æ®åº“æ—¶ï¼Œç¿»è¯‘æˆæ•°æ®åº“&#010;upsert SQLçš„æ–¹å¼ï¼Œè¿™é‡Œè¯´çš„è¯­æ³•æ˜¯æ•°æ®åº“çš„ SQL è¯­æ³• ã€‚&#010;&#010;&#010;Best,&#010;Leonard Xu&#010;[1] https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/jdbc.html#idempotent-writes&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/jdbc.html#idempotent-writes&gt;&#010;&#010;&#010;",
        "depth": "1",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<tencent_D331FB90AB817820D71FD933D9267573A807@qq.com>",
        "from": "&quot;å°å­¦ç”Ÿ&quot; &lt;201782...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 10:21:44 GMT",
        "subject": "Re: flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "å—¯å—¯ï¼Œè°¢è°¢å¤§ä½¬çš„è§£ç­”ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯sqlè‡ªå·±çš„è¯­æ³•æ˜¯æ”¯æŒå¢é‡å¼çš„æ¯”å¦‚score=score+1,ç°åœ¨flink1.11ç‰¹æ€§ååº”æˆæ•°æ®åº“&#010;upsert SQLçš„æ–¹å¼ï¼Œå…¶å®æ˜¯å…¨é‡çš„æ›´æ–°åŒPkçš„è®°å½•å§ï¼Œå¹¶è¾¾ä¸åˆ°å¢é‡çš„æƒ…å†µå§ã€‚",
        "depth": "2",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<9C6B7468-85BC-442F-AE85-2D99159B3B4E@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 10:28:42 GMT",
        "subject": "Re: flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "æ˜¯çš„ï¼Œç›®å‰æ˜¯æ›´æ–°ç›¸åŒpkçš„è®°å½•ï¼Œå¦‚æœéœ€è¦ç»Ÿè®¡ç›¸åŒpkçš„è®°å½•ï¼Œ Flinkè¡¨ä¸å£°æ˜PKå°±æ˜¯append&#010;å†™å…¥ï¼Œå°±ä¼šæœ‰å†™å…¥å¤šæ¡è®°å½•ï¼Œ(DBé‡Œçš„è¡¨ä¹Ÿä¸å£°æ˜pkï¼Œä¸ç„¶insertä¼šæŠ¥é”™)ã€‚&#013;&#010;&#013;&#010;ç¥å¥½&#013;&#010;&#013;&#010;&#013;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ18:21ï¼Œå°å­¦ç”Ÿ &lt;201782053@qq.com&gt; å†™é“ï¼š&#013;&#010;&gt; &#013;&#010;&gt; å—¯å—¯ï¼Œè°¢è°¢å¤§ä½¬çš„è§£ç­”ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯sqlè‡ªå·±çš„è¯­æ³•æ˜¯æ”¯æŒå¢é‡å¼çš„æ¯”å¦‚score=score+1,ç°åœ¨flink1.11ç‰¹æ€§ååº”æˆæ•°æ®åº“&#010;upsert SQLçš„æ–¹å¼ï¼Œå…¶å®æ˜¯å…¨é‡çš„æ›´æ–°åŒPkçš„è®°å½•å§ï¼Œå¹¶è¾¾ä¸åˆ°å¢é‡çš„æƒ…å†µå§ã€‚&#013;&#010;&#013;&#010;",
        "depth": "3",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<tencent_E5F6655725F1C4AEE5B27FB2AEEA9D500F08@qq.com>",
        "from": "&quot;å°å­¦ç”Ÿ&quot; &lt;201782...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 03:05:03 GMT",
        "subject": "Re: flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "å—¯å—¯ï¼Œè°¢è°¢å¤§ä½¬çš„ç†è§£ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯é™¤äº†updateï¼Œè¿™ä¸ªæˆ‘çœ‹æ–°æ€§èƒ½ä¹Ÿæ”¯æŒdeleteçš„ï¼Œä½†æ˜¯æ²¡æ‰¾åˆ°ç›¸å…³çš„éƒ¨åˆ†ï¼Œdeleteè¿™ä¸ªæ˜¯å¦ç±»ä¼¼ï¼šdelete&#010;table1 where score=1;çƒ¦è¯·å¤§ä½¬å¸®å¿™è§£ç­”ä¸‹ï¼Œä¸èƒœæ„Ÿæ¿€ã€‚",
        "depth": "4",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<94959E83-4AA2-47FE-8610-E74453F38526@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 03:23:08 GMT",
        "subject": "Re: flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "Hiï¼Œ&#010;&#010;åŸºæœ¬ç±»ä¼¼çš„ï¼Œå…·ä½“æ‹¼delete sqlä¼šæ ¹æ® pk æ¥, å¯ä»¥çœ‹ä¸‹delete executorçš„ä»£ç [1]&#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;ã€1ã€‘https://github.com/apache/flink/blob/master/flink-connectors/flink-connector-jdbc/src/main/java/org/apache/flink/connector/jdbc/internal/executor/BufferReduceStatementExecutor.java#L89&#010;&lt;https://github.com/apache/flink/blob/master/flink-connectors/flink-connector-jdbc/src/main/java/org/apache/flink/connector/jdbc/internal/executor/BufferReduceStatementExecutor.java#L89&gt;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ15æ—¥ï¼Œ11:05ï¼Œå°å­¦ç”Ÿ &lt;201782053@qq.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; å—¯å—¯ï¼Œè°¢è°¢å¤§ä½¬çš„ç†è§£ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯é™¤äº†updateï¼Œè¿™ä¸ªæˆ‘çœ‹æ–°æ€§èƒ½ä¹Ÿæ”¯æŒdeleteçš„ï¼Œä½†æ˜¯æ²¡æ‰¾åˆ°ç›¸å…³çš„éƒ¨åˆ†ï¼Œdeleteè¿™ä¸ªæ˜¯å¦ç±»ä¼¼ï¼šdelete&#010;table1 where score=1;çƒ¦è¯·å¤§ä½¬å¸®å¿™è§£ç­”ä¸‹ï¼Œä¸èƒœæ„Ÿæ¿€ã€‚&#010;&#010;&#010;",
        "depth": "5",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<tencent_20EA1C50B2F61C5772F12EAEA0B29CB2DF08@qq.com>",
        "from": "&quot;å°å­¦ç”Ÿ&quot; &lt;201782...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 05:32:50 GMT",
        "subject": "Re: flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "å—¯å—¯ï¼Œéº»çƒ¦é—®ä¸‹Pythonç‰ˆæœ¬çš„ç›¸å…³èµ„æ–™æœ‰å—",
        "depth": "6",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<tencent_FBF2B215B23FEA5F5042F6915761F1CBAE08@qq.com>",
        "from": "&quot;å°å­¦ç”Ÿ&quot; &lt;201782...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 03:04:36 GMT",
        "subject": "Re: flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "å„ä½å¤§ä½¬å¥½ï¼Œç”±äºä¸æ˜¯ç‰¹åˆ«æ‡‚java,æ‰€ä»¥éº»çƒ¦é—®ä¸‹pyflinké‡Œé¢æœ‰ç›¸å…³mysqlçš„deleteå—ï¼Œå®˜ç½‘æ²¡çœ‹åˆ°ï¼Œè°¢è°¢ï¼",
        "depth": "6",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<39510291-35EB-476F-9828-A0A2EBCABC68@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 03:08:57 GMT",
        "subject": "Re: flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "Hiï¼Œ&#013;&#010;&#013;&#010;æˆ‘ç†è§£ pyflink åº•å±‚ä¹Ÿä¼šèµ°åˆ°ä½ çœ‹åˆ°çš„javaä»£ç , æˆ‘å¯¹ pyflink ä¸æ˜¯å¾ˆç†Ÿï¼Œ&#010;cc xingbo è¡¥å……ä¸‹ã€‚&#013;&#010;&#013;&#010;ç¥å¥½&#013;&#010;Leonard Xu&#013;&#010;&#013;&#010;&gt; åœ¨ 2020å¹´7æœˆ16æ—¥ï¼Œ11:04ï¼Œå°å­¦ç”Ÿ &lt;201782053@qq.com&gt; å†™é“ï¼š&#013;&#010;&gt; &#013;&#010;&gt; å„ä½å¤§ä½¬å¥½ï¼Œç”±äºä¸æ˜¯ç‰¹åˆ«æ‡‚java,æ‰€ä»¥éº»çƒ¦é—®ä¸‹pyflinké‡Œé¢æœ‰ç›¸å…³mysqlçš„deleteå—ï¼Œå®˜ç½‘æ²¡çœ‹åˆ°ï¼Œè°¢è°¢ï¼&#013;&#010;&#013;&#010;",
        "depth": "7",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<CAPxmL=EERrBe+hwk+UjXG-H-KgP2WfLW2Ejc2y1zE-uDUOos4A@mail.gmail.com>",
        "from": "Xingbo Huang &lt;hxbks...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 03:11:36 GMT",
        "subject": "Re: flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "Hi,&#013;&#010;Leonard è¯´çš„æ˜¯å¯¹çš„ï¼Œé™¤äº†udfçš„éƒ¨åˆ†ï¼Œpyflinkçš„æ‰€æœ‰çš„apiéƒ½æ˜¯è°ƒç”¨çš„javaç«¯çš„åŠŸèƒ½ï¼Œå¦‚æœjavaç«¯æ²¡æœ‰ï¼Œpyflinkå°±ä¸æ”¯æŒ&#013;&#010;&#013;&#010;Best,&#013;&#010;Xingbo&#013;&#010;&#013;&#010;Leonard Xu &lt;xbjtdcq@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸Šåˆ11:09å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hiï¼Œ&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘ç†è§£ pyflink åº•å±‚ä¹Ÿä¼šèµ°åˆ°ä½ çœ‹åˆ°çš„javaä»£ç , æˆ‘å¯¹ pyflink ä¸æ˜¯å¾ˆç†Ÿï¼Œ&#010;cc xingbo è¡¥å……ä¸‹ã€‚&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½&#013;&#010;&gt; Leonard Xu&#013;&#010;&gt;&#013;&#010;&gt; &gt; åœ¨ 2020å¹´7æœˆ16æ—¥ï¼Œ11:04ï¼Œå°å­¦ç”Ÿ &lt;201782053@qq.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; å„ä½å¤§ä½¬å¥½ï¼Œç”±äºä¸æ˜¯ç‰¹åˆ«æ‡‚java,æ‰€ä»¥éº»çƒ¦é—®ä¸‹pyflinké‡Œé¢æœ‰ç›¸å…³mysqlçš„deleteå—ï¼Œå®˜ç½‘æ²¡çœ‹åˆ°ï¼Œè°¢è°¢ï¼&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "8",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<tencent_DD2ED966F56FA8677BA8ABBE780ED7255907@qq.com>",
        "from": "&quot;å°å­¦ç”Ÿ&quot; &lt;201782...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 03:14:34 GMT",
        "subject": "Re: flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "è°¢è°¢ä¸¤ä½å¤§ä½¬çš„è§£ç­”ï¼Œä½†æ˜¯ç†è§£æœ‰ç‚¹æŠ½è±¡ï¼Œä¸å¤ªæ¸…æ¥šï¼Œæœ‰æ²¡æœ‰pyflinkä¸‹ä¸€ä¸ªç®€å•ä¾‹å­å‘¢ã€‚",
        "depth": "9",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<CAPxmL=HOaHn-tJeAFErSZKvCw=NMxWunwERXKhBexjiS5mqCRg@mail.gmail.com>",
        "from": "Xingbo Huang &lt;hxbks...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 03:22:50 GMT",
        "subject": "Re: flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "Hi,&#013;&#010;ä½ éœ€è¦ä»€ä¹ˆæ ·çš„ä¾‹å­ï¼Œå¦‚æœä½ ç”¨çš„table/sqlçš„è¯ï¼Œåœ¨å®˜æ–¹æ–‡æ¡£å¯¹åº”çš„åœ°æ–¹éƒ½æœ‰java/scala/pythonçš„å¯¹åº”å†™æ³•ã€‚å¦‚æœæ˜¯python&#013;&#010;udfç›¸å…³çš„ä¸œè¥¿ï¼Œä½ å¯ä»¥å‚è€ƒ[1]&#013;&#010;&#013;&#010;[1]&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/python/&#013;&#010;&#013;&#010;Best,&#013;&#010;Xingbo&#013;&#010;&#013;&#010;å°å­¦ç”Ÿ &lt;201782053@qq.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸Šåˆ11:14å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; è°¢è°¢ä¸¤ä½å¤§ä½¬çš„è§£ç­”ï¼Œä½†æ˜¯ç†è§£æœ‰ç‚¹æŠ½è±¡ï¼Œä¸å¤ªæ¸…æ¥šï¼Œæœ‰æ²¡æœ‰pyflinkä¸‹ä¸€ä¸ªç®€å•ä¾‹å­å‘¢ã€‚&#013;&#010;",
        "depth": "10",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<tencent_D5DB5551FCB9EBAB6C926CA77A20548CBD06@qq.com>",
        "from": "&quot;å°å­¦ç”Ÿ&quot; &lt;201782...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 03:44:36 GMT",
        "subject": "Re: flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "æ‚¨å¥½ï¼Œæ¯”å¦‚è¯´æˆ‘è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä½¿ç”¨deleteå°±å‡ºé”™äº†ï¼Œæˆ‘æƒ³çŸ¥é“æ˜¯å•¥åŸå› å‘¢ï¼Œ&#013;&#010;from pyflink.datastream import StreamExecutionEnvironment, TimeCharacteristic, CheckpointingMode&#013;&#010;from pyflink.table import StreamTableEnvironment, EnvironmentSettings&#013;&#010;source=\"\"\"&#013;&#010;CREATE TABLE source_tab (&#013;&#010;&amp;nbsp;trck_id VARCHAR,&#013;&#010;&amp;nbsp;score&amp;nbsp; INT,&#013;&#010;PRIMARY KEY (trck_id) NOT ENFORCED&#013;&#010;) WITH (&#013;&#010;&amp;nbsp;'connector' = 'jdbc',&#013;&#010;&amp;nbsp;'url' = 'jdbc:mysql://10.2.2.77:3306/bdt?useSSL=false',&amp;nbsp;&#013;&#010;&amp;nbsp;'table-name' = 'g',&amp;nbsp; &amp;nbsp;&#013;&#010;&amp;nbsp;'username' = 'root',&#013;&#010;&amp;nbsp;'password' = '123456t',&#013;&#010;&amp;nbsp;'sink.buffer-flush.interval' = '1s'&#013;&#010;)&#013;&#010;\"\"\"&#013;&#010;sink=\"\"\"&#013;&#010;CREATE TABLE sink_tab (&#013;&#010;&amp;nbsp;trck_id VARCHAR,&#013;&#010;&amp;nbsp;score&amp;nbsp; INT,&#013;&#010;PRIMARY KEY (trck_id) NOT ENFORCED&#013;&#010;) WITH (&#013;&#010;&amp;nbsp;'connector' = 'jdbc',&#013;&#010;&amp;nbsp;'url' = 'jdbc:mysql://10.2.2.77:3306/bdt?useSSL=false',&amp;nbsp;&#013;&#010;&amp;nbsp;'table-name' = 'g_copy',&amp;nbsp; &amp;nbsp;&#013;&#010;&amp;nbsp;'username' = 'root',&#013;&#010;&amp;nbsp;'password' = '123456t',&#013;&#010;&amp;nbsp;'sink.buffer-flush.interval' = '1s'&#013;&#010;)&#013;&#010;\"\"\"&#013;&#010;env = StreamExecutionEnvironment.get_execution_environment()&#013;&#010;env.set_stream_time_characteristic(TimeCharacteristic.EventTime)&#013;&#010;env.set_parallelism(1)&#013;&#010;env_settings = EnvironmentSettings.new_instance().use_blink_planner().in_streaming_mode().build()&#013;&#010;t_env = StreamTableEnvironment.create(env, environment_settings=env_settings)&#013;&#010;&#013;&#010;&#013;&#010;t_env.execute_sql(source)&#013;&#010;t_env.execute_sql(sink)&#013;&#010;&#013;&#010;&#013;&#010;t_env.execute_sql('''delete from source_tab where trck_id='aew'&amp;nbsp; ''')&#013;&#010;table_result1=t_env.execute_sql('''insert into&amp;nbsp; sink_tab select * from source_tab&#010;''')&#013;&#010;table_result1.get_job_client().get_job_execution_result().result()",
        "depth": "11",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<509655C6-BF49-4352-86E3-29BBC8399D97@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 04:08:39 GMT",
        "subject": "Re: flink 1.11 upsertç»“æœå‡ºé”™",
        "content": "&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ16æ—¥ï¼Œ11:44ï¼Œå°å­¦ç”Ÿ &lt;201782053@qq.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; t_env.execute_sql('''delete from source_tab where trck_id='aew'&amp;nbsp; ''')&#010;&#010;ä½ è¿™å¼ è¡¨å®šä¹‰çš„æ˜¯ Flink ä¸­çš„è¡¨ï¼Œè¿™å¼ è¡¨å¯¹åº”çš„æ˜¯ä½ å¤–éƒ¨ç³»ç»Ÿ(MySQLæ•°æ®åº“)ä¸­çš„è¡¨ï¼ŒFlink&#010;ä¸æ”¯æŒ è¡¨ä¸Š çš„DELETE [1]ï¼Œ Flink æ˜¯ä¸€ä¸ªè®¡ç®—å¼•æ“,&#010;ä¸»è¦åœºæ™¯æ˜¯è¯»å–ã€å†™å…¥å¤–éƒ¨ç³»ç»Ÿï¼Œä¿®æ”¹å¤–éƒ¨ç³»ç»Ÿçš„æ•°æ®ç›®å‰åªå‘ç”Ÿåœ¨å†™å…¥ï¼ˆinsertï¼‰çš„æ—¶å€™ï¼Œå¹¶ä¸”ä¸»è¦æ˜¯ä¸ºäº†ä¿è¯æ•°æ®ä¸€è‡´æ€§è¯­ä¹‰ï¼Œéœ€è¦å¾€ä¸‹æ¸¸ç³»ç»Ÿå‘Deleteæ¶ˆæ¯ï¼Œ&#010;è¿™ä¸ªdeleteçš„æ¶ˆæ¯çš„å¤„ç†éƒ½æ˜¯å„ä¸ªconnectorè‡ªå·±å¤„ç†çš„ï¼Œç”¨æˆ·ä¸ç”¨æ˜¾ç¤ºåœ°è°ƒç”¨delete,&#010;ä½ å¯ä»¥å‚è€ƒ[2]äº†è§£æ›´å¤šã€‚&#010;&#010;ç¥å¥½&#010;[1]https://ci.apache.org/projects/flink/flink-docs-release-1.11/zh/dev/table/sql/ &lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/zh/dev/table/sql/&gt;&#010;[2]https://ci.apache.org/projects/flink/flink-docs-release-1.11/zh/dev/table/streaming/dynamic_tables.html&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/zh/dev/table/streaming/dynamic_tables.html&gt;&#010;&#010;",
        "depth": "12",
        "reply": "<tencent_0E7DD9357510A83BFBBFAB95784F57425907@qq.com>"
    },
    {
        "id": "<e78f0ff.79cd.1734cc310bb.Coremail.wldd1116@163.com>",
        "from": "wldd &lt;wldd1...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 09:58:39 GMT",
        "subject": "flink1.11.0è¯»å–mysqlæ•°æ®decimalç±»å‹ä¼šå¼ºè½¬æˆdecimal(38,18)çš„é—®é¢˜",
        "content": "hiï¼Œallï¼š&#010;ç°åœ¨é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œé€šè¿‡sql-clientè¯»å–mysqlæ•°æ®æ—¶ï¼Œdecimalç±»å‹ä¼šå¼ºè½¬æˆdecimal(38,18)&#010;mysql ddlï¼š&#010;CREATE TABLE `test2` (&#010;  `money` decimal(10,2) DEFAULT NULL&#010;) ENGINE=InnoDB DEFAULT CHARSET=utf8;&#010;&#010;&#010;insert into test2 values(10.22);&#010;&#010;&#010;flink ddlï¼š&#010;CREATE TABLE test2 (&#010;    money decimal(10, 2)&#010;) WITH (&#010;    'connector.type' = 'jdbc',&#010;    'connector.url' = 'jdbc:mysql://localhost:3306/test',&#010;    'connector.table' = 'test2',&#010;    'connector.username' = 'root',&#010;    'connector.password' = 'root'&#010;);&#010;&#010;&#010;flinkæŸ¥è¯¢ç»“æœï¼Œstreamingæ¨¡å¼ï¼š&#010;sqlï¼šselect * from test2;&#010;&#010;&#010;debugä¿¡æ¯ï¼š&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;--&#010;&#010;Bestï¼Œ&#010;wldd",
        "depth": "0",
        "reply": "<e78f0ff.79cd.1734cc310bb.Coremail.wldd1116@163.com>"
    },
    {
        "id": "<A10874FF-57E6-4C58-996A-FEBFE2760F85@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 10:08:41 GMT",
        "subject": "Re: flink1.11.0è¯»å–mysqlæ•°æ®decimalç±»å‹ä¼šå¼ºè½¬æˆdecimal(38,18)çš„é—®é¢˜",
        "content": "Hi,&#010;&#010;SQL client è¯»å–mysqlçš„éƒ¨åˆ†æƒ³å½“äºä¸€ä¸ªconnector,  è¿™ä¸ªconnectoråªæ”¯æŒ DECIMALï¼ˆ38ï¼Œ18ï¼‰çš„ï¼Œæ‰€æœ‰DECIMALï¼ˆp,&#010;sï¼‰éƒ½ä¼šè½¬åˆ°è¿™ä¸ªç±»å‹ï¼Œè¿™æ˜¯å› ä¸ºSQL Clientè¿˜æ˜¯ç”¨çš„legacy çš„æ•°æ®ç±»å‹ã€‚&#010;ä½ å¯ä»¥ç”¨å…¶ä»– connector å¦‚ Filesystemã€Kafkaç­‰connectorè¯»å–ï¼Œ ç¤¾åŒºå·²ç»æœ‰ä¸€ä¸ªissue[1]&#010;åœ¨è·Ÿè¿›äº†ã€‚&#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;[1] https://issues.apache.org/jira/browse/FLINK-17948 &lt;https://issues.apache.org/jira/browse/FLINK-17948&gt;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ17:58ï¼Œwldd &lt;wldd1116@163.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; sql-client&#010;&#010;&#010;",
        "depth": "1",
        "reply": "<e78f0ff.79cd.1734cc310bb.Coremail.wldd1116@163.com>"
    },
    {
        "id": "<54ce7bf2.7d10.1734cd7c048.Coremail.wldd1116@163.com>",
        "from": "wldd  &lt;wldd1...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 10:21:14 GMT",
        "subject": "Re:Re: flink1.11.0è¯»å–mysqlæ•°æ®decimalç±»å‹ä¼šå¼ºè½¬æˆdecimal(38,18)çš„é—®é¢˜",
        "content": "Hiï¼Œ&#010;batchæ¨¡å¼ç”¨çš„ä¸æ˜¯ç”¨çš„legacy çš„æ•°æ®ç±»å‹ä¹ˆï¼Œbatchæ¨¡å¼å¹¶æ²¡æœ‰å¯¹decimalè¿›è¡Œå¼ºè½¬&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;--&#010;&#010;Bestï¼Œ&#010;wldd&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-14 18:08:41ï¼Œ\"Leonard Xu\" &lt;xbjtdcq@gmail.com&gt; å†™é“ï¼š&#010;&gt;Hi,&#010;&gt;&#010;&gt;SQL client è¯»å–mysqlçš„éƒ¨åˆ†æƒ³å½“äºä¸€ä¸ªconnector,  è¿™ä¸ªconnectoråªæ”¯æŒ DECIMALï¼ˆ38ï¼Œ18ï¼‰çš„ï¼Œæ‰€æœ‰DECIMALï¼ˆp,&#010;sï¼‰éƒ½ä¼šè½¬åˆ°è¿™ä¸ªç±»å‹ï¼Œè¿™æ˜¯å› ä¸ºSQL Clientè¿˜æ˜¯ç”¨çš„legacy çš„æ•°æ®ç±»å‹ã€‚&#010;&gt;ä½ å¯ä»¥ç”¨å…¶ä»– connector å¦‚ Filesystemã€Kafkaç­‰connectorè¯»å–ï¼Œ ç¤¾åŒºå·²ç»æœ‰ä¸€ä¸ªissue[1]&#010;åœ¨è·Ÿè¿›äº†ã€‚&#010;&gt;&#010;&gt;ç¥å¥½ï¼Œ&#010;&gt;Leonard Xu&#010;&gt;[1] https://issues.apache.org/jira/browse/FLINK-17948 &lt;https://issues.apache.org/jira/browse/FLINK-17948&gt;&#010;&gt;&#010;&gt;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ17:58ï¼Œwldd &lt;wldd1116@163.com&gt; å†™é“ï¼š&#010;&gt;&gt; &#010;&gt;&gt; sql-client&#010;&gt;&#010;",
        "depth": "2",
        "reply": "<e78f0ff.79cd.1734cc310bb.Coremail.wldd1116@163.com>"
    },
    {
        "id": "<51C27B77-B076-436D-B130-D432D081051B@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 10:31:33 GMT",
        "subject": "Re: flink1.11.0è¯»å–mysqlæ•°æ®decimalç±»å‹ä¼šå¼ºè½¬æˆdecimal(38,18)çš„é—®é¢˜",
        "content": "Hi,&#010;&#010;å‰é¢é‚®ä»¶å›¾éƒ½æŒ‚äº†ï¼Œç†è®ºä¸Š SQL Client éƒ½æ˜¯ä¼šå¼ºè½¬çš„ï¼Œå¯ä»¥å‘ä¸ªå›¾åºŠé“¾æ¥ä¸Šæˆ–è€…è´´ä¸‹å¯ä»¥å¤ç°çš„ä»£ç å—ï¼Ÿ&#010;&#010;ç¥å¥½&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ18:21ï¼Œwldd &lt;wldd1116@163.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; Hiï¼Œ&#010;&gt; batchæ¨¡å¼ç”¨çš„ä¸æ˜¯ç”¨çš„legacy çš„æ•°æ®ç±»å‹ä¹ˆï¼Œbatchæ¨¡å¼å¹¶æ²¡æœ‰å¯¹decimalè¿›è¡Œå¼ºè½¬&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; --&#010;&gt; Bestï¼Œ&#010;&gt; wldd&#010;&gt; &#010;&gt; &#010;&gt; åœ¨ 2020-07-14 18:08:41ï¼Œ\"Leonard Xu\" &lt;xbjtdcq@gmail.com&gt; å†™é“ï¼š&#010;&gt; &gt;Hi,&#010;&gt; &gt;&#010;&gt; &gt;SQL client è¯»å–mysqlçš„éƒ¨åˆ†æƒ³å½“äºä¸€ä¸ªconnector,  è¿™ä¸ªconnectoråªæ”¯æŒ&#010;DECIMALï¼ˆ38ï¼Œ18ï¼‰çš„ï¼Œæ‰€æœ‰DECIMALï¼ˆp, sï¼‰éƒ½ä¼šè½¬åˆ°è¿™ä¸ªç±»å‹ï¼Œè¿™æ˜¯å› ä¸ºSQL&#010;Clientè¿˜æ˜¯ç”¨çš„legacy çš„æ•°æ®ç±»å‹ã€‚&#010;&gt; &gt;ä½ å¯ä»¥ç”¨å…¶ä»– connector å¦‚ Filesystemã€Kafkaç­‰connectorè¯»å–ï¼Œ ç¤¾åŒºå·²ç»æœ‰ä¸€ä¸ªissue[1]&#010;åœ¨è·Ÿè¿›äº†ã€‚&#010;&gt; &gt;&#010;&gt; &gt;ç¥å¥½ï¼Œ&#010;&gt; &gt;Leonard Xu&#010;&gt; &gt;[1] https://issues.apache.org/jira/browse/FLINK-17948 &lt;https://issues.apache.org/jira/browse/FLINK-17948&gt;&#010;&gt; &gt;&#010;&gt; &gt;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ17:58ï¼Œwldd &lt;wldd1116@163.com&gt; å†™é“ï¼š&#010;&gt; &gt;&gt; &#010;&gt; &gt;&gt; sql-client&#010;&gt; &gt;&#010;&gt; &#010;&gt; &#010;&gt;  &#010;&#010;&#010;",
        "depth": "3",
        "reply": "<e78f0ff.79cd.1734cc310bb.Coremail.wldd1116@163.com>"
    },
    {
        "id": "<6ea8ce69.7f6c.1734cec4384.Coremail.wldd1116@163.com>",
        "from": "wldd  &lt;wldd1...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 10:43:39 GMT",
        "subject": "Re:Re: flink1.11.0è¯»å–mysqlæ•°æ®decimalç±»å‹ä¼šå¼ºè½¬æˆdecimal(38,18)çš„é—®é¢˜",
        "content": "Hiï¼š&#010;å›¾ç‰‡çš„å†…å®¹æ²¡å±•ç¤ºå‡ºæ¥ï¼Œå›¾ç‰‡çš„å†…å®¹å°±æ˜¯ä¸ªæŸ¥è¯¢ç»“æœï¼Œ&#010;&#010;&#010;erroræ—¥å¿—è¿™æ˜¯batchæ¨¡å¼çš„debugæ—¥å¿—ï¼š&#010;2020-07-14 18:33:23,180 DEBUG org.apache.flink.connector.jdbc.table.JdbcRowDataInputFormat&#010;[] - No input splitting configured (data will be read with parallelism 1).&#010;2020-07-14 18:33:23,181 DEBUG org.apache.calcite.sql2rel                                 &#010; [] - Plan after converting SqlNode to RelNode&#010;LogicalProject(money=[$0])&#010;  LogicalTableScan(table=[[mydb, test, test2",
        "depth": "4",
        "reply": "<e78f0ff.79cd.1734cc310bb.Coremail.wldd1116@163.com>"
    },
    {
        "id": "<546cfcc3.8081.1734cf75c8c.Coremail.wldd1116@163.com>",
        "from": "wldd  &lt;wldd1...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 10:55:46 GMT",
        "subject": "Re:Re:Re: flink1.11.0è¯»å–mysqlæ•°æ®decimalç±»å‹ä¼šå¼ºè½¬æˆdecimal(38,18)çš„é—®é¢˜",
        "content": "Hiï¼š&#010;batchiæ¨¡å¼æ‰§è¡Œç»“æœï¼š&#010;https://imgchr.com/i/UUqec6&#010;batchæ¨¡å¼æ—¥å¿—ï¼š&#010;https://imgchr.com/i/UUboX8&#010;streamingæ¨¡å¼æ—¥å¿—ï¼š&#010;https://imgchr.com/i/UUbYmF&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;--&#010;&#010;Bestï¼Œ&#010;wldd&#010;&#010;&#010;&#010;&#010;At 2020-07-14 18:43:39, \"wldd\" &lt;wldd1116@163.com&gt; wrote:&#010;&#010;Hiï¼š&#010;å›¾ç‰‡çš„å†…å®¹æ²¡å±•ç¤ºå‡ºæ¥ï¼Œå›¾ç‰‡çš„å†…å®¹å°±æ˜¯ä¸ªæŸ¥è¯¢ç»“æœï¼Œ&#010;&#010;&#010;erroræ—¥å¿—è¿™æ˜¯batchæ¨¡å¼çš„debugæ—¥å¿—ï¼š&#010;2020-07-14 18:33:23,180 DEBUG org.apache.flink.connector.jdbc.table.JdbcRowDataInputFormat&#010;[] - No input splitting configured (data will be read with parallelism 1).&#010;2020-07-14 18:33:23,181 DEBUG org.apache.calcite.sql2rel                                 &#010; [] - Plan after converting SqlNode to RelNode&#010;LogicalProject(money=[$0])&#010;  LogicalTableScan(table=[[mydb, test, test2",
        "depth": "5",
        "reply": "<e78f0ff.79cd.1734cc310bb.Coremail.wldd1116@163.com>"
    },
    {
        "id": "<4C1DA1F3-0452-402B-9044-091B15D8C391@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 11:55:00 GMT",
        "subject": "Re: flink1.11.0è¯»å–mysqlæ•°æ®decimalç±»å‹ä¼šå¼ºè½¬æˆdecimal(38,18)çš„é—®é¢˜",
        "content": "Hi,&#010;çœ‹äº†ä¸‹ä»£ç ï¼ŒStream æ¨¡å¼ ç¡®å®æœ‰è¿™ä¸ªé—®é¢˜ï¼Œ batch æ²¡æœ‰ï¼ŒåŸå› æ˜¯ï¼š&#010;&#010;CollectStreamTableSink å®ç°çš„æ˜¯ TupleTypeInfo&lt;Tuple2&lt;Boolean, Row&gt;&gt; getOutputType()&#010;CollectBatchTableSink å®ç°çš„æ˜¯ DataType getConsumedDataType()&#010;&#010;åˆšåˆšæœäº†ä¸‹ï¼Œç¤¾åŒºæœ‰ä¸ª issue [1] åœ¨å½»åº•è§£è¿™ä¸ªé—®é¢˜ï¼ŒGodgrey å·²ç»å¼€PRäº†ï¼Œè¿™åº”è¯¥ä¼šæŠŠè¿™ä¸¤ä¸ªCollectSinkéƒ½å»æ‰ï¼Œä½¿ç”¨&#010;TableResult#collect()æ¥æ”¶é›†æ•°æ®ã€‚&#010;&#010;Bestï¼Œ&#010;Leonard Xu&#010;[1] https://issues.apache.org/jira/browse/FLINK-18550 &lt;https://issues.apache.org/jira/browse/FLINK-18550&gt;&#010;&#010;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ18:55ï¼Œwldd &lt;wldd1116@163.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; Hiï¼š&#010;&gt; batchiæ¨¡å¼æ‰§è¡Œç»“æœï¼š&#010;&gt; https://imgchr.com/i/UUqec6&#010;&gt; batchæ¨¡å¼æ—¥å¿—ï¼š&#010;&gt; https://imgchr.com/i/UUboX8&#010;&gt; streamingæ¨¡å¼æ—¥å¿—ï¼š&#010;&gt; https://imgchr.com/i/UUbYmF&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; --&#010;&gt; &#010;&gt; Bestï¼Œ&#010;&gt; wldd&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; At 2020-07-14 18:43:39, \"wldd\" &lt;wldd1116@163.com&gt; wrote:&#010;&gt; &#010;&gt; Hiï¼š&#010;&gt; å›¾ç‰‡çš„å†…å®¹æ²¡å±•ç¤ºå‡ºæ¥ï¼Œå›¾ç‰‡çš„å†…å®¹å°±æ˜¯ä¸ªæŸ¥è¯¢ç»“æœï¼Œ&#010;&gt; &#010;&gt; &#010;&gt; erroræ—¥å¿—è¿™æ˜¯batchæ¨¡å¼çš„debugæ—¥å¿—ï¼š&#010;&gt; 2020-07-14 18:33:23,180 DEBUG org.apache.flink.connector.jdbc.table.JdbcRowDataInputFormat&#010;[] - No input splitting configured (data will be read with parallelism 1).&#010;&gt; 2020-07-14 18:33:23,181 DEBUG org.apache.calcite.sql2rel                            &#010;      [] - Plan after converting SqlNode to RelNode&#010;&gt; LogicalProject(money=[$0])&#010;&gt;  LogicalTableScan(table=[[mydb, test, test2",
        "depth": "6",
        "reply": "<e78f0ff.79cd.1734cc310bb.Coremail.wldd1116@163.com>"
    },
    {
        "id": "<tencent_81DF811FFC23000E73B17805FE00BEF90708@qq.com>",
        "from": "&quot;kcz&quot; &lt;573693...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 10:56:05 GMT",
        "subject": "flink-1.11 DDL è®¾ç½®chkç›®å½•é—®é¢˜",
        "content": "ç›®å‰æˆ‘åªä¼šè®¾ç½®streameEnv.setStateBackend(new FsStateBackend(checkpointPath));&#013;&#010;ä½†æ˜¯DDLæ—¶å€™åº”è¯¥å¦‚ä½•è®¾ç½®å‘¢ï¼Ÿ&#013;&#010;tableEnv.getConfig().getConfiguration().set(&#013;&#010;        ExecutionCheckpointingOptions.CHECKPOINTING_MODE, CheckpointingMode.EXACTLY_ONCE);&#013;&#010;tableEnv.getConfig().getConfiguration().set(&#013;&#010;        ExecutionCheckpointingOptions.CHECKPOINTING_INTERVAL, Duration.ofSeconds(10));",
        "depth": "0",
        "reply": "<tencent_81DF811FFC23000E73B17805FE00BEF90708@qq.com>"
    },
    {
        "id": "<FFF8FDFB-7148-401E-9457-87B9E2EF42AA@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 12:33:50 GMT",
        "subject": "Re: flink-1.11 DDL è®¾ç½®chkç›®å½•é—®é¢˜",
        "content": "Hiï¼Œ&#010;&#010;æ²¡æœ‰å¤ªç†è§£åœ¨DDLä¸­è®¾ç½®ï¼ŒTableConfigä¸Šä¹Ÿå¯ä»¥è®¾ç½® StreamEexecutionEnvironment&#010;çš„ é…ç½®ï¼Œä½ è¦çš„æ˜¯è¿™ä¸ªå—ï¼Ÿ&#010;&#010;tableEnv.getConfig().getConfiguration().set(CHECKPOINTS_DIRECTORY, \"your-cp-path\");&#010;&#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ18:56ï¼Œkcz &lt;573693104@qq.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; ç›®å‰æˆ‘åªä¼šè®¾ç½®streameEnv.setStateBackend(new FsStateBackend(checkpointPath));&#010;&gt; ä½†æ˜¯DDLæ—¶å€™åº”è¯¥å¦‚ä½•è®¾ç½®å‘¢ï¼Ÿ&#010;&gt; tableEnv.getConfig().getConfiguration().set(&#010;&gt;        ExecutionCheckpointingOptions.CHECKPOINTING_MODE, CheckpointingMode.EXACTLY_ONCE);&#010;&gt; tableEnv.getConfig().getConfiguration().set(&#010;&gt;        ExecutionCheckpointingOptions.CHECKPOINTING_INTERVAL, Duration.ofSeconds(10));&#010;&#010;&#010;",
        "depth": "1",
        "reply": "<tencent_81DF811FFC23000E73B17805FE00BEF90708@qq.com>"
    },
    {
        "id": "<tencent_0E3F5FE51BF0A377A4DE0125D6B980144005@qq.com>",
        "from": "&quot;kcz&quot; &lt;573693...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 13:44:33 GMT",
        "subject": "å›å¤ï¼šflink-1.11 DDL è®¾ç½®chkç›®å½•é—®é¢˜",
        "content": "è°¢è°¢ æˆ‘ä¸€ç›´ç”¨çš„æ˜¯ streamEnvå»è®¾ç½®config ä»Šå¤©çœ‹åˆ°tableä¹Ÿå¯ä»¥ï¼Œå¦‚æœæˆ‘ç”¨streamå»è®¾ç½®&#010;ä¹Ÿæ˜¯å¯ä»¥çš„å§&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------ åŸå§‹é‚®ä»¶ ------------------&#013;&#010;å‘ä»¶äºº: Leonard Xu &lt;xbjtdcq@gmail.com&amp;gt;&#013;&#010;å‘é€æ—¶é—´: 2020å¹´7æœˆ14æ—¥ 20:34&#013;&#010;æ”¶ä»¶äºº: user-zh &lt;user-zh@flink.apache.org&amp;gt;&#013;&#010;ä¸»é¢˜: å›å¤ï¼šflink-1.11 DDL è®¾ç½®chkç›®å½•é—®é¢˜&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;Hiï¼Œ&#013;&#010;&#013;&#010;æ²¡æœ‰å¤ªç†è§£åœ¨DDLä¸­è®¾ç½®ï¼ŒTableConfigä¸Šä¹Ÿå¯ä»¥è®¾ç½® StreamEexecutionEnvironment&#010;çš„ é…ç½®ï¼Œä½ è¦çš„æ˜¯è¿™ä¸ªå—ï¼Ÿ&#013;&#010;&#013;&#010;tableEnv.getConfig().getConfiguration().set(CHECKPOINTS_DIRECTORY, \"your-cp-path\");&#013;&#010;&#013;&#010;&#013;&#010;ç¥å¥½ï¼Œ&#013;&#010;Leonard Xu&#013;&#010;&#013;&#010;&#013;&#010;&amp;gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ18:56ï¼Œkcz &lt;573693104@qq.com&amp;gt; å†™é“ï¼š&#013;&#010;&amp;gt; &#013;&#010;&amp;gt; ç›®å‰æˆ‘åªä¼šè®¾ç½®streameEnv.setStateBackend(new FsStateBackend(checkpointPath));&#013;&#010;&amp;gt; ä½†æ˜¯DDLæ—¶å€™åº”è¯¥å¦‚ä½•è®¾ç½®å‘¢ï¼Ÿ&#013;&#010;&amp;gt; tableEnv.getConfig().getConfiguration().set(&#013;&#010;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ExecutionCheckpointingOptions.CHECKPOINTING_MODE,&#010;CheckpointingMode.EXACTLY_ONCE);&#013;&#010;&amp;gt; tableEnv.getConfig().getConfiguration().set(&#013;&#010;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ExecutionCheckpointingOptions.CHECKPOINTING_INTERVAL,&#010;Duration.ofSeconds(10));",
        "depth": "2",
        "reply": "<tencent_81DF811FFC23000E73B17805FE00BEF90708@qq.com>"
    },
    {
        "id": "<7046f795.92f7.1734d2afe9e.Coremail.wander669@163.com>",
        "from": "&quot;Zhou Zach&quot; &lt;wander...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 11:52:10 GMT",
        "subject": "flink1.11 sink hive error",
        "content": "hi all,&#010;flink1.11 sql sink hive table æŠ¥é”™ï¼š&#010;&#010;&#010;java.util.concurrent.CompletionException: org.apache.flink.client.deployment.application.ApplicationExecutionException:&#010;Could not execute application.&#010;&#009;at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292) ~[?:1.8.0_161]&#010;&#009;at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308) ~[?:1.8.0_161]&#010;&#009;at java.util.concurrent.CompletableFuture.uniCompose(CompletableFuture.java:943) ~[?:1.8.0_161]&#010;&#009;at java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:926)&#010;~[?:1.8.0_161]&#010;&#009;at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474) ~[?:1.8.0_161]&#010;&#009;at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)&#010;~[?:1.8.0_161]&#010;&#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:245)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.lambda$runApplicationAsync$1(ApplicationDispatcherBootstrap.java:199)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_161]&#010;&#009;at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_161]&#010;&#009;at org.apache.flink.runtime.concurrent.akka.ActorSystemScheduledExecutorAdapter$ScheduledFutureTask.run(ActorSystemScheduledExecutorAdapter.java:154)&#010;[data-flow-1.0.jar:?]&#010;&#009;at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:40) [qile-data-flow-1.0.jar:?]&#010;&#009;at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(ForkJoinExecutorConfigurator.scala:44)&#010;[data-flow-1.0.jar:?]&#010;&#009;at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260) [qile-data-flow-1.0.jar:?]&#010;&#009;at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339) [data-flow-1.0.jar:?]&#010;&#009;at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979) [data-flow-1.0.jar:?]&#010;&#009;at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107) [data-flow-1.0.jar:?]&#010;Caused by: org.apache.flink.client.deployment.application.ApplicationExecutionException: Could&#010;not execute application.&#010;&#009;... 11 more&#010;Caused by: org.apache.flink.client.program.ProgramInvocationException: The main method caused&#010;an error: Embedded metastore is not allowed. Make sure you have set a valid value for hive.metastore.uris&#010;&#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:302)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;... 10 more&#010;Caused by: java.lang.IllegalArgumentException: Embedded metastore is not allowed. Make sure&#010;you have set a valid value for hive.metastore.uris&#010;&#009;at org.apache.flink.util.Preconditions.checkArgument(Preconditions.java:139) ~[data-flow-1.0.jar:?]&#010;&#009;at org.apache.flink.table.catalog.hive.HiveCatalog.&lt;init&gt;(HiveCatalog.java:171) ~[flink-sql-connector-hive-2.2.0_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.table.catalog.hive.HiveCatalog.&lt;init&gt;(HiveCatalog.java:157) ~[flink-sql-connector-hive-2.2.0_2.11-1.11.0.jar:1.11.0]&#010;&#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase$.main(FromKafkaSinkHiveAndHbase.scala:27)&#010;~[data-flow-1.0.jar:?]&#010;&#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase.main(FromKafkaSinkHiveAndHbase.scala)&#010;~[data-flow-1.0.jar:?]&#010;&#009;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]&#010;&#009;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]&#010;&#009;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#010;~[?:1.8.0_161]&#010;&#009;at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]&#010;&#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;... 10 more",
        "depth": "0",
        "reply": "<7046f795.92f7.1734d2afe9e.Coremail.wander669@163.com>"
    },
    {
        "id": "<EB888BCE-2DA8-471C-90C2-726691C0B3D4@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 12:03:11 GMT",
        "subject": "Re: flink1.11 sink hive error",
        "content": "Hello&#010;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ19:52ï¼ŒZhou Zach &lt;wander669@163.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; : Embedded metastore is not allowed.&#010;&#010;Flink é›†æˆ Hive æ—¶ï¼Œä¸æ”¯æŒ embedded metastore çš„, ä½ éœ€è¦èµ·ä¸€ä¸ªhive metastore&#010;å¹¶åœ¨confæ–‡ä»¶é…ç½® hive.metastore.uris, æ”¯æŒçš„ metastore ç‰ˆæœ¬ å‚è€ƒ[1]&#010;&#010;Best,&#010;Leonard Xu&#010;[1] https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/#using-bundled-hive-jar&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/#using-bundled-hive-jar&gt;&#010;",
        "depth": "1",
        "reply": "<7046f795.92f7.1734d2afe9e.Coremail.wander669@163.com>"
    },
    {
        "id": "<4a4de1ce.94b4.1734d4d1e97.Coremail.wander669@163.com>",
        "from": "&quot;Zhou Zach&quot; &lt;wander...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 12:29:26 GMT",
        "subject": "Re:Re: flink1.11 sink hive error",
        "content": "Hiï¼Œ&#010;&#010;&#010;æ˜¯åœ¨flinkçš„confæ–‡ä»¶é…ç½®hive.metastore.uriså—&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-14 20:03:11ï¼Œ\"Leonard Xu\" &lt;xbjtdcq@gmail.com&gt; å†™é“ï¼š&#010;&gt;Hello&#010;&gt;&#010;&gt;&#010;&gt;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ19:52ï¼ŒZhou Zach &lt;wander669@163.com&gt; å†™é“ï¼š&#010;&gt;&gt; &#010;&gt;&gt; : Embedded metastore is not allowed.&#010;&gt;&#010;&gt;Flink é›†æˆ Hive æ—¶ï¼Œä¸æ”¯æŒ embedded metastore çš„, ä½ éœ€è¦èµ·ä¸€ä¸ªhive metastore&#010;å¹¶åœ¨confæ–‡ä»¶é…ç½® hive.metastore.uris, æ”¯æŒçš„ metastore ç‰ˆæœ¬ å‚è€ƒ[1]&#010;&gt;&#010;&gt;Best,&#010;&gt;Leonard Xu&#010;&gt;[1] https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/#using-bundled-hive-jar&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/#using-bundled-hive-jar&gt;&#010;",
        "depth": "2",
        "reply": "<7046f795.92f7.1734d2afe9e.Coremail.wander669@163.com>"
    },
    {
        "id": "<F65D8CFA-C8D9-419F-A5B8-7AF8DB4C5FAF@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 12:42:16 GMT",
        "subject": "Re: flink1.11 sink hive error",
        "content": "Hi,&#010;ä½ å®‰è£… hive çš„ metastore åï¼Œåœ¨ä½  hivehome/conf/hive-site.xml æ–‡ä»¶ä¸­æ·»åŠ è¿™æ ·ä¸€ä¸ªé…ç½®ï¼š&#010;  &lt;property&gt;&#010;    &lt;name&gt;hive.metastore.uris&lt;/name&gt;&#010;    &lt;value&gt;thrift://xxxx:9083&lt;/value&gt;&#010;    &lt;description&gt;Thrift URI for the remote metastore. Used by metastore client to connect&#010;to remote metastore.&lt;/description&gt;&#010;  &lt;/property&gt;&#010;ä¸€èˆ¬ç”Ÿäº§ç¯å¢ƒåº”è¯¥ä¹Ÿæ˜¯è¿™æ ·é…ç½®ï¼Œ&#010;ç„¶å Flink å¯¹æ¥åˆ°hiveé…ç½®å‚è€ƒ[1]ï¼Œåº”è¯¥å’Œä½ ä¹‹å‰ç”¨çš„æ²¡å•¥å˜åŒ–ï¼Œå°±æ˜¯ä¸æ”¯æŒ&#010;embedded çš„ metastore&#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;[1] https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/#connecting-to-hive&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/#connecting-to-hive&gt;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ20:29ï¼ŒZhou Zach &lt;wander669@163.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; Hiï¼Œ&#010;&gt; &#010;&gt; &#010;&gt; æ˜¯åœ¨flinkçš„confæ–‡ä»¶é…ç½®hive.metastore.uriså—&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; åœ¨ 2020-07-14 20:03:11ï¼Œ\"Leonard Xu\" &lt;xbjtdcq@gmail.com&gt; å†™é“ï¼š&#010;&gt;&gt; Hello&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ19:52ï¼ŒZhou Zach &lt;wander669@163.com&gt; å†™é“ï¼š&#010;&gt;&gt;&gt; &#010;&gt;&gt;&gt; : Embedded metastore is not allowed.&#010;&gt;&gt; &#010;&gt;&gt; Flink é›†æˆ Hive æ—¶ï¼Œä¸æ”¯æŒ embedded metastore çš„, ä½ éœ€è¦èµ·ä¸€ä¸ªhive&#010;metastore å¹¶åœ¨confæ–‡ä»¶é…ç½® hive.metastore.uris, æ”¯æŒçš„ metastore ç‰ˆæœ¬ å‚è€ƒ[1]&#010;&gt;&gt; &#010;&gt;&gt; Best,&#010;&gt;&gt; Leonard Xu&#010;&gt;&gt; [1] https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/#using-bundled-hive-jar&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/#using-bundled-hive-jar&gt;&#010;&#010;&#010;",
        "depth": "3",
        "reply": "<7046f795.92f7.1734d2afe9e.Coremail.wander669@163.com>"
    },
    {
        "id": "<9e3411c.9628.1734d6a1550.Coremail.wander669@163.com>",
        "from": "&quot;Zhou Zach&quot; &lt;wander...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 13:01:04 GMT",
        "subject": "Re:Re: flink1.11 sink hive error",
        "content": "Hi,&#010;&#010;&#010;æˆ‘åˆšæ‰æŠŠflink sinkçš„hive tableï¼Œhive hdfsç›®å½•éƒ½åˆ äº†ï¼Œhbaseè¡¨æ•°æ®ä¹Ÿæ¸…ç©ºäº†ï¼ˆhbase&#010;é€šè¿‡hue hive tableæ–¹å¼æŸ¥è¯¢ï¼‰ï¼Œç„¶åé‡å¯ç¨‹åºï¼Œå°±å¯ä»¥äº†ï¼Œ&#010;ç­‰å†å‡ºé—®é¢˜ï¼Œæˆ‘è¯•ä¸‹ä½ è¿™ç§æ–¹æ³•ï¼Œæ„Ÿè°¢ç­”ç–‘ï¼&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-14 20:42:16ï¼Œ\"Leonard Xu\" &lt;xbjtdcq@gmail.com&gt; å†™é“ï¼š&#010;&gt;Hi,&#010;&gt;ä½ å®‰è£… hive çš„ metastore åï¼Œåœ¨ä½  hivehome/conf/hive-site.xml æ–‡ä»¶ä¸­æ·»åŠ è¿™æ ·ä¸€ä¸ªé…ç½®ï¼š&#010;&gt;  &lt;property&gt;&#010;&gt;    &lt;name&gt;hive.metastore.uris&lt;/name&gt;&#010;&gt;    &lt;value&gt;thrift://xxxx:9083&lt;/value&gt;&#010;&gt;    &lt;description&gt;Thrift URI for the remote metastore. Used by metastore client to&#010;connect to remote metastore.&lt;/description&gt;&#010;&gt;  &lt;/property&gt;&#010;&gt;ä¸€èˆ¬ç”Ÿäº§ç¯å¢ƒåº”è¯¥ä¹Ÿæ˜¯è¿™æ ·é…ç½®ï¼Œ&#010;&gt;ç„¶å Flink å¯¹æ¥åˆ°hiveé…ç½®å‚è€ƒ[1]ï¼Œåº”è¯¥å’Œä½ ä¹‹å‰ç”¨çš„æ²¡å•¥å˜åŒ–ï¼Œå°±æ˜¯ä¸æ”¯æŒ&#010;embedded çš„ metastore&#010;&gt;&#010;&gt;ç¥å¥½ï¼Œ&#010;&gt;Leonard Xu&#010;&gt;[1] https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/#connecting-to-hive&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/#connecting-to-hive&gt;&#010;&gt;&#010;&gt;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ20:29ï¼ŒZhou Zach &lt;wander669@163.com&gt; å†™é“ï¼š&#010;&gt;&gt; &#010;&gt;&gt; Hiï¼Œ&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; æ˜¯åœ¨flinkçš„confæ–‡ä»¶é…ç½®hive.metastore.uriså—&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; åœ¨ 2020-07-14 20:03:11ï¼Œ\"Leonard Xu\" &lt;xbjtdcq@gmail.com&gt; å†™é“ï¼š&#010;&gt;&gt;&gt; Hello&#010;&gt;&gt;&gt; &#010;&gt;&gt;&gt; &#010;&gt;&gt;&gt;&gt; åœ¨ 2020å¹´7æœˆ14æ—¥ï¼Œ19:52ï¼ŒZhou Zach &lt;wander669@163.com&gt; å†™é“ï¼š&#010;&gt;&gt;&gt;&gt; &#010;&gt;&gt;&gt;&gt; : Embedded metastore is not allowed.&#010;&gt;&gt;&gt; &#010;&gt;&gt;&gt; Flink é›†æˆ Hive æ—¶ï¼Œä¸æ”¯æŒ embedded metastore çš„, ä½ éœ€è¦èµ·ä¸€ä¸ªhive&#010;metastore å¹¶åœ¨confæ–‡ä»¶é…ç½® hive.metastore.uris, æ”¯æŒçš„ metastore ç‰ˆæœ¬ å‚è€ƒ[1]&#010;&gt;&gt;&gt; &#010;&gt;&gt;&gt; Best,&#010;&gt;&gt;&gt; Leonard Xu&#010;&gt;&gt;&gt; [1] https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/#using-bundled-hive-jar&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/hive/#using-bundled-hive-jar&gt;&#010;&gt;&#010;",
        "depth": "4",
        "reply": "<7046f795.92f7.1734d2afe9e.Coremail.wander669@163.com>"
    },
    {
        "id": "<202007150919537622622@163.com>",
        "from": "ç‹åŒåˆ© &lt;all...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 01:19:57 GMT",
        "subject": "TableEnvironment é‡Œé¢æ— æ³•æ‰§è¡Œ Hopç­‰çª—å£å‡½æ•°",
        "content": "TableEnvironment é‡Œé¢æ— æ³•æ‰§è¡Œ Hopç­‰çª—å£å‡½æ•°ï¼Œä½¿ç”¨StreamTableEnvironment åˆ™å¯ä»¥æ‰§è¡Œï¼ŒFlinkç‰ˆæœ¬1.10&#013;&#010;æ˜¯å¦æ˜¯è¿™æ ·çš„&#013;&#010;",
        "depth": "0",
        "reply": "<202007150919537622622@163.com>"
    },
    {
        "id": "<578e93a0.bc7f.1735076d457.Coremail.17610775726@163.com>",
        "from": "JasonLee &lt;17610775...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 03:13:51 GMT",
        "subject": "å›å¤ï¼šTableEnvironment é‡Œé¢æ— æ³•æ‰§è¡Œ Hopç­‰çª—å£å‡½æ•°",
        "content": "hi&#010;æ»‘åŠ¨çª—å£åªæœ‰åœ¨streamé‡Œé¢æ‰ä¼šæœ‰&#010;&#010;&#010;| |&#010;JasonLee&#010;|&#010;|&#010;é‚®ç®±ï¼š17610775726@163.com&#010;|&#010;&#010;Signature is customized by Netease Mail Master&#010;&#010;åœ¨2020å¹´07æœˆ15æ—¥ 09:19ï¼Œç‹åŒåˆ© å†™é“ï¼š&#010;TableEnvironment é‡Œé¢æ— æ³•æ‰§è¡Œ Hopç­‰çª—å£å‡½æ•°ï¼Œä½¿ç”¨StreamTableEnvironment åˆ™å¯ä»¥æ‰§è¡Œï¼ŒFlinkç‰ˆæœ¬1.10&#010;æ˜¯å¦æ˜¯è¿™æ ·çš„&#010;",
        "depth": "1",
        "reply": "<202007150919537622622@163.com>"
    },
    {
        "id": "<CAGR9zpZJuNebSqff5CaXjM7AFm0Lg=7w8sYiep0Omtn60BYijw@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 01:54:08 GMT",
        "subject": "flink sql 1.10 insert into tb select å¤æ‚schema å¤±è´¥",
        "content": "Helloï¼Œ&#010;&#010;         åœ¨ä½¿ç”¨flink sql 1.10.0 æ—¶å€™ï¼Œå½“source table ä¸­å«æœ‰å¤æ‚schemaï¼Œæ¯”å¦‚&#010;create table xxx (&#010;a string,&#010;b row(&#010; c row(d string)&#010;  )&#010;)&#010;&#010;å½“c ä¸­æœ‰å€¼çš„æ—¶å€™ï¼Œsql å¦‚ä¸‹ insert into select * from xxxä¼šå‡ºç°ä¸‹é¢é”™è¯¯&#010;&#010;Caused by: java.lang.ClassCastException:&#010;org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.node.NullNode&#010;cannot be cast to&#010;org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.node.ObjectNode&#010;at&#010;org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:337)&#010;at&#010;org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;at&#010;org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:345)&#010;at&#010;org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;at&#010;org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:345)&#010;at&#010;org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;at&#010;org.apache.flink.formats.json.JsonRowSerializationSchema.serialize(JsonRowSerializationSchema.java:138)&#010;... 38 more&#010;&#010;&#010;Best wishes.&#010;&#010;",
        "depth": "0",
        "reply": "<CAGR9zpZJuNebSqff5CaXjM7AFm0Lg=7w8sYiep0Omtn60BYijw@mail.gmail.com>"
    },
    {
        "id": "<CABKuJ_Qn0rUrVXFaJ0Cd1E2iqD+ZeY_dO5U15ETwG2e_3QDzeQ@mail.gmail.com>",
        "from": "Benchao Li &lt;libenc...@apache.org&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 02:25:16 GMT",
        "subject": "Re: flink sql 1.10 insert into tb select å¤æ‚schema å¤±è´¥",
        "content": "Hi Peihui,&#010;&#010;è¿™æ˜¯ä¸€ä¸ªå·²çŸ¥bug[1]ï¼Œå·²ç»åœ¨1.10.1å’Œ1.11.0ä¸­ä¿®å¤äº†ï¼Œå¯ä»¥å°è¯•ä¸‹è¿™ä¸¤ä¸ªç‰ˆæœ¬ã€‚&#010;&#010;[1] https://issues.apache.org/jira/browse/FLINK-16220&#010;&#010;Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸Šåˆ9:54å†™é“ï¼š&#010;&#010;&gt; Helloï¼Œ&#010;&gt;&#010;&gt;          åœ¨ä½¿ç”¨flink sql 1.10.0 æ—¶å€™ï¼Œå½“source table ä¸­å«æœ‰å¤æ‚schemaï¼Œæ¯”å¦‚&#010;&gt; create table xxx (&#010;&gt; a string,&#010;&gt; b row(&#010;&gt;  c row(d string)&#010;&gt;   )&#010;&gt; )&#010;&gt;&#010;&gt; å½“c ä¸­æœ‰å€¼çš„æ—¶å€™ï¼Œsql å¦‚ä¸‹ insert into select * from xxxä¼šå‡ºç°ä¸‹é¢é”™è¯¯&#010;&gt;&#010;&gt; Caused by: java.lang.ClassCastException:&#010;&gt;&#010;&gt; org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.node.NullNode&#010;&gt; cannot be cast to&#010;&gt;&#010;&gt; org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.node.ObjectNode&#010;&gt; at&#010;&gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:337)&#010;&gt; at&#010;&gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;&gt; at&#010;&gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:345)&#010;&gt; at&#010;&gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;&gt; at&#010;&gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:345)&#010;&gt; at&#010;&gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;&gt; at&#010;&gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.serialize(JsonRowSerializationSchema.java:138)&#010;&gt; ... 38 more&#010;&gt;&#010;&gt;&#010;&gt; Best wishes.&#010;&gt;&#010;&#010;&#010;-- &#010;&#010;Best,&#010;Benchao Li&#010;&#010;",
        "depth": "1",
        "reply": "<CAGR9zpZJuNebSqff5CaXjM7AFm0Lg=7w8sYiep0Omtn60BYijw@mail.gmail.com>"
    },
    {
        "id": "<CAGR9zpbdzj=e7_BKzjqJZZSGM1_85BuKFBxjqd=eHLr1d-Kgpw@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 04:03:31 GMT",
        "subject": "Re: flink sql 1.10 insert into tb select å¤æ‚schema å¤±è´¥",
        "content": "Hi BenChao,&#010;&#010;åˆšæ‰å°è¯•äº†flink 1.10.1 ä½†æ˜¯é—®é¢˜è¿˜æ˜¯å­˜åœ¨ï¼Œçœ‹äº†&#010;&#010;[1] https://issues.apache.org/jira/browse/FLINK-16628&#010;&#010;&#010;è¿™ä¸ªbug fixæ²¡æœ‰æˆ‘ç»™çš„ table å¤æ‚ï¼Œ&#010;&#010;CREATE TABLE source_kafka_sasl (&#010;    svt STRING,&#010;    ops ROW&lt;a ROW(b STRING)&gt;&#010;) WITH ()&#010;&#010;&#010;æˆ‘çš„æ˜¯åœ¨åŸæœ‰çš„ops é‡Œé¢åˆå‰åµŒå¥—äº†rowã€‚&#010;&#010;Benchao Li &lt;libenchao@apache.org&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸Šåˆ10:25å†™é“ï¼š&#010;&#010;&gt; Hi Peihui,&#010;&gt;&#010;&gt; è¿™æ˜¯ä¸€ä¸ªå·²çŸ¥bug[1]ï¼Œå·²ç»åœ¨1.10.1å’Œ1.11.0ä¸­ä¿®å¤äº†ï¼Œå¯ä»¥å°è¯•ä¸‹è¿™ä¸¤ä¸ªç‰ˆæœ¬ã€‚&#010;&gt;&#010;&gt; [1] https://issues.apache.org/jira/browse/FLINK-16220&#010;&gt;&#010;&gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸Šåˆ9:54å†™é“ï¼š&#010;&gt;&#010;&gt; &gt; Helloï¼Œ&#010;&gt; &gt;&#010;&gt; &gt;          åœ¨ä½¿ç”¨flink sql 1.10.0 æ—¶å€™ï¼Œå½“source table ä¸­å«æœ‰å¤æ‚schemaï¼Œæ¯”å¦‚&#010;&gt; &gt; create table xxx (&#010;&gt; &gt; a string,&#010;&gt; &gt; b row(&#010;&gt; &gt;  c row(d string)&#010;&gt; &gt;   )&#010;&gt; &gt; )&#010;&gt; &gt;&#010;&gt; &gt; å½“c ä¸­æœ‰å€¼çš„æ—¶å€™ï¼Œsql å¦‚ä¸‹ insert into select * from xxxä¼šå‡ºç°ä¸‹é¢é”™è¯¯&#010;&gt; &gt;&#010;&gt; &gt; Caused by: java.lang.ClassCastException:&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.node.NullNode&#010;&gt; &gt; cannot be cast to&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.node.ObjectNode&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:337)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:345)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:345)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.serialize(JsonRowSerializationSchema.java:138)&#010;&gt; &gt; ... 38 more&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; Best wishes.&#010;&gt; &gt;&#010;&gt;&#010;&gt;&#010;&gt; --&#010;&gt;&#010;&gt; Best,&#010;&gt; Benchao Li&#010;&gt;&#010;&#010;",
        "depth": "2",
        "reply": "<CAGR9zpZJuNebSqff5CaXjM7AFm0Lg=7w8sYiep0Omtn60BYijw@mail.gmail.com>"
    },
    {
        "id": "<CAGR9zpbH-czYVAK_SMDoSBTCqQ+nBmFLmkOpeLR0daquQVfgnw@mail.gmail.com>",
        "from": "Peihui He &lt;peihu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 05:16:40 GMT",
        "subject": "Re: flink sql 1.10 insert into tb select å¤æ‚schema å¤±è´¥",
        "content": "Hi BenChao,&#010;&#010;æ¢æˆ1.10.1 å°±å¯ä»¥äº†ã€‚åˆšæ‰é‚£å°é‚®ä»¶ä¸è¡Œï¼Œæ˜¯å› ä¸ºä¾èµ–flink-kafkaçš„ä¾èµ–ç‰ˆæœ¬æ²¡æœ‰ä¿®æ”¹è¿‡æ¥ã€‚&#010;Thank you.&#010;&#010;&#010;Benchao Li &lt;libenchao@apache.org&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸Šåˆ10:25å†™é“ï¼š&#010;&#010;&gt; Hi Peihui,&#010;&gt;&#010;&gt; è¿™æ˜¯ä¸€ä¸ªå·²çŸ¥bug[1]ï¼Œå·²ç»åœ¨1.10.1å’Œ1.11.0ä¸­ä¿®å¤äº†ï¼Œå¯ä»¥å°è¯•ä¸‹è¿™ä¸¤ä¸ªç‰ˆæœ¬ã€‚&#010;&gt;&#010;&gt; [1] https://issues.apache.org/jira/browse/FLINK-16220&#010;&gt;&#010;&gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸Šåˆ9:54å†™é“ï¼š&#010;&gt;&#010;&gt; &gt; Helloï¼Œ&#010;&gt; &gt;&#010;&gt; &gt;          åœ¨ä½¿ç”¨flink sql 1.10.0 æ—¶å€™ï¼Œå½“source table ä¸­å«æœ‰å¤æ‚schemaï¼Œæ¯”å¦‚&#010;&gt; &gt; create table xxx (&#010;&gt; &gt; a string,&#010;&gt; &gt; b row(&#010;&gt; &gt;  c row(d string)&#010;&gt; &gt;   )&#010;&gt; &gt; )&#010;&gt; &gt;&#010;&gt; &gt; å½“c ä¸­æœ‰å€¼çš„æ—¶å€™ï¼Œsql å¦‚ä¸‹ insert into select * from xxxä¼šå‡ºç°ä¸‹é¢é”™è¯¯&#010;&gt; &gt;&#010;&gt; &gt; Caused by: java.lang.ClassCastException:&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.node.NullNode&#010;&gt; &gt; cannot be cast to&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.node.ObjectNode&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:337)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:345)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:345)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.serialize(JsonRowSerializationSchema.java:138)&#010;&gt; &gt; ... 38 more&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; Best wishes.&#010;&gt; &gt;&#010;&gt;&#010;&gt;&#010;&gt; --&#010;&gt;&#010;&gt; Best,&#010;&gt; Benchao Li&#010;&gt;&#010;&#010;",
        "depth": "2",
        "reply": "<CAGR9zpZJuNebSqff5CaXjM7AFm0Lg=7w8sYiep0Omtn60BYijw@mail.gmail.com>"
    },
    {
        "id": "<CABKuJ_SFqKqDvgURYOifm=3uwU7o6jFAf22spTxgi+fc_vR5-Q@mail.gmail.com>",
        "from": "Benchao Li &lt;libenc...@apache.org&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 05:49:42 GMT",
        "subject": "Re: flink sql 1.10 insert into tb select å¤æ‚schema å¤±è´¥",
        "content": "èµğŸ‘ ï¼ˆä¸è¿‡è¿™ä¸ªåº”è¯¥åªæ˜¯json formatçš„bugï¼Œè·Ÿconnectoræ²¡æœ‰å…³ç³»ï¼‰&#010;&#010;Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ1:16å†™é“ï¼š&#010;&#010;&gt; Hi BenChao,&#010;&gt;&#010;&gt; æ¢æˆ1.10.1 å°±å¯ä»¥äº†ã€‚åˆšæ‰é‚£å°é‚®ä»¶ä¸è¡Œï¼Œæ˜¯å› ä¸ºä¾èµ–flink-kafkaçš„ä¾èµ–ç‰ˆæœ¬æ²¡æœ‰ä¿®æ”¹è¿‡æ¥ã€‚&#010;&gt; Thank you.&#010;&gt;&#010;&gt;&#010;&gt; Benchao Li &lt;libenchao@apache.org&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸Šåˆ10:25å†™é“ï¼š&#010;&gt;&#010;&gt; &gt; Hi Peihui,&#010;&gt; &gt;&#010;&gt; &gt; è¿™æ˜¯ä¸€ä¸ªå·²çŸ¥bug[1]ï¼Œå·²ç»åœ¨1.10.1å’Œ1.11.0ä¸­ä¿®å¤äº†ï¼Œå¯ä»¥å°è¯•ä¸‹è¿™ä¸¤ä¸ªç‰ˆæœ¬ã€‚&#010;&gt; &gt;&#010;&gt; &gt; [1] https://issues.apache.org/jira/browse/FLINK-16220&#010;&gt; &gt;&#010;&gt; &gt; Peihui He &lt;peihuihe@gmail.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸Šåˆ9:54å†™é“ï¼š&#010;&gt; &gt;&#010;&gt; &gt; &gt; Helloï¼Œ&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;          åœ¨ä½¿ç”¨flink sql 1.10.0 æ—¶å€™ï¼Œå½“source table ä¸­å«æœ‰å¤æ‚schemaï¼Œæ¯”å¦‚&#010;&gt; &gt; &gt; create table xxx (&#010;&gt; &gt; &gt; a string,&#010;&gt; &gt; &gt; b row(&#010;&gt; &gt; &gt;  c row(d string)&#010;&gt; &gt; &gt;   )&#010;&gt; &gt; &gt; )&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; å½“c ä¸­æœ‰å€¼çš„æ—¶å€™ï¼Œsql å¦‚ä¸‹ insert into select * from xxxä¼šå‡ºç°ä¸‹é¢é”™è¯¯&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Caused by: java.lang.ClassCastException:&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.node.NullNode&#010;&gt; &gt; &gt; cannot be cast to&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.node.ObjectNode&#010;&gt; &gt; &gt; at&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:337)&#010;&gt; &gt; &gt; at&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;&gt; &gt; &gt; at&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:345)&#010;&gt; &gt; &gt; at&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;&gt; &gt; &gt; at&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$assembleRowConverter$dd344700$1(JsonRowSerializationSchema.java:345)&#010;&gt; &gt; &gt; at&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.lambda$wrapIntoNullableConverter$1fa09b5b$1(JsonRowSerializationSchema.java:189)&#010;&gt; &gt; &gt; at&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; org.apache.flink.formats.json.JsonRowSerializationSchema.serialize(JsonRowSerializationSchema.java:138)&#010;&gt; &gt; &gt; ... 38 more&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Best wishes.&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; --&#010;&gt; &gt;&#010;&gt; &gt; Best,&#010;&gt; &gt; Benchao Li&#010;&gt; &gt;&#010;&gt;&#010;&#010;&#010;-- &#010;&#010;Best,&#010;Benchao Li&#010;&#010;",
        "depth": "3",
        "reply": "<CAGR9zpZJuNebSqff5CaXjM7AFm0Lg=7w8sYiep0Omtn60BYijw@mail.gmail.com>"
    },
    {
        "id": "<tencent_D83575359E08485E1740691F53A7563FA206@qq.com>",
        "from": "&quot;Z-Z&quot; &lt;zz9876543...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 02:47:39 GMT",
        "subject": "ã€æ±‚åŠ©ã€‘Flink Hadoopä¾èµ–é—®é¢˜",
        "content": "æˆ‘åœ¨ä½¿ç”¨Flink 1.11.0ç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨docker-composeæ­å»ºï¼Œdocker-composeæ–‡ä»¶å¦‚ä¸‹ï¼š&#013;&#010;version: \"2.1\"&#013;&#010;services:&#013;&#010;&amp;nbsp; jobmanager:&#013;&#010;&amp;nbsp; &amp;nbsp; image: flink:1.11.0-scala_2.12&#013;&#010;&amp;nbsp; &amp;nbsp; expose:&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"6123\"&#013;&#010;&amp;nbsp; &amp;nbsp; ports:&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"8081:8081\"&#013;&#010;&amp;nbsp; &amp;nbsp; command: jobmanager&#013;&#010;&amp;nbsp; &amp;nbsp; environment:&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; - JOB_MANAGER_RPC_ADDRESS=jobmanager&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; - HADOOP_CLASSPATH=/data/hadoop-2.9.2/etc/hadoop:/data/hadoop-2.9.2/share/hadoop/common/lib/*:/data/hadoop-2.9.2/share/hadoop/common/*:/data/hadoop-2.9.2/share/hadoop/hdfs:/data/hadoop-2.9.2/share/hadoop/hdfs/lib/*:/data/hadoop-2.9.2/share/hadoop/hdfs/*:/data/hadoop-2.9.2/share/hadoop/yarn:/data/hadoop-2.9.2/share/hadoop/yarn/lib/*:/data/hadoop-2.9.2/share/hadoop/yarn/*:/data/hadoop-2.9.2/share/hadoop/mapreduce/lib/*:/data/hadoop-2.9.2/share/hadoop/mapreduce/*:/contrib/capacity-scheduler/*.jar&#013;&#010;&amp;nbsp; &amp;nbsp; volumes:&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; - ./jobmanager/conf:/opt/flink/conf&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; - ./data:/data&#013;&#010;&#013;&#010;&#013;&#010;&amp;nbsp; taskmanager:&#013;&#010;&amp;nbsp; &amp;nbsp; image: flink:1.11.0-scala_2.12&#013;&#010;&amp;nbsp; &amp;nbsp; expose:&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"6121\"&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"6122\"&#013;&#010;&amp;nbsp; &amp;nbsp; depends_on:&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; - jobmanager&#013;&#010;&amp;nbsp; &amp;nbsp; command: taskmanager&#013;&#010;&amp;nbsp; &amp;nbsp; links:&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"jobmanager:jobmanager\"&#013;&#010;&amp;nbsp; &amp;nbsp; environment:&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; - JOB_MANAGER_RPC_ADDRESS=jobmanager&#013;&#010;&amp;nbsp; &amp;nbsp; volumes:&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; - ./taskmanager/conf:/opt/flink/conf&#013;&#010;networks:&#013;&#010;&amp;nbsp; default:&#013;&#010;&amp;nbsp; &amp;nbsp; external:&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; name: flink-network&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;hadoop-2.9.2å·²ç»æ”¾åœ¨dataç›®å½•äº†ï¼Œä¸”å·²ç»åœ¨jobmanagerå’Œtaskmanagerçš„ç¯å¢ƒå˜é‡é‡Œæ·»åŠ äº†HADOOP_CLASSPATHï¼Œä½†é€šè¿‡cliæäº¤å’Œwebuiæäº¤ï¼Œjobmanagerè¿˜æ˜¯æç¤ºæŠ¥Could&#010;not find a file system implementation for scheme 'hdfs'ã€‚æœ‰è°çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹å—ï¼Ÿ",
        "depth": "0",
        "reply": "<tencent_D83575359E08485E1740691F53A7563FA206@qq.com>"
    },
    {
        "id": "<6a6b0623.5530.17351ba8406.Coremail.flinker@126.com>",
        "from": "&quot;Roc Marshal&quot; &lt;flin...@126.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 09:07:24 GMT",
        "subject": "Re:ã€æ±‚åŠ©ã€‘Flink Hadoopä¾èµ–é—®é¢˜",
        "content": "&#010;&#010;&#010;ä½ å¥½ï¼ŒZ-Z,&#010;&#010;å¯ä»¥å°è¯•åœ¨ https://repo1.maven.org/maven2/org/apache/flink/flink-shaded-hadoop-2-uber/&#010;ä¸‹è½½å¯¹åº”çš„uber jaråŒ…ï¼Œå¹¶å°±å°†ä¸‹è½½åçš„jaræ–‡ä»¶æ”¾åˆ°flinké•œåƒçš„ ${FLINK_HOME}/lib&#010;è·¯å¾„ä¸‹ï¼Œä¹‹åå¯åŠ¨ç¼–æ’çš„å®¹å™¨ã€‚&#010;ç¥å¥½ã€‚&#010;Roc Marshal.&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-15 10:47:39ï¼Œ\"Z-Z\" &lt;zz9876543210@qq.com&gt; å†™é“ï¼š&#010;&gt;æˆ‘åœ¨ä½¿ç”¨Flink 1.11.0ç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨docker-composeæ­å»ºï¼Œdocker-composeæ–‡ä»¶å¦‚ä¸‹ï¼š&#010;&gt;version: \"2.1\"&#010;&gt;services:&#010;&gt;&amp;nbsp; jobmanager:&#010;&gt;&amp;nbsp; &amp;nbsp; image: flink:1.11.0-scala_2.12&#010;&gt;&amp;nbsp; &amp;nbsp; expose:&#010;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"6123\"&#010;&gt;&amp;nbsp; &amp;nbsp; ports:&#010;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"8081:8081\"&#010;&gt;&amp;nbsp; &amp;nbsp; command: jobmanager&#010;&gt;&amp;nbsp; &amp;nbsp; environment:&#010;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - JOB_MANAGER_RPC_ADDRESS=jobmanager&#010;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - HADOOP_CLASSPATH=/data/hadoop-2.9.2/etc/hadoop:/data/hadoop-2.9.2/share/hadoop/common/lib/*:/data/hadoop-2.9.2/share/hadoop/common/*:/data/hadoop-2.9.2/share/hadoop/hdfs:/data/hadoop-2.9.2/share/hadoop/hdfs/lib/*:/data/hadoop-2.9.2/share/hadoop/hdfs/*:/data/hadoop-2.9.2/share/hadoop/yarn:/data/hadoop-2.9.2/share/hadoop/yarn/lib/*:/data/hadoop-2.9.2/share/hadoop/yarn/*:/data/hadoop-2.9.2/share/hadoop/mapreduce/lib/*:/data/hadoop-2.9.2/share/hadoop/mapreduce/*:/contrib/capacity-scheduler/*.jar&#010;&gt;&amp;nbsp; &amp;nbsp; volumes:&#010;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - ./jobmanager/conf:/opt/flink/conf&#010;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - ./data:/data&#010;&gt;&#010;&gt;&#010;&gt;&amp;nbsp; taskmanager:&#010;&gt;&amp;nbsp; &amp;nbsp; image: flink:1.11.0-scala_2.12&#010;&gt;&amp;nbsp; &amp;nbsp; expose:&#010;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"6121\"&#010;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"6122\"&#010;&gt;&amp;nbsp; &amp;nbsp; depends_on:&#010;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - jobmanager&#010;&gt;&amp;nbsp; &amp;nbsp; command: taskmanager&#010;&gt;&amp;nbsp; &amp;nbsp; links:&#010;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"jobmanager:jobmanager\"&#010;&gt;&amp;nbsp; &amp;nbsp; environment:&#010;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - JOB_MANAGER_RPC_ADDRESS=jobmanager&#010;&gt;&amp;nbsp; &amp;nbsp; volumes:&#010;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - ./taskmanager/conf:/opt/flink/conf&#010;&gt;networks:&#010;&gt;&amp;nbsp; default:&#010;&gt;&amp;nbsp; &amp;nbsp; external:&#010;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; name: flink-network&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;hadoop-2.9.2å·²ç»æ”¾åœ¨dataç›®å½•äº†ï¼Œä¸”å·²ç»åœ¨jobmanagerå’Œtaskmanagerçš„ç¯å¢ƒå˜é‡é‡Œæ·»åŠ äº†HADOOP_CLASSPATHï¼Œä½†é€šè¿‡cliæäº¤å’Œwebuiæäº¤ï¼Œjobmanagerè¿˜æ˜¯æç¤ºæŠ¥Could&#010;not find a file system implementation for scheme 'hdfs'ã€‚æœ‰è°çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹å—ï¼Ÿ&#010;",
        "depth": "1",
        "reply": "<tencent_D83575359E08485E1740691F53A7563FA206@qq.com>"
    },
    {
        "id": "<CAP+gf37ySJEA5mUHPxDdmcr-TF8_iiG9P_594wgnm8o7Fm+vOg@mail.gmail.com>",
        "from": "Yang Wang &lt;danrtsey...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 06:35:43 GMT",
        "subject": "Re: ã€æ±‚åŠ©ã€‘Flink Hadoopä¾èµ–é—®é¢˜",
        "content": "ä½ å¯ä»¥åœ¨Podé‡Œé¢ç¡®è®¤ä¸€ä¸‹/dataç›®å½•æ˜¯å¦æ­£å¸¸æŒ‚è½½ï¼Œå¦å¤–éœ€è¦åœ¨Podé‡Œpsçœ‹ä¸€ä¸‹&#013;&#010;èµ·çš„JVMè¿›ç¨‹é‡Œçš„classpathæ˜¯ä»€ä¹ˆï¼Œæœ‰æ²¡æœ‰åŒ…æ‹¬hadoopçš„jar&#013;&#010;&#013;&#010;&#013;&#010;å½“ç„¶ï¼Œä½¿ç”¨Roc Marshalå»ºè®®çš„å¢åŠ flink-shaded-hadoopå¹¶ä¸”æ”¾åˆ°$FLINK_HOME/libä¸‹ä¹Ÿå¯ä»¥è§£å†³é—®é¢˜&#013;&#010;&#013;&#010;Best,&#013;&#010;Yang&#013;&#010;&#013;&#010;Roc Marshal &lt;flinker@126.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:09å†™é“ï¼š&#013;&#010;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ä½ å¥½ï¼ŒZ-Z,&#013;&#010;&gt;&#013;&#010;&gt; å¯ä»¥å°è¯•åœ¨&#013;&#010;&gt; https://repo1.maven.org/maven2/org/apache/flink/flink-shaded-hadoop-2-uber/&#013;&#010;&gt; ä¸‹è½½å¯¹åº”çš„uber jaråŒ…ï¼Œå¹¶å°±å°†ä¸‹è½½åçš„jaræ–‡ä»¶æ”¾åˆ°flinké•œåƒçš„ ${FLINK_HOME}/lib&#010;è·¯å¾„ä¸‹ï¼Œä¹‹åå¯åŠ¨ç¼–æ’çš„å®¹å™¨ã€‚&#013;&#010;&gt; ç¥å¥½ã€‚&#013;&#010;&gt; Roc Marshal.&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; åœ¨ 2020-07-15 10:47:39ï¼Œ\"Z-Z\" &lt;zz9876543210@qq.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;æˆ‘åœ¨ä½¿ç”¨Flink 1.11.0ç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨docker-composeæ­å»ºï¼Œdocker-composeæ–‡ä»¶å¦‚ä¸‹ï¼š&#013;&#010;&gt; &gt;version: \"2.1\"&#013;&#010;&gt; &gt;services:&#013;&#010;&gt; &gt;&amp;nbsp; jobmanager:&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; image: flink:1.11.0-scala_2.12&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; expose:&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"6123\"&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; ports:&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"8081:8081\"&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; command: jobmanager&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; environment:&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - JOB_MANAGER_RPC_ADDRESS=jobmanager&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; -&#013;&#010;&gt; HADOOP_CLASSPATH=/data/hadoop-2.9.2/etc/hadoop:/data/hadoop-2.9.2/share/hadoop/common/lib/*:/data/hadoop-2.9.2/share/hadoop/common/*:/data/hadoop-2.9.2/share/hadoop/hdfs:/data/hadoop-2.9.2/share/hadoop/hdfs/lib/*:/data/hadoop-2.9.2/share/hadoop/hdfs/*:/data/hadoop-2.9.2/share/hadoop/yarn:/data/hadoop-2.9.2/share/hadoop/yarn/lib/*:/data/hadoop-2.9.2/share/hadoop/yarn/*:/data/hadoop-2.9.2/share/hadoop/mapreduce/lib/*:/data/hadoop-2.9.2/share/hadoop/mapreduce/*:/contrib/capacity-scheduler/*.jar&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; volumes:&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - ./jobmanager/conf:/opt/flink/conf&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - ./data:/data&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&amp;nbsp; taskmanager:&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; image: flink:1.11.0-scala_2.12&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; expose:&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"6121\"&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"6122\"&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; depends_on:&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - jobmanager&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; command: taskmanager&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; links:&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - \"jobmanager:jobmanager\"&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; environment:&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - JOB_MANAGER_RPC_ADDRESS=jobmanager&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; volumes:&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - ./taskmanager/conf:/opt/flink/conf&#013;&#010;&gt; &gt;networks:&#013;&#010;&gt; &gt;&amp;nbsp; default:&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; external:&#013;&#010;&gt; &gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; name: flink-network&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;hadoop-2.9.2å·²ç»æ”¾åœ¨dataç›®å½•äº†ï¼Œä¸”å·²ç»åœ¨jobmanagerå’Œtaskmanagerçš„ç¯å¢ƒå˜é‡é‡Œæ·»åŠ äº†HADOOP_CLASSPATHï¼Œä½†é€šè¿‡cliæäº¤å’Œwebuiæäº¤ï¼Œjobmanagerè¿˜æ˜¯æç¤ºæŠ¥Could&#013;&#010;&gt; not find a file system implementation for scheme 'hdfs'ã€‚æœ‰è°çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹å—ï¼Ÿ&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<tencent_D83575359E08485E1740691F53A7563FA206@qq.com>"
    },
    {
        "id": "<tencent_8CDB2E7CCA8478CE8796164F@qq.com>",
        "from": "&quot;dmt312_2010&quot;&lt;dmt312_2...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 02:48:41 GMT",
        "subject": "flink1.11.0  java.lang.NoSuchMethodError: org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerThread",
        "content": "Hi,&#010;å¤§å®¶å¥½ï¼Œè¯·æ•™å„ä½å¤§ä½¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘åœ¨éªŒè¯flink 1.11.0æ—¶ï¼Œé‡åˆ°å¦‚ä¸‹é—®é¢˜ï¼š&#010;&#010;&#010;æŠ¥é”™ä¿¡æ¯ï¼š&#010;&#010;&#010;[ERROR] Could not execute SQL statement. Reason:&#010;java.lang.NoSuchMethodError: org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerThread.&lt;init&gt;(Lorg/slf4j/Logger;Lorg/apache/flink/streaming/connectors/kafka/internal/Handover;Ljava/util/Properties;&#010;Lorg/apache/flink/streaming/connectors/kafka/internals/ClosableBlockingQueue;Ljava/lang/String;&#010;JZLorg/apache/flink/metrics/MetricGroup;Lorg/apache/flink/metrics/MetricGroup;)V&#010;&#010;&#010;è¯·é—®ä¸‹æ˜¯ç¼ºå°‘æŸäº›éœ€è¦çš„åŒ…å—ï¼Ÿ&#010;&#010;&#010;&#010;&#010;ç¯å¢ƒä¿¡æ¯ï¼š&#010;&#010;&#010;ç‰ˆæœ¬ï¼šflink 1.11.0&#010;å¯åŠ¨æ–¹å¼ï¼šflink on yarn (é›†æˆåˆ°CDHä¸­)&#010;&#010;&#010;Flink Homeï¼š&#010;/opt/cloudera/parcels/FLINK/lib/flink&#010;&#010;&#010;${FLINK_HOME}/lib/ jaråŒ…ä¿¡æ¯:&#010;&#010;&#010;-rw-r--r-- 1 root   root      53820 Mar  9  2017 commons-cli-1.4.jar&#010;-rw-r--r-- 1 root   root     284220 Jan 17  2011 commons-lang-2.6.jar&#010;-rw-r--r-- 1 root   root      61829 Jul  6  2014 commons-logging-1.2.jar&#010;-rw-r--r-- 1 root   root     197130 Jun 30 12:45 flink-connector-jdbc_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root      47655 Jun 30 12:41 flink-connector-kafka-0.10_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root      60151 Jun 30 12:42 flink-connector-kafka-0.11_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root     109660 Jun 30 12:46 flink-connector-kafka_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root     122794 Jun 30 12:41 flink-connector-kafka-base_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root      90782 Jun 30 16:40 flink-csv-1.11.0.jar&#010;-rw-r--r-- 1 root   root   99461460 Jun 30 16:46 flink-dist_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root      94863 Jun 30 16:40 flink-json-1.11.0.jar&#010;-rw-rw-r-- 1 root   root    19127 Jul 14 19:12 flink-metrics-core-1.11.0.jar&#010;-rw-r--r-- 1 root   root     108120 Jul 14 19:35 flink-metrics-prometheus-1.11.0.jar&#010;-rw-r--r-- 1 root   root    7712156 Jun 18 10:42 flink-shaded-zookeeper-3.4.14.jar&#010;-rw-r--r-- 1 root   root   31924588 Jun 30 16:45 flink-table_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root   34817036 Jun 30 16:45 flink-table-blink_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root    2740491 Oct 18  2019 kafka-clients-2.3.1.jar&#010;-rw-r--r-- 1 root   root      67114 Apr 20 20:47 log4j-1.2-api-2.12.1.jar&#010;-rw-r--r-- 1 root   root     276771 Apr 20 20:47 log4j-api-2.12.1.jar&#010;-rw-r--r-- 1 root   root    1674433 Apr 20 20:47 log4j-core-2.12.1.jar&#010;-rw-r--r-- 1 root   root      23518 Apr 20 20:47 log4j-slf4j-impl-2.12.1.jar&#010;-rw-r--r-- 1 root   root    1006904 Apr 20 11:10 mysql-connector-java-5.1.49.jar&#010;-rw-r--r-- 1 root   root      26084 Jul 14 18:54 slf4j-api-1.7.5.jar&#010;-rw-r--r-- 1 root   root       8869 Jul 14 18:54 slf4j-log4j12-1.7.5.jar&#010;-rwxr-xr-x 1 root   root      10680 Jul 14 18:54 slf4j-simple-1.7.5.jar&#010;&#010;&#010;&#010;&#010;&#010;&#010;æ‰§è¡Œè¯­å¥&#010;&#010;&#010;bin/sql-client.sh embedded&#010;&#010;&#010;&#010;&#010;CREATE TABLE TZT_PAYMENT_ORDER (&#010;  `op_type` STRING,&#010;  `op_ts` STRING,&#010;  `current_ts` STRING,&#010;  `pos` STRING, &#010;  `ID` BIGINT,&#010;  `TRACE_ID` STRING,&#010;  `BIZ_SYSTEM_CODE` STRING,&#010;  `MERCHANT_NO` STRING,&#010;  `REQUEST_NO` STRING,&#010;  `PRODUCT_NAME` STRING,&#010;  `BANK_CODE` STRING,&#010;  `CREATE_TIME` STRING,&#010;  `row_ts` as TO_TIMESTAMP(`CREATE_TIME`),&#010;   WATERMARK FOR row_ts AS row_ts - INTERVAL '1' MINUTE&#010;) WITH (&#010;   'format' = 'json',&#010;   'connector' = 'kafka',&#010;   'topic' = 'TZT_TZT_PAYMENT_ORDER',&#010;   'properties.bootstrap.servers' = 'xxxx',&#010;   'properties.group.id' = 'TZT_TZT_PAYMENT_ORDER_TEST_WWX',&#010;   'scan.startup.mode' = 'earliest-offset'&#010;  );&#010;&#010;&#010;select *  from  TZT_PAYMENT_ORDER;",
        "depth": "0",
        "reply": "<tencent_8CDB2E7CCA8478CE8796164F@qq.com>"
    },
    {
        "id": "<2BB1FB8E-438C-4022-8F5E-E549B4CD6901@gmail.com>",
        "from": "Paul Lam &lt;paullin3...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 02:56:46 GMT",
        "subject": "Re: flink1.11.0  java.lang.NoSuchMethodError: org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerThread",
        "content": "Hi,&#010;&#010;çœ‹èµ·æ¥æ˜¯ Kafka connector class å†²çªäº†ï¼Œflink-connector-kafka_2.12-1.11.0.jar å’Œ flink-connector-kafka-0.10_2.12-1.11.0.jar&#010;ä¸èƒ½åŒæ—¶åŠ åˆ° classpath é‡Œã€‚&#010;&#010;Best,&#010;Paul Lam&#010;&#010;&gt; 2020å¹´7æœˆ15æ—¥ 10:48ï¼Œdmt312_2010 &lt;dmt312_2010@163.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; Hi,&#010;&gt; å¤§å®¶å¥½ï¼Œè¯·æ•™å„ä½å¤§ä½¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘åœ¨éªŒè¯flink 1.11.0æ—¶ï¼Œé‡åˆ°å¦‚ä¸‹é—®é¢˜ï¼š&#010;&gt; &#010;&gt; &#010;&gt; æŠ¥é”™ä¿¡æ¯ï¼š&#010;&gt; &#010;&gt; &#010;&gt; [ERROR] Could not execute SQL statement. Reason:&#010;&gt; java.lang.NoSuchMethodError: org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerThread.&lt;init&gt;(Lorg/slf4j/Logger;Lorg/apache/flink/streaming/connectors/kafka/internal/Handover;Ljava/util/Properties;&#010;&gt; Lorg/apache/flink/streaming/connectors/kafka/internals/ClosableBlockingQueue;Ljava/lang/String;&#010;&gt; JZLorg/apache/flink/metrics/MetricGroup;Lorg/apache/flink/metrics/MetricGroup;)V&#010;&gt; &#010;&gt; &#010;&gt; è¯·é—®ä¸‹æ˜¯ç¼ºå°‘æŸäº›éœ€è¦çš„åŒ…å—ï¼Ÿ&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; ç¯å¢ƒä¿¡æ¯ï¼š&#010;&gt; &#010;&gt; &#010;&gt; ç‰ˆæœ¬ï¼šflink 1.11.0&#010;&gt; å¯åŠ¨æ–¹å¼ï¼šflink on yarn (é›†æˆåˆ°CDHä¸­)&#010;&gt; &#010;&gt; &#010;&gt; Flink Homeï¼š&#010;&gt; /opt/cloudera/parcels/FLINK/lib/flink&#010;&gt; &#010;&gt; &#010;&gt; ${FLINK_HOME}/lib/ jaråŒ…ä¿¡æ¯:&#010;&gt; &#010;&gt; &#010;&gt; -rw-r--r-- 1 root   root      53820 Mar  9  2017 commons-cli-1.4.jar&#010;&gt; -rw-r--r-- 1 root   root     284220 Jan 17  2011 commons-lang-2.6.jar&#010;&gt; -rw-r--r-- 1 root   root      61829 Jul  6  2014 commons-logging-1.2.jar&#010;&gt; -rw-r--r-- 1 root   root     197130 Jun 30 12:45 flink-connector-jdbc_2.12-1.11.0.jar&#010;&gt; -rw-r--r-- 1 root   root      47655 Jun 30 12:41 flink-connector-kafka-0.10_2.12-1.11.0.jar&#010;&gt; -rw-r--r-- 1 root   root      60151 Jun 30 12:42 flink-connector-kafka-0.11_2.12-1.11.0.jar&#010;&gt; -rw-r--r-- 1 root   root     109660 Jun 30 12:46 flink-connector-kafka_2.12-1.11.0.jar&#010;&gt; -rw-r--r-- 1 root   root     122794 Jun 30 12:41 flink-connector-kafka-base_2.12-1.11.0.jar&#010;&gt; -rw-r--r-- 1 root   root      90782 Jun 30 16:40 flink-csv-1.11.0.jar&#010;&gt; -rw-r--r-- 1 root   root   99461460 Jun 30 16:46 flink-dist_2.12-1.11.0.jar&#010;&gt; -rw-r--r-- 1 root   root      94863 Jun 30 16:40 flink-json-1.11.0.jar&#010;&gt; -rw-rw-r-- 1 root   root    19127 Jul 14 19:12 flink-metrics-core-1.11.0.jar&#010;&gt; -rw-r--r-- 1 root   root     108120 Jul 14 19:35 flink-metrics-prometheus-1.11.0.jar&#010;&gt; -rw-r--r-- 1 root   root    7712156 Jun 18 10:42 flink-shaded-zookeeper-3.4.14.jar&#010;&gt; -rw-r--r-- 1 root   root   31924588 Jun 30 16:45 flink-table_2.12-1.11.0.jar&#010;&gt; -rw-r--r-- 1 root   root   34817036 Jun 30 16:45 flink-table-blink_2.12-1.11.0.jar&#010;&gt; -rw-r--r-- 1 root   root    2740491 Oct 18  2019 kafka-clients-2.3.1.jar&#010;&gt; -rw-r--r-- 1 root   root      67114 Apr 20 20:47 log4j-1.2-api-2.12.1.jar&#010;&gt; -rw-r--r-- 1 root   root     276771 Apr 20 20:47 log4j-api-2.12.1.jar&#010;&gt; -rw-r--r-- 1 root   root    1674433 Apr 20 20:47 log4j-core-2.12.1.jar&#010;&gt; -rw-r--r-- 1 root   root      23518 Apr 20 20:47 log4j-slf4j-impl-2.12.1.jar&#010;&gt; -rw-r--r-- 1 root   root    1006904 Apr 20 11:10 mysql-connector-java-5.1.49.jar&#010;&gt; -rw-r--r-- 1 root   root      26084 Jul 14 18:54 slf4j-api-1.7.5.jar&#010;&gt; -rw-r--r-- 1 root   root       8869 Jul 14 18:54 slf4j-log4j12-1.7.5.jar&#010;&gt; -rwxr-xr-x 1 root   root      10680 Jul 14 18:54 slf4j-simple-1.7.5.jar&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; æ‰§è¡Œè¯­å¥&#010;&gt; &#010;&gt; &#010;&gt; bin/sql-client.sh embedded&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; CREATE TABLE TZT_PAYMENT_ORDER (&#010;&gt;  `op_type` STRING,&#010;&gt;  `op_ts` STRING,&#010;&gt;  `current_ts` STRING,&#010;&gt;  `pos` STRING, &#010;&gt;  `ID` BIGINT,&#010;&gt;  `TRACE_ID` STRING,&#010;&gt;  `BIZ_SYSTEM_CODE` STRING,&#010;&gt;  `MERCHANT_NO` STRING,&#010;&gt;  `REQUEST_NO` STRING,&#010;&gt;  `PRODUCT_NAME` STRING,&#010;&gt;  `BANK_CODE` STRING,&#010;&gt;  `CREATE_TIME` STRING,&#010;&gt;  `row_ts` as TO_TIMESTAMP(`CREATE_TIME`),&#010;&gt;   WATERMARK FOR row_ts AS row_ts - INTERVAL '1' MINUTE&#010;&gt; ) WITH (&#010;&gt;   'format' = 'json',&#010;&gt;   'connector' = 'kafka',&#010;&gt;   'topic' = 'TZT_TZT_PAYMENT_ORDER',&#010;&gt;   'properties.bootstrap.servers' = 'xxxx',&#010;&gt;   'properties.group.id' = 'TZT_TZT_PAYMENT_ORDER_TEST_WWX',&#010;&gt;   'scan.startup.mode' = 'earliest-offset'&#010;&gt;  );&#010;&gt; &#010;&gt; &#010;&gt; select *  from  TZT_PAYMENT_ORDER;&#010;&#010;&#010;",
        "depth": "1",
        "reply": "<tencent_8CDB2E7CCA8478CE8796164F@qq.com>"
    },
    {
        "id": "<CC21E54A-0A43-4D80-88F7-2B17D1BAB0A8@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 02:59:16 GMT",
        "subject": "Re: flink1.11.0  java.lang.NoSuchMethodError: org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerThread",
        "content": "Hi,&#010;ä¸¤ä¸ªkafka connectoræ˜¯ä¼šå†²çªçš„ï¼Œè¿˜æœ‰ä¸€ç‚¹æ˜¯ SQL client é‡Œåº”è¯¥ç”¨ sql çš„connectorä¾èµ–å§ï¼Œ&#010;flink-sql-connector-kafka_2.12-1.11.0.jar &#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ15æ—¥ï¼Œ10:56ï¼ŒPaul Lam &lt;paullin3280@gmail.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; Hi,&#010;&gt; &#010;&gt; çœ‹èµ·æ¥æ˜¯ Kafka connector class å†²çªäº†ï¼Œflink-connector-kafka_2.12-1.11.0.jar&#010;å’Œ flink-connector-kafka-0.10_2.12-1.11.0.jar ä¸èƒ½åŒæ—¶åŠ åˆ° classpath é‡Œã€‚&#010;&gt; &#010;&gt; Best,&#010;&gt; Paul Lam&#010;&gt; &#010;&gt;&gt; 2020å¹´7æœˆ15æ—¥ 10:48ï¼Œdmt312_2010 &lt;dmt312_2010@163.com&gt; å†™é“ï¼š&#010;&gt;&gt; &#010;&gt;&gt; Hi,&#010;&gt;&gt; å¤§å®¶å¥½ï¼Œè¯·æ•™å„ä½å¤§ä½¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘åœ¨éªŒè¯flink 1.11.0æ—¶ï¼Œé‡åˆ°å¦‚ä¸‹é—®é¢˜ï¼š&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; æŠ¥é”™ä¿¡æ¯ï¼š&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; [ERROR] Could not execute SQL statement. Reason:&#010;&gt;&gt; java.lang.NoSuchMethodError: org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerThread.&lt;init&gt;(Lorg/slf4j/Logger;Lorg/apache/flink/streaming/connectors/kafka/internal/Handover;Ljava/util/Properties;&#010;&gt;&gt; Lorg/apache/flink/streaming/connectors/kafka/internals/ClosableBlockingQueue;Ljava/lang/String;&#010;&gt;&gt; JZLorg/apache/flink/metrics/MetricGroup;Lorg/apache/flink/metrics/MetricGroup;)V&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; è¯·é—®ä¸‹æ˜¯ç¼ºå°‘æŸäº›éœ€è¦çš„åŒ…å—ï¼Ÿ&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; ç¯å¢ƒä¿¡æ¯ï¼š&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; ç‰ˆæœ¬ï¼šflink 1.11.0&#010;&gt;&gt; å¯åŠ¨æ–¹å¼ï¼šflink on yarn (é›†æˆåˆ°CDHä¸­)&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; Flink Homeï¼š&#010;&gt;&gt; /opt/cloudera/parcels/FLINK/lib/flink&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; ${FLINK_HOME}/lib/ jaråŒ…ä¿¡æ¯:&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; -rw-r--r-- 1 root   root      53820 Mar  9  2017 commons-cli-1.4.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root     284220 Jan 17  2011 commons-lang-2.6.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root      61829 Jul  6  2014 commons-logging-1.2.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root     197130 Jun 30 12:45 flink-connector-jdbc_2.12-1.11.0.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root      47655 Jun 30 12:41 flink-connector-kafka-0.10_2.12-1.11.0.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root      60151 Jun 30 12:42 flink-connector-kafka-0.11_2.12-1.11.0.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root     109660 Jun 30 12:46 flink-connector-kafka_2.12-1.11.0.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root     122794 Jun 30 12:41 flink-connector-kafka-base_2.12-1.11.0.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root      90782 Jun 30 16:40 flink-csv-1.11.0.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root   99461460 Jun 30 16:46 flink-dist_2.12-1.11.0.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root      94863 Jun 30 16:40 flink-json-1.11.0.jar&#010;&gt;&gt; -rw-rw-r-- 1 root   root    19127 Jul 14 19:12 flink-metrics-core-1.11.0.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root     108120 Jul 14 19:35 flink-metrics-prometheus-1.11.0.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root    7712156 Jun 18 10:42 flink-shaded-zookeeper-3.4.14.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root   31924588 Jun 30 16:45 flink-table_2.12-1.11.0.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root   34817036 Jun 30 16:45 flink-table-blink_2.12-1.11.0.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root    2740491 Oct 18  2019 kafka-clients-2.3.1.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root      67114 Apr 20 20:47 log4j-1.2-api-2.12.1.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root     276771 Apr 20 20:47 log4j-api-2.12.1.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root    1674433 Apr 20 20:47 log4j-core-2.12.1.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root      23518 Apr 20 20:47 log4j-slf4j-impl-2.12.1.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root    1006904 Apr 20 11:10 mysql-connector-java-5.1.49.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root      26084 Jul 14 18:54 slf4j-api-1.7.5.jar&#010;&gt;&gt; -rw-r--r-- 1 root   root       8869 Jul 14 18:54 slf4j-log4j12-1.7.5.jar&#010;&gt;&gt; -rwxr-xr-x 1 root   root      10680 Jul 14 18:54 slf4j-simple-1.7.5.jar&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; æ‰§è¡Œè¯­å¥&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; bin/sql-client.sh embedded&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; CREATE TABLE TZT_PAYMENT_ORDER (&#010;&gt;&gt; `op_type` STRING,&#010;&gt;&gt; `op_ts` STRING,&#010;&gt;&gt; `current_ts` STRING,&#010;&gt;&gt; `pos` STRING, &#010;&gt;&gt; `ID` BIGINT,&#010;&gt;&gt; `TRACE_ID` STRING,&#010;&gt;&gt; `BIZ_SYSTEM_CODE` STRING,&#010;&gt;&gt; `MERCHANT_NO` STRING,&#010;&gt;&gt; `REQUEST_NO` STRING,&#010;&gt;&gt; `PRODUCT_NAME` STRING,&#010;&gt;&gt; `BANK_CODE` STRING,&#010;&gt;&gt; `CREATE_TIME` STRING,&#010;&gt;&gt; `row_ts` as TO_TIMESTAMP(`CREATE_TIME`),&#010;&gt;&gt;  WATERMARK FOR row_ts AS row_ts - INTERVAL '1' MINUTE&#010;&gt;&gt; ) WITH (&#010;&gt;&gt;  'format' = 'json',&#010;&gt;&gt;  'connector' = 'kafka',&#010;&gt;&gt;  'topic' = 'TZT_TZT_PAYMENT_ORDER',&#010;&gt;&gt;  'properties.bootstrap.servers' = 'xxxx',&#010;&gt;&gt;  'properties.group.id' = 'TZT_TZT_PAYMENT_ORDER_TEST_WWX',&#010;&gt;&gt;  'scan.startup.mode' = 'earliest-offset'&#010;&gt;&gt; );&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; select *  from  TZT_PAYMENT_ORDER;&#010;&gt; &#010;&#010;&#010;",
        "depth": "2",
        "reply": "<tencent_8CDB2E7CCA8478CE8796164F@qq.com>"
    },
    {
        "id": "<5c0c0e72.bb6d.173506eaef1.Coremail.17610775726@163.com>",
        "from": "JasonLee &lt;17610775...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 03:04:57 GMT",
        "subject": "Re: flink1.11.0 java.lang.NoSuchMethodError: org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerThread",
        "content": "è¿™ä¸ªå¾ˆæ˜æ˜¾æ˜¯jaråŒ…å†²çªäº† åªä¿ç•™flink-sqlé‚£ä¸ªåŒ…å°±è¡Œäº†&#010;&#010;&#010;| |&#010;JasonLee&#010;|&#010;|&#010;é‚®ç®±ï¼š17610775726@163.com&#010;|&#010;&#010;Signature is customized by Netease Mail Master&#010;&#010;On 07/15/2020 10:48, dmt312_2010 wrote:&#010;Hi,&#010;å¤§å®¶å¥½ï¼Œè¯·æ•™å„ä½å¤§ä½¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘åœ¨éªŒè¯flink 1.11.0æ—¶ï¼Œé‡åˆ°å¦‚ä¸‹é—®é¢˜ï¼š&#010;&#010;&#010;æŠ¥é”™ä¿¡æ¯ï¼š&#010;&#010;&#010;[ERROR] Could not execute SQL statement. Reason:&#010;java.lang.NoSuchMethodError: org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerThread.&lt;init&gt;(Lorg/slf4j/Logger;Lorg/apache/flink/streaming/connectors/kafka/internal/Handover;Ljava/util/Properties;&#010;Lorg/apache/flink/streaming/connectors/kafka/internals/ClosableBlockingQueue;Ljava/lang/String;&#010;JZLorg/apache/flink/metrics/MetricGroup;Lorg/apache/flink/metrics/MetricGroup;)V&#010;&#010;&#010;è¯·é—®ä¸‹æ˜¯ç¼ºå°‘æŸäº›éœ€è¦çš„åŒ…å—ï¼Ÿ&#010;&#010;&#010;&#010;&#010;ç¯å¢ƒä¿¡æ¯ï¼š&#010;&#010;&#010;ç‰ˆæœ¬ï¼šflink 1.11.0&#010;å¯åŠ¨æ–¹å¼ï¼šflink on yarn (é›†æˆåˆ°CDHä¸­)&#010;&#010;&#010;Flink Homeï¼š&#010;/opt/cloudera/parcels/FLINK/lib/flink&#010;&#010;&#010;${FLINK_HOME}/lib/ jaråŒ…ä¿¡æ¯:&#010;&#010;&#010;-rw-r--r-- 1 root   root      53820 Mar  9  2017 commons-cli-1.4.jar&#010;-rw-r--r-- 1 root   root     284220 Jan 17  2011 commons-lang-2.6.jar&#010;-rw-r--r-- 1 root   root      61829 Jul  6  2014 commons-logging-1.2.jar&#010;-rw-r--r-- 1 root   root     197130 Jun 30 12:45 flink-connector-jdbc_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root      47655 Jun 30 12:41 flink-connector-kafka-0.10_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root      60151 Jun 30 12:42 flink-connector-kafka-0.11_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root     109660 Jun 30 12:46 flink-connector-kafka_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root     122794 Jun 30 12:41 flink-connector-kafka-base_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root      90782 Jun 30 16:40 flink-csv-1.11.0.jar&#010;-rw-r--r-- 1 root   root   99461460 Jun 30 16:46 flink-dist_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root      94863 Jun 30 16:40 flink-json-1.11.0.jar&#010;-rw-rw-r-- 1 root   root    19127 Jul 14 19:12 flink-metrics-core-1.11.0.jar&#010;-rw-r--r-- 1 root   root     108120 Jul 14 19:35 flink-metrics-prometheus-1.11.0.jar&#010;-rw-r--r-- 1 root   root    7712156 Jun 18 10:42 flink-shaded-zookeeper-3.4.14.jar&#010;-rw-r--r-- 1 root   root   31924588 Jun 30 16:45 flink-table_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root   34817036 Jun 30 16:45 flink-table-blink_2.12-1.11.0.jar&#010;-rw-r--r-- 1 root   root    2740491 Oct 18  2019 kafka-clients-2.3.1.jar&#010;-rw-r--r-- 1 root   root      67114 Apr 20 20:47 log4j-1.2-api-2.12.1.jar&#010;-rw-r--r-- 1 root   root     276771 Apr 20 20:47 log4j-api-2.12.1.jar&#010;-rw-r--r-- 1 root   root    1674433 Apr 20 20:47 log4j-core-2.12.1.jar&#010;-rw-r--r-- 1 root   root      23518 Apr 20 20:47 log4j-slf4j-impl-2.12.1.jar&#010;-rw-r--r-- 1 root   root    1006904 Apr 20 11:10 mysql-connector-java-5.1.49.jar&#010;-rw-r--r-- 1 root   root      26084 Jul 14 18:54 slf4j-api-1.7.5.jar&#010;-rw-r--r-- 1 root   root       8869 Jul 14 18:54 slf4j-log4j12-1.7.5.jar&#010;-rwxr-xr-x 1 root   root      10680 Jul 14 18:54 slf4j-simple-1.7.5.jar&#010;&#010;&#010;&#010;&#010;&#010;&#010;æ‰§è¡Œè¯­å¥&#010;&#010;&#010;bin/sql-client.sh embedded&#010;&#010;&#010;&#010;&#010;CREATE TABLE TZT_PAYMENT_ORDER (&#010; `op_type` STRING,&#010; `op_ts` STRING,&#010; `current_ts` STRING,&#010; `pos` STRING,&#010; `ID` BIGINT,&#010; `TRACE_ID` STRING,&#010; `BIZ_SYSTEM_CODE` STRING,&#010; `MERCHANT_NO` STRING,&#010; `REQUEST_NO` STRING,&#010; `PRODUCT_NAME` STRING,&#010; `BANK_CODE` STRING,&#010; `CREATE_TIME` STRING,&#010; `row_ts` as TO_TIMESTAMP(`CREATE_TIME`),&#010;  WATERMARK FOR row_ts AS row_ts - INTERVAL '1' MINUTE&#010;) WITH (&#010;  'format' = 'json',&#010;  'connector' = 'kafka',&#010;  'topic' = 'TZT_TZT_PAYMENT_ORDER',&#010;  'properties.bootstrap.servers' = 'xxxx',&#010;  'properties.group.id' = 'TZT_TZT_PAYMENT_ORDER_TEST_WWX',&#010;  'scan.startup.mode' = 'earliest-offset'&#010; );&#010;&#010;&#010;select *  from  TZT_PAYMENT_ORDER;",
        "depth": "1",
        "reply": "<tencent_8CDB2E7CCA8478CE8796164F@qq.com>"
    },
    {
        "id": "<tencent_B16F79C82DB8698DF28CA95A@qq.com>",
        "from": "&quot;dmt312_2010&quot;&lt;dmt312_2...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 03:18:39 GMT",
        "subject": "Re: flink1.11.0 java.lang.NoSuchMethodError:org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerThread",
        "content": "è°¢è°¢ï¼Œç¡®å®æ˜¯jaråŒ…å†²çªçš„é—®é¢˜ï¼Œæ›¿æ¢å®ŒåŒ…ä»¥åå·²ç»å¯ä»¥äº†&#010;&#010;&#010; åŸå§‹é‚®ä»¶ &#010;å‘ä»¶äºº: JasonLee&lt;17610775726@163.com&gt;&#010;æ”¶ä»¶äºº: user-zh&lt;user-zh@flink.apache.org&gt;&#010;å‘é€æ—¶é—´: 2020å¹´7æœˆ15æ—¥(å‘¨ä¸‰)â€‡11:04&#010;ä¸»é¢˜: Re: flink1.11.0 java.lang.NoSuchMethodError:org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerThread&#010;&#010;&#010;è¿™ä¸ªå¾ˆæ˜æ˜¾æ˜¯jaråŒ…å†²çªäº† åªä¿ç•™flink-sqlé‚£ä¸ªåŒ…å°±è¡Œäº† | | JasonLee | | é‚®ç®±ï¼š17610775726@163.com&#010;| Signature is customized by Netease Mail Master On 07/15/2020 10:48, dmt312_2010 wrote: Hi,&#010;å¤§å®¶å¥½ï¼Œè¯·æ•™å„ä½å¤§ä½¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘åœ¨éªŒè¯flink 1.11.0æ—¶ï¼Œé‡åˆ°å¦‚ä¸‹é—®é¢˜ï¼š&#010;æŠ¥é”™ä¿¡æ¯ï¼š [ERROR] Could not execute SQL statement. Reason: java.lang.NoSuchMethodError:&#010;org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerThread.&lt;init&gt;(Lorg/slf4j/Logger;Lorg/apache/flink/streaming/connectors/kafka/internal/Handover;Ljava/util/Properties;&#010;Lorg/apache/flink/streaming/connectors/kafka/internals/ClosableBlockingQueue;Ljava/lang/String;&#010;JZLorg/apache/flink/metrics/MetricGroup;Lorg/apache/flink/metrics/MetricGroup;)V è¯·é—®ä¸‹æ˜¯ç¼ºå°‘æŸäº›éœ€è¦çš„åŒ…å—ï¼Ÿ&#010;ç¯å¢ƒä¿¡æ¯ï¼š ç‰ˆæœ¬ï¼šflink 1.11.0 å¯åŠ¨æ–¹å¼ï¼šflink on yarn (é›†æˆåˆ°CDHä¸­) Flink&#010;Homeï¼š /opt/cloudera/parcels/FLINK/lib/flink ${FLINK_HOME}/lib/ jaråŒ…ä¿¡æ¯: -rw-r--r--&#010;1 root root 53820 Mar 9 2017 commons-cli-1.4.jar -rw-r--r-- 1 root root 284220 Jan 17 2011&#010;commons-lang-2.6.jar -rw-r--r-- 1 root root 61829 Jul 6 2014 commons-logging-1.2.jar -rw-r--r--&#010;1 root root 197130 Jun 30 12:45 flink-connector-jdbc_2.12-1.11.0.jar -rw-r--r-- 1 root root&#010;47655 Jun 30 12:41 flink-connector-kafka-0.10_2.12-1.11.0.jar -rw-r--r-- 1 root root 60151&#010;Jun 30 12:42 flink-connector-kafka-0.11_2.12-1.11.0.jar -rw-r--r-- 1 root root 109660 Jun&#010;30 12:46 flink-connector-kafka_2.12-1.11.0.jar -rw-r--r-- 1 root root 122794 Jun 30 12:41&#010;flink-connector-kafka-base_2.12-1.11.0.jar -rw-r--r-- 1 root root 90782 Jun 30 16:40 flink-csv-1.11.0.jar&#010;-rw-r--r-- 1 root root 99461460 Jun 30 16:46 flink-dist_2.12-1.11.0.jar -rw-r--r-- 1 root&#010;root 94863 Jun 30 16:40 flink-json-1.11.0.jar -rw-rw-r-- 1 root root 19127 Jul 14 19:12 flink-metrics-core-1.11.0.jar&#010;-rw-r--r-- 1 root root 108120 Jul 14 19:35 flink-metrics-prometheus-1.11.0.jar -rw-r--r--&#010;1 root root 7712156 Jun 18 10:42 flink-shaded-zookeeper-3.4.14.jar -rw-r--r-- 1 root root&#010;31924588 Jun 30 16:45 flink-table_2.12-1.11.0.jar -rw-r--r-- 1 root root 34817036 Jun 30 16:45&#010;flink-table-blink_2.12-1.11.0.jar -rw-r--r-- 1 root root 2740491 Oct 18 2019 kafka-clients-2.3.1.jar&#010;-rw-r--r-- 1 root root 67114 Apr 20 20:47 log4j-1.2-api-2.12.1.jar -rw-r--r-- 1 root root&#010;276771 Apr 20 20:47 log4j-api-2.12.1.jar -rw-r--r-- 1 root root 1674433 Apr 20 20:47 log4j-core-2.12.1.jar&#010;-rw-r--r-- 1 root root 23518 Apr 20 20:47 log4j-slf4j-impl-2.12.1.jar -rw-r--r-- 1 root root&#010;1006904 Apr 20 11:10 mysql-connector-java-5.1.49.jar -rw-r--r-- 1 root root 26084 Jul 14 18:54&#010;slf4j-api-1.7.5.jar -rw-r--r-- 1 root root 8869 Jul 14 18:54 slf4j-log4j12-1.7.5.jar -rwxr-xr-x&#010;1 root root 10680 Jul 14 18:54 slf4j-simple-1.7.5.jar æ‰§è¡Œè¯­å¥ bin/sql-client.sh embedded&#010;CREATE TABLE TZT_PAYMENT_ORDER ( `op_type` STRING, `op_ts` STRING, `current_ts` STRING, `pos`&#010;STRING, `ID` BIGINT, `TRACE_ID` STRING, `BIZ_SYSTEM_CODE` STRING, `MERCHANT_NO` STRING, `REQUEST_NO`&#010;STRING, `PRODUCT_NAME` STRING, `BANK_CODE` STRING, `CREATE_TIME` STRING, `row_ts` as TO_TIMESTAMP(`CREATE_TIME`),&#010;WATERMARK FOR row_ts AS row_ts - INTERVAL '1' MINUTE ) WITH ( 'format' = 'json', 'connector'&#010;= 'kafka', 'topic' = 'TZT_TZT_PAYMENT_ORDER', 'properties.bootstrap.servers' = 'xxxx', 'properties.group.id'&#010;= 'TZT_TZT_PAYMENT_ORDER_TEST_WWX', 'scan.startup.mode' = 'earliest-offset' ); select * from&#010;TZT_PAYMENT_ORDER;",
        "depth": "0",
        "reply": "<tencent_B16F79C82DB8698DF28CA95A@qq.com>"
    },
    {
        "id": "<2020071515035482453110@163.com>",
        "from": "&quot;18500348251@163.com&quot; &lt;18500348...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 07:03:55 GMT",
        "subject": "flink1.11 sql kafka æŠ½å–äº‹ä»¶æ—¶é—´",
        "content": "å¤§å®¶å¥½ï¼&#013;&#010;&#013;&#010;ä½¿ç”¨flink1.11 sqlæ¥å…¥kafka ï¼Œformatä¸ºcsv&#013;&#010;ä»eventTimeå­—æ®µä¸­æŠ½å–äº‹ä»¶æ—¶é—´&#013;&#010;rowtime AS TO_TIMESTAMP(FROM_UNIXTIME(eventTime / 1000, 'yyyy-MM-dd HH:mm:ss'))&#013;&#010;eventTimeå¯èƒ½å­˜åœ¨è„æ•°æ®ï¼ˆé13ä½çš„æ¯«ç§’æ—¶é—´æˆ³ï¼‰ï¼Œè®¾ç½®äº† 'csv.ignore-parse-errors'&#010;= 'true', é‚£ä¹ˆeventTimeä¼šè¢«è®¾ç½®ä¸ºnullï¼Œæ­¤æ—¶ä¼šæŠ¥ä¸€ä¸ªå¼‚å¸¸ï¼š&#013;&#010;Caused by: java.lang.RuntimeException: RowTime field should not be null, please convert it&#010;to a non-null long value.&#013;&#010;&#013;&#010;æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„æ–¹å¼å¯ä»¥è§£å†³&#013;&#010;&#013;&#010;&#013;&#010;ç¥å¥½ï¼&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;18500348251@163.com&#013;&#010;",
        "depth": "0",
        "reply": "<2020071515035482453110@163.com>"
    },
    {
        "id": "<CABKuJ_SHzm_4D=E6Y415=DhmDe3Y00LEV-YoWYKL0dSp2UWSiA@mail.gmail.com>",
        "from": "Benchao Li &lt;libenc...@apache.org&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 11:00:17 GMT",
        "subject": "Re: flink1.11 sql kafka æŠ½å–äº‹ä»¶æ—¶é—´",
        "content": "æˆ‘æ„Ÿè§‰å¯ä»¥é€šè¿‡è®¡ç®—åˆ—çš„æ–¹å¼æ¥è§£å†³å‘€ï¼Œä½ åªéœ€è¦åœ¨è®¡ç®—rowtimeè¿™ä¸ªåˆ—çš„æ—¶å€™ä¿è¯å®ƒä¸æ˜¯nullå³å¯ï¼Œå¦‚æœæ˜¯nullï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ä¹‹ç±»çš„ï¼Ÿ&#013;&#010;&#013;&#010;18500348251@163.com &lt;18500348251@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ3:04å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; å¤§å®¶å¥½ï¼&#013;&#010;&gt;&#013;&#010;&gt; ä½¿ç”¨flink1.11 sqlæ¥å…¥kafka ï¼Œformatä¸ºcsv&#013;&#010;&gt; ä»eventTimeå­—æ®µä¸­æŠ½å–äº‹ä»¶æ—¶é—´&#013;&#010;&gt; rowtime AS TO_TIMESTAMP(FROM_UNIXTIME(eventTime / 1000, 'yyyy-MM-dd&#013;&#010;&gt; HH:mm:ss'))&#013;&#010;&gt; eventTimeå¯èƒ½å­˜åœ¨è„æ•°æ®ï¼ˆé13ä½çš„æ¯«ç§’æ—¶é—´æˆ³ï¼‰ï¼Œè®¾ç½®äº† 'csv.ignore-parse-errors'&#010;= 'true',&#013;&#010;&gt; é‚£ä¹ˆeventTimeä¼šè¢«è®¾ç½®ä¸ºnullï¼Œæ­¤æ—¶ä¼šæŠ¥ä¸€ä¸ªå¼‚å¸¸ï¼š&#013;&#010;&gt; Caused by: java.lang.RuntimeException: RowTime field should not be null,&#013;&#010;&gt; please convert it to a non-null long value.&#013;&#010;&gt;&#013;&#010;&gt; æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„æ–¹å¼å¯ä»¥è§£å†³&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½ï¼&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; 18500348251@163.com&#013;&#010;&gt;&#013;&#010;&#013;&#010;&#013;&#010;-- &#013;&#010;&#013;&#010;Best,&#013;&#010;Benchao Li&#013;&#010;",
        "depth": "1",
        "reply": "<2020071515035482453110@163.com>"
    },
    {
        "id": "<2020071516344371288836@geekplus.com.cn>",
        "from": "&quot;wanglei2@geekplus.com.cn&quot; &lt;wangl...@geekplus.com.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 08:34:44 GMT",
        "subject": "FlinkSQL å…¥åˆ° MySQLåæ±‰å­—ä¹±ç ",
        "content": "&#013;&#010;KafkaTableï¼š        kafka æ¶ˆæ¯&#013;&#010;MySQL_tableAï¼š  ç»´è¡¨ï¼Œç»´è¡¨é‡Œ value æ˜¯æ±‰å­—&#013;&#010;MySQL_tableBï¼š  joinåçš„ç»“æœè¡¨ã€‚å’Œ MySQL_tableA ä¸åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šã€‚&#013;&#010;&#013;&#010;æˆ‘ç›´æ¥åœ¨ flink sql client   SELECT æ˜¯å¯ä»¥æ­£å¸¸æ˜¾ç¤ºï¼Œ ä½† INSERT INTO MySQL_tableB&#010;SELECT ååˆ° MySQL_tableB é‡Œå»æŸ¥çœ‹ï¼Œæ±‰å­—å°±ä¹±ç äº†ã€‚&#013;&#010;å¤§å®¶æœ‰ä»€ä¹ˆå»ºè®®å—ï¼Ÿ&#013;&#010;&#013;&#010;è°¢è°¢ï¼Œ&#013;&#010;ç‹ç£Š&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;",
        "depth": "0",
        "reply": "<2020071516344371288836@geekplus.com.cn>"
    },
    {
        "id": "<2020071516473460392938@geekplus.com.cn>",
        "from": "&quot;wanglei2@geekplus.com.cn&quot; &lt;wangl...@geekplus.com.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 08:47:38 GMT",
        "subject": "å›å¤: FlinkSQL å…¥åˆ° MySQLåæ±‰å­—ä¹±ç ",
        "content": "&#013;&#010;æ˜¯ MySQL_tableB æ‰€åœ¨çš„ server ç«¯å­—ç¬¦è®¾ç½®æœ‰é—®é¢˜ã€‚&#013;&#010;é…ç½®ä¸­åŠ ä¸Šä¸‹é¢çš„é…ç½®å°±å¥½äº†ã€‚&#013;&#010;&#013;&#010;&#013;&#010;[mysqld] character-set-server=utf8 [client] default-character-set=utf8 [mysql] default-character-set=utf8&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;&#013;&#010;å‘ä»¶äººï¼š wanglei2@geekplus.com.cn&#013;&#010;å‘é€æ—¶é—´ï¼š 2020-07-15 16:34&#013;&#010;æ”¶ä»¶äººï¼š user-zh&#013;&#010;ä¸»é¢˜ï¼š FlinkSQL å…¥åˆ° MySQLåæ±‰å­—ä¹±ç &#013;&#010; &#013;&#010;KafkaTableï¼š        kafka æ¶ˆæ¯&#013;&#010;MySQL_tableAï¼š  ç»´è¡¨ï¼Œç»´è¡¨é‡Œ value æ˜¯æ±‰å­—&#013;&#010;MySQL_tableBï¼š  joinåçš„ç»“æœè¡¨ã€‚å’Œ MySQL_tableA ä¸åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šã€‚&#013;&#010; &#013;&#010;æˆ‘ç›´æ¥åœ¨ flink sql client   SELECT æ˜¯å¯ä»¥æ­£å¸¸æ˜¾ç¤ºï¼Œ ä½† INSERT INTO MySQL_tableB&#010;SELECT ååˆ° MySQL_tableB é‡Œå»æŸ¥çœ‹ï¼Œæ±‰å­—å°±ä¹±ç äº†ã€‚&#013;&#010;å¤§å®¶æœ‰ä»€ä¹ˆå»ºè®®å—ï¼Ÿ&#013;&#010; &#013;&#010;è°¢è°¢ï¼Œ&#013;&#010;ç‹ç£Š&#013;&#010; &#013;&#010; &#013;&#010; &#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;",
        "depth": "1",
        "reply": "<2020071516344371288836@geekplus.com.cn>"
    },
    {
        "id": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 09:04:18 GMT",
        "subject": "Flink 1.11 submit job timed out",
        "content": "&#010;Hi&#010;&#010;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM 4ä¸ªslotã€‚&#010;job å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be resolved for the&#010;IP addressï¼ŒJM time outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#010;&#010;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#010;&#010;&#010;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#010;&#010;2020-07-15 16:58:46,460 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation   &#010; [] - No hostname could be resolved for the IP address 10.32.160.7, using IP address as host&#010;name. Local input split assignment (such as for HDFS files) may be impacted.&#010;2020-07-15 16:58:46,460 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation   &#010; [] - No hostname could be resolved for the IP address 10.44.224.7, using IP address as host&#010;name. Local input split assignment (such as for HDFS files) may be impacted.&#010;2020-07-15 16:58:46,461 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation   &#010; [] - No hostname could be resolved for the IP address 10.40.32.9, using IP address as host&#010;name. Local input split assignment (such as for HDFS files) may be impacted.&#010;&#010;2020-07-15 16:59:10,236 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;[] - The heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a timed out.&#010;2020-07-15 16:59:10,236 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;[] - Disconnect job manager 00000000000000000000000000000000@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2&#010;for job e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#010;&#010;&#010;how to deal with ï¼Ÿ&#010;&#010;&#010;beset ï¼&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶",
        "depth": "0",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<6543a1ca.56d3.17351c2b59c.Coremail.flinker@126.com>",
        "from": "&quot;Roc Marshal&quot; &lt;flin...@126.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 09:16:21 GMT",
        "subject": "Re:Flink 1.11 submit job timed out",
        "content": "Hiï¼ŒSmileSmile.&#010;ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#010;å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#010;&#010;&#010;ç¥å¥½ã€‚&#010;Roc Marshal&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#010;&gt;&#010;&gt;Hi&#010;&gt;&#010;&gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM 4ä¸ªslotã€‚&#010;job å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be resolved for the&#010;IP addressï¼ŒJM time outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#010;&gt;&#010;&gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#010;&gt;&#010;&gt;&#010;&gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#010;&gt;&#010;&gt;2020-07-15 16:58:46,460 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation&#010;    [] - No hostname could be resolved for the IP address 10.32.160.7, using IP address as&#010;host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;&gt;2020-07-15 16:58:46,460 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation&#010;    [] - No hostname could be resolved for the IP address 10.44.224.7, using IP address as&#010;host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;&gt;2020-07-15 16:58:46,461 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation&#010;    [] - No hostname could be resolved for the IP address 10.40.32.9, using IP address as&#010;host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;&gt;&#010;&gt;2020-07-15 16:59:10,236 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;[] - The heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a timed out.&#010;&gt;2020-07-15 16:59:10,236 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;[] - Disconnect job manager 00000000000000000000000000000000@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2&#010;for job e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#010;&gt;&#010;&gt;&#010;&gt;how to deal with ï¼Ÿ&#010;&gt;&#010;&gt;&#010;&gt;beset ï¼&#010;&gt;&#010;&gt;| |&#010;&gt;a511955993&#010;&gt;|&#010;&gt;|&#010;&gt;é‚®ç®±ï¼ša511955993@163.com&#010;&gt;|&#010;&gt;&#010;&gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;",
        "depth": "1",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<5ce3b341.eb59.17351c5eec5.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 09:19:53 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "Hi Roc&#010;&#010;è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#010;&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;On 07/15/2020 17:16, Roc Marshal wrote:&#010;Hiï¼ŒSmileSmile.&#010;ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#010;å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#010;&#010;&#010;ç¥å¥½ã€‚&#010;Roc Marshal&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#010;&gt;&#010;&gt;Hi&#010;&gt;&#010;&gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM 4ä¸ªslotã€‚&#010;job å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be resolved for the&#010;IP addressï¼ŒJM time outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#010;&gt;&#010;&gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#010;&gt;&#010;&gt;&#010;&gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#010;&gt;&#010;&gt;2020-07-15 16:58:46,460 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation&#010;    [] - No hostname could be resolved for the IP address 10.32.160.7, using IP address as&#010;host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;&gt;2020-07-15 16:58:46,460 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation&#010;    [] - No hostname could be resolved for the IP address 10.44.224.7, using IP address as&#010;host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;&gt;2020-07-15 16:58:46,461 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation&#010;    [] - No hostname could be resolved for the IP address 10.40.32.9, using IP address as&#010;host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;&gt;&#010;&gt;2020-07-15 16:59:10,236 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;[] - The heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a timed out.&#010;&gt;2020-07-15 16:59:10,236 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;[] - Disconnect job manager 00000000000000000000000000000000@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2&#010;for job e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#010;&gt;&#010;&gt;&#010;&gt;how to deal with ï¼Ÿ&#010;&gt;&#010;&gt;&#010;&gt;beset ï¼&#010;&gt;&#010;&gt;| |&#010;&gt;a511955993&#010;&gt;|&#010;&gt;|&#010;&gt;é‚®ç®±ï¼ša511955993@163.com&#010;&gt;|&#010;&gt;&#010;&gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;",
        "depth": "2",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<CAA8tFvv4Djru6UjdRh8vKcezYfNCTi0U+ROXh+uKyWoodR68ug@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 05:17:33 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "Hi&#013;&#010;   å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼ŒGC æƒ…å†µä¹Ÿæ­£å¸¸çš„è¯ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹ pod çš„ç›¸å…³æ—¥å¿—ï¼Œå¦‚æœå¼€å¯äº†&#010;HA ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹ zk çš„æ—¥å¿—ã€‚ä¹‹å‰é‡åˆ°è¿‡ä¸€æ¬¡åœ¨ Yarn&#013;&#010;ç¯å¢ƒä¸­ç±»ä¼¼çš„ç°è±¡æ˜¯ç”±äºå…¶ä»–åŸå› å¯¼è‡´çš„ï¼Œé€šè¿‡çœ‹ NM æ—¥å¿—ä»¥åŠ zk æ—¥å¿—å‘ç°çš„åŸå› ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:20å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Roc&#013;&#010;&gt;&#013;&#010;&gt; è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; a511955993&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; On 07/15/2020 17:16, Roc Marshal wrote:&#013;&#010;&gt; Hiï¼ŒSmileSmile.&#013;&#010;&gt; ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#013;&#010;&gt; å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½ã€‚&#013;&#010;&gt; Roc Marshal&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;Hi&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM&#010;4ä¸ªslotã€‚ job&#013;&#010;&gt; å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be resolved for the&#010;IP addressï¼ŒJM time&#013;&#010;&gt; outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;2020-07-15 16:58:46,460 WARN&#013;&#010;&gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#013;&#010;&gt; hostname could be resolved for the IP address 10.32.160.7, using IP address&#013;&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#013;&#010;&gt; impacted.&#013;&#010;&gt; &gt;2020-07-15 16:58:46,460 WARN&#013;&#010;&gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#013;&#010;&gt; hostname could be resolved for the IP address 10.44.224.7, using IP address&#013;&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#013;&#010;&gt; impacted.&#013;&#010;&gt; &gt;2020-07-15 16:58:46,461 WARN&#013;&#010;&gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#013;&#010;&gt; hostname could be resolved for the IP address 10.40.32.9, using IP address&#013;&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#013;&#010;&gt; impacted.&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;2020-07-15 16:59:10,236 INFO&#013;&#010;&gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - The&#013;&#010;&gt; heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a timed out.&#013;&#010;&gt; &gt;2020-07-15 16:59:10,236 INFO&#013;&#010;&gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#013;&#010;&gt; Disconnect job manager 00000000000000000000000000000000&#013;&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#013;&#010;&gt; e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;how to deal with ï¼Ÿ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;beset ï¼&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;| |&#013;&#010;&gt; &gt;a511955993&#013;&#010;&gt; &gt;|&#013;&#010;&gt; &gt;|&#013;&#010;&gt; &gt;é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt;|&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;",
        "depth": "3",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<1a831ae3.a2fa.173703d04fa.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 07:18:33 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "Hiï¼ŒCongxian&#010;&#010;å› ä¸ºæ˜¯æµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰é…ç½®HAï¼Œç›®å‰çœ‹åˆ°çš„ä¿¡æ¯ï¼Œå°±æ˜¯JMåˆ·å‡ºæ¥å¤§é‡çš„no&#010;hostname could be resolvedï¼Œjmå¤±è”ï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚ å°†jmå†…å­˜é…ç½®ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µï¼ˆjobmanager.memory.pprocesa.sizeï¼š10240mï¼‰ã€‚&#010;&#010;åœ¨åŒä¸€ä¸ªç¯å¢ƒå°†ç‰ˆæœ¬å›é€€åˆ°1.10æ²¡æœ‰å‡ºç°è¯¥é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåˆ·å¦‚ä¸ŠæŠ¥é”™ã€‚&#010;&#010;&#010;æ˜¯å¦æœ‰å…¶ä»–æ’æŸ¥æ€è·¯ï¼Ÿ&#010;&#010;Bestï¼&#010;&#010;&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;On 07/16/2020 13:17, Congxian Qiu wrote:&#010;Hi&#010;  å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼ŒGC æƒ…å†µä¹Ÿæ­£å¸¸çš„è¯ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹ pod çš„ç›¸å…³æ—¥å¿—ï¼Œå¦‚æœå¼€å¯äº†&#010;HA ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹ zk çš„æ—¥å¿—ã€‚ä¹‹å‰é‡åˆ°è¿‡ä¸€æ¬¡åœ¨ Yarn&#010;ç¯å¢ƒä¸­ç±»ä¼¼çš„ç°è±¡æ˜¯ç”±äºå…¶ä»–åŸå› å¯¼è‡´çš„ï¼Œé€šè¿‡çœ‹ NM æ—¥å¿—ä»¥åŠ zk æ—¥å¿—å‘ç°çš„åŸå› ã€‚&#010;&#010;Best,&#010;Congxian&#010;&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:20å†™é“ï¼š&#010;&#010;&gt; Hi Roc&#010;&gt;&#010;&gt; è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; | |&#010;&gt; a511955993&#010;&gt; |&#010;&gt; |&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; |&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt;&#010;&gt; On 07/15/2020 17:16, Roc Marshal wrote:&#010;&gt; Hiï¼ŒSmileSmile.&#010;&gt; ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#010;&gt; å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#010;&gt;&#010;&gt;&#010;&gt; ç¥å¥½ã€‚&#010;&gt; Roc Marshal&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#010;&gt; &gt;&#010;&gt; &gt;Hi&#010;&gt; &gt;&#010;&gt; &gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM&#010;4ä¸ªslotã€‚ job&#010;&gt; å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be resolved for the&#010;IP addressï¼ŒJM time&#010;&gt; outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#010;&gt; &gt;&#010;&gt; &gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#010;&gt; &gt;&#010;&gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.32.160.7, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.44.224.7, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; &gt;2020-07-15 16:58:46,461 WARN&#010;&gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.40.32.9, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; &gt;&#010;&gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - The&#010;&gt; heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a timed out.&#010;&gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Disconnect job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;how to deal with ï¼Ÿ&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;beset ï¼&#010;&gt; &gt;&#010;&gt; &gt;| |&#010;&gt; &gt;a511955993&#010;&gt; &gt;|&#010;&gt; &gt;|&#010;&gt; &gt;é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt;|&#010;&gt; &gt;&#010;&gt; &gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt;&#010;",
        "depth": "4",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<CAA8tFvu8pRy5n6cC5kGptdd-Akb-K3kLFko2eQ=BYCpoueLAxQ@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 11:19:35 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "Hi&#013;&#010;   ä¸ç¡®å®š k8s ç¯å¢ƒä¸­èƒ½å¦çœ‹åˆ° pod çš„å®Œæ•´æ—¥å¿—ï¼Ÿç±»ä¼¼ Yarn çš„ NM æ—¥å¿—ä¸€æ ·ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹è¿™ä¸ª&#010;pod&#013;&#010;çš„å®Œæ•´æ—¥å¿—æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ3:19å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hiï¼ŒCongxian&#013;&#010;&gt;&#013;&#010;&gt; å› ä¸ºæ˜¯æµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰é…ç½®HAï¼Œç›®å‰çœ‹åˆ°çš„ä¿¡æ¯ï¼Œå°±æ˜¯JMåˆ·å‡ºæ¥å¤§é‡çš„no&#010;hostname could be&#013;&#010;&gt; resolvedï¼Œjmå¤±è”ï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚&#013;&#010;&gt; å°†jmå†…å­˜é…ç½®ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µï¼ˆjobmanager.memory.pprocesa.sizeï¼š10240mï¼‰ã€‚&#013;&#010;&gt;&#013;&#010;&gt; åœ¨åŒä¸€ä¸ªç¯å¢ƒå°†ç‰ˆæœ¬å›é€€åˆ°1.10æ²¡æœ‰å‡ºç°è¯¥é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåˆ·å¦‚ä¸ŠæŠ¥é”™ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æ˜¯å¦æœ‰å…¶ä»–æ’æŸ¥æ€è·¯ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; Bestï¼&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; a511955993&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; On 07/16/2020 13:17, Congxian Qiu wrote:&#013;&#010;&gt; Hi&#013;&#010;&gt;   å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼ŒGC æƒ…å†µä¹Ÿæ­£å¸¸çš„è¯ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹ pod çš„ç›¸å…³æ—¥å¿—ï¼Œå¦‚æœå¼€å¯äº†&#010;HA ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹ zk çš„æ—¥å¿—ã€‚ä¹‹å‰é‡åˆ°è¿‡ä¸€æ¬¡åœ¨ Yarn&#013;&#010;&gt; ç¯å¢ƒä¸­ç±»ä¼¼çš„ç°è±¡æ˜¯ç”±äºå…¶ä»–åŸå› å¯¼è‡´çš„ï¼Œé€šè¿‡çœ‹ NM æ—¥å¿—ä»¥åŠ zk&#010;æ—¥å¿—å‘ç°çš„åŸå› ã€‚&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:20å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hi Roc&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; | |&#013;&#010;&gt; &gt; a511955993&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; On 07/15/2020 17:16, Roc Marshal wrote:&#013;&#010;&gt; &gt; Hiï¼ŒSmileSmile.&#013;&#010;&gt; &gt; ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#013;&#010;&gt; &gt; å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ç¥å¥½ã€‚&#013;&#010;&gt; &gt; Roc Marshal&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;Hi&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM&#010;4ä¸ªslotã€‚ job&#013;&#010;&gt; &gt; å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be resolved for&#010;the IP addressï¼ŒJM&#013;&#010;&gt; time&#013;&#010;&gt; &gt; outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#013;&#010;&gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#013;&#010;&gt; &gt; hostname could be resolved for the IP address 10.32.160.7, using IP&#013;&#010;&gt; address&#013;&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#013;&#010;&gt; be&#013;&#010;&gt; &gt; impacted.&#013;&#010;&gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#013;&#010;&gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#013;&#010;&gt; &gt; hostname could be resolved for the IP address 10.44.224.7, using IP&#013;&#010;&gt; address&#013;&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#013;&#010;&gt; be&#013;&#010;&gt; &gt; impacted.&#013;&#010;&gt; &gt; &gt;2020-07-15 16:58:46,461 WARN&#013;&#010;&gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#013;&#010;&gt; &gt; hostname could be resolved for the IP address 10.40.32.9, using IP&#013;&#010;&gt; address&#013;&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#013;&#010;&gt; be&#013;&#010;&gt; &gt; impacted.&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#013;&#010;&gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#013;&#010;&gt; The&#013;&#010;&gt; &gt; heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a timed&#013;&#010;&gt; out.&#013;&#010;&gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#013;&#010;&gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#013;&#010;&gt; &gt; Disconnect job manager 00000000000000000000000000000000&#013;&#010;&gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#013;&#010;&gt; &gt; e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;how to deal with ï¼Ÿ&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;beset ï¼&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;| |&#013;&#010;&gt; &gt; &gt;a511955993&#013;&#010;&gt; &gt; &gt;|&#013;&#010;&gt; &gt; &gt;|&#013;&#010;&gt; &gt; &gt;é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; &gt;|&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "5",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<CAP+gf35502upmj5-8DsTP-t7id4Mpq1CfHU=62tadgAc5R2-YQ@mail.gmail.com>",
        "from": "Yang Wang &lt;danrtsey...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 22 Jul 2020 10:18:47 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#013;&#010;æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#013;&#010;å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;Yang&#013;&#010;&#013;&#010;Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ7:29å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi&#013;&#010;&gt;    ä¸ç¡®å®š k8s ç¯å¢ƒä¸­èƒ½å¦çœ‹åˆ° pod çš„å®Œæ•´æ—¥å¿—ï¼Ÿç±»ä¼¼ Yarn çš„ NM æ—¥å¿—ä¸€æ ·ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹è¿™ä¸ª&#010;pod&#013;&#010;&gt; çš„å®Œæ•´æ—¥å¿—æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ3:19å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hiï¼ŒCongxian&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; å› ä¸ºæ˜¯æµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰é…ç½®HAï¼Œç›®å‰çœ‹åˆ°çš„ä¿¡æ¯ï¼Œå°±æ˜¯JMåˆ·å‡ºæ¥å¤§é‡çš„no&#010;hostname could be&#013;&#010;&gt; &gt; resolvedï¼Œjmå¤±è”ï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚&#013;&#010;&gt; &gt; å°†jmå†…å­˜é…ç½®ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µï¼ˆjobmanager.memory.pprocesa.sizeï¼š10240mï¼‰ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; åœ¨åŒä¸€ä¸ªç¯å¢ƒå°†ç‰ˆæœ¬å›é€€åˆ°1.10æ²¡æœ‰å‡ºç°è¯¥é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåˆ·å¦‚ä¸ŠæŠ¥é”™ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; æ˜¯å¦æœ‰å…¶ä»–æ’æŸ¥æ€è·¯ï¼Ÿ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Bestï¼&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; | |&#013;&#010;&gt; &gt; a511955993&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; On 07/16/2020 13:17, Congxian Qiu wrote:&#013;&#010;&gt; &gt; Hi&#013;&#010;&gt; &gt;   å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼ŒGC æƒ…å†µä¹Ÿæ­£å¸¸çš„è¯ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹ pod çš„ç›¸å…³æ—¥å¿—ï¼Œå¦‚æœå¼€å¯äº†&#010;HA ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹ zk çš„æ—¥å¿—ã€‚ä¹‹å‰é‡åˆ°è¿‡ä¸€æ¬¡åœ¨&#013;&#010;&gt; Yarn&#013;&#010;&gt; &gt; ç¯å¢ƒä¸­ç±»ä¼¼çš„ç°è±¡æ˜¯ç”±äºå…¶ä»–åŸå› å¯¼è‡´çš„ï¼Œé€šè¿‡çœ‹ NM æ—¥å¿—ä»¥åŠ&#010;zk æ—¥å¿—å‘ç°çš„åŸå› ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Best,&#013;&#010;&gt; &gt; Congxian&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:20å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; &gt; Hi Roc&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; | |&#013;&#010;&gt; &gt; &gt; a511955993&#013;&#010;&gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; On 07/15/2020 17:16, Roc Marshal wrote:&#013;&#010;&gt; &gt; &gt; Hiï¼ŒSmileSmile.&#013;&#010;&gt; &gt; &gt; ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#013;&#010;&gt; &gt; &gt; å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; ç¥å¥½ã€‚&#013;&#010;&gt; &gt; &gt; Roc Marshal&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;Hi&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM&#010;4ä¸ªslotã€‚ job&#013;&#010;&gt; &gt; &gt; å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be resolved&#010;for the IP addressï¼ŒJM&#013;&#010;&gt; &gt; time&#013;&#010;&gt; &gt; &gt; outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#013;&#010;&gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#013;&#010;&gt; &gt; &gt; hostname could be resolved for the IP address 10.32.160.7, using IP&#013;&#010;&gt; &gt; address&#013;&#010;&gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#013;&#010;&gt; &gt; be&#013;&#010;&gt; &gt; &gt; impacted.&#013;&#010;&gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#013;&#010;&gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#013;&#010;&gt; &gt; &gt; hostname could be resolved for the IP address 10.44.224.7, using IP&#013;&#010;&gt; &gt; address&#013;&#010;&gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#013;&#010;&gt; &gt; be&#013;&#010;&gt; &gt; &gt; impacted.&#013;&#010;&gt; &gt; &gt; &gt;2020-07-15 16:58:46,461 WARN&#013;&#010;&gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#013;&#010;&gt; &gt; &gt; hostname could be resolved for the IP address 10.40.32.9, using IP&#013;&#010;&gt; &gt; address&#013;&#010;&gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#013;&#010;&gt; &gt; be&#013;&#010;&gt; &gt; &gt; impacted.&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#013;&#010;&gt; &gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#013;&#010;&gt; &gt; The&#013;&#010;&gt; &gt; &gt; heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a timed&#013;&#010;&gt; &gt; out.&#013;&#010;&gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#013;&#010;&gt; &gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#013;&#010;&gt; &gt; &gt; Disconnect job manager 00000000000000000000000000000000&#013;&#010;&gt; &gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#013;&#010;&gt; &gt; &gt; e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;how to deal with ï¼Ÿ&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;beset ï¼&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;| |&#013;&#010;&gt; &gt; &gt; &gt;a511955993&#013;&#010;&gt; &gt; &gt; &gt;|&#013;&#010;&gt; &gt; &gt; &gt;|&#013;&#010;&gt; &gt; &gt; &gt;é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; &gt; &gt;|&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "6",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<c5580da.444e.1737661e48f.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 22 Jul 2020 11:56:33 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "&#010;Hiï¼ŒYang Wangï¼&#010;&#010;å¾ˆå¼€å¿ƒå¯ä»¥æ”¶åˆ°ä½ çš„å›å¤ï¼Œä½ çš„å›å¤å¸®åŠ©å¾ˆå¤§ï¼Œè®©æˆ‘çŸ¥é“äº†é—®é¢˜çš„æ–¹å‘ã€‚æˆ‘å†è¡¥å……äº›ä¿¡æ¯ï¼Œå¸Œæœ›å¯ä»¥å¸®æˆ‘è¿›ä¸€æ­¥åˆ¤æ–­ä¸€ä¸‹é—®é¢˜æ ¹æºã€‚&#010;&#010;åœ¨JMæŠ¥é”™çš„åœ°æ–¹ï¼ŒNo hostname could be resolved for ip address xxxxx ï¼ŒæŠ¥å‡ºæ¥çš„ipæ˜¯k8såˆ†é…ç»™flink&#010;podçš„å†…ç½‘ipï¼Œä¸æ˜¯å®¿ä¸»æœºçš„ipã€‚è¯·é—®è¿™ä¸ªé—®é¢˜å¯èƒ½å‡ºåœ¨å“ªé‡Œå‘¢&#010;&#010;Bestï¼&#010;&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;On 07/22/2020 18:18, Yang Wang wrote:&#010;å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#010;æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#010;å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ7:29å†™é“ï¼š&#010;&#010;&gt; Hi&#010;&gt;    ä¸ç¡®å®š k8s ç¯å¢ƒä¸­èƒ½å¦çœ‹åˆ° pod çš„å®Œæ•´æ—¥å¿—ï¼Ÿç±»ä¼¼ Yarn çš„ NM æ—¥å¿—ä¸€æ ·ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹è¿™ä¸ª&#010;pod&#010;&gt; çš„å®Œæ•´æ—¥å¿—æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°&#010;&gt; Best,&#010;&gt; Congxian&#010;&gt;&#010;&gt;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ3:19å†™é“ï¼š&#010;&gt;&#010;&gt; &gt; Hiï¼ŒCongxian&#010;&gt; &gt;&#010;&gt; &gt; å› ä¸ºæ˜¯æµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰é…ç½®HAï¼Œç›®å‰çœ‹åˆ°çš„ä¿¡æ¯ï¼Œå°±æ˜¯JMåˆ·å‡ºæ¥å¤§é‡çš„no&#010;hostname could be&#010;&gt; &gt; resolvedï¼Œjmå¤±è”ï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚&#010;&gt; &gt; å°†jmå†…å­˜é…ç½®ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µï¼ˆjobmanager.memory.pprocesa.sizeï¼š10240mï¼‰ã€‚&#010;&gt; &gt;&#010;&gt; &gt; åœ¨åŒä¸€ä¸ªç¯å¢ƒå°†ç‰ˆæœ¬å›é€€åˆ°1.10æ²¡æœ‰å‡ºç°è¯¥é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåˆ·å¦‚ä¸ŠæŠ¥é”™ã€‚&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; æ˜¯å¦æœ‰å…¶ä»–æ’æŸ¥æ€è·¯ï¼Ÿ&#010;&gt; &gt;&#010;&gt; &gt; Bestï¼&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; | |&#010;&gt; &gt; a511955993&#010;&gt; &gt; |&#010;&gt; &gt; |&#010;&gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; |&#010;&gt; &gt;&#010;&gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt;&#010;&gt; &gt; On 07/16/2020 13:17, Congxian Qiu wrote:&#010;&gt; &gt; Hi&#010;&gt; &gt;   å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼ŒGC æƒ…å†µä¹Ÿæ­£å¸¸çš„è¯ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹ pod çš„ç›¸å…³æ—¥å¿—ï¼Œå¦‚æœå¼€å¯äº†&#010;HA ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹ zk çš„æ—¥å¿—ã€‚ä¹‹å‰é‡åˆ°è¿‡ä¸€æ¬¡åœ¨&#010;&gt; Yarn&#010;&gt; &gt; ç¯å¢ƒä¸­ç±»ä¼¼çš„ç°è±¡æ˜¯ç”±äºå…¶ä»–åŸå› å¯¼è‡´çš„ï¼Œé€šè¿‡çœ‹ NM æ—¥å¿—ä»¥åŠ&#010;zk æ—¥å¿—å‘ç°çš„åŸå› ã€‚&#010;&gt; &gt;&#010;&gt; &gt; Best,&#010;&gt; &gt; Congxian&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:20å†™é“ï¼š&#010;&gt; &gt;&#010;&gt; &gt; &gt; Hi Roc&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; | |&#010;&gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; |&#010;&gt; &gt; &gt; |&#010;&gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; |&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; On 07/15/2020 17:16, Roc Marshal wrote:&#010;&gt; &gt; &gt; Hiï¼ŒSmileSmile.&#010;&gt; &gt; &gt; ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#010;&gt; &gt; &gt; å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; ç¥å¥½ã€‚&#010;&gt; &gt; &gt; Roc Marshal&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;Hi&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM&#010;4ä¸ªslotã€‚ job&#010;&gt; &gt; &gt; å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be resolved&#010;for the IP addressï¼ŒJM&#010;&gt; &gt; time&#010;&gt; &gt; &gt; outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; &gt; hostname could be resolved for the IP address 10.32.160.7, using IP&#010;&gt; &gt; address&#010;&gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; &gt; be&#010;&gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; &gt; hostname could be resolved for the IP address 10.44.224.7, using IP&#010;&gt; &gt; address&#010;&gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; &gt; be&#010;&gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt;2020-07-15 16:58:46,461 WARN&#010;&gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; &gt; hostname could be resolved for the IP address 10.40.32.9, using IP&#010;&gt; &gt; address&#010;&gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; &gt; be&#010;&gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; &gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; The&#010;&gt; &gt; &gt; heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a timed&#010;&gt; &gt; out.&#010;&gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; &gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; &gt; Disconnect job manager 00000000000000000000000000000000&#010;&gt; &gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; &gt; &gt; e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;how to deal with ï¼Ÿ&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;beset ï¼&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;| |&#010;&gt; &gt; &gt; &gt;a511955993&#010;&gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt;é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt;&#010;",
        "depth": "7",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<CAP+gf35yP1PVGBbeFV4s4_qx0zjhgaz5fQr-A8HSDASMR3XECA@mail.gmail.com>",
        "from": "Yang Wang &lt;danrtsey...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 23 Jul 2020 02:11:08 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "æˆ‘çš„æ„æ€å°±æ˜¯ä½ åœ¨Flinkä»»åŠ¡è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œç„¶åä¸‹é¢çš„å‘½ä»¤åœ¨é›†ç¾¤é‡Œé¢èµ·ä¸€ä¸ªbusyboxçš„podï¼Œ&#013;&#010;åœ¨é‡Œé¢æ‰§è¡Œ nslookup {ip_address}ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸è§£æåˆ°ã€‚å¦‚æœä¸èƒ½åº”è¯¥å°±æ˜¯corednsçš„&#013;&#010;é—®é¢˜äº†&#013;&#010;&#013;&#010;kubectl run -i -t busybox --image=busybox --restart=Never&#013;&#010;&#013;&#010;ä½ éœ€è¦ç¡®è®¤ä¸‹é›†ç¾¤çš„coredns podæ˜¯å¦æ­£å¸¸ï¼Œä¸€èˆ¬æ˜¯éƒ¨ç½²åœ¨kube-systemè¿™ä¸ªnamespaceä¸‹çš„&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;Yang&#013;&#010;&#013;&#010;&#013;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ22æ—¥å‘¨ä¸‰ ä¸‹åˆ7:57å†™é“ï¼š&#013;&#010;&#013;&#010;&gt;&#013;&#010;&gt; Hiï¼ŒYang Wangï¼&#013;&#010;&gt;&#013;&#010;&gt; å¾ˆå¼€å¿ƒå¯ä»¥æ”¶åˆ°ä½ çš„å›å¤ï¼Œä½ çš„å›å¤å¸®åŠ©å¾ˆå¤§ï¼Œè®©æˆ‘çŸ¥é“äº†é—®é¢˜çš„æ–¹å‘ã€‚æˆ‘å†è¡¥å……äº›ä¿¡æ¯ï¼Œå¸Œæœ›å¯ä»¥å¸®æˆ‘è¿›ä¸€æ­¥åˆ¤æ–­ä¸€ä¸‹é—®é¢˜æ ¹æºã€‚&#013;&#010;&gt;&#013;&#010;&gt; åœ¨JMæŠ¥é”™çš„åœ°æ–¹ï¼ŒNo hostname could be resolved for ip address xxxxx&#013;&#010;&gt; ï¼ŒæŠ¥å‡ºæ¥çš„ipæ˜¯k8såˆ†é…ç»™flink podçš„å†…ç½‘ipï¼Œä¸æ˜¯å®¿ä¸»æœºçš„ipã€‚è¯·é—®è¿™ä¸ªé—®é¢˜å¯èƒ½å‡ºåœ¨å“ªé‡Œå‘¢&#013;&#010;&gt;&#013;&#010;&gt; Bestï¼&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; a511955993&#013;&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt;&#013;&#010;&gt; &lt;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&gt;&#010;å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; On 07/22/2020 18:18, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#013;&#010;&gt; å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#013;&#010;&gt; æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#013;&#010;&gt; å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Yang&#013;&#010;&gt;&#013;&#010;&gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ7:29å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hi&#013;&#010;&gt; &gt;    ä¸ç¡®å®š k8s ç¯å¢ƒä¸­èƒ½å¦çœ‹åˆ° pod çš„å®Œæ•´æ—¥å¿—ï¼Ÿç±»ä¼¼ Yarn çš„ NM&#010;æ—¥å¿—ä¸€æ ·ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹è¿™ä¸ª pod&#013;&#010;&gt; &gt; çš„å®Œæ•´æ—¥å¿—æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°&#013;&#010;&gt; &gt; Best,&#013;&#010;&gt; &gt; Congxian&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ3:19å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; &gt; Hiï¼ŒCongxian&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; å› ä¸ºæ˜¯æµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰é…ç½®HAï¼Œç›®å‰çœ‹åˆ°çš„ä¿¡æ¯ï¼Œå°±æ˜¯JMåˆ·å‡ºæ¥å¤§é‡çš„no&#010;hostname could be&#013;&#010;&gt; &gt; &gt; resolvedï¼Œjmå¤±è”ï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚&#013;&#010;&gt; &gt; &gt; å°†jmå†…å­˜é…ç½®ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µï¼ˆjobmanager.memory.pprocesa.sizeï¼š10240mï¼‰ã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; åœ¨åŒä¸€ä¸ªç¯å¢ƒå°†ç‰ˆæœ¬å›é€€åˆ°1.10æ²¡æœ‰å‡ºç°è¯¥é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåˆ·å¦‚ä¸ŠæŠ¥é”™ã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; æ˜¯å¦æœ‰å…¶ä»–æ’æŸ¥æ€è·¯ï¼Ÿ&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; Bestï¼&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; | |&#013;&#010;&gt; &gt; &gt; a511955993&#013;&#010;&gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; On 07/16/2020 13:17, Congxian Qiu wrote:&#013;&#010;&gt; &gt; &gt; Hi&#013;&#010;&gt; &gt; &gt;   å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼ŒGC æƒ…å†µä¹Ÿæ­£å¸¸çš„è¯ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹ pod&#010;çš„ç›¸å…³æ—¥å¿—ï¼Œå¦‚æœå¼€å¯äº† HA ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹ zk çš„æ—¥å¿—ã€‚ä¹‹å‰é‡åˆ°è¿‡ä¸€æ¬¡åœ¨&#013;&#010;&gt; &gt; Yarn&#013;&#010;&gt; &gt; &gt; ç¯å¢ƒä¸­ç±»ä¼¼çš„ç°è±¡æ˜¯ç”±äºå…¶ä»–åŸå› å¯¼è‡´çš„ï¼Œé€šè¿‡çœ‹ NM æ—¥å¿—ä»¥åŠ&#010;zk æ—¥å¿—å‘ç°çš„åŸå› ã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; Best,&#013;&#010;&gt; &gt; &gt; Congxian&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:20å†™é“ï¼š&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; Hi Roc&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; | |&#013;&#010;&gt; &gt; &gt; &gt; a511955993&#013;&#010;&gt; &gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; On 07/15/2020 17:16, Roc Marshal wrote:&#013;&#010;&gt; &gt; &gt; &gt; Hiï¼ŒSmileSmile.&#013;&#010;&gt; &gt; &gt; &gt; ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#013;&#010;&gt; &gt; &gt; &gt; å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; ç¥å¥½ã€‚&#013;&#010;&gt; &gt; &gt; &gt; Roc Marshal&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;Hi&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM&#010;4ä¸ªslotã€‚ job&#013;&#010;&gt; &gt; &gt; &gt; å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be&#010;resolved for the IP&#013;&#010;&gt; addressï¼ŒJM&#013;&#010;&gt; &gt; &gt; time&#013;&#010;&gt; &gt; &gt; &gt; outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#013;&#010;&gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#013;&#010;&gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.32.160.7, using IP&#013;&#010;&gt; &gt; &gt; address&#013;&#010;&gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS files)&#013;&#010;&gt; may&#013;&#010;&gt; &gt; &gt; be&#013;&#010;&gt; &gt; &gt; &gt; impacted.&#013;&#010;&gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#013;&#010;&gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#013;&#010;&gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.44.224.7, using IP&#013;&#010;&gt; &gt; &gt; address&#013;&#010;&gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS files)&#013;&#010;&gt; may&#013;&#010;&gt; &gt; &gt; be&#013;&#010;&gt; &gt; &gt; &gt; impacted.&#013;&#010;&gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,461 WARN&#013;&#010;&gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#013;&#010;&gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.40.32.9, using IP&#013;&#010;&gt; &gt; &gt; address&#013;&#010;&gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS files)&#013;&#010;&gt; may&#013;&#010;&gt; &gt; &gt; be&#013;&#010;&gt; &gt; &gt; &gt; impacted.&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#013;&#010;&gt; &gt; &gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#013;&#010;&gt; [] -&#013;&#010;&gt; &gt; &gt; The&#013;&#010;&gt; &gt; &gt; &gt; heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a&#013;&#010;&gt; timed&#013;&#010;&gt; &gt; &gt; out.&#013;&#010;&gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#013;&#010;&gt; &gt; &gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#013;&#010;&gt; [] -&#013;&#010;&gt; &gt; &gt; &gt; Disconnect job manager 00000000000000000000000000000000&#013;&#010;&gt; &gt; &gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for&#013;&#010;&gt; job&#013;&#010;&gt; &gt; &gt; &gt; e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;how to deal with ï¼Ÿ&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;beset ï¼&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;| |&#013;&#010;&gt; &gt; &gt; &gt; &gt;a511955993&#013;&#010;&gt; &gt; &gt; &gt; &gt;|&#013;&#010;&gt; &gt; &gt; &gt; &gt;|&#013;&#010;&gt; &gt; &gt; &gt; &gt;é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; &gt; &gt; &gt;|&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "8",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<6c755266.67e3.17379b883df.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 23 Jul 2020 03:30:02 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "&#010;Hi Yang Wang&#010;&#010;åˆšåˆšåœ¨æµ‹è¯•ç¯å¢ƒæµ‹è¯•äº†ä¸€ä¸‹ï¼ŒtaskManageræ²¡æœ‰åŠæ³•nslookupå‡ºæ¥ï¼ŒJMå¯ä»¥nslookupï¼Œè¿™ä¸¤è€…çš„å·®åˆ«åœ¨äºæ˜¯å¦æœ‰serviceã€‚&#010;&#010;è§£å†³æ–¹æ¡ˆï¼šæˆ‘è¿™è¾¹ç»™é›†ç¾¤åŠ ä¸Šäº†taskmanager-query-state-service.yamlï¼ˆæŒ‰ç…§å®˜ç½‘ä¸Šæ˜¯å¯é€‰æœåŠ¡ï¼‰ã€‚å°±ä¸ä¼šåˆ·No&#010;hostname could be resolved for ip addressï¼Œå°†NodePortæ”¹ä¸ºClusterIpï¼Œä½œä¸šå°±å¯ä»¥æˆåŠŸæäº¤ï¼Œä¸ä¼šå‡ºç°time&#010;outçš„é—®é¢˜äº†ï¼Œé—®é¢˜å¾—åˆ°äº†è§£å†³ã€‚&#010;&#010;&#010;1. å¦‚æœæŒ‰ç…§ä¸Šé¢çš„æƒ…å†µï¼Œé‚£ä¹ˆè¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯å¿…é¡»é…ç½®çš„ï¼Ÿ&#010;&#010;2. åœ¨1.11çš„æ›´æ–°ä¸­ï¼Œå‘ç°æœ‰ [Flink-15911][Flink-15154] æ”¯æŒåˆ†åˆ«é…ç½®ç”¨äºæœ¬åœ°ç›‘å¬ç»‘å®šçš„ç½‘ç»œæ¥å£å’Œå¤–éƒ¨è®¿é—®çš„åœ°å€å’Œç«¯å£ã€‚æ˜¯å¦æ˜¯è¿™å—çš„æ”¹åŠ¨ï¼Œ&#010;éœ€è¦JMå»é€šè¿‡TMä¸ŠæŠ¥çš„ipåå‘è§£æå‡ºserviceï¼Ÿ&#010;&#010;&#010;Bsetï¼&#010;&#010;&#010;[1]https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/kubernetes.html&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;On 07/23/2020 10:11, Yang Wang wrote:&#010;æˆ‘çš„æ„æ€å°±æ˜¯ä½ åœ¨Flinkä»»åŠ¡è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œç„¶åä¸‹é¢çš„å‘½ä»¤åœ¨é›†ç¾¤é‡Œé¢èµ·ä¸€ä¸ªbusyboxçš„podï¼Œ&#010;åœ¨é‡Œé¢æ‰§è¡Œ nslookup {ip_address}ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸è§£æåˆ°ã€‚å¦‚æœä¸èƒ½åº”è¯¥å°±æ˜¯corednsçš„&#010;é—®é¢˜äº†&#010;&#010;kubectl run -i -t busybox --image=busybox --restart=Never&#010;&#010;ä½ éœ€è¦ç¡®è®¤ä¸‹é›†ç¾¤çš„coredns podæ˜¯å¦æ­£å¸¸ï¼Œä¸€èˆ¬æ˜¯éƒ¨ç½²åœ¨kube-systemè¿™ä¸ªnamespaceä¸‹çš„&#010;&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ22æ—¥å‘¨ä¸‰ ä¸‹åˆ7:57å†™é“ï¼š&#010;&#010;&gt;&#010;&gt; Hiï¼ŒYang Wangï¼&#010;&gt;&#010;&gt; å¾ˆå¼€å¿ƒå¯ä»¥æ”¶åˆ°ä½ çš„å›å¤ï¼Œä½ çš„å›å¤å¸®åŠ©å¾ˆå¤§ï¼Œè®©æˆ‘çŸ¥é“äº†é—®é¢˜çš„æ–¹å‘ã€‚æˆ‘å†è¡¥å……äº›ä¿¡æ¯ï¼Œå¸Œæœ›å¯ä»¥å¸®æˆ‘è¿›ä¸€æ­¥åˆ¤æ–­ä¸€ä¸‹é—®é¢˜æ ¹æºã€‚&#010;&gt;&#010;&gt; åœ¨JMæŠ¥é”™çš„åœ°æ–¹ï¼ŒNo hostname could be resolved for ip address xxxxx&#010;&gt; ï¼ŒæŠ¥å‡ºæ¥çš„ipæ˜¯k8såˆ†é…ç»™flink podçš„å†…ç½‘ipï¼Œä¸æ˜¯å®¿ä¸»æœºçš„ipã€‚è¯·é—®è¿™ä¸ªé—®é¢˜å¯èƒ½å‡ºåœ¨å“ªé‡Œå‘¢&#010;&gt;&#010;&gt; Bestï¼&#010;&gt;&#010;&gt;&#010;&gt; a511955993&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt;&#010;&gt; &lt;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt;&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt;&#010;å®šåˆ¶&#010;&gt;&#010;&gt; On 07/22/2020 18:18, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;&gt; å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#010;&gt; æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#010;&gt; å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#010;&gt;&#010;&gt;&#010;&gt; Best,&#010;&gt; Yang&#010;&gt;&#010;&gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ7:29å†™é“ï¼š&#010;&gt;&#010;&gt; &gt; Hi&#010;&gt; &gt;    ä¸ç¡®å®š k8s ç¯å¢ƒä¸­èƒ½å¦çœ‹åˆ° pod çš„å®Œæ•´æ—¥å¿—ï¼Ÿç±»ä¼¼ Yarn çš„ NM&#010;æ—¥å¿—ä¸€æ ·ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹è¿™ä¸ª pod&#010;&gt; &gt; çš„å®Œæ•´æ—¥å¿—æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°&#010;&gt; &gt; Best,&#010;&gt; &gt; Congxian&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ3:19å†™é“ï¼š&#010;&gt; &gt;&#010;&gt; &gt; &gt; Hiï¼ŒCongxian&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; å› ä¸ºæ˜¯æµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰é…ç½®HAï¼Œç›®å‰çœ‹åˆ°çš„ä¿¡æ¯ï¼Œå°±æ˜¯JMåˆ·å‡ºæ¥å¤§é‡çš„no&#010;hostname could be&#010;&gt; &gt; &gt; resolvedï¼Œjmå¤±è”ï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚&#010;&gt; &gt; &gt; å°†jmå†…å­˜é…ç½®ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µï¼ˆjobmanager.memory.pprocesa.sizeï¼š10240mï¼‰ã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; åœ¨åŒä¸€ä¸ªç¯å¢ƒå°†ç‰ˆæœ¬å›é€€åˆ°1.10æ²¡æœ‰å‡ºç°è¯¥é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåˆ·å¦‚ä¸ŠæŠ¥é”™ã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; æ˜¯å¦æœ‰å…¶ä»–æ’æŸ¥æ€è·¯ï¼Ÿ&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Bestï¼&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; | |&#010;&gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; |&#010;&gt; &gt; &gt; |&#010;&gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; |&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; On 07/16/2020 13:17, Congxian Qiu wrote:&#010;&gt; &gt; &gt; Hi&#010;&gt; &gt; &gt;   å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼ŒGC æƒ…å†µä¹Ÿæ­£å¸¸çš„è¯ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹ pod&#010;çš„ç›¸å…³æ—¥å¿—ï¼Œå¦‚æœå¼€å¯äº† HA ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹ zk çš„æ—¥å¿—ã€‚ä¹‹å‰é‡åˆ°è¿‡ä¸€æ¬¡åœ¨&#010;&gt; &gt; Yarn&#010;&gt; &gt; &gt; ç¯å¢ƒä¸­ç±»ä¼¼çš„ç°è±¡æ˜¯ç”±äºå…¶ä»–åŸå› å¯¼è‡´çš„ï¼Œé€šè¿‡çœ‹ NM æ—¥å¿—ä»¥åŠ&#010;zk æ—¥å¿—å‘ç°çš„åŸå› ã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Best,&#010;&gt; &gt; &gt; Congxian&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:20å†™é“ï¼š&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; Hi Roc&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; | |&#010;&gt; &gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; On 07/15/2020 17:16, Roc Marshal wrote:&#010;&gt; &gt; &gt; &gt; Hiï¼ŒSmileSmile.&#010;&gt; &gt; &gt; &gt; ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#010;&gt; &gt; &gt; &gt; å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; ç¥å¥½ã€‚&#010;&gt; &gt; &gt; &gt; Roc Marshal&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;Hi&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM&#010;4ä¸ªslotã€‚ job&#010;&gt; &gt; &gt; &gt; å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be&#010;resolved for the IP&#010;&gt; addressï¼ŒJM&#010;&gt; &gt; &gt; time&#010;&gt; &gt; &gt; &gt; outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.32.160.7, using IP&#010;&gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS files)&#010;&gt; may&#010;&gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.44.224.7, using IP&#010;&gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS files)&#010;&gt; may&#010;&gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,461 WARN&#010;&gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.40.32.9, using IP&#010;&gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS files)&#010;&gt; may&#010;&gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; &gt; &gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;&gt; [] -&#010;&gt; &gt; &gt; The&#010;&gt; &gt; &gt; &gt; heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a&#010;&gt; timed&#010;&gt; &gt; &gt; out.&#010;&gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; &gt; &gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;&gt; [] -&#010;&gt; &gt; &gt; &gt; Disconnect job manager 00000000000000000000000000000000&#010;&gt; &gt; &gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for&#010;&gt; job&#010;&gt; &gt; &gt; &gt; e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;how to deal with ï¼Ÿ&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;beset ï¼&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;| |&#010;&gt; &gt; &gt; &gt; &gt;a511955993&#010;&gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt;é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt;&#010;&gt;&#010;",
        "depth": "9",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<CAP+gf34rXDdrLAuL1pbF-Wqijqe=PbBt0XFRO9AXQ83a0FXLGg@mail.gmail.com>",
        "from": "Yang Wang &lt;danrtsey...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 23 Jul 2020 05:26:47 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "å¾ˆé«˜å…´ä½ çš„é—®é¢˜è§£å†³äº†ï¼Œä½†æˆ‘è§‰å¾—æ ¹æœ¬åŸå› åº”è¯¥ä¸æ˜¯åŠ ä¸Šäº†taskmanager-query-state-service.yamlçš„å…³ç³»ã€‚&#013;&#010;æˆ‘è¿™è¾¹ä¸åˆ›å»ºè¿™ä¸ªæœåŠ¡ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œè€Œä¸”nslookup {tm_ip_address}æ˜¯å¯ä»¥æ­£å¸¸åè§£æåˆ°hostnameçš„ã€‚&#013;&#010;&#013;&#010;æ³¨æ„è¿™é‡Œä¸æ˜¯è§£æhostnameï¼Œè€Œæ˜¯é€šè¿‡ipåœ°å€æ¥åè§£æè¿›è¡ŒéªŒè¯&#013;&#010;&#013;&#010;&#013;&#010;å›ç­”ä½ è¯´çš„ä¸¤ä¸ªé—®é¢˜ï¼š&#013;&#010;1. ä¸æ˜¯å¿…é¡»çš„ï¼Œæˆ‘è¿™è¾¹éªŒè¯ä¸éœ€è¦åˆ›å»ºï¼Œé›†ç¾¤ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œä»»åŠ¡çš„ã€‚Rest&#013;&#010;serviceçš„æš´éœ²æ–¹å¼æ˜¯ClusterIPã€NodePortã€LoadBalanceréƒ½æ­£å¸¸&#013;&#010;2. å¦‚æœæ²¡æœ‰é…ç½®taskmanager.bind-hostï¼Œ&#013;&#010;[Flink-15911][Flink-15154]è¿™ä¸¤ä¸ªJIRAå¹¶ä¸ä¼šå½±å“TMå‘RMæ³¨å†Œæ—¶å€™çš„ä½¿ç”¨çš„åœ°å€&#013;&#010;&#013;&#010;å¦‚æœä½ æƒ³æ‰¾åˆ°æ ¹æœ¬åŸå› ï¼Œé‚£å¯èƒ½éœ€è¦ä½ è¿™è¾¹æä¾›JM/TMçš„å®Œæ•´logï¼Œè¿™æ ·æ–¹ä¾¿åˆ†æ&#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;Yang&#013;&#010;&#013;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸Šåˆ11:30å†™é“ï¼š&#013;&#010;&#013;&#010;&gt;&#013;&#010;&gt; Hi Yang Wang&#013;&#010;&gt;&#013;&#010;&gt; åˆšåˆšåœ¨æµ‹è¯•ç¯å¢ƒæµ‹è¯•äº†ä¸€ä¸‹ï¼ŒtaskManageræ²¡æœ‰åŠæ³•nslookupå‡ºæ¥ï¼ŒJMå¯ä»¥nslookupï¼Œè¿™ä¸¤è€…çš„å·®åˆ«åœ¨äºæ˜¯å¦æœ‰serviceã€‚&#013;&#010;&gt;&#013;&#010;&gt; è§£å†³æ–¹æ¡ˆï¼šæˆ‘è¿™è¾¹ç»™é›†ç¾¤åŠ ä¸Šäº†taskmanager-query-state-service.yamlï¼ˆæŒ‰ç…§å®˜ç½‘ä¸Šæ˜¯å¯é€‰æœåŠ¡ï¼‰ã€‚å°±ä¸ä¼šåˆ·No&#013;&#010;&gt; hostname could be resolved for ip&#013;&#010;&gt; addressï¼Œå°†NodePortæ”¹ä¸ºClusterIpï¼Œä½œä¸šå°±å¯ä»¥æˆåŠŸæäº¤ï¼Œä¸ä¼šå‡ºç°time&#010;outçš„é—®é¢˜äº†ï¼Œé—®é¢˜å¾—åˆ°äº†è§£å†³ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; 1. å¦‚æœæŒ‰ç…§ä¸Šé¢çš„æƒ…å†µï¼Œé‚£ä¹ˆè¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯å¿…é¡»é…ç½®çš„ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; 2. åœ¨1.11çš„æ›´æ–°ä¸­ï¼Œå‘ç°æœ‰ [Flink-15911][Flink-15154]&#013;&#010;&gt; æ”¯æŒåˆ†åˆ«é…ç½®ç”¨äºæœ¬åœ°ç›‘å¬ç»‘å®šçš„ç½‘ç»œæ¥å£å’Œå¤–éƒ¨è®¿é—®çš„åœ°å€å’Œç«¯å£ã€‚æ˜¯å¦æ˜¯è¿™å—çš„æ”¹åŠ¨ï¼Œ&#013;&#010;&gt; éœ€è¦JMå»é€šè¿‡TMä¸ŠæŠ¥çš„ipåå‘è§£æå‡ºserviceï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Bsetï¼&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/kubernetes.html&#013;&#010;&gt;&#013;&#010;&gt; a511955993&#013;&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt;&#013;&#010;&gt; &lt;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&gt;&#010;å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; On 07/23/2020 10:11, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#013;&#010;&gt; æˆ‘çš„æ„æ€å°±æ˜¯ä½ åœ¨Flinkä»»åŠ¡è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œç„¶åä¸‹é¢çš„å‘½ä»¤åœ¨é›†ç¾¤é‡Œé¢èµ·ä¸€ä¸ªbusyboxçš„podï¼Œ&#013;&#010;&gt; åœ¨é‡Œé¢æ‰§è¡Œ nslookup {ip_address}ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸è§£æåˆ°ã€‚å¦‚æœä¸èƒ½åº”è¯¥å°±æ˜¯corednsçš„&#013;&#010;&gt; é—®é¢˜äº†&#013;&#010;&gt;&#013;&#010;&gt; kubectl run -i -t busybox --image=busybox --restart=Never&#013;&#010;&gt;&#013;&#010;&gt; ä½ éœ€è¦ç¡®è®¤ä¸‹é›†ç¾¤çš„coredns podæ˜¯å¦æ­£å¸¸ï¼Œä¸€èˆ¬æ˜¯éƒ¨ç½²åœ¨kube-systemè¿™ä¸ªnamespaceä¸‹çš„&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Yang&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ22æ—¥å‘¨ä¸‰ ä¸‹åˆ7:57å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Hiï¼ŒYang Wangï¼&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; å¾ˆå¼€å¿ƒå¯ä»¥æ”¶åˆ°ä½ çš„å›å¤ï¼Œä½ çš„å›å¤å¸®åŠ©å¾ˆå¤§ï¼Œè®©æˆ‘çŸ¥é“äº†é—®é¢˜çš„æ–¹å‘ã€‚æˆ‘å†è¡¥å……äº›ä¿¡æ¯ï¼Œå¸Œæœ›å¯ä»¥å¸®æˆ‘è¿›ä¸€æ­¥åˆ¤æ–­ä¸€ä¸‹é—®é¢˜æ ¹æºã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; åœ¨JMæŠ¥é”™çš„åœ°æ–¹ï¼ŒNo hostname could be resolved for ip address xxxxx&#013;&#010;&gt; &gt; ï¼ŒæŠ¥å‡ºæ¥çš„ipæ˜¯k8såˆ†é…ç»™flink podçš„å†…ç½‘ipï¼Œä¸æ˜¯å®¿ä¸»æœºçš„ipã€‚è¯·é—®è¿™ä¸ªé—®é¢˜å¯èƒ½å‡ºåœ¨å“ªé‡Œå‘¢&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Bestï¼&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; a511955993&#013;&#010;&gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; &lt;&#013;&#010;&gt; https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt;&#013;&#010;&gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt;&#010;å®šåˆ¶&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; On 07/22/2020 18:18, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#013;&#010;&gt; &gt; å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP&#013;&#010;&gt; addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#013;&#010;&gt; &gt; æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#013;&#010;&gt; &gt; å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Best,&#013;&#010;&gt; &gt; Yang&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ7:29å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; &gt; Hi&#013;&#010;&gt; &gt; &gt;    ä¸ç¡®å®š k8s ç¯å¢ƒä¸­èƒ½å¦çœ‹åˆ° pod çš„å®Œæ•´æ—¥å¿—ï¼Ÿç±»ä¼¼ Yarn çš„&#010;NM æ—¥å¿—ä¸€æ ·ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹è¿™ä¸ª pod&#013;&#010;&gt; &gt; &gt; çš„å®Œæ•´æ—¥å¿—æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°&#013;&#010;&gt; &gt; &gt; Best,&#013;&#010;&gt; &gt; &gt; Congxian&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ3:19å†™é“ï¼š&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; Hiï¼ŒCongxian&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; å› ä¸ºæ˜¯æµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰é…ç½®HAï¼Œç›®å‰çœ‹åˆ°çš„ä¿¡æ¯ï¼Œå°±æ˜¯JMåˆ·å‡ºæ¥å¤§é‡çš„no&#010;hostname could be&#013;&#010;&gt; &gt; &gt; &gt; resolvedï¼Œjmå¤±è”ï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚&#013;&#010;&gt; &gt; &gt; &gt; å°†jmå†…å­˜é…ç½®ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µï¼ˆjobmanager.memory.pprocesa.sizeï¼š10240mï¼‰ã€‚&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; åœ¨åŒä¸€ä¸ªç¯å¢ƒå°†ç‰ˆæœ¬å›é€€åˆ°1.10æ²¡æœ‰å‡ºç°è¯¥é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåˆ·å¦‚ä¸ŠæŠ¥é”™ã€‚&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; æ˜¯å¦æœ‰å…¶ä»–æ’æŸ¥æ€è·¯ï¼Ÿ&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; Bestï¼&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; | |&#013;&#010;&gt; &gt; &gt; &gt; a511955993&#013;&#010;&gt; &gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; On 07/16/2020 13:17, Congxian Qiu wrote:&#013;&#010;&gt; &gt; &gt; &gt; Hi&#013;&#010;&gt; &gt; &gt; &gt;   å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼ŒGC æƒ…å†µä¹Ÿæ­£å¸¸çš„è¯ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹&#010;pod çš„ç›¸å…³æ—¥å¿—ï¼Œå¦‚æœå¼€å¯äº† HA ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹ zk&#013;&#010;&gt; çš„æ—¥å¿—ã€‚ä¹‹å‰é‡åˆ°è¿‡ä¸€æ¬¡åœ¨&#013;&#010;&gt; &gt; &gt; Yarn&#013;&#010;&gt; &gt; &gt; &gt; ç¯å¢ƒä¸­ç±»ä¼¼çš„ç°è±¡æ˜¯ç”±äºå…¶ä»–åŸå› å¯¼è‡´çš„ï¼Œé€šè¿‡çœ‹ NM&#010;æ—¥å¿—ä»¥åŠ zk æ—¥å¿—å‘ç°çš„åŸå› ã€‚&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; Best,&#013;&#010;&gt; &gt; &gt; &gt; Congxian&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:20å†™é“ï¼š&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; Hi Roc&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; | |&#013;&#010;&gt; &gt; &gt; &gt; &gt; a511955993&#013;&#010;&gt; &gt; &gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; &gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; On 07/15/2020 17:16, Roc Marshal wrote:&#013;&#010;&gt; &gt; &gt; &gt; &gt; Hiï¼ŒSmileSmile.&#013;&#010;&gt; &gt; &gt; &gt; &gt; ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#013;&#010;&gt; &gt; &gt; &gt; &gt; å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; ç¥å¥½ã€‚&#013;&#010;&gt; &gt; &gt; &gt; &gt; Roc Marshal&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt;&#010;å†™é“ï¼š&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;Hi&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM&#010;4ä¸ªslotã€‚ job&#013;&#010;&gt; &gt; &gt; &gt; &gt; å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could&#010;be resolved for the IP&#013;&#010;&gt; &gt; addressï¼ŒJM&#013;&#010;&gt; &gt; &gt; &gt; time&#013;&#010;&gt; &gt; &gt; &gt; &gt; outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#013;&#010;&gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] -&#013;&#010;&gt; No&#013;&#010;&gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.32.160.7, using&#013;&#010;&gt; IP&#013;&#010;&gt; &gt; &gt; &gt; address&#013;&#010;&gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#013;&#010;&gt; files)&#013;&#010;&gt; &gt; may&#013;&#010;&gt; &gt; &gt; &gt; be&#013;&#010;&gt; &gt; &gt; &gt; &gt; impacted.&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#013;&#010;&gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] -&#013;&#010;&gt; No&#013;&#010;&gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.44.224.7, using&#013;&#010;&gt; IP&#013;&#010;&gt; &gt; &gt; &gt; address&#013;&#010;&gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#013;&#010;&gt; files)&#013;&#010;&gt; &gt; may&#013;&#010;&gt; &gt; &gt; &gt; be&#013;&#010;&gt; &gt; &gt; &gt; &gt; impacted.&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,461 WARN&#013;&#010;&gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] -&#013;&#010;&gt; No&#013;&#010;&gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.40.32.9, using IP&#013;&#010;&gt; &gt; &gt; &gt; address&#013;&#010;&gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#013;&#010;&gt; files)&#013;&#010;&gt; &gt; may&#013;&#010;&gt; &gt; &gt; &gt; be&#013;&#010;&gt; &gt; &gt; &gt; &gt; impacted.&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#013;&#010;&gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#013;&#010;&gt; &gt; [] -&#013;&#010;&gt; &gt; &gt; &gt; The&#013;&#010;&gt; &gt; &gt; &gt; &gt; heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a&#013;&#010;&gt; &gt; timed&#013;&#010;&gt; &gt; &gt; &gt; out.&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#013;&#010;&gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#013;&#010;&gt; &gt; [] -&#013;&#010;&gt; &gt; &gt; &gt; &gt; Disconnect job manager 00000000000000000000000000000000&#013;&#010;&gt; &gt; &gt; &gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for&#013;&#010;&gt; &gt; job&#013;&#010;&gt; &gt; &gt; &gt; &gt; e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;how to deal with ï¼Ÿ&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;beset ï¼&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;| |&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;a511955993&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;|&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;|&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;|&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; &gt; &gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "10",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<663a304.764f.1737a68a4b3.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 23 Jul 2020 06:42:25 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "Hi Yang Wang&#010;&#010;å…ˆåˆ†äº«ä¸‹æˆ‘è¿™è¾¹çš„ç¯å¢ƒç‰ˆæœ¬&#010;&#010;&#010;kubernetesï¼š1.17.4.   CNIï¼š weave  &#010;&#010;&#010;1 2 3 æ˜¯æˆ‘çš„ä¸€äº›ç–‘æƒ‘&#010;&#010;4 æ˜¯JMæ—¥å¿—&#010;&#010;&#010;1. å»æ‰taskmanager-query-state-service.yamlåç¡®å®ä¸è¡Œ  nslookup&#010;&#010;kubectl exec -it busybox2 -- /bin/sh&#010;/ # nslookup 10.47.96.2&#010;Server:          10.96.0.10&#010;Address:     10.96.0.10:53&#010;&#010;** server can't find 2.96.47.10.in-addr.arpa: NXDOMAIN&#010;&#010;&#010;&#010;2. Flink1.11å’ŒFlink1.10&#010;&#010;detail subtasks taskmanagers xxx x è¿™è¡Œ  1.11å˜æˆäº†172-20-0-50ã€‚1.10æ˜¯flink-taskmanager-7b5d6958b6-sfzlk:36459ã€‚è¿™å—çš„æ”¹åŠ¨æ˜¯ï¼Ÿï¼ˆç›®å‰è¿™ä¸ªé›†ç¾¤è·‘ç€1.10å’Œ1.11,1.10å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå¦‚æœcorednsæœ‰é—®é¢˜ï¼Œ1.10ç‰ˆæœ¬çš„flinkåº”è¯¥ä¹Ÿæœ‰ä¸€æ ·çš„æƒ…å†µå§ï¼Ÿï¼‰&#010;&#010;3. corednsæ˜¯å¦ç‰¹æ®Šé…ç½®ï¼Ÿ&#010;&#010;åœ¨å®¹å™¨ä¸­è§£æåŸŸåæ˜¯æ­£å¸¸çš„ï¼Œåªæ˜¯åå‘è§£ææ²¡æœ‰serviceæ‰ä¼šæœ‰é—®é¢˜ã€‚corednsæ˜¯å¦æœ‰ä»€ä¹ˆéœ€è¦é…ç½®ï¼Ÿ&#010;&#010;&#010;4. time outæ—¶å€™çš„JMæ—¥å¿—å¦‚ä¸‹ï¼š&#010;&#010;&#010;&#010;2020-07-23 13:53:00,228 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - ResourceManager akka.tcp://flink@flink-jobmanager:6123/user/rpc/resourcemanager_0 was granted leadership with fencing token 00000000000000000000000000000000&#010;2020-07-23 13:53:00,232 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Starting RPC endpoint for org.apache.flink.runtime.dispatcher.StandaloneDispatcher at akka://flink/user/rpc/dispatcher_1 .&#010;2020-07-23 13:53:00,233 INFO  org.apache.flink.runtime.resourcemanager.slotmanager.SlotManagerImpl [] - Starting the SlotManager.&#010;2020-07-23 13:53:03,472 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1f9ae0cd95a28943a73be26323588696 (akka.tcp://flink@10.34.128.9:6122/user/rpc/taskmanager_0) at ResourceManager&#010;2020-07-23 13:53:03,777 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID cac09e751264e61615329c20713a84b4 (akka.tcp://flink@10.32.160.6:6122/user/rpc/taskmanager_0) at ResourceManager&#010;2020-07-23 13:53:03,787 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 93c72d01d09f9ae427c5fc980ed4c1e4 (akka.tcp://flink@10.39.0.8:6122/user/rpc/taskmanager_0) at ResourceManager&#010;2020-07-23 13:53:04,044 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 8adf2f8e81b77a16d5418a9e252c61e2 (akka.tcp://flink@10.38.64.7:6122/user/rpc/taskmanager_0) at ResourceManager&#010;2020-07-23 13:53:04,099 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 23e9d2358f6eb76b9ae718d879d4f330 (akka.tcp://flink@10.42.160.6:6122/user/rpc/taskmanager_0) at ResourceManager&#010;2020-07-23 13:53:04,146 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 092f8dee299e32df13db3111662b61f8 (akka.tcp://flink@10.33.192.14:6122/user/rpc/taskmanager_0) at ResourceManager&#010;&#010;&#010;2020-07-23 13:55:44,220 INFO  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Received JobGraph submission 99a030d0e3f428490a501c0132f27a56 (JobTest).&#010;2020-07-23 13:55:44,222 INFO  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Submitting job 99a030d0e3f428490a501c0132f27a56 (JobTest).&#010;2020-07-23 13:55:44,251 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Starting RPC endpoint for org.apache.flink.runtime.jobmaster.JobMaster at akka://flink/user/rpc/jobmanager_2 .&#010;2020-07-23 13:55:44,260 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Initializing job JobTest (99a030d0e3f428490a501c0132f27a56).&#010;2020-07-23 13:55:44,278 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Using restart back off time strategy NoRestartBackoffTimeStrategy for JobTest (99a030d0e3f428490a501c0132f27a56).&#010;2020-07-23 13:55:44,319 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Running initialization on master for job JobTest (99a030d0e3f428490a501c0132f27a56).&#010;2020-07-23 13:55:44,319 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Successfully ran initialization on master in 0 ms.&#010;2020-07-23 13:55:44,428 INFO  org.apache.flink.runtime.scheduler.adapter.DefaultExecutionTopology [] - Built 1 pipelined regions in 25 ms&#010;2020-07-23 13:55:44,437 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Loading state backend via factory org.apache.flink.contrib.streaming.state.RocksDBStateBackendFactory&#010;2020-07-23 13:55:44,456 INFO  org.apache.flink.contrib.streaming.state.RocksDBStateBackend [] - Using predefined options: DEFAULT.&#010;2020-07-23 13:55:44,457 INFO  org.apache.flink.contrib.streaming.state.RocksDBStateBackend [] - Using default options factory: DefaultConfigurableOptionsFactory{configuredOptions={}}.&#010;2020-07-23 13:55:44,466 WARN  org.apache.flink.runtime.util.HadoopUtils                    [] - Could not find Hadoop configuration via any of the supported methods (Flink configuration, environment variables).&#010;2020-07-23 13:55:45,276 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Using failover strategy org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy@72bd8533 for JobTest (99a030d0e3f428490a501c0132f27a56).&#010;2020-07-23 13:55:45,280 INFO  org.apache.flink.runtime.jobmaster.JobManagerRunnerImpl      [] - JobManager runner for job JobTest (99a030d0e3f428490a501c0132f27a56) was granted leadership with session id 00000000-0000-0000-0000-000000000000 at akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2.&#010;2020-07-23 13:55:45,286 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Starting scheduling with scheduling strategy [org.apache.flink.runtime.scheduler.strategy.EagerSchedulingStrategy]&#010;&#010;&#010;&#010;2020-07-23 13:55:45,436 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot serve slot request, no ResourceManager connected. Adding as pending request [SlotRequestId{e092b12b96b0a98bbf057e71b9705c23}]&#010;2020-07-23 13:55:45,436 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot serve slot request, no ResourceManager connected. Adding as pending request [SlotRequestId{4ad15f417716c9e07fca383990c0f52a}]&#010;2020-07-23 13:55:45,436 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot serve slot request, no ResourceManager connected. Adding as pending request [SlotRequestId{345fdb427a893b7fc3f4f040f93445d2}]&#010;2020-07-23 13:55:45,437 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot serve slot request, no ResourceManager connected. Adding as pending request [SlotRequestId{e559485ea7b0b7e17367816882538d90}]&#010;2020-07-23 13:55:45,437 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot serve slot request, no ResourceManager connected. Adding as pending request [SlotRequestId{7be8f6c1aedb27b04e7feae68078685c}]&#010;2020-07-23 13:55:45,437 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot serve slot request, no ResourceManager connected. Adding as pending request [SlotRequestId{582a86197884206652dff3aea2306bb3}]&#010;2020-07-23 13:55:45,437 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot serve slot request, no ResourceManager connected. Adding as pending request [SlotRequestId{0cc24260eda3af299a0b321feefaf2cb}]&#010;2020-07-23 13:55:45,437 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot serve slot request, no ResourceManager connected. Adding as pending request [SlotRequestId{240ca6f3d3b5ece6a98243ec8cadf616}]&#010;2020-07-23 13:55:45,438 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot serve slot request, no ResourceManager connected. Adding as pending request [SlotRequestId{c35033d598a517acc108424bb9f809fb}]&#010;2020-07-23 13:55:45,438 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot serve slot request, no ResourceManager connected. Adding as pending request [SlotRequestId{ad35013c3b532d4b4df1be62395ae0cf}]&#010;2020-07-23 13:55:45,438 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot serve slot request, no ResourceManager connected. Adding as pending request [SlotRequestId{c929bd5e8daf432d01fad1ece3daec1a}]&#010;2020-07-23 13:55:45,487 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Connecting to ResourceManager akka.tcp://flink@flink-jobmanager:6123/user/rpc/resourcemanager_*(00000000000000000000000000000000)&#010;2020-07-23 13:55:45,492 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Resolved ResourceManager address, beginning registration&#010;2020-07-23 13:55:45,493 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering job manager 00000000000000000000000000000000@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job 99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 13:55:45,499 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registered job manager 00000000000000000000000000000000@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job 99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 13:55:45,501 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - JobManager successfully registered at ResourceManager, leader id: 00000000000000000000000000000000.&#010;2020-07-23 13:55:45,501 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{15fd2a9565c2b080748c1d1592b1cbbc}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,502 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Request slot with profile ResourceProfile{UNKNOWN} for job 99a030d0e3f428490a501c0132f27a56 with allocation id d420d08bf2654d9ea76955c70db18b69.&#010;2020-07-23 13:55:45,502 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{8cd72cc16f0e319d915a9a096a1096d7}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,503 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{e7e422409acebdb385014a9634af6a90}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,503 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{cef1af73546ca1fc27ca7a3322e9e815}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,503 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{108fe0b3086567ad79275eccef2fdaf8}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,503 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{265e67985eab7a6dc08024e53bf2708d}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,503 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{7087497a17c441f1a1d6fefcbc7cd0ea}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,503 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{14ac08438e79c8db8d25d93b99d62725}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;&#010;2020-07-23 13:55:45,514 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Request slot with profile ResourceProfile{UNKNOWN} for job 99a030d0e3f428490a501c0132f27a56 with allocation id fce526bbe3e1be91caa3e4b536b20e35.&#010;2020-07-23 13:55:45,514 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{40c7abbb12514c405323b0569fb21647}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,514 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{a4985a9647b65b30a571258b45c8f2ce}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,515 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{c52a6eb2fa58050e71e7903590019fd1}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;&#010;2020-07-23 13:55:45,517 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Request slot with profile ResourceProfile{UNKNOWN} for job 99a030d0e3f428490a501c0132f27a56 with allocation id 18ac7ec802ebfcfed8c05ee9324a55a4.&#010;&#010;2020-07-23 13:55:45,518 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Request slot with profile ResourceProfile{UNKNOWN} for job 99a030d0e3f428490a501c0132f27a56 with allocation id 7ec76cbe689eb418b63599e90ade19be.&#010;2020-07-23 13:55:45,518 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{46d65692a8b5aad11b51f9a74a666a74}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,518 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{3670bb4f345eedf941cc18e477ba1e9d}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,518 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{4a12467d76b9e3df8bc3412c0be08e14}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,518 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{e092b12b96b0a98bbf057e71b9705c23}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,518 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{4ad15f417716c9e07fca383990c0f52a}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,518 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{345fdb427a893b7fc3f4f040f93445d2}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,519 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Requesting new slot [SlotRequestId{e559485ea7b0b7e17367816882538d90}] and profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,519 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Request slot with profile ResourceProfile{UNKNOWN} for job 99a030d0e3f428490a501c0132f27a56 with allocation id b78837a29b4032924ac25be70ed21a3c.&#010;&#010;&#010;2020-07-23 13:58:18,037 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No hostname could be resolved for the IP address 10.47.96.2, using IP address as host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;2020-07-23 13:58:22,192 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No hostname could be resolved for the IP address 10.34.64.14, using IP address as host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;2020-07-23 13:58:22,358 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No hostname could be resolved for the IP address 10.34.128.9, using IP address as host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;2020-07-23 13:58:24,562 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No hostname could be resolved for the IP address 10.32.160.6, using IP address as host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;2020-07-23 13:58:25,487 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No hostname could be resolved for the IP address 10.38.64.7, using IP address as host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;2020-07-23 13:58:27,636 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No hostname could be resolved for the IP address 10.42.160.6, using IP address as host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;2020-07-23 13:58:27,767 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No hostname could be resolved for the IP address 10.43.64.12, using IP address as host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;2020-07-23 13:58:29,651 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - The heartbeat of JobManager with id 456a18b6c404cb11a359718e16de1c6b timed out.&#010;2020-07-23 13:58:29,651 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Disconnect job manager 00000000000000000000000000000000@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job 99a030d0e3f428490a501c0132f27a56 from the resource manager.&#010;2020-07-23 13:58:29,854 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No hostname could be resolved for the IP address 10.39.0.8, using IP address as host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;2020-07-23 13:58:33,623 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No hostname could be resolved for the IP address 10.35.0.10, using IP address as host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;2020-07-23 13:58:35,756 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No hostname could be resolved for the IP address 10.36.32.8, using IP address as host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;2020-07-23 13:58:36,694 WARN  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No hostname could be resolved for the IP address 10.42.128.6, using IP address as host name. Local input split assignment (such as for HDFS files) may be impacted.&#010;&#010;&#010;2020-07-23 14:01:17,814 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Close ResourceManager connection 83b1ff14900abfd54418e7fa3efb3f8a: The heartbeat of JobManager with id 456a18b6c404cb11a359718e16de1c6b timed out..&#010;2020-07-23 14:01:17,815 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Connecting to ResourceManager akka.tcp://flink@flink-jobmanager:6123/user/rpc/resourcemanager_*(00000000000000000000000000000000)&#010;2020-07-23 14:01:17,816 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Resolved ResourceManager address, beginning registration&#010;2020-07-23 14:01:17,816 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering job manager 00000000000000000000000000000000@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job 99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 14:01:17,836 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source: host_relation -&gt; Timestamps/Watermarks -&gt; Map (1/1) (302ca9640e2d209a543d843f2996ccd2) switched from SCHEDULED to FAILED on not deployed.&#010;org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException: Could not allocate the required slot within slot request timeout. Please make sure that the cluster has enough resources.&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_242]&#010;     at org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_242]&#010;     at org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_242]&#010;     at org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_242]&#010;     at org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.actor.Actor$class.aroundReceive(Actor.scala:517) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.actor.ActorCell.invoke(ActorCell.scala:561) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.Mailbox.run(Mailbox.scala:225) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.Mailbox.exec(Mailbox.scala:235) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;Caused by: java.util.concurrent.CompletionException: java.util.concurrent.TimeoutException&#010;     at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591) ~[?:1.8.0_242]&#010;     ... 25 more&#010;Caused by: java.util.concurrent.TimeoutException&#010;     ... 23 more&#010;2020-07-23 14:01:17,848 INFO  org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy [] - Calculating tasks to restart to recover the failed task cbc357ccb763df2852fee8c4fc7d55f2_0.&#010;2020-07-23 14:01:17,910 INFO  org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy [] - 902 tasks should be restarted to recover the failed task cbc357ccb763df2852fee8c4fc7d55f2_0.&#010;2020-07-23 14:01:17,913 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job JobTest (99a030d0e3f428490a501c0132f27a56) switched from state RUNNING to FAILING.&#010;org.apache.flink.runtime.JobException: Recovery is suppressed by NoRestartBackoffTimeStrategy&#010;     at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:116) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:78) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:192) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:185) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:179) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:503) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.UpdateSchedulerNgOnInternalFailuresListener.notifyTaskFailure(UpdateSchedulerNgOnInternalFailuresListener.java:49) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.executiongraph.ExecutionGraph.notifySchedulerNgAboutInternalTaskFailure(ExecutionGraph.java:1710) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1287) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1255) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.executiongraph.Execution.markFailed(Execution.java:1086) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.executiongraph.ExecutionVertex.markFailed(ExecutionVertex.java:748) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.DefaultExecutionVertexOperations.markFailed(DefaultExecutionVertexOperations.java:41) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskDeploymentFailure(DefaultScheduler.java:435) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_242]&#010;     at org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_242]&#010;     at org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_242]&#010;     at org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_242]&#010;     at org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.actor.Actor$class.aroundReceive(Actor.scala:517) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.actor.ActorCell.invoke(ActorCell.scala:561) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.Mailbox.run(Mailbox.scala:225) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.Mailbox.exec(Mailbox.scala:235) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;Caused by: org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException: Could not allocate the required slot within slot request timeout. Please make sure that the cluster has enough resources.&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     ... 45 more&#010;Caused by: java.util.concurrent.CompletionException: java.util.concurrent.TimeoutException&#010;     at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591) ~[?:1.8.0_242]&#010;     ... 25 more&#010;Caused by: java.util.concurrent.TimeoutException&#010;     ... 23 more&#010;&#010;&#010;&#010;2020-07-23 14:01:18,109 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Discarding the results produced by task execution 1809eb912d69854f2babedeaf879df6a.&#010;2020-07-23 14:01:18,110 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job JobTest (99a030d0e3f428490a501c0132f27a56) switched from state FAILING to FAILED.&#010;org.apache.flink.runtime.JobException: Recovery is suppressed by NoRestartBackoffTimeStrategy&#010;     at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:116) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:78) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:192) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:185) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:179) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:503) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.UpdateSchedulerNgOnInternalFailuresListener.notifyTaskFailure(UpdateSchedulerNgOnInternalFailuresListener.java:49) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.executiongraph.ExecutionGraph.notifySchedulerNgAboutInternalTaskFailure(ExecutionGraph.java:1710) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1287) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1255) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.executiongraph.Execution.markFailed(Execution.java:1086) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.executiongraph.ExecutionVertex.markFailed(ExecutionVertex.java:748) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.DefaultExecutionVertexOperations.markFailed(DefaultExecutionVertexOperations.java:41) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskDeploymentFailure(DefaultScheduler.java:435) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_242]&#010;     at org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_242]&#010;     at org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_242]&#010;     at org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_242]&#010;     at org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.actor.Actor$class.aroundReceive(Actor.scala:517) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.actor.ActorCell.invoke(ActorCell.scala:561) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.Mailbox.run(Mailbox.scala:225) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.Mailbox.exec(Mailbox.scala:235) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107) [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;Caused by: org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException: Could not allocate the required slot within slot request timeout. Please make sure that the cluster has enough resources.&#010;     at org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441) ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;     ... 45 more&#010;Caused by: java.util.concurrent.CompletionException: java.util.concurrent.TimeoutException&#010;     at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607) ~[?:1.8.0_242]&#010;     at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591) ~[?:1.8.0_242]&#010;     ... 25 more&#010;Caused by: java.util.concurrent.TimeoutException&#010;     ... 23 more&#010;2020-07-23 14:01:18,114 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Stopping checkpoint coordinator for job 99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 14:01:18,117 INFO  org.apache.flink.runtime.checkpoint.StandaloneCompletedCheckpointStore [] - Shutting down&#010;2020-07-23 14:01:18,118 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Discarding the results produced by task execution 302ca9640e2d209a543d843f2996ccd2.&#010;2020-07-23 14:01:18,120 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending slot request [SlotRequestId{15fd2a9565c2b080748c1d1592b1cbbc}] timed out.&#010;2020-07-23 14:01:18,120 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending slot request [SlotRequestId{8cd72cc16f0e319d915a9a096a1096d7}] timed out.&#010;2020-07-23 14:01:18,120 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending slot request [SlotRequestId{e7e422409acebdb385014a9634af6a90}] timed out.&#010;2020-07-23 14:01:18,121 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending slot request [SlotRequestId{cef1af73546ca1fc27ca7a3322e9e815}] timed out.&#010;2020-07-23 14:01:18,121 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending slot request [SlotRequestId{108fe0b3086567ad79275eccef2fdaf8}] timed out.&#010;2020-07-23 14:01:18,121 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending slot request [SlotRequestId{265e67985eab7a6dc08024e53bf2708d}] timed out.&#010;2020-07-23 14:01:18,122 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending slot request [SlotRequestId{7087497a17c441f1a1d6fefcbc7cd0ea}] timed out.&#010;2020-07-23 14:01:18,122 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending slot request [&#010;&#010;&#010;2020-07-23 14:01:18,151 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering job manager 00000000000000000000000000000000@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job 99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 14:01:18,157 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registered job manager 00000000000000000000000000000000@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job 99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 14:01:18,157 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registered job manager 00000000000000000000000000000000@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job 99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 14:01:18,157 INFO  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Job 99a030d0e3f428490a501c0132f27a56 reached globally terminal state FAILED.&#010;2020-07-23 14:01:18,162 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registered job manager 00000000000000000000000000000000@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job 99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 14:01:18,162 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - JobManager successfully registered at ResourceManager, leader id: 00000000000000000000000000000000.&#010;2020-07-23 14:01:18,225 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Stopping the JobMaster for job JobTest(99a030d0e3f428490a501c0132f27a56).&#010;2020-07-23 14:01:18,381 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Suspending SlotPool.&#010;2020-07-23 14:01:18,382 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Close ResourceManager connection 83b1ff14900abfd54418e7fa3efb3f8a: JobManager is shutting down..&#010;2020-07-23 14:01:18,382 INFO  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Stopping SlotPool.&#010;2020-07-23 14:01:18,382 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Disconnect job manager 00000000000000000000000000000000@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job 99a030d0e3f428490a501c0132f27a56 from the resource manager.&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;On 07/23/2020 13:26, Yang Wang wrote:&#010;å¾ˆé«˜å…´ä½ çš„é—®é¢˜è§£å†³äº†ï¼Œä½†æˆ‘è§‰å¾—æ ¹æœ¬åŸå› åº”è¯¥ä¸æ˜¯åŠ ä¸Šäº†taskmanager-query-state-service.yamlçš„å…³ç³»ã€‚&#010;æˆ‘è¿™è¾¹ä¸åˆ›å»ºè¿™ä¸ªæœåŠ¡ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œè€Œä¸”nslookup {tm_ip_address}æ˜¯å¯ä»¥æ­£å¸¸åè§£æåˆ°hostnameçš„ã€‚&#010;&#010;æ³¨æ„è¿™é‡Œä¸æ˜¯è§£æhostnameï¼Œè€Œæ˜¯é€šè¿‡ipåœ°å€æ¥åè§£æè¿›è¡ŒéªŒè¯&#010;&#010;&#010;å›ç­”ä½ è¯´çš„ä¸¤ä¸ªé—®é¢˜ï¼š&#010;1. ä¸æ˜¯å¿…é¡»çš„ï¼Œæˆ‘è¿™è¾¹éªŒè¯ä¸éœ€è¦åˆ›å»ºï¼Œé›†ç¾¤ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œä»»åŠ¡çš„ã€‚Rest&#010;serviceçš„æš´éœ²æ–¹å¼æ˜¯ClusterIPã€NodePortã€LoadBalanceréƒ½æ­£å¸¸&#010;2. å¦‚æœæ²¡æœ‰é…ç½®taskmanager.bind-hostï¼Œ&#010;[Flink-15911][Flink-15154]è¿™ä¸¤ä¸ªJIRAå¹¶ä¸ä¼šå½±å“TMå‘RMæ³¨å†Œæ—¶å€™çš„ä½¿ç”¨çš„åœ°å€&#010;&#010;å¦‚æœä½ æƒ³æ‰¾åˆ°æ ¹æœ¬åŸå› ï¼Œé‚£å¯èƒ½éœ€è¦ä½ è¿™è¾¹æä¾›JM/TMçš„å®Œæ•´logï¼Œè¿™æ ·æ–¹ä¾¿åˆ†æ&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸Šåˆ11:30å†™é“ï¼š&#010;&#010;&gt;&#010;&gt; Hi Yang Wang&#010;&gt;&#010;&gt; åˆšåˆšåœ¨æµ‹è¯•ç¯å¢ƒæµ‹è¯•äº†ä¸€ä¸‹ï¼ŒtaskManageræ²¡æœ‰åŠæ³•nslookupå‡ºæ¥ï¼ŒJMå¯ä»¥nslookupï¼Œè¿™ä¸¤è€…çš„å·®åˆ«åœ¨äºæ˜¯å¦æœ‰serviceã€‚&#010;&gt;&#010;&gt; è§£å†³æ–¹æ¡ˆï¼šæˆ‘è¿™è¾¹ç»™é›†ç¾¤åŠ ä¸Šäº†taskmanager-query-state-service.yamlï¼ˆæŒ‰ç…§å®˜ç½‘ä¸Šæ˜¯å¯é€‰æœåŠ¡ï¼‰ã€‚å°±ä¸ä¼šåˆ·No&#010;&gt; hostname could be resolved for ip&#010;&gt; addressï¼Œå°†NodePortæ”¹ä¸ºClusterIpï¼Œä½œä¸šå°±å¯ä»¥æˆåŠŸæäº¤ï¼Œä¸ä¼šå‡ºç°time outçš„é—®é¢˜äº†ï¼Œé—®é¢˜å¾—åˆ°äº†è§£å†³ã€‚&#010;&gt;&#010;&gt;&#010;&gt; 1. å¦‚æœæŒ‰ç…§ä¸Šé¢çš„æƒ…å†µï¼Œé‚£ä¹ˆè¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯å¿…é¡»é…ç½®çš„ï¼Ÿ&#010;&gt;&#010;&gt; 2. åœ¨1.11çš„æ›´æ–°ä¸­ï¼Œå‘ç°æœ‰ [Flink-15911][Flink-15154]&#010;&gt; æ”¯æŒåˆ†åˆ«é…ç½®ç”¨äºæœ¬åœ°ç›‘å¬ç»‘å®šçš„ç½‘ç»œæ¥å£å’Œå¤–éƒ¨è®¿é—®çš„åœ°å€å’Œç«¯å£ã€‚æ˜¯å¦æ˜¯è¿™å—çš„æ”¹åŠ¨ï¼Œ&#010;&gt; éœ€è¦JMå»é€šè¿‡TMä¸ŠæŠ¥çš„ipåå‘è§£æå‡ºserviceï¼Ÿ&#010;&gt;&#010;&gt;&#010;&gt; Bsetï¼&#010;&gt;&#010;&gt;&#010;&gt; [1]&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/kubernetes.html&#010;&gt;&#010;&gt; a511955993&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt;&#010;&gt; &lt;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt;&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt; å®šåˆ¶&#010;&gt;&#010;&gt; On 07/23/2020 10:11, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;&gt; æˆ‘çš„æ„æ€å°±æ˜¯ä½ åœ¨Flinkä»»åŠ¡è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œç„¶åä¸‹é¢çš„å‘½ä»¤åœ¨é›†ç¾¤é‡Œé¢èµ·ä¸€ä¸ªbusyboxçš„podï¼Œ&#010;&gt; åœ¨é‡Œé¢æ‰§è¡Œ nslookup {ip_address}ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸è§£æåˆ°ã€‚å¦‚æœä¸èƒ½åº”è¯¥å°±æ˜¯corednsçš„&#010;&gt; é—®é¢˜äº†&#010;&gt;&#010;&gt; kubectl run -i -t busybox --image=busybox --restart=Never&#010;&gt;&#010;&gt; ä½ éœ€è¦ç¡®è®¤ä¸‹é›†ç¾¤çš„coredns podæ˜¯å¦æ­£å¸¸ï¼Œä¸€èˆ¬æ˜¯éƒ¨ç½²åœ¨kube-systemè¿™ä¸ªnamespaceä¸‹çš„&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; Best,&#010;&gt; Yang&#010;&gt;&#010;&gt;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ22æ—¥å‘¨ä¸‰ ä¸‹åˆ7:57å†™é“ï¼š&#010;&gt;&#010;&gt; &gt;&#010;&gt; &gt; Hiï¼ŒYang Wangï¼&#010;&gt; &gt;&#010;&gt; &gt; å¾ˆå¼€å¿ƒå¯ä»¥æ”¶åˆ°ä½ çš„å›å¤ï¼Œä½ çš„å›å¤å¸®åŠ©å¾ˆå¤§ï¼Œè®©æˆ‘çŸ¥é“äº†é—®é¢˜çš„æ–¹å‘ã€‚æˆ‘å†è¡¥å……äº›ä¿¡æ¯ï¼Œå¸Œæœ›å¯ä»¥å¸®æˆ‘è¿›ä¸€æ­¥åˆ¤æ–­ä¸€ä¸‹é—®é¢˜æ ¹æºã€‚&#010;&gt; &gt;&#010;&gt; &gt; åœ¨JMæŠ¥é”™çš„åœ°æ–¹ï¼ŒNo hostname could be resolved for ip address xxxxx&#010;&gt; &gt; ï¼ŒæŠ¥å‡ºæ¥çš„ipæ˜¯k8såˆ†é…ç»™flink podçš„å†…ç½‘ipï¼Œä¸æ˜¯å®¿ä¸»æœºçš„ipã€‚è¯·é—®è¿™ä¸ªé—®é¢˜å¯èƒ½å‡ºåœ¨å“ªé‡Œå‘¢&#010;&gt; &gt;&#010;&gt; &gt; Bestï¼&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; a511955993&#010;&gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt;&#010;&gt; &gt; &lt;&#010;&gt; https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt;&#010;&gt;&#010;&gt; &gt;&#010;&gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt; å®šåˆ¶&#010;&gt; &gt;&#010;&gt; &gt; On 07/22/2020 18:18, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;&gt; &gt; å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP&#010;&gt; addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#010;&gt; &gt; æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#010;&gt; &gt; å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; Best,&#010;&gt; &gt; Yang&#010;&gt; &gt;&#010;&gt; &gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ7:29å†™é“ï¼š&#010;&gt; &gt;&#010;&gt; &gt; &gt; Hi&#010;&gt; &gt; &gt;    ä¸ç¡®å®š k8s ç¯å¢ƒä¸­èƒ½å¦çœ‹åˆ° pod çš„å®Œæ•´æ—¥å¿—ï¼Ÿç±»ä¼¼ Yarn çš„ NM æ—¥å¿—ä¸€æ ·ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹è¿™ä¸ª pod&#010;&gt; &gt; &gt; çš„å®Œæ•´æ—¥å¿—æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°&#010;&gt; &gt; &gt; Best,&#010;&gt; &gt; &gt; Congxian&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ3:19å†™é“ï¼š&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; Hiï¼ŒCongxian&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; å› ä¸ºæ˜¯æµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰é…ç½®HAï¼Œç›®å‰çœ‹åˆ°çš„ä¿¡æ¯ï¼Œå°±æ˜¯JMåˆ·å‡ºæ¥å¤§é‡çš„no hostname could be&#010;&gt; &gt; &gt; &gt; resolvedï¼Œjmå¤±è”ï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚&#010;&gt; &gt; &gt; &gt; å°†jmå†…å­˜é…ç½®ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µï¼ˆjobmanager.memory.pprocesa.sizeï¼š10240mï¼‰ã€‚&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; åœ¨åŒä¸€ä¸ªç¯å¢ƒå°†ç‰ˆæœ¬å›é€€åˆ°1.10æ²¡æœ‰å‡ºç°è¯¥é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåˆ·å¦‚ä¸ŠæŠ¥é”™ã€‚&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; æ˜¯å¦æœ‰å…¶ä»–æ’æŸ¥æ€è·¯ï¼Ÿ&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; Bestï¼&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; | |&#010;&gt; &gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; On 07/16/2020 13:17, Congxian Qiu wrote:&#010;&gt; &gt; &gt; &gt; Hi&#010;&gt; &gt; &gt; &gt;   å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼ŒGC æƒ…å†µä¹Ÿæ­£å¸¸çš„è¯ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹ pod çš„ç›¸å…³æ—¥å¿—ï¼Œå¦‚æœå¼€å¯äº† HA ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹ zk&#010;&gt; çš„æ—¥å¿—ã€‚ä¹‹å‰é‡åˆ°è¿‡ä¸€æ¬¡åœ¨&#010;&gt; &gt; &gt; Yarn&#010;&gt; &gt; &gt; &gt; ç¯å¢ƒä¸­ç±»ä¼¼çš„ç°è±¡æ˜¯ç”±äºå…¶ä»–åŸå› å¯¼è‡´çš„ï¼Œé€šè¿‡çœ‹ NM æ—¥å¿—ä»¥åŠ zk æ—¥å¿—å‘ç°çš„åŸå› ã€‚&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; Best,&#010;&gt; &gt; &gt; &gt; Congxian&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:20å†™é“ï¼š&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; Hi Roc&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; | |&#010;&gt; &gt; &gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; On 07/15/2020 17:16, Roc Marshal wrote:&#010;&gt; &gt; &gt; &gt; &gt; Hiï¼ŒSmileSmile.&#010;&gt; &gt; &gt; &gt; &gt; ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#010;&gt; &gt; &gt; &gt; &gt; å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; ç¥å¥½ã€‚&#010;&gt; &gt; &gt; &gt; &gt; Roc Marshal&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;Hi&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM 4ä¸ªslotã€‚ job&#010;&gt; &gt; &gt; &gt; &gt; å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be resolved for the IP&#010;&gt; &gt; addressï¼ŒJM&#010;&gt; &gt; &gt; &gt; time&#010;&gt; &gt; &gt; &gt; &gt; outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] -&#010;&gt; No&#010;&gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.32.160.7, using&#010;&gt; IP&#010;&gt; &gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#010;&gt; files)&#010;&gt; &gt; may&#010;&gt; &gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] -&#010;&gt; No&#010;&gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.44.224.7, using&#010;&gt; IP&#010;&gt; &gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#010;&gt; files)&#010;&gt; &gt; may&#010;&gt; &gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,461 WARN&#010;&gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] -&#010;&gt; No&#010;&gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.40.32.9, using IP&#010;&gt; &gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#010;&gt; files)&#010;&gt; &gt; may&#010;&gt; &gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;&gt; &gt; [] -&#010;&gt; &gt; &gt; &gt; The&#010;&gt; &gt; &gt; &gt; &gt; heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a&#010;&gt; &gt; timed&#010;&gt; &gt; &gt; &gt; out.&#010;&gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;&gt; &gt; [] -&#010;&gt; &gt; &gt; &gt; &gt; Disconnect job manager 00000000000000000000000000000000&#010;&gt; &gt; &gt; &gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for&#010;&gt; &gt; job&#010;&gt; &gt; &gt; &gt; &gt; e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;how to deal with ï¼Ÿ&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;beset ï¼&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;| |&#010;&gt; &gt; &gt; &gt; &gt; &gt;a511955993&#010;&gt; &gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt; &gt;é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt;&#010;&gt;&#010;",
        "depth": "11",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<CAP+gf36ZwU84340Q+Y2geMdbf-MWx=eYLbemx1WMdLUbtk3R+Q@mail.gmail.com>",
        "from": "Yang Wang &lt;danrtsey...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 27 Jul 2020 03:36:04 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "çœ‹ä½ è¿™ä¸ªä»»åŠ¡ï¼Œå¤±è´¥çš„æ ¹æœ¬åŸå› å¹¶ä¸æ˜¯â€œNo hostname could be resolved&#010;â€ï¼Œè¿™ä¸ªWARNINGçš„åŸå› å¯ä»¥å•ç‹¬è®¨è®ºï¼ˆå¦‚æœåœ¨1.10é‡Œé¢ä¸å­˜åœ¨çš„è¯ï¼‰ã€‚&#010;ä½ å¯ä»¥æœ¬åœ°èµ·ä¸€ä¸ªStandaloneçš„é›†ç¾¤ï¼Œä¹Ÿä¼šæœ‰è¿™æ ·çš„WARNINGï¼Œå¹¶ä¸å½±å“æ­£å¸¸ä½¿ç”¨&#010;&#010;&#010;å¤±è´¥çš„åŸå› æ˜¯slot 5åˆ†é’Ÿç”³è¯·è¶…æ—¶äº†ï¼Œä½ ç»™çš„æ—¥å¿—é‡Œé¢2020-07-23 13:55:45,519åˆ°2020-07-23&#010;13:58:18,037æ˜¯ç©ºç™½çš„ï¼Œæ²¡æœ‰è¿›è¡Œçœç•¥å§ï¼Ÿ&#010;è¿™æ®µæ—¶é—´æŒ‰ç†åº”è¯¥æ˜¯taskå¼€å§‹deployäº†ã€‚åœ¨æ—¥å¿—é‡Œçœ‹åˆ°äº†JM-&gt;RMçš„å¿ƒè·³è¶…æ—¶ï¼ŒåŒä¸€ä¸ªPodé‡Œé¢çš„åŒä¸€ä¸ªè¿›ç¨‹é€šä¿¡ä¹Ÿè¶…æ—¶äº†&#010;æ‰€ä»¥æ€€ç–‘JMä¸€ç›´åœ¨FullGCï¼Œè¿™ä¸ªéœ€è¦ä½ ç¡®è®¤ä¸€ä¸‹&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸‹åˆ2:43å†™é“ï¼š&#010;&#010;&gt; Hi Yang Wang&#010;&gt;&#010;&gt; å…ˆåˆ†äº«ä¸‹æˆ‘è¿™è¾¹çš„ç¯å¢ƒç‰ˆæœ¬&#010;&gt;&#010;&gt;&#010;&gt; kubernetesï¼š1.17.4.   CNIï¼š weave&#010;&gt;&#010;&gt;&#010;&gt; 1 2 3 æ˜¯æˆ‘çš„ä¸€äº›ç–‘æƒ‘&#010;&gt;&#010;&gt; 4 æ˜¯JMæ—¥å¿—&#010;&gt;&#010;&gt;&#010;&gt; 1. å»æ‰taskmanager-query-state-service.yamlåç¡®å®ä¸è¡Œ  nslookup&#010;&gt;&#010;&gt; kubectl exec -it busybox2 -- /bin/sh&#010;&gt; / # nslookup 10.47.96.2&#010;&gt; Server:          10.96.0.10&#010;&gt; Address:     10.96.0.10:53&#010;&gt;&#010;&gt; ** server can't find 2.96.47.10.in-addr.arpa: NXDOMAIN&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; 2. Flink1.11å’ŒFlink1.10&#010;&gt;&#010;&gt; detail subtasks taskmanagers xxx x è¿™è¡Œ&#010;&gt;  1.11å˜æˆäº†172-20-0-50ã€‚1.10æ˜¯flink-taskmanager-7b5d6958b6-sfzlk:36459ã€‚è¿™å—çš„æ”¹åŠ¨æ˜¯ï¼Ÿï¼ˆç›®å‰è¿™ä¸ªé›†ç¾¤è·‘ç€1.10å’Œ1.11,1.10å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå¦‚æœcorednsæœ‰é—®é¢˜ï¼Œ1.10ç‰ˆæœ¬çš„flinkåº”è¯¥ä¹Ÿæœ‰ä¸€æ ·çš„æƒ…å†µå§ï¼Ÿï¼‰&#010;&gt;&#010;&gt; 3. corednsæ˜¯å¦ç‰¹æ®Šé…ç½®ï¼Ÿ&#010;&gt;&#010;&gt; åœ¨å®¹å™¨ä¸­è§£æåŸŸåæ˜¯æ­£å¸¸çš„ï¼Œåªæ˜¯åå‘è§£ææ²¡æœ‰serviceæ‰ä¼šæœ‰é—®é¢˜ã€‚corednsæ˜¯å¦æœ‰ä»€ä¹ˆéœ€è¦é…ç½®ï¼Ÿ&#010;&gt;&#010;&gt;&#010;&gt; 4. time outæ—¶å€™çš„JMæ—¥å¿—å¦‚ä¸‹ï¼š&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 13:53:00,228 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; ResourceManager akka.tcp://flink@flink-jobmanager:6123/user/rpc/resourcemanager_0&#010;&gt; was granted leadership with fencing token 00000000000000000000000000000000&#010;&gt; 2020-07-23 13:53:00,232 INFO&#010;&gt;  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Starting&#010;&gt; RPC endpoint for org.apache.flink.runtime.dispatcher.StandaloneDispatcher&#010;&gt; at akka://flink/user/rpc/dispatcher_1 .&#010;&gt; 2020-07-23 13:53:00,233 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.slotmanager.SlotManagerImpl [] -&#010;&gt; Starting the SlotManager.&#010;&gt; 2020-07-23 13:53:03,472 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering TaskManager with ResourceID 1f9ae0cd95a28943a73be26323588696&#010;&gt; (akka.tcp://flink@10.34.128.9:6122/user/rpc/taskmanager_0) at&#010;&gt; ResourceManager&#010;&gt; 2020-07-23 13:53:03,777 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering TaskManager with ResourceID cac09e751264e61615329c20713a84b4&#010;&gt; (akka.tcp://flink@10.32.160.6:6122/user/rpc/taskmanager_0) at&#010;&gt; ResourceManager&#010;&gt; 2020-07-23 13:53:03,787 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering TaskManager with ResourceID 93c72d01d09f9ae427c5fc980ed4c1e4&#010;&gt; (akka.tcp://flink@10.39.0.8:6122/user/rpc/taskmanager_0) at&#010;&gt; ResourceManager&#010;&gt; 2020-07-23 13:53:04,044 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering TaskManager with ResourceID 8adf2f8e81b77a16d5418a9e252c61e2&#010;&gt; (akka.tcp://flink@10.38.64.7:6122/user/rpc/taskmanager_0) at&#010;&gt; ResourceManager&#010;&gt; 2020-07-23 13:53:04,099 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering TaskManager with ResourceID 23e9d2358f6eb76b9ae718d879d4f330&#010;&gt; (akka.tcp://flink@10.42.160.6:6122/user/rpc/taskmanager_0) at&#010;&gt; ResourceManager&#010;&gt; 2020-07-23 13:53:04,146 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering TaskManager with ResourceID 092f8dee299e32df13db3111662b61f8&#010;&gt; (akka.tcp://flink@10.33.192.14:6122/user/rpc/taskmanager_0) at&#010;&gt; ResourceManager&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 13:55:44,220 INFO&#010;&gt;  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Received&#010;&gt; JobGraph submission 99a030d0e3f428490a501c0132f27a56 (JobTest).&#010;&gt; 2020-07-23 13:55:44,222 INFO&#010;&gt;  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] -&#010;&gt; Submitting job 99a030d0e3f428490a501c0132f27a56 (JobTest).&#010;&gt; 2020-07-23 13:55:44,251 INFO&#010;&gt;  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Starting&#010;&gt; RPC endpoint for org.apache.flink.runtime.jobmaster.JobMaster at&#010;&gt; akka://flink/user/rpc/jobmanager_2 .&#010;&gt; 2020-07-23 13:55:44,260 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Initializing job JobTest&#010;&gt; (99a030d0e3f428490a501c0132f27a56).&#010;&gt; 2020-07-23 13:55:44,278 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Using restart back off time strategy&#010;&gt; NoRestartBackoffTimeStrategy for JobTest (99a030d0e3f428490a501c0132f27a56).&#010;&gt; 2020-07-23 13:55:44,319 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Running initialization on master for job JobTest&#010;&gt; (99a030d0e3f428490a501c0132f27a56).&#010;&gt; 2020-07-23 13:55:44,319 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Successfully ran initialization on master in 0 ms.&#010;&gt; 2020-07-23 13:55:44,428 INFO&#010;&gt;  org.apache.flink.runtime.scheduler.adapter.DefaultExecutionTopology [] -&#010;&gt; Built 1 pipelined regions in 25 ms&#010;&gt; 2020-07-23 13:55:44,437 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Loading state backend via factory&#010;&gt; org.apache.flink.contrib.streaming.state.RocksDBStateBackendFactory&#010;&gt; 2020-07-23 13:55:44,456 INFO&#010;&gt;  org.apache.flink.contrib.streaming.state.RocksDBStateBackend [] - Using&#010;&gt; predefined options: DEFAULT.&#010;&gt; 2020-07-23 13:55:44,457 INFO&#010;&gt;  org.apache.flink.contrib.streaming.state.RocksDBStateBackend [] - Using&#010;&gt; default options factory:&#010;&gt; DefaultConfigurableOptionsFactory{configuredOptions={}}.&#010;&gt; 2020-07-23 13:55:44,466 WARN  org.apache.flink.runtime.util.HadoopUtils&#010;&gt;                  [] - Could not find Hadoop configuration via any of the&#010;&gt; supported methods (Flink configuration, environment variables).&#010;&gt; 2020-07-23 13:55:45,276 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Using failover strategy&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy@72bd8533&#010;&gt; for JobTest (99a030d0e3f428490a501c0132f27a56).&#010;&gt; 2020-07-23 13:55:45,280 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.JobManagerRunnerImpl      [] -&#010;&gt; JobManager runner for job JobTest (99a030d0e3f428490a501c0132f27a56) was&#010;&gt; granted leadership with session id 00000000-0000-0000-0000-000000000000 at&#010;&gt; akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2.&#010;&gt; 2020-07-23 13:55:45,286 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Starting scheduling with scheduling strategy&#010;&gt; [org.apache.flink.runtime.scheduler.strategy.EagerSchedulingStrategy]&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 13:55:45,436 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{e092b12b96b0a98bbf057e71b9705c23}]&#010;&gt; 2020-07-23 13:55:45,436 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{4ad15f417716c9e07fca383990c0f52a}]&#010;&gt; 2020-07-23 13:55:45,436 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{345fdb427a893b7fc3f4f040f93445d2}]&#010;&gt; 2020-07-23 13:55:45,437 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{e559485ea7b0b7e17367816882538d90}]&#010;&gt; 2020-07-23 13:55:45,437 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{7be8f6c1aedb27b04e7feae68078685c}]&#010;&gt; 2020-07-23 13:55:45,437 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{582a86197884206652dff3aea2306bb3}]&#010;&gt; 2020-07-23 13:55:45,437 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{0cc24260eda3af299a0b321feefaf2cb}]&#010;&gt; 2020-07-23 13:55:45,437 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{240ca6f3d3b5ece6a98243ec8cadf616}]&#010;&gt; 2020-07-23 13:55:45,438 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{c35033d598a517acc108424bb9f809fb}]&#010;&gt; 2020-07-23 13:55:45,438 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{ad35013c3b532d4b4df1be62395ae0cf}]&#010;&gt; 2020-07-23 13:55:45,438 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{c929bd5e8daf432d01fad1ece3daec1a}]&#010;&gt; 2020-07-23 13:55:45,487 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Connecting to ResourceManager&#010;&gt; akka.tcp://flink@flink-jobmanager&#010;&gt; :6123/user/rpc/resourcemanager_*(00000000000000000000000000000000)&#010;&gt; 2020-07-23 13:55:45,492 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Resolved ResourceManager address, beginning&#010;&gt; registration&#010;&gt; 2020-07-23 13:55:45,493 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 13:55:45,499 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registered job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 13:55:45,501 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - JobManager successfully registered at ResourceManager,&#010;&gt; leader id: 00000000000000000000000000000000.&#010;&gt; 2020-07-23 13:55:45,501 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{15fd2a9565c2b080748c1d1592b1cbbc}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,502 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; d420d08bf2654d9ea76955c70db18b69.&#010;&gt; 2020-07-23 13:55:45,502 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{8cd72cc16f0e319d915a9a096a1096d7}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,503 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{e7e422409acebdb385014a9634af6a90}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,503 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{cef1af73546ca1fc27ca7a3322e9e815}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,503 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{108fe0b3086567ad79275eccef2fdaf8}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,503 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{265e67985eab7a6dc08024e53bf2708d}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,503 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{7087497a17c441f1a1d6fefcbc7cd0ea}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,503 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{14ac08438e79c8db8d25d93b99d62725}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt;&#010;&gt; 2020-07-23 13:55:45,514 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; fce526bbe3e1be91caa3e4b536b20e35.&#010;&gt; 2020-07-23 13:55:45,514 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{40c7abbb12514c405323b0569fb21647}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,514 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{a4985a9647b65b30a571258b45c8f2ce}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,515 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{c52a6eb2fa58050e71e7903590019fd1}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt;&#010;&gt; 2020-07-23 13:55:45,517 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; 18ac7ec802ebfcfed8c05ee9324a55a4.&#010;&gt;&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; 7ec76cbe689eb418b63599e90ade19be.&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{46d65692a8b5aad11b51f9a74a666a74}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{3670bb4f345eedf941cc18e477ba1e9d}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{4a12467d76b9e3df8bc3412c0be08e14}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{e092b12b96b0a98bbf057e71b9705c23}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{4ad15f417716c9e07fca383990c0f52a}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{345fdb427a893b7fc3f4f040f93445d2}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,519 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{e559485ea7b0b7e17367816882538d90}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,519 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; b78837a29b4032924ac25be70ed21a3c.&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 13:58:18,037 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.47.96.2, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:22,192 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.34.64.14, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:22,358 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.34.128.9, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:24,562 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.32.160.6, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:25,487 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.38.64.7, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:27,636 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.42.160.6, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:27,767 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.43.64.12, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:29,651 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; The heartbeat of JobManager with id 456a18b6c404cb11a359718e16de1c6b timed&#010;&gt; out.&#010;&gt; 2020-07-23 13:58:29,651 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Disconnect job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 from the resource manager.&#010;&gt; 2020-07-23 13:58:29,854 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.39.0.8, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:33,623 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.35.0.10, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:35,756 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.36.32.8, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:36,694 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.42.128.6, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 14:01:17,814 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Close ResourceManager connection&#010;&gt; 83b1ff14900abfd54418e7fa3efb3f8a: The heartbeat of JobManager with id&#010;&gt; 456a18b6c404cb11a359718e16de1c6b timed out..&#010;&gt; 2020-07-23 14:01:17,815 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Connecting to ResourceManager&#010;&gt; akka.tcp://flink@flink-jobmanager&#010;&gt; :6123/user/rpc/resourcemanager_*(00000000000000000000000000000000)&#010;&gt; 2020-07-23 14:01:17,816 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Resolved ResourceManager address, beginning&#010;&gt; registration&#010;&gt; 2020-07-23 14:01:17,816 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 14:01:17,836 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source:&#010;&gt; host_relation -&gt; Timestamps/Watermarks -&gt; Map (1/1)&#010;&gt; (302ca9640e2d209a543d843f2996ccd2) switched from SCHEDULED to FAILED on not&#010;&gt; deployed.&#010;&gt; org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException:&#010;&gt; Could not allocate the required slot within slot request timeout. Please&#010;&gt; make sure that the cluster has enough resources.&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.Actor$class.aroundReceive(Actor.scala:517)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.ActorCell.invoke(ActorCell.scala:561)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.run(Mailbox.scala:225)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; Caused by: java.util.concurrent.CompletionException:&#010;&gt; java.util.concurrent.TimeoutException&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      ... 25 more&#010;&gt; Caused by: java.util.concurrent.TimeoutException&#010;&gt;      ... 23 more&#010;&gt; 2020-07-23 14:01:17,848 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy&#010;&gt; [] - Calculating tasks to restart to recover the failed task&#010;&gt; cbc357ccb763df2852fee8c4fc7d55f2_0.&#010;&gt; 2020-07-23 14:01:17,910 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy&#010;&gt; [] - 902 tasks should be restarted to recover the failed task&#010;&gt; cbc357ccb763df2852fee8c4fc7d55f2_0.&#010;&gt; 2020-07-23 14:01:17,913 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job&#010;&gt; JobTest (99a030d0e3f428490a501c0132f27a56) switched from state RUNNING to&#010;&gt; FAILING.&#010;&gt; org.apache.flink.runtime.JobException: Recovery is suppressed by&#010;&gt; NoRestartBackoffTimeStrategy&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:116)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:78)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:192)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:185)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:179)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:503)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.UpdateSchedulerNgOnInternalFailuresListener.notifyTaskFailure(UpdateSchedulerNgOnInternalFailuresListener.java:49)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.ExecutionGraph.notifySchedulerNgAboutInternalTaskFailure(ExecutionGraph.java:1710)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1287)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1255)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.markFailed(Execution.java:1086)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.ExecutionVertex.markFailed(ExecutionVertex.java:748)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultExecutionVertexOperations.markFailed(DefaultExecutionVertexOperations.java:41)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskDeploymentFailure(DefaultScheduler.java:435)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.Actor$class.aroundReceive(Actor.scala:517)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.ActorCell.invoke(ActorCell.scala:561)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.run(Mailbox.scala:225)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; Caused by:&#010;&gt; org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException:&#010;&gt; Could not allocate the required slot within slot request timeout. Please&#010;&gt; make sure that the cluster has enough resources.&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      ... 45 more&#010;&gt; Caused by: java.util.concurrent.CompletionException:&#010;&gt; java.util.concurrent.TimeoutException&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      ... 25 more&#010;&gt; Caused by: java.util.concurrent.TimeoutException&#010;&gt;      ... 23 more&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 14:01:18,109 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] -&#010;&gt; Discarding the results produced by task execution&#010;&gt; 1809eb912d69854f2babedeaf879df6a.&#010;&gt; 2020-07-23 14:01:18,110 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job&#010;&gt; JobTest (99a030d0e3f428490a501c0132f27a56) switched from state FAILING to&#010;&gt; FAILED.&#010;&gt; org.apache.flink.runtime.JobException: Recovery is suppressed by&#010;&gt; NoRestartBackoffTimeStrategy&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:116)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:78)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:192)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:185)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:179)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:503)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.UpdateSchedulerNgOnInternalFailuresListener.notifyTaskFailure(UpdateSchedulerNgOnInternalFailuresListener.java:49)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.ExecutionGraph.notifySchedulerNgAboutInternalTaskFailure(ExecutionGraph.java:1710)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1287)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1255)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.markFailed(Execution.java:1086)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.ExecutionVertex.markFailed(ExecutionVertex.java:748)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultExecutionVertexOperations.markFailed(DefaultExecutionVertexOperations.java:41)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskDeploymentFailure(DefaultScheduler.java:435)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.Actor$class.aroundReceive(Actor.scala:517)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.ActorCell.invoke(ActorCell.scala:561)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.run(Mailbox.scala:225)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; Caused by:&#010;&gt; org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException:&#010;&gt; Could not allocate the required slot within slot request timeout. Please&#010;&gt; make sure that the cluster has enough resources.&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      ... 45 more&#010;&gt; Caused by: java.util.concurrent.CompletionException:&#010;&gt; java.util.concurrent.TimeoutException&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      ... 25 more&#010;&gt; Caused by: java.util.concurrent.TimeoutException&#010;&gt;      ... 23 more&#010;&gt; 2020-07-23 14:01:18,114 INFO&#010;&gt;  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Stopping&#010;&gt; checkpoint coordinator for job 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 14:01:18,117 INFO&#010;&gt;  org.apache.flink.runtime.checkpoint.StandaloneCompletedCheckpointStore []&#010;&gt; - Shutting down&#010;&gt; 2020-07-23 14:01:18,118 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] -&#010;&gt; Discarding the results produced by task execution&#010;&gt; 302ca9640e2d209a543d843f2996ccd2.&#010;&gt; 2020-07-23 14:01:18,120 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{15fd2a9565c2b080748c1d1592b1cbbc}] timed out.&#010;&gt; 2020-07-23 14:01:18,120 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{8cd72cc16f0e319d915a9a096a1096d7}] timed out.&#010;&gt; 2020-07-23 14:01:18,120 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{e7e422409acebdb385014a9634af6a90}] timed out.&#010;&gt; 2020-07-23 14:01:18,121 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{cef1af73546ca1fc27ca7a3322e9e815}] timed out.&#010;&gt; 2020-07-23 14:01:18,121 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{108fe0b3086567ad79275eccef2fdaf8}] timed out.&#010;&gt; 2020-07-23 14:01:18,121 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{265e67985eab7a6dc08024e53bf2708d}] timed out.&#010;&gt; 2020-07-23 14:01:18,122 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{7087497a17c441f1a1d6fefcbc7cd0ea}] timed out.&#010;&gt; 2020-07-23 14:01:18,122 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 14:01:18,151 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 14:01:18,157 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registered job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 14:01:18,157 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registered job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 14:01:18,157 INFO&#010;&gt;  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 reached globally terminal state FAILED.&#010;&gt; 2020-07-23 14:01:18,162 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registered job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 14:01:18,162 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - JobManager successfully registered at ResourceManager,&#010;&gt; leader id: 00000000000000000000000000000000.&#010;&gt; 2020-07-23 14:01:18,225 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Stopping the JobMaster for job&#010;&gt; JobTest(99a030d0e3f428490a501c0132f27a56).&#010;&gt; 2020-07-23 14:01:18,381 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Suspending SlotPool.&#010;&gt; 2020-07-23 14:01:18,382 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Close ResourceManager connection&#010;&gt; 83b1ff14900abfd54418e7fa3efb3f8a: JobManager is shutting down..&#010;&gt; 2020-07-23 14:01:18,382 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Stopping&#010;&gt; SlotPool.&#010;&gt; 2020-07-23 14:01:18,382 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Disconnect job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 from the resource manager.&#010;&gt;&#010;&gt; a511955993&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt;&#010;&gt; &lt;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&gt;&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&gt; å®šåˆ¶&#010;&gt;&#010;&gt; On 07/23/2020 13:26, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;&gt; å¾ˆé«˜å…´ä½ çš„é—®é¢˜è§£å†³äº†ï¼Œä½†æˆ‘è§‰å¾—æ ¹æœ¬åŸå› åº”è¯¥ä¸æ˜¯åŠ ä¸Šäº†taskmanager-query-state-service.yamlçš„å…³ç³»ã€‚&#010;&gt; æˆ‘è¿™è¾¹ä¸åˆ›å»ºè¿™ä¸ªæœåŠ¡ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œè€Œä¸”nslookup {tm_ip_address}æ˜¯å¯ä»¥æ­£å¸¸åè§£æåˆ°hostnameçš„ã€‚&#010;&gt;&#010;&gt; æ³¨æ„è¿™é‡Œä¸æ˜¯è§£æhostnameï¼Œè€Œæ˜¯é€šè¿‡ipåœ°å€æ¥åè§£æè¿›è¡ŒéªŒè¯&#010;&gt;&#010;&gt;&#010;&gt; å›ç­”ä½ è¯´çš„ä¸¤ä¸ªé—®é¢˜ï¼š&#010;&gt; 1. ä¸æ˜¯å¿…é¡»çš„ï¼Œæˆ‘è¿™è¾¹éªŒè¯ä¸éœ€è¦åˆ›å»ºï¼Œé›†ç¾¤ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œä»»åŠ¡çš„ã€‚Rest&#010;&gt; serviceçš„æš´éœ²æ–¹å¼æ˜¯ClusterIPã€NodePortã€LoadBalanceréƒ½æ­£å¸¸&#010;&gt; 2. å¦‚æœæ²¡æœ‰é…ç½®taskmanager.bind-hostï¼Œ&#010;&gt; [Flink-15911][Flink-15154]è¿™ä¸¤ä¸ªJIRAå¹¶ä¸ä¼šå½±å“TMå‘RMæ³¨å†Œæ—¶å€™çš„ä½¿ç”¨çš„åœ°å€&#010;&gt;&#010;&gt; å¦‚æœä½ æƒ³æ‰¾åˆ°æ ¹æœ¬åŸå› ï¼Œé‚£å¯èƒ½éœ€è¦ä½ è¿™è¾¹æä¾›JM/TMçš„å®Œæ•´logï¼Œè¿™æ ·æ–¹ä¾¿åˆ†æ&#010;&gt;&#010;&gt;&#010;&gt; Best,&#010;&gt; Yang&#010;&gt;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸Šåˆ11:30å†™é“ï¼š&#010;&gt;&#010;&gt; &gt;&#010;&gt; &gt; Hi Yang Wang&#010;&gt; &gt;&#010;&gt; &gt; åˆšåˆšåœ¨æµ‹è¯•ç¯å¢ƒæµ‹è¯•äº†ä¸€ä¸‹ï¼ŒtaskManageræ²¡æœ‰åŠæ³•nslookupå‡ºæ¥ï¼ŒJMå¯ä»¥nslookupï¼Œè¿™ä¸¤è€…çš„å·®åˆ«åœ¨äºæ˜¯å¦æœ‰serviceã€‚&#010;&gt; &gt;&#010;&gt; &gt; è§£å†³æ–¹æ¡ˆï¼šæˆ‘è¿™è¾¹ç»™é›†ç¾¤åŠ ä¸Šäº†taskmanager-query-state-service.yamlï¼ˆæŒ‰ç…§å®˜ç½‘ä¸Šæ˜¯å¯é€‰æœåŠ¡ï¼‰ã€‚å°±ä¸ä¼šåˆ·No&#010;&gt; &gt; hostname could be resolved for ip&#010;&gt; &gt; addressï¼Œå°†NodePortæ”¹ä¸ºClusterIpï¼Œä½œä¸šå°±å¯ä»¥æˆåŠŸæäº¤ï¼Œä¸ä¼šå‡ºç°time outçš„é—®é¢˜äº†ï¼Œé—®é¢˜å¾—åˆ°äº†è§£å†³ã€‚&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 1. å¦‚æœæŒ‰ç…§ä¸Šé¢çš„æƒ…å†µï¼Œé‚£ä¹ˆè¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯å¿…é¡»é…ç½®çš„ï¼Ÿ&#010;&gt; &gt;&#010;&gt; &gt; 2. åœ¨1.11çš„æ›´æ–°ä¸­ï¼Œå‘ç°æœ‰ [Flink-15911][Flink-15154]&#010;&gt; &gt; æ”¯æŒåˆ†åˆ«é…ç½®ç”¨äºæœ¬åœ°ç›‘å¬ç»‘å®šçš„ç½‘ç»œæ¥å£å’Œå¤–éƒ¨è®¿é—®çš„åœ°å€å’Œç«¯å£ã€‚æ˜¯å¦æ˜¯è¿™å—çš„æ”¹åŠ¨ï¼Œ&#010;&gt; &gt; éœ€è¦JMå»é€šè¿‡TMä¸ŠæŠ¥çš„ipåå‘è§£æå‡ºserviceï¼Ÿ&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; Bsetï¼&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; [1]&#010;&gt; &gt;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/kubernetes.html&#010;&gt; &gt;&#010;&gt; &gt; a511955993&#010;&gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt;&#010;&gt; &gt; &lt;&#010;&gt; https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt;&#010;&gt;&#010;&gt; &gt;&#010;&gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt; å®šåˆ¶&#010;&gt; &gt;&#010;&gt; &gt; On 07/23/2020 10:11, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;&gt; &gt; æˆ‘çš„æ„æ€å°±æ˜¯ä½ åœ¨Flinkä»»åŠ¡è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œç„¶åä¸‹é¢çš„å‘½ä»¤åœ¨é›†ç¾¤é‡Œé¢èµ·ä¸€ä¸ªbusyboxçš„podï¼Œ&#010;&gt; &gt; åœ¨é‡Œé¢æ‰§è¡Œ nslookup {ip_address}ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸è§£æåˆ°ã€‚å¦‚æœä¸èƒ½åº”è¯¥å°±æ˜¯corednsçš„&#010;&gt; &gt; é—®é¢˜äº†&#010;&gt; &gt;&#010;&gt; &gt; kubectl run -i -t busybox --image=busybox --restart=Never&#010;&gt; &gt;&#010;&gt; &gt; ä½ éœ€è¦ç¡®è®¤ä¸‹é›†ç¾¤çš„coredns podæ˜¯å¦æ­£å¸¸ï¼Œä¸€èˆ¬æ˜¯éƒ¨ç½²åœ¨kube-systemè¿™ä¸ªnamespaceä¸‹çš„&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; Best,&#010;&gt; &gt; Yang&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ22æ—¥å‘¨ä¸‰ ä¸‹åˆ7:57å†™é“ï¼š&#010;&gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Hiï¼ŒYang Wangï¼&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; å¾ˆå¼€å¿ƒå¯ä»¥æ”¶åˆ°ä½ çš„å›å¤ï¼Œä½ çš„å›å¤å¸®åŠ©å¾ˆå¤§ï¼Œè®©æˆ‘çŸ¥é“äº†é—®é¢˜çš„æ–¹å‘ã€‚æˆ‘å†è¡¥å……äº›ä¿¡æ¯ï¼Œå¸Œæœ›å¯ä»¥å¸®æˆ‘è¿›ä¸€æ­¥åˆ¤æ–­ä¸€ä¸‹é—®é¢˜æ ¹æºã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; åœ¨JMæŠ¥é”™çš„åœ°æ–¹ï¼ŒNo hostname could be resolved for ip address xxxxx&#010;&gt; &gt; &gt; ï¼ŒæŠ¥å‡ºæ¥çš„ipæ˜¯k8såˆ†é…ç»™flink podçš„å†…ç½‘ipï¼Œä¸æ˜¯å®¿ä¸»æœºçš„ipã€‚è¯·é—®è¿™ä¸ªé—®é¢˜å¯èƒ½å‡ºåœ¨å“ªé‡Œå‘¢&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Bestï¼&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; &lt;&#010;&gt; &gt;&#010;&gt; https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt;&#010;&gt;&#010;&gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt; å®šåˆ¶&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; On 07/22/2020 18:18, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;&gt; &gt; &gt; å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP&#010;&gt; &gt; addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#010;&gt; &gt; &gt; æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#010;&gt; &gt; &gt; å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Best,&#010;&gt; &gt; &gt; Yang&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ7:29å†™é“ï¼š&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; Hi&#010;&gt; &gt; &gt; &gt;    ä¸ç¡®å®š k8s ç¯å¢ƒä¸­èƒ½å¦çœ‹åˆ° pod çš„å®Œæ•´æ—¥å¿—ï¼Ÿç±»ä¼¼ Yarn çš„ NM æ—¥å¿—ä¸€æ ·ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹è¿™ä¸ª pod&#010;&gt; &gt; &gt; &gt; çš„å®Œæ•´æ—¥å¿—æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°&#010;&gt; &gt; &gt; &gt; Best,&#010;&gt; &gt; &gt; &gt; Congxian&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ3:19å†™é“ï¼š&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; Hiï¼ŒCongxian&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; å› ä¸ºæ˜¯æµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰é…ç½®HAï¼Œç›®å‰çœ‹åˆ°çš„ä¿¡æ¯ï¼Œå°±æ˜¯JMåˆ·å‡ºæ¥å¤§é‡çš„no hostname could be&#010;&gt; &gt; &gt; &gt; &gt; resolvedï¼Œjmå¤±è”ï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚&#010;&gt; &gt; &gt; &gt; &gt; å°†jmå†…å­˜é…ç½®ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µï¼ˆjobmanager.memory.pprocesa.sizeï¼š10240mï¼‰ã€‚&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; åœ¨åŒä¸€ä¸ªç¯å¢ƒå°†ç‰ˆæœ¬å›é€€åˆ°1.10æ²¡æœ‰å‡ºç°è¯¥é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåˆ·å¦‚ä¸ŠæŠ¥é”™ã€‚&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; æ˜¯å¦æœ‰å…¶ä»–æ’æŸ¥æ€è·¯ï¼Ÿ&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; Bestï¼&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; | |&#010;&gt; &gt; &gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; On 07/16/2020 13:17, Congxian Qiu wrote:&#010;&gt; &gt; &gt; &gt; &gt; Hi&#010;&gt; &gt; &gt; &gt; &gt;   å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼ŒGC æƒ…å†µä¹Ÿæ­£å¸¸çš„è¯ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹ pod çš„ç›¸å…³æ—¥å¿—ï¼Œå¦‚æœå¼€å¯äº† HA ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹ zk&#010;&gt; &gt; çš„æ—¥å¿—ã€‚ä¹‹å‰é‡åˆ°è¿‡ä¸€æ¬¡åœ¨&#010;&gt; &gt; &gt; &gt; Yarn&#010;&gt; &gt; &gt; &gt; &gt; ç¯å¢ƒä¸­ç±»ä¼¼çš„ç°è±¡æ˜¯ç”±äºå…¶ä»–åŸå› å¯¼è‡´çš„ï¼Œé€šè¿‡çœ‹ NM æ—¥å¿—ä»¥åŠ zk æ—¥å¿—å‘ç°çš„åŸå› ã€‚&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; Best,&#010;&gt; &gt; &gt; &gt; &gt; Congxian&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:20å†™é“ï¼š&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; Hi Roc&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; | |&#010;&gt; &gt; &gt; &gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; On 07/15/2020 17:16, Roc Marshal wrote:&#010;&gt; &gt; &gt; &gt; &gt; &gt; Hiï¼ŒSmileSmile.&#010;&gt; &gt; &gt; &gt; &gt; &gt; ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; ç¥å¥½ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; Roc Marshal&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;Hi&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM 4ä¸ªslotã€‚&#010;&gt; job&#010;&gt; &gt; &gt; &gt; &gt; &gt; å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be resolved for the IP&#010;&gt; &gt; &gt; addressï¼ŒJM&#010;&gt; &gt; &gt; &gt; &gt; time&#010;&gt; &gt; &gt; &gt; &gt; &gt; outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno&#010;&gt; hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; &gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     []&#010;&gt; -&#010;&gt; &gt; No&#010;&gt; &gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.32.160.7, using&#010;&gt; &gt; IP&#010;&gt; &gt; &gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#010;&gt; &gt; files)&#010;&gt; &gt; &gt; may&#010;&gt; &gt; &gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; &gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     []&#010;&gt; -&#010;&gt; &gt; No&#010;&gt; &gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.44.224.7, using&#010;&gt; &gt; IP&#010;&gt; &gt; &gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#010;&gt; &gt; files)&#010;&gt; &gt; &gt; may&#010;&gt; &gt; &gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,461 WARN&#010;&gt; &gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     []&#010;&gt; -&#010;&gt; &gt; No&#010;&gt; &gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.40.32.9, using&#010;&gt; IP&#010;&gt; &gt; &gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#010;&gt; &gt; files)&#010;&gt; &gt; &gt; may&#010;&gt; &gt; &gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;&gt; &gt; &gt; [] -&#010;&gt; &gt; &gt; &gt; &gt; The&#010;&gt; &gt; &gt; &gt; &gt; &gt; heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a&#010;&gt; &gt; &gt; timed&#010;&gt; &gt; &gt; &gt; &gt; out.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;&gt; &gt; &gt; [] -&#010;&gt; &gt; &gt; &gt; &gt; &gt; Disconnect job manager 00000000000000000000000000000000&#010;&gt; &gt; &gt; &gt; &gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2&#010;&gt; for&#010;&gt; &gt; &gt; job&#010;&gt; &gt; &gt; &gt; &gt; &gt; e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;how to deal with ï¼Ÿ&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;beset ï¼&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;| |&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;a511955993&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt;&#010;&gt;&#010;&#010;",
        "depth": "12",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<164deeac.6627.1738ed23435.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 27 Jul 2020 05:50:07 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "Hiï¼ŒYang Wang&#010;&#010;å› ä¸ºæ—¥å¿—å¤ªé•¿äº†ï¼Œåˆ äº†ä¸€äº›é‡å¤çš„å†…å®¹ã€‚&#010;ä¸€å¼€å§‹æ€€ç–‘è¿‡jm gcçš„é—®é¢˜ï¼Œå°†jmçš„å†…å­˜è°ƒæ•´ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µã€‚&#010;&#010;Best&#010;&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;On 07/27/2020 11:36, Yang Wang wrote:&#010;çœ‹ä½ è¿™ä¸ªä»»åŠ¡ï¼Œå¤±è´¥çš„æ ¹æœ¬åŸå› å¹¶ä¸æ˜¯â€œNo hostname could be resolved&#010;â€ï¼Œè¿™ä¸ªWARNINGçš„åŸå› å¯ä»¥å•ç‹¬è®¨è®ºï¼ˆå¦‚æœåœ¨1.10é‡Œé¢ä¸å­˜åœ¨çš„è¯ï¼‰ã€‚&#010;ä½ å¯ä»¥æœ¬åœ°èµ·ä¸€ä¸ªStandaloneçš„é›†ç¾¤ï¼Œä¹Ÿä¼šæœ‰è¿™æ ·çš„WARNINGï¼Œå¹¶ä¸å½±å“æ­£å¸¸ä½¿ç”¨&#010;&#010;&#010;å¤±è´¥çš„åŸå› æ˜¯slot 5åˆ†é’Ÿç”³è¯·è¶…æ—¶äº†ï¼Œä½ ç»™çš„æ—¥å¿—é‡Œé¢2020-07-23 13:55:45,519åˆ°2020-07-23&#010;13:58:18,037æ˜¯ç©ºç™½çš„ï¼Œæ²¡æœ‰è¿›è¡Œçœç•¥å§ï¼Ÿ&#010;è¿™æ®µæ—¶é—´æŒ‰ç†åº”è¯¥æ˜¯taskå¼€å§‹deployäº†ã€‚åœ¨æ—¥å¿—é‡Œçœ‹åˆ°äº†JM-&gt;RMçš„å¿ƒè·³è¶…æ—¶ï¼ŒåŒä¸€ä¸ªPodé‡Œé¢çš„åŒä¸€ä¸ªè¿›ç¨‹é€šä¿¡ä¹Ÿè¶…æ—¶äº†&#010;æ‰€ä»¥æ€€ç–‘JMä¸€ç›´åœ¨FullGCï¼Œè¿™ä¸ªéœ€è¦ä½ ç¡®è®¤ä¸€ä¸‹&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸‹åˆ2:43å†™é“ï¼š&#010;&#010;&gt; Hi Yang Wang&#010;&gt;&#010;&gt; å…ˆåˆ†äº«ä¸‹æˆ‘è¿™è¾¹çš„ç¯å¢ƒç‰ˆæœ¬&#010;&gt;&#010;&gt;&#010;&gt; kubernetesï¼š1.17.4.   CNIï¼š weave&#010;&gt;&#010;&gt;&#010;&gt; 1 2 3 æ˜¯æˆ‘çš„ä¸€äº›ç–‘æƒ‘&#010;&gt;&#010;&gt; 4 æ˜¯JMæ—¥å¿—&#010;&gt;&#010;&gt;&#010;&gt; 1. å»æ‰taskmanager-query-state-service.yamlåç¡®å®ä¸è¡Œ  nslookup&#010;&gt;&#010;&gt; kubectl exec -it busybox2 -- /bin/sh&#010;&gt; / # nslookup 10.47.96.2&#010;&gt; Server:          10.96.0.10&#010;&gt; Address:     10.96.0.10:53&#010;&gt;&#010;&gt; ** server can't find 2.96.47.10.in-addr.arpa: NXDOMAIN&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; 2. Flink1.11å’ŒFlink1.10&#010;&gt;&#010;&gt; detail subtasks taskmanagers xxx x è¿™è¡Œ&#010;&gt;  1.11å˜æˆäº†172-20-0-50ã€‚1.10æ˜¯flink-taskmanager-7b5d6958b6-sfzlk:36459ã€‚è¿™å—çš„æ”¹åŠ¨æ˜¯ï¼Ÿï¼ˆç›®å‰è¿™ä¸ªé›†ç¾¤è·‘ç€1.10å’Œ1.11,1.10å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå¦‚æœcorednsæœ‰é—®é¢˜ï¼Œ1.10ç‰ˆæœ¬çš„flinkåº”è¯¥ä¹Ÿæœ‰ä¸€æ ·çš„æƒ…å†µå§ï¼Ÿï¼‰&#010;&gt;&#010;&gt; 3. corednsæ˜¯å¦ç‰¹æ®Šé…ç½®ï¼Ÿ&#010;&gt;&#010;&gt; åœ¨å®¹å™¨ä¸­è§£æåŸŸåæ˜¯æ­£å¸¸çš„ï¼Œåªæ˜¯åå‘è§£ææ²¡æœ‰serviceæ‰ä¼šæœ‰é—®é¢˜ã€‚corednsæ˜¯å¦æœ‰ä»€ä¹ˆéœ€è¦é…ç½®ï¼Ÿ&#010;&gt;&#010;&gt;&#010;&gt; 4. time outæ—¶å€™çš„JMæ—¥å¿—å¦‚ä¸‹ï¼š&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 13:53:00,228 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; ResourceManager akka.tcp://flink@flink-jobmanager:6123/user/rpc/resourcemanager_0&#010;&gt; was granted leadership with fencing token 00000000000000000000000000000000&#010;&gt; 2020-07-23 13:53:00,232 INFO&#010;&gt;  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Starting&#010;&gt; RPC endpoint for org.apache.flink.runtime.dispatcher.StandaloneDispatcher&#010;&gt; at akka://flink/user/rpc/dispatcher_1 .&#010;&gt; 2020-07-23 13:53:00,233 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.slotmanager.SlotManagerImpl [] -&#010;&gt; Starting the SlotManager.&#010;&gt; 2020-07-23 13:53:03,472 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering TaskManager with ResourceID 1f9ae0cd95a28943a73be26323588696&#010;&gt; (akka.tcp://flink@10.34.128.9:6122/user/rpc/taskmanager_0) at&#010;&gt; ResourceManager&#010;&gt; 2020-07-23 13:53:03,777 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering TaskManager with ResourceID cac09e751264e61615329c20713a84b4&#010;&gt; (akka.tcp://flink@10.32.160.6:6122/user/rpc/taskmanager_0) at&#010;&gt; ResourceManager&#010;&gt; 2020-07-23 13:53:03,787 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering TaskManager with ResourceID 93c72d01d09f9ae427c5fc980ed4c1e4&#010;&gt; (akka.tcp://flink@10.39.0.8:6122/user/rpc/taskmanager_0) at&#010;&gt; ResourceManager&#010;&gt; 2020-07-23 13:53:04,044 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering TaskManager with ResourceID 8adf2f8e81b77a16d5418a9e252c61e2&#010;&gt; (akka.tcp://flink@10.38.64.7:6122/user/rpc/taskmanager_0) at&#010;&gt; ResourceManager&#010;&gt; 2020-07-23 13:53:04,099 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering TaskManager with ResourceID 23e9d2358f6eb76b9ae718d879d4f330&#010;&gt; (akka.tcp://flink@10.42.160.6:6122/user/rpc/taskmanager_0) at&#010;&gt; ResourceManager&#010;&gt; 2020-07-23 13:53:04,146 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering TaskManager with ResourceID 092f8dee299e32df13db3111662b61f8&#010;&gt; (akka.tcp://flink@10.33.192.14:6122/user/rpc/taskmanager_0) at&#010;&gt; ResourceManager&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 13:55:44,220 INFO&#010;&gt;  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Received&#010;&gt; JobGraph submission 99a030d0e3f428490a501c0132f27a56 (JobTest).&#010;&gt; 2020-07-23 13:55:44,222 INFO&#010;&gt;  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] -&#010;&gt; Submitting job 99a030d0e3f428490a501c0132f27a56 (JobTest).&#010;&gt; 2020-07-23 13:55:44,251 INFO&#010;&gt;  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Starting&#010;&gt; RPC endpoint for org.apache.flink.runtime.jobmaster.JobMaster at&#010;&gt; akka://flink/user/rpc/jobmanager_2 .&#010;&gt; 2020-07-23 13:55:44,260 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Initializing job JobTest&#010;&gt; (99a030d0e3f428490a501c0132f27a56).&#010;&gt; 2020-07-23 13:55:44,278 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Using restart back off time strategy&#010;&gt; NoRestartBackoffTimeStrategy for JobTest (99a030d0e3f428490a501c0132f27a56).&#010;&gt; 2020-07-23 13:55:44,319 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Running initialization on master for job JobTest&#010;&gt; (99a030d0e3f428490a501c0132f27a56).&#010;&gt; 2020-07-23 13:55:44,319 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Successfully ran initialization on master in 0 ms.&#010;&gt; 2020-07-23 13:55:44,428 INFO&#010;&gt;  org.apache.flink.runtime.scheduler.adapter.DefaultExecutionTopology [] -&#010;&gt; Built 1 pipelined regions in 25 ms&#010;&gt; 2020-07-23 13:55:44,437 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Loading state backend via factory&#010;&gt; org.apache.flink.contrib.streaming.state.RocksDBStateBackendFactory&#010;&gt; 2020-07-23 13:55:44,456 INFO&#010;&gt;  org.apache.flink.contrib.streaming.state.RocksDBStateBackend [] - Using&#010;&gt; predefined options: DEFAULT.&#010;&gt; 2020-07-23 13:55:44,457 INFO&#010;&gt;  org.apache.flink.contrib.streaming.state.RocksDBStateBackend [] - Using&#010;&gt; default options factory:&#010;&gt; DefaultConfigurableOptionsFactory{configuredOptions={}}.&#010;&gt; 2020-07-23 13:55:44,466 WARN  org.apache.flink.runtime.util.HadoopUtils&#010;&gt;                  [] - Could not find Hadoop configuration via any of the&#010;&gt; supported methods (Flink configuration, environment variables).&#010;&gt; 2020-07-23 13:55:45,276 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Using failover strategy&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy@72bd8533&#010;&gt; for JobTest (99a030d0e3f428490a501c0132f27a56).&#010;&gt; 2020-07-23 13:55:45,280 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.JobManagerRunnerImpl      [] -&#010;&gt; JobManager runner for job JobTest (99a030d0e3f428490a501c0132f27a56) was&#010;&gt; granted leadership with session id 00000000-0000-0000-0000-000000000000 at&#010;&gt; akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2.&#010;&gt; 2020-07-23 13:55:45,286 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Starting scheduling with scheduling strategy&#010;&gt; [org.apache.flink.runtime.scheduler.strategy.EagerSchedulingStrategy]&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 13:55:45,436 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{e092b12b96b0a98bbf057e71b9705c23}]&#010;&gt; 2020-07-23 13:55:45,436 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{4ad15f417716c9e07fca383990c0f52a}]&#010;&gt; 2020-07-23 13:55:45,436 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{345fdb427a893b7fc3f4f040f93445d2}]&#010;&gt; 2020-07-23 13:55:45,437 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{e559485ea7b0b7e17367816882538d90}]&#010;&gt; 2020-07-23 13:55:45,437 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{7be8f6c1aedb27b04e7feae68078685c}]&#010;&gt; 2020-07-23 13:55:45,437 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{582a86197884206652dff3aea2306bb3}]&#010;&gt; 2020-07-23 13:55:45,437 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{0cc24260eda3af299a0b321feefaf2cb}]&#010;&gt; 2020-07-23 13:55:45,437 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{240ca6f3d3b5ece6a98243ec8cadf616}]&#010;&gt; 2020-07-23 13:55:45,438 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{c35033d598a517acc108424bb9f809fb}]&#010;&gt; 2020-07-23 13:55:45,438 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{ad35013c3b532d4b4df1be62395ae0cf}]&#010;&gt; 2020-07-23 13:55:45,438 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; serve slot request, no ResourceManager connected. Adding as pending request&#010;&gt; [SlotRequestId{c929bd5e8daf432d01fad1ece3daec1a}]&#010;&gt; 2020-07-23 13:55:45,487 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Connecting to ResourceManager&#010;&gt; akka.tcp://flink@flink-jobmanager&#010;&gt; :6123/user/rpc/resourcemanager_*(00000000000000000000000000000000)&#010;&gt; 2020-07-23 13:55:45,492 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Resolved ResourceManager address, beginning&#010;&gt; registration&#010;&gt; 2020-07-23 13:55:45,493 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 13:55:45,499 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registered job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 13:55:45,501 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - JobManager successfully registered at ResourceManager,&#010;&gt; leader id: 00000000000000000000000000000000.&#010;&gt; 2020-07-23 13:55:45,501 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{15fd2a9565c2b080748c1d1592b1cbbc}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,502 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; d420d08bf2654d9ea76955c70db18b69.&#010;&gt; 2020-07-23 13:55:45,502 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{8cd72cc16f0e319d915a9a096a1096d7}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,503 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{e7e422409acebdb385014a9634af6a90}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,503 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{cef1af73546ca1fc27ca7a3322e9e815}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,503 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{108fe0b3086567ad79275eccef2fdaf8}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,503 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{265e67985eab7a6dc08024e53bf2708d}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,503 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{7087497a17c441f1a1d6fefcbc7cd0ea}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,503 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{14ac08438e79c8db8d25d93b99d62725}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt;&#010;&gt; 2020-07-23 13:55:45,514 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; fce526bbe3e1be91caa3e4b536b20e35.&#010;&gt; 2020-07-23 13:55:45,514 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{40c7abbb12514c405323b0569fb21647}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,514 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{a4985a9647b65b30a571258b45c8f2ce}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,515 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{c52a6eb2fa58050e71e7903590019fd1}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt;&#010;&gt; 2020-07-23 13:55:45,517 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; 18ac7ec802ebfcfed8c05ee9324a55a4.&#010;&gt;&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; 7ec76cbe689eb418b63599e90ade19be.&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{46d65692a8b5aad11b51f9a74a666a74}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{3670bb4f345eedf941cc18e477ba1e9d}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{4a12467d76b9e3df8bc3412c0be08e14}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{e092b12b96b0a98bbf057e71b9705c23}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{4ad15f417716c9e07fca383990c0f52a}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,518 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{345fdb427a893b7fc3f4f040f93445d2}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,519 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Requesting new slot [SlotRequestId{e559485ea7b0b7e17367816882538d90}] and&#010;&gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; 2020-07-23 13:55:45,519 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; b78837a29b4032924ac25be70ed21a3c.&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 13:58:18,037 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.47.96.2, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:22,192 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.34.64.14, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:22,358 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.34.128.9, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:24,562 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.32.160.6, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:25,487 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.38.64.7, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:27,636 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.42.160.6, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:27,767 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.43.64.12, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:29,651 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; The heartbeat of JobManager with id 456a18b6c404cb11a359718e16de1c6b timed&#010;&gt; out.&#010;&gt; 2020-07-23 13:58:29,651 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Disconnect job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 from the resource manager.&#010;&gt; 2020-07-23 13:58:29,854 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.39.0.8, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:33,623 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.35.0.10, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:35,756 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.36.32.8, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt; 2020-07-23 13:58:36,694 WARN&#010;&gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; hostname could be resolved for the IP address 10.42.128.6, using IP address&#010;&gt; as host name. Local input split assignment (such as for HDFS files) may be&#010;&gt; impacted.&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 14:01:17,814 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Close ResourceManager connection&#010;&gt; 83b1ff14900abfd54418e7fa3efb3f8a: The heartbeat of JobManager with id&#010;&gt; 456a18b6c404cb11a359718e16de1c6b timed out..&#010;&gt; 2020-07-23 14:01:17,815 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Connecting to ResourceManager&#010;&gt; akka.tcp://flink@flink-jobmanager&#010;&gt; :6123/user/rpc/resourcemanager_*(00000000000000000000000000000000)&#010;&gt; 2020-07-23 14:01:17,816 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Resolved ResourceManager address, beginning&#010;&gt; registration&#010;&gt; 2020-07-23 14:01:17,816 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 14:01:17,836 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source:&#010;&gt; host_relation -&gt; Timestamps/Watermarks -&gt; Map (1/1)&#010;&gt; (302ca9640e2d209a543d843f2996ccd2) switched from SCHEDULED to FAILED on not&#010;&gt; deployed.&#010;&gt; org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException:&#010;&gt; Could not allocate the required slot within slot request timeout. Please&#010;&gt; make sure that the cluster has enough resources.&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.Actor$class.aroundReceive(Actor.scala:517)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.ActorCell.invoke(ActorCell.scala:561)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.run(Mailbox.scala:225)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; Caused by: java.util.concurrent.CompletionException:&#010;&gt; java.util.concurrent.TimeoutException&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      ... 25 more&#010;&gt; Caused by: java.util.concurrent.TimeoutException&#010;&gt;      ... 23 more&#010;&gt; 2020-07-23 14:01:17,848 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy&#010;&gt; [] - Calculating tasks to restart to recover the failed task&#010;&gt; cbc357ccb763df2852fee8c4fc7d55f2_0.&#010;&gt; 2020-07-23 14:01:17,910 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy&#010;&gt; [] - 902 tasks should be restarted to recover the failed task&#010;&gt; cbc357ccb763df2852fee8c4fc7d55f2_0.&#010;&gt; 2020-07-23 14:01:17,913 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job&#010;&gt; JobTest (99a030d0e3f428490a501c0132f27a56) switched from state RUNNING to&#010;&gt; FAILING.&#010;&gt; org.apache.flink.runtime.JobException: Recovery is suppressed by&#010;&gt; NoRestartBackoffTimeStrategy&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:116)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:78)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:192)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:185)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:179)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:503)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.UpdateSchedulerNgOnInternalFailuresListener.notifyTaskFailure(UpdateSchedulerNgOnInternalFailuresListener.java:49)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.ExecutionGraph.notifySchedulerNgAboutInternalTaskFailure(ExecutionGraph.java:1710)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1287)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1255)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.markFailed(Execution.java:1086)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.ExecutionVertex.markFailed(ExecutionVertex.java:748)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultExecutionVertexOperations.markFailed(DefaultExecutionVertexOperations.java:41)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskDeploymentFailure(DefaultScheduler.java:435)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.Actor$class.aroundReceive(Actor.scala:517)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.ActorCell.invoke(ActorCell.scala:561)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.run(Mailbox.scala:225)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; Caused by:&#010;&gt; org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException:&#010;&gt; Could not allocate the required slot within slot request timeout. Please&#010;&gt; make sure that the cluster has enough resources.&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      ... 45 more&#010;&gt; Caused by: java.util.concurrent.CompletionException:&#010;&gt; java.util.concurrent.TimeoutException&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      ... 25 more&#010;&gt; Caused by: java.util.concurrent.TimeoutException&#010;&gt;      ... 23 more&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 14:01:18,109 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] -&#010;&gt; Discarding the results produced by task execution&#010;&gt; 1809eb912d69854f2babedeaf879df6a.&#010;&gt; 2020-07-23 14:01:18,110 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job&#010;&gt; JobTest (99a030d0e3f428490a501c0132f27a56) switched from state FAILING to&#010;&gt; FAILED.&#010;&gt; org.apache.flink.runtime.JobException: Recovery is suppressed by&#010;&gt; NoRestartBackoffTimeStrategy&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:116)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:78)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:192)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:185)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:179)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:503)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.UpdateSchedulerNgOnInternalFailuresListener.notifyTaskFailure(UpdateSchedulerNgOnInternalFailuresListener.java:49)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.ExecutionGraph.notifySchedulerNgAboutInternalTaskFailure(ExecutionGraph.java:1710)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1287)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1255)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.markFailed(Execution.java:1086)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.executiongraph.ExecutionVertex.markFailed(ExecutionVertex.java:748)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultExecutionVertexOperations.markFailed(DefaultExecutionVertexOperations.java:41)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskDeploymentFailure(DefaultScheduler.java:435)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.Actor$class.aroundReceive(Actor.scala:517)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.actor.ActorCell.invoke(ActorCell.scala:561)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.run(Mailbox.scala:225)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      at&#010;&gt; akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;&gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; Caused by:&#010;&gt; org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException:&#010;&gt; Could not allocate the required slot within slot request timeout. Please&#010;&gt; make sure that the cluster has enough resources.&#010;&gt;      at&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441)&#010;&gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt;      ... 45 more&#010;&gt; Caused by: java.util.concurrent.CompletionException:&#010;&gt; java.util.concurrent.TimeoutException&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      at&#010;&gt; java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)&#010;&gt; ~[?:1.8.0_242]&#010;&gt;      ... 25 more&#010;&gt; Caused by: java.util.concurrent.TimeoutException&#010;&gt;      ... 23 more&#010;&gt; 2020-07-23 14:01:18,114 INFO&#010;&gt;  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Stopping&#010;&gt; checkpoint coordinator for job 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 14:01:18,117 INFO&#010;&gt;  org.apache.flink.runtime.checkpoint.StandaloneCompletedCheckpointStore []&#010;&gt; - Shutting down&#010;&gt; 2020-07-23 14:01:18,118 INFO&#010;&gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] -&#010;&gt; Discarding the results produced by task execution&#010;&gt; 302ca9640e2d209a543d843f2996ccd2.&#010;&gt; 2020-07-23 14:01:18,120 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{15fd2a9565c2b080748c1d1592b1cbbc}] timed out.&#010;&gt; 2020-07-23 14:01:18,120 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{8cd72cc16f0e319d915a9a096a1096d7}] timed out.&#010;&gt; 2020-07-23 14:01:18,120 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{e7e422409acebdb385014a9634af6a90}] timed out.&#010;&gt; 2020-07-23 14:01:18,121 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{cef1af73546ca1fc27ca7a3322e9e815}] timed out.&#010;&gt; 2020-07-23 14:01:18,121 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{108fe0b3086567ad79275eccef2fdaf8}] timed out.&#010;&gt; 2020-07-23 14:01:18,121 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{265e67985eab7a6dc08024e53bf2708d}] timed out.&#010;&gt; 2020-07-23 14:01:18,122 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [SlotRequestId{7087497a17c441f1a1d6fefcbc7cd0ea}] timed out.&#010;&gt; 2020-07-23 14:01:18,122 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Pending&#010;&gt; slot request [&#010;&gt;&#010;&gt;&#010;&gt; 2020-07-23 14:01:18,151 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registering job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 14:01:18,157 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registered job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 14:01:18,157 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registered job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 14:01:18,157 INFO&#010;&gt;  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 reached globally terminal state FAILED.&#010;&gt; 2020-07-23 14:01:18,162 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Registered job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; 2020-07-23 14:01:18,162 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - JobManager successfully registered at ResourceManager,&#010;&gt; leader id: 00000000000000000000000000000000.&#010;&gt; 2020-07-23 14:01:18,225 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Stopping the JobMaster for job&#010;&gt; JobTest(99a030d0e3f428490a501c0132f27a56).&#010;&gt; 2020-07-23 14:01:18,381 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Suspending SlotPool.&#010;&gt; 2020-07-23 14:01:18,382 INFO  org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt;                 [] - Close ResourceManager connection&#010;&gt; 83b1ff14900abfd54418e7fa3efb3f8a: JobManager is shutting down..&#010;&gt; 2020-07-23 14:01:18,382 INFO&#010;&gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Stopping&#010;&gt; SlotPool.&#010;&gt; 2020-07-23 14:01:18,382 INFO&#010;&gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; Disconnect job manager 00000000000000000000000000000000&#010;&gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; 99a030d0e3f428490a501c0132f27a56 from the resource manager.&#010;&gt;&#010;&gt; a511955993&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt;&#010;&gt; &lt;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt;&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt; å®šåˆ¶&#010;&gt;&#010;&gt; On 07/23/2020 13:26, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;&gt; å¾ˆé«˜å…´ä½ çš„é—®é¢˜è§£å†³äº†ï¼Œä½†æˆ‘è§‰å¾—æ ¹æœ¬åŸå› åº”è¯¥ä¸æ˜¯åŠ ä¸Šäº†taskmanager-query-state-service.yamlçš„å…³ç³»ã€‚&#010;&gt; æˆ‘è¿™è¾¹ä¸åˆ›å»ºè¿™ä¸ªæœåŠ¡ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œè€Œä¸”nslookup {tm_ip_address}æ˜¯å¯ä»¥æ­£å¸¸åè§£æåˆ°hostnameçš„ã€‚&#010;&gt;&#010;&gt; æ³¨æ„è¿™é‡Œä¸æ˜¯è§£æhostnameï¼Œè€Œæ˜¯é€šè¿‡ipåœ°å€æ¥åè§£æè¿›è¡ŒéªŒè¯&#010;&gt;&#010;&gt;&#010;&gt; å›ç­”ä½ è¯´çš„ä¸¤ä¸ªé—®é¢˜ï¼š&#010;&gt; 1. ä¸æ˜¯å¿…é¡»çš„ï¼Œæˆ‘è¿™è¾¹éªŒè¯ä¸éœ€è¦åˆ›å»ºï¼Œé›†ç¾¤ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œä»»åŠ¡çš„ã€‚Rest&#010;&gt; serviceçš„æš´éœ²æ–¹å¼æ˜¯ClusterIPã€NodePortã€LoadBalanceréƒ½æ­£å¸¸&#010;&gt; 2. å¦‚æœæ²¡æœ‰é…ç½®taskmanager.bind-hostï¼Œ&#010;&gt; [Flink-15911][Flink-15154]è¿™ä¸¤ä¸ªJIRAå¹¶ä¸ä¼šå½±å“TMå‘RMæ³¨å†Œæ—¶å€™çš„ä½¿ç”¨çš„åœ°å€&#010;&gt;&#010;&gt; å¦‚æœä½ æƒ³æ‰¾åˆ°æ ¹æœ¬åŸå› ï¼Œé‚£å¯èƒ½éœ€è¦ä½ è¿™è¾¹æä¾›JM/TMçš„å®Œæ•´logï¼Œè¿™æ ·æ–¹ä¾¿åˆ†æ&#010;&gt;&#010;&gt;&#010;&gt; Best,&#010;&gt; Yang&#010;&gt;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸Šåˆ11:30å†™é“ï¼š&#010;&gt;&#010;&gt; &gt;&#010;&gt; &gt; Hi Yang Wang&#010;&gt; &gt;&#010;&gt; &gt; åˆšåˆšåœ¨æµ‹è¯•ç¯å¢ƒæµ‹è¯•äº†ä¸€ä¸‹ï¼ŒtaskManageræ²¡æœ‰åŠæ³•nslookupå‡ºæ¥ï¼ŒJMå¯ä»¥nslookupï¼Œè¿™ä¸¤è€…çš„å·®åˆ«åœ¨äºæ˜¯å¦æœ‰serviceã€‚&#010;&gt; &gt;&#010;&gt; &gt; è§£å†³æ–¹æ¡ˆï¼šæˆ‘è¿™è¾¹ç»™é›†ç¾¤åŠ ä¸Šäº†taskmanager-query-state-service.yamlï¼ˆæŒ‰ç…§å®˜ç½‘ä¸Šæ˜¯å¯é€‰æœåŠ¡ï¼‰ã€‚å°±ä¸ä¼šåˆ·No&#010;&gt; &gt; hostname could be resolved for ip&#010;&gt; &gt; addressï¼Œå°†NodePortæ”¹ä¸ºClusterIpï¼Œä½œä¸šå°±å¯ä»¥æˆåŠŸæäº¤ï¼Œä¸ä¼šå‡ºç°time outçš„é—®é¢˜äº†ï¼Œé—®é¢˜å¾—åˆ°äº†è§£å†³ã€‚&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 1. å¦‚æœæŒ‰ç…§ä¸Šé¢çš„æƒ…å†µï¼Œé‚£ä¹ˆè¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯å¿…é¡»é…ç½®çš„ï¼Ÿ&#010;&gt; &gt;&#010;&gt; &gt; 2. åœ¨1.11çš„æ›´æ–°ä¸­ï¼Œå‘ç°æœ‰ [Flink-15911][Flink-15154]&#010;&gt; &gt; æ”¯æŒåˆ†åˆ«é…ç½®ç”¨äºæœ¬åœ°ç›‘å¬ç»‘å®šçš„ç½‘ç»œæ¥å£å’Œå¤–éƒ¨è®¿é—®çš„åœ°å€å’Œç«¯å£ã€‚æ˜¯å¦æ˜¯è¿™å—çš„æ”¹åŠ¨ï¼Œ&#010;&gt; &gt; éœ€è¦JMå»é€šè¿‡TMä¸ŠæŠ¥çš„ipåå‘è§£æå‡ºserviceï¼Ÿ&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; Bsetï¼&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; [1]&#010;&gt; &gt;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/kubernetes.html&#010;&gt; &gt;&#010;&gt; &gt; a511955993&#010;&gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt;&#010;&gt; &gt; &lt;&#010;&gt; https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt;&#010;&gt;&#010;&gt; &gt;&#010;&gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt; å®šåˆ¶&#010;&gt; &gt;&#010;&gt; &gt; On 07/23/2020 10:11, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;&gt; &gt; æˆ‘çš„æ„æ€å°±æ˜¯ä½ åœ¨Flinkä»»åŠ¡è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œç„¶åä¸‹é¢çš„å‘½ä»¤åœ¨é›†ç¾¤é‡Œé¢èµ·ä¸€ä¸ªbusyboxçš„podï¼Œ&#010;&gt; &gt; åœ¨é‡Œé¢æ‰§è¡Œ nslookup {ip_address}ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸è§£æåˆ°ã€‚å¦‚æœä¸èƒ½åº”è¯¥å°±æ˜¯corednsçš„&#010;&gt; &gt; é—®é¢˜äº†&#010;&gt; &gt;&#010;&gt; &gt; kubectl run -i -t busybox --image=busybox --restart=Never&#010;&gt; &gt;&#010;&gt; &gt; ä½ éœ€è¦ç¡®è®¤ä¸‹é›†ç¾¤çš„coredns podæ˜¯å¦æ­£å¸¸ï¼Œä¸€èˆ¬æ˜¯éƒ¨ç½²åœ¨kube-systemè¿™ä¸ªnamespaceä¸‹çš„&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; Best,&#010;&gt; &gt; Yang&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ22æ—¥å‘¨ä¸‰ ä¸‹åˆ7:57å†™é“ï¼š&#010;&gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Hiï¼ŒYang Wangï¼&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; å¾ˆå¼€å¿ƒå¯ä»¥æ”¶åˆ°ä½ çš„å›å¤ï¼Œä½ çš„å›å¤å¸®åŠ©å¾ˆå¤§ï¼Œè®©æˆ‘çŸ¥é“äº†é—®é¢˜çš„æ–¹å‘ã€‚æˆ‘å†è¡¥å……äº›ä¿¡æ¯ï¼Œå¸Œæœ›å¯ä»¥å¸®æˆ‘è¿›ä¸€æ­¥åˆ¤æ–­ä¸€ä¸‹é—®é¢˜æ ¹æºã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; åœ¨JMæŠ¥é”™çš„åœ°æ–¹ï¼ŒNo hostname could be resolved for ip address xxxxx&#010;&gt; &gt; &gt; ï¼ŒæŠ¥å‡ºæ¥çš„ipæ˜¯k8såˆ†é…ç»™flink podçš„å†…ç½‘ipï¼Œä¸æ˜¯å®¿ä¸»æœºçš„ipã€‚è¯·é—®è¿™ä¸ªé—®é¢˜å¯èƒ½å‡ºåœ¨å“ªé‡Œå‘¢&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Bestï¼&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; &lt;&#010;&gt; &gt;&#010;&gt; https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt;&#010;&gt;&#010;&gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt; å®šåˆ¶&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; On 07/22/2020 18:18, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;&gt; &gt; &gt; å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP&#010;&gt; &gt; addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#010;&gt; &gt; &gt; æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#010;&gt; &gt; &gt; å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Best,&#010;&gt; &gt; &gt; Yang&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ7:29å†™é“ï¼š&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; Hi&#010;&gt; &gt; &gt; &gt;    ä¸ç¡®å®š k8s ç¯å¢ƒä¸­èƒ½å¦çœ‹åˆ° pod çš„å®Œæ•´æ—¥å¿—ï¼Ÿç±»ä¼¼ Yarn çš„ NM æ—¥å¿—ä¸€æ ·ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹è¿™ä¸ª pod&#010;&gt; &gt; &gt; &gt; çš„å®Œæ•´æ—¥å¿—æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°&#010;&gt; &gt; &gt; &gt; Best,&#010;&gt; &gt; &gt; &gt; Congxian&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ3:19å†™é“ï¼š&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; Hiï¼ŒCongxian&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; å› ä¸ºæ˜¯æµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰é…ç½®HAï¼Œç›®å‰çœ‹åˆ°çš„ä¿¡æ¯ï¼Œå°±æ˜¯JMåˆ·å‡ºæ¥å¤§é‡çš„no hostname could be&#010;&gt; &gt; &gt; &gt; &gt; resolvedï¼Œjmå¤±è”ï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚&#010;&gt; &gt; &gt; &gt; &gt; å°†jmå†…å­˜é…ç½®ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µï¼ˆjobmanager.memory.pprocesa.sizeï¼š10240mï¼‰ã€‚&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; åœ¨åŒä¸€ä¸ªç¯å¢ƒå°†ç‰ˆæœ¬å›é€€åˆ°1.10æ²¡æœ‰å‡ºç°è¯¥é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåˆ·å¦‚ä¸ŠæŠ¥é”™ã€‚&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; æ˜¯å¦æœ‰å…¶ä»–æ’æŸ¥æ€è·¯ï¼Ÿ&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; Bestï¼&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; | |&#010;&gt; &gt; &gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; On 07/16/2020 13:17, Congxian Qiu wrote:&#010;&gt; &gt; &gt; &gt; &gt; Hi&#010;&gt; &gt; &gt; &gt; &gt;   å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼ŒGC æƒ…å†µä¹Ÿæ­£å¸¸çš„è¯ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹ pod çš„ç›¸å…³æ—¥å¿—ï¼Œå¦‚æœå¼€å¯äº† HA ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹ zk&#010;&gt; &gt; çš„æ—¥å¿—ã€‚ä¹‹å‰é‡åˆ°è¿‡ä¸€æ¬¡åœ¨&#010;&gt; &gt; &gt; &gt; Yarn&#010;&gt; &gt; &gt; &gt; &gt; ç¯å¢ƒä¸­ç±»ä¼¼çš„ç°è±¡æ˜¯ç”±äºå…¶ä»–åŸå› å¯¼è‡´çš„ï¼Œé€šè¿‡çœ‹ NM æ—¥å¿—ä»¥åŠ zk æ—¥å¿—å‘ç°çš„åŸå› ã€‚&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; Best,&#010;&gt; &gt; &gt; &gt; &gt; Congxian&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:20å†™é“ï¼š&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; Hi Roc&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; | |&#010;&gt; &gt; &gt; &gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; On 07/15/2020 17:16, Roc Marshal wrote:&#010;&gt; &gt; &gt; &gt; &gt; &gt; Hiï¼ŒSmileSmile.&#010;&gt; &gt; &gt; &gt; &gt; &gt; ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; ç¥å¥½ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; Roc Marshal&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;Hi&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM 4ä¸ªslotã€‚&#010;&gt; job&#010;&gt; &gt; &gt; &gt; &gt; &gt; å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be resolved for the IP&#010;&gt; &gt; &gt; addressï¼ŒJM&#010;&gt; &gt; &gt; &gt; &gt; time&#010;&gt; &gt; &gt; &gt; &gt; &gt; outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno&#010;&gt; hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; &gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     []&#010;&gt; -&#010;&gt; &gt; No&#010;&gt; &gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.32.160.7, using&#010;&gt; &gt; IP&#010;&gt; &gt; &gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#010;&gt; &gt; files)&#010;&gt; &gt; &gt; may&#010;&gt; &gt; &gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; &gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     []&#010;&gt; -&#010;&gt; &gt; No&#010;&gt; &gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.44.224.7, using&#010;&gt; &gt; IP&#010;&gt; &gt; &gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#010;&gt; &gt; files)&#010;&gt; &gt; &gt; may&#010;&gt; &gt; &gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,461 WARN&#010;&gt; &gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     []&#010;&gt; -&#010;&gt; &gt; No&#010;&gt; &gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.40.32.9, using&#010;&gt; IP&#010;&gt; &gt; &gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#010;&gt; &gt; files)&#010;&gt; &gt; &gt; may&#010;&gt; &gt; &gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;&gt; &gt; &gt; [] -&#010;&gt; &gt; &gt; &gt; &gt; The&#010;&gt; &gt; &gt; &gt; &gt; &gt; heartbeat of JobManager with id 69a0d460de468888a9f41c770d963c0a&#010;&gt; &gt; &gt; timed&#010;&gt; &gt; &gt; &gt; &gt; out.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;&gt; &gt; &gt; [] -&#010;&gt; &gt; &gt; &gt; &gt; &gt; Disconnect job manager 00000000000000000000000000000000&#010;&gt; &gt; &gt; &gt; &gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2&#010;&gt; for&#010;&gt; &gt; &gt; job&#010;&gt; &gt; &gt; &gt; &gt; &gt; e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;how to deal with ï¼Ÿ&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;beset ï¼&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;| |&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;a511955993&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt;&#010;&gt;&#010;",
        "depth": "13",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<CAP+gf35-d5+Lg9x8eS3eseK-CTDF2oXrhAkYqONB7RY8+u0oYg@mail.gmail.com>",
        "from": "Yang Wang &lt;danrtsey...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 27 Jul 2020 07:01:10 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "å»ºè®®å…ˆé…ç½®heartbeat.timeoutçš„å€¼å¤§ä¸€äº›ï¼Œç„¶åæŠŠgc logæ‰“å‡ºæ¥&#010;çœ‹çœ‹æ˜¯ä¸æ˜¯ç»å¸¸å‘ç”ŸfullGCï¼Œæ¯æ¬¡æŒç»­æ—¶é—´æ˜¯å¤šé•¿ï¼Œä»ä½ ç›®å‰æä¾›çš„logçœ‹ï¼Œè¿›ç¨‹å†…JM-&gt;RMéƒ½ä¼šå¿ƒè·³è¶…æ—¶&#010;æ€€ç–‘è¿˜æ˜¯å’ŒGCæœ‰å…³çš„&#010;&#010;env.java.opts.jobmanager: -Xloggc:&lt;LOG_DIR&gt;/jobmanager-gc.log&#010;-XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=2 -XX:GCLogFileSize=512M&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ27æ—¥å‘¨ä¸€ ä¸‹åˆ1:50å†™é“ï¼š&#010;&#010;&gt; Hiï¼ŒYang Wang&#010;&gt;&#010;&gt; å› ä¸ºæ—¥å¿—å¤ªé•¿äº†ï¼Œåˆ äº†ä¸€äº›é‡å¤çš„å†…å®¹ã€‚&#010;&gt; ä¸€å¼€å§‹æ€€ç–‘è¿‡jm gcçš„é—®é¢˜ï¼Œå°†jmçš„å†…å­˜è°ƒæ•´ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µã€‚&#010;&gt;&#010;&gt; Best&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; | |&#010;&gt; a511955993&#010;&gt; |&#010;&gt; |&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; |&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt;&#010;&gt; On 07/27/2020 11:36, Yang Wang wrote:&#010;&gt; çœ‹ä½ è¿™ä¸ªä»»åŠ¡ï¼Œå¤±è´¥çš„æ ¹æœ¬åŸå› å¹¶ä¸æ˜¯â€œNo hostname could be resolved&#010;&gt; â€ï¼Œè¿™ä¸ªWARNINGçš„åŸå› å¯ä»¥å•ç‹¬è®¨è®ºï¼ˆå¦‚æœåœ¨1.10é‡Œé¢ä¸å­˜åœ¨çš„è¯ï¼‰ã€‚&#010;&gt; ä½ å¯ä»¥æœ¬åœ°èµ·ä¸€ä¸ªStandaloneçš„é›†ç¾¤ï¼Œä¹Ÿä¼šæœ‰è¿™æ ·çš„WARNINGï¼Œå¹¶ä¸å½±å“æ­£å¸¸ä½¿ç”¨&#010;&gt;&#010;&gt;&#010;&gt; å¤±è´¥çš„åŸå› æ˜¯slot 5åˆ†é’Ÿç”³è¯·è¶…æ—¶äº†ï¼Œä½ ç»™çš„æ—¥å¿—é‡Œé¢2020-07-23 13:55:45,519åˆ°2020-07-23&#010;&gt; 13:58:18,037æ˜¯ç©ºç™½çš„ï¼Œæ²¡æœ‰è¿›è¡Œçœç•¥å§ï¼Ÿ&#010;&gt; è¿™æ®µæ—¶é—´æŒ‰ç†åº”è¯¥æ˜¯taskå¼€å§‹deployäº†ã€‚åœ¨æ—¥å¿—é‡Œçœ‹åˆ°äº†JM-&gt;RMçš„å¿ƒè·³è¶…æ—¶ï¼ŒåŒä¸€ä¸ªPodé‡Œé¢çš„åŒä¸€ä¸ªè¿›ç¨‹é€šä¿¡ä¹Ÿè¶…æ—¶äº†&#010;&gt; æ‰€ä»¥æ€€ç–‘JMä¸€ç›´åœ¨FullGCï¼Œè¿™ä¸ªéœ€è¦ä½ ç¡®è®¤ä¸€ä¸‹&#010;&gt;&#010;&gt;&#010;&gt; Best,&#010;&gt; Yang&#010;&gt;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸‹åˆ2:43å†™é“ï¼š&#010;&gt;&#010;&gt; &gt; Hi Yang Wang&#010;&gt; &gt;&#010;&gt; &gt; å…ˆåˆ†äº«ä¸‹æˆ‘è¿™è¾¹çš„ç¯å¢ƒç‰ˆæœ¬&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; kubernetesï¼š1.17.4.   CNIï¼š weave&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 1 2 3 æ˜¯æˆ‘çš„ä¸€äº›ç–‘æƒ‘&#010;&gt; &gt;&#010;&gt; &gt; 4 æ˜¯JMæ—¥å¿—&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 1. å»æ‰taskmanager-query-state-service.yamlåç¡®å®ä¸è¡Œ  nslookup&#010;&gt; &gt;&#010;&gt; &gt; kubectl exec -it busybox2 -- /bin/sh&#010;&gt; &gt; / # nslookup 10.47.96.2&#010;&gt; &gt; Server:          10.96.0.10&#010;&gt; &gt; Address:     10.96.0.10:53&#010;&gt; &gt;&#010;&gt; &gt; ** server can't find 2.96.47.10.in-addr.arpa: NXDOMAIN&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 2. Flink1.11å’ŒFlink1.10&#010;&gt; &gt;&#010;&gt; &gt; detail subtasks taskmanagers xxx x è¿™è¡Œ&#010;&gt; &gt;&#010;&gt; 1.11å˜æˆäº†172-20-0-50ã€‚1.10æ˜¯flink-taskmanager-7b5d6958b6-sfzlk:36459ã€‚è¿™å—çš„æ”¹åŠ¨æ˜¯ï¼Ÿï¼ˆç›®å‰è¿™ä¸ªé›†ç¾¤è·‘ç€1.10å’Œ1.11,1.10å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå¦‚æœcorednsæœ‰é—®é¢˜ï¼Œ1.10ç‰ˆæœ¬çš„flinkåº”è¯¥ä¹Ÿæœ‰ä¸€æ ·çš„æƒ…å†µå§ï¼Ÿï¼‰&#010;&gt; &gt;&#010;&gt; &gt; 3. corednsæ˜¯å¦ç‰¹æ®Šé…ç½®ï¼Ÿ&#010;&gt; &gt;&#010;&gt; &gt; åœ¨å®¹å™¨ä¸­è§£æåŸŸåæ˜¯æ­£å¸¸çš„ï¼Œåªæ˜¯åå‘è§£ææ²¡æœ‰serviceæ‰ä¼šæœ‰é—®é¢˜ã€‚corednsæ˜¯å¦æœ‰ä»€ä¹ˆéœ€è¦é…ç½®ï¼Ÿ&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 4. time outæ—¶å€™çš„JMæ—¥å¿—å¦‚ä¸‹ï¼š&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 2020-07-23 13:53:00,228 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; ResourceManager akka.tcp://flink@flink-jobmanager&#010;&gt; :6123/user/rpc/resourcemanager_0&#010;&gt; &gt; was granted leadership with fencing token&#010;&gt; 00000000000000000000000000000000&#010;&gt; &gt; 2020-07-23 13:53:00,232 INFO&#010;&gt; &gt;  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] -&#010;&gt; Starting&#010;&gt; &gt; RPC endpoint for org.apache.flink.runtime.dispatcher.StandaloneDispatcher&#010;&gt; &gt; at akka://flink/user/rpc/dispatcher_1 .&#010;&gt; &gt; 2020-07-23 13:53:00,233 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.slotmanager.SlotManagerImpl []&#010;&gt; -&#010;&gt; &gt; Starting the SlotManager.&#010;&gt; &gt; 2020-07-23 13:53:03,472 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Registering TaskManager with ResourceID 1f9ae0cd95a28943a73be26323588696&#010;&gt; &gt; (akka.tcp://flink@10.34.128.9:6122/user/rpc/taskmanager_0) at&#010;&gt; &gt; ResourceManager&#010;&gt; &gt; 2020-07-23 13:53:03,777 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Registering TaskManager with ResourceID cac09e751264e61615329c20713a84b4&#010;&gt; &gt; (akka.tcp://flink@10.32.160.6:6122/user/rpc/taskmanager_0) at&#010;&gt; &gt; ResourceManager&#010;&gt; &gt; 2020-07-23 13:53:03,787 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Registering TaskManager with ResourceID 93c72d01d09f9ae427c5fc980ed4c1e4&#010;&gt; &gt; (akka.tcp://flink@10.39.0.8:6122/user/rpc/taskmanager_0) at&#010;&gt; &gt; ResourceManager&#010;&gt; &gt; 2020-07-23 13:53:04,044 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Registering TaskManager with ResourceID 8adf2f8e81b77a16d5418a9e252c61e2&#010;&gt; &gt; (akka.tcp://flink@10.38.64.7:6122/user/rpc/taskmanager_0) at&#010;&gt; &gt; ResourceManager&#010;&gt; &gt; 2020-07-23 13:53:04,099 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Registering TaskManager with ResourceID 23e9d2358f6eb76b9ae718d879d4f330&#010;&gt; &gt; (akka.tcp://flink@10.42.160.6:6122/user/rpc/taskmanager_0) at&#010;&gt; &gt; ResourceManager&#010;&gt; &gt; 2020-07-23 13:53:04,146 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Registering TaskManager with ResourceID 092f8dee299e32df13db3111662b61f8&#010;&gt; &gt; (akka.tcp://flink@10.33.192.14:6122/user/rpc/taskmanager_0) at&#010;&gt; &gt; ResourceManager&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 2020-07-23 13:55:44,220 INFO&#010;&gt; &gt;  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] -&#010;&gt; Received&#010;&gt; &gt; JobGraph submission 99a030d0e3f428490a501c0132f27a56 (JobTest).&#010;&gt; &gt; 2020-07-23 13:55:44,222 INFO&#010;&gt; &gt;  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] -&#010;&gt; &gt; Submitting job 99a030d0e3f428490a501c0132f27a56 (JobTest).&#010;&gt; &gt; 2020-07-23 13:55:44,251 INFO&#010;&gt; &gt;  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] -&#010;&gt; Starting&#010;&gt; &gt; RPC endpoint for org.apache.flink.runtime.jobmaster.JobMaster at&#010;&gt; &gt; akka://flink/user/rpc/jobmanager_2 .&#010;&gt; &gt; 2020-07-23 13:55:44,260 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Initializing job JobTest&#010;&gt; &gt; (99a030d0e3f428490a501c0132f27a56).&#010;&gt; &gt; 2020-07-23 13:55:44,278 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Using restart back off time strategy&#010;&gt; &gt; NoRestartBackoffTimeStrategy for JobTest&#010;&gt; (99a030d0e3f428490a501c0132f27a56).&#010;&gt; &gt; 2020-07-23 13:55:44,319 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Running initialization on master for job JobTest&#010;&gt; &gt; (99a030d0e3f428490a501c0132f27a56).&#010;&gt; &gt; 2020-07-23 13:55:44,319 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Successfully ran initialization on master in 0 ms.&#010;&gt; &gt; 2020-07-23 13:55:44,428 INFO&#010;&gt; &gt;  org.apache.flink.runtime.scheduler.adapter.DefaultExecutionTopology [] -&#010;&gt; &gt; Built 1 pipelined regions in 25 ms&#010;&gt; &gt; 2020-07-23 13:55:44,437 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Loading state backend via factory&#010;&gt; &gt; org.apache.flink.contrib.streaming.state.RocksDBStateBackendFactory&#010;&gt; &gt; 2020-07-23 13:55:44,456 INFO&#010;&gt; &gt;  org.apache.flink.contrib.streaming.state.RocksDBStateBackend [] - Using&#010;&gt; &gt; predefined options: DEFAULT.&#010;&gt; &gt; 2020-07-23 13:55:44,457 INFO&#010;&gt; &gt;  org.apache.flink.contrib.streaming.state.RocksDBStateBackend [] - Using&#010;&gt; &gt; default options factory:&#010;&gt; &gt; DefaultConfigurableOptionsFactory{configuredOptions={}}.&#010;&gt; &gt; 2020-07-23 13:55:44,466 WARN  org.apache.flink.runtime.util.HadoopUtils&#010;&gt; &gt;                  [] - Could not find Hadoop configuration via any of the&#010;&gt; &gt; supported methods (Flink configuration, environment variables).&#010;&gt; &gt; 2020-07-23 13:55:45,276 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Using failover strategy&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy@72bd8533&#010;&gt; &gt; for JobTest (99a030d0e3f428490a501c0132f27a56).&#010;&gt; &gt; 2020-07-23 13:55:45,280 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.JobManagerRunnerImpl      [] -&#010;&gt; &gt; JobManager runner for job JobTest (99a030d0e3f428490a501c0132f27a56) was&#010;&gt; &gt; granted leadership with session id 00000000-0000-0000-0000-000000000000&#010;&gt; at&#010;&gt; &gt; akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2.&#010;&gt; &gt; 2020-07-23 13:55:45,286 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Starting scheduling with scheduling strategy&#010;&gt; &gt; [org.apache.flink.runtime.scheduler.strategy.EagerSchedulingStrategy]&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 2020-07-23 13:55:45,436 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; &gt; serve slot request, no ResourceManager connected. Adding as pending&#010;&gt; request&#010;&gt; &gt; [SlotRequestId{e092b12b96b0a98bbf057e71b9705c23}]&#010;&gt; &gt; 2020-07-23 13:55:45,436 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; &gt; serve slot request, no ResourceManager connected. Adding as pending&#010;&gt; request&#010;&gt; &gt; [SlotRequestId{4ad15f417716c9e07fca383990c0f52a}]&#010;&gt; &gt; 2020-07-23 13:55:45,436 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; &gt; serve slot request, no ResourceManager connected. Adding as pending&#010;&gt; request&#010;&gt; &gt; [SlotRequestId{345fdb427a893b7fc3f4f040f93445d2}]&#010;&gt; &gt; 2020-07-23 13:55:45,437 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; &gt; serve slot request, no ResourceManager connected. Adding as pending&#010;&gt; request&#010;&gt; &gt; [SlotRequestId{e559485ea7b0b7e17367816882538d90}]&#010;&gt; &gt; 2020-07-23 13:55:45,437 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; &gt; serve slot request, no ResourceManager connected. Adding as pending&#010;&gt; request&#010;&gt; &gt; [SlotRequestId{7be8f6c1aedb27b04e7feae68078685c}]&#010;&gt; &gt; 2020-07-23 13:55:45,437 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; &gt; serve slot request, no ResourceManager connected. Adding as pending&#010;&gt; request&#010;&gt; &gt; [SlotRequestId{582a86197884206652dff3aea2306bb3}]&#010;&gt; &gt; 2020-07-23 13:55:45,437 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; &gt; serve slot request, no ResourceManager connected. Adding as pending&#010;&gt; request&#010;&gt; &gt; [SlotRequestId{0cc24260eda3af299a0b321feefaf2cb}]&#010;&gt; &gt; 2020-07-23 13:55:45,437 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; &gt; serve slot request, no ResourceManager connected. Adding as pending&#010;&gt; request&#010;&gt; &gt; [SlotRequestId{240ca6f3d3b5ece6a98243ec8cadf616}]&#010;&gt; &gt; 2020-07-23 13:55:45,438 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; &gt; serve slot request, no ResourceManager connected. Adding as pending&#010;&gt; request&#010;&gt; &gt; [SlotRequestId{c35033d598a517acc108424bb9f809fb}]&#010;&gt; &gt; 2020-07-23 13:55:45,438 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; &gt; serve slot request, no ResourceManager connected. Adding as pending&#010;&gt; request&#010;&gt; &gt; [SlotRequestId{ad35013c3b532d4b4df1be62395ae0cf}]&#010;&gt; &gt; 2020-07-23 13:55:45,438 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;&gt; &gt; serve slot request, no ResourceManager connected. Adding as pending&#010;&gt; request&#010;&gt; &gt; [SlotRequestId{c929bd5e8daf432d01fad1ece3daec1a}]&#010;&gt; &gt; 2020-07-23 13:55:45,487 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Connecting to ResourceManager&#010;&gt; &gt; akka.tcp://flink@flink-jobmanager&#010;&gt; &gt; :6123/user/rpc/resourcemanager_*(00000000000000000000000000000000)&#010;&gt; &gt; 2020-07-23 13:55:45,492 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Resolved ResourceManager address, beginning&#010;&gt; &gt; registration&#010;&gt; &gt; 2020-07-23 13:55:45,493 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Registering job manager 00000000000000000000000000000000&#010;&gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; &gt; 2020-07-23 13:55:45,499 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Registered job manager 00000000000000000000000000000000&#010;&gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; &gt; 2020-07-23 13:55:45,501 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - JobManager successfully registered at&#010;&gt; ResourceManager,&#010;&gt; &gt; leader id: 00000000000000000000000000000000.&#010;&gt; &gt; 2020-07-23 13:55:45,501 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{15fd2a9565c2b080748c1d1592b1cbbc}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,502 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; &gt; d420d08bf2654d9ea76955c70db18b69.&#010;&gt; &gt; 2020-07-23 13:55:45,502 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{8cd72cc16f0e319d915a9a096a1096d7}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,503 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{e7e422409acebdb385014a9634af6a90}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,503 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{cef1af73546ca1fc27ca7a3322e9e815}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,503 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{108fe0b3086567ad79275eccef2fdaf8}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,503 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{265e67985eab7a6dc08024e53bf2708d}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,503 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{7087497a17c441f1a1d6fefcbc7cd0ea}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,503 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{14ac08438e79c8db8d25d93b99d62725}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt;&#010;&gt; &gt; 2020-07-23 13:55:45,514 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; &gt; fce526bbe3e1be91caa3e4b536b20e35.&#010;&gt; &gt; 2020-07-23 13:55:45,514 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{40c7abbb12514c405323b0569fb21647}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,514 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{a4985a9647b65b30a571258b45c8f2ce}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,515 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{c52a6eb2fa58050e71e7903590019fd1}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt;&#010;&gt; &gt; 2020-07-23 13:55:45,517 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; &gt; 18ac7ec802ebfcfed8c05ee9324a55a4.&#010;&gt; &gt;&#010;&gt; &gt; 2020-07-23 13:55:45,518 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; &gt; 7ec76cbe689eb418b63599e90ade19be.&#010;&gt; &gt; 2020-07-23 13:55:45,518 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{46d65692a8b5aad11b51f9a74a666a74}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,518 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{3670bb4f345eedf941cc18e477ba1e9d}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,518 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{4a12467d76b9e3df8bc3412c0be08e14}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,518 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{e092b12b96b0a98bbf057e71b9705c23}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,518 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{4ad15f417716c9e07fca383990c0f52a}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,518 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{345fdb427a893b7fc3f4f040f93445d2}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,519 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Requesting new slot [SlotRequestId{e559485ea7b0b7e17367816882538d90}] and&#010;&gt; &gt; profile ResourceProfile{UNKNOWN} from resource manager.&#010;&gt; &gt; 2020-07-23 13:55:45,519 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Request slot with profile ResourceProfile{UNKNOWN} for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56 with allocation id&#010;&gt; &gt; b78837a29b4032924ac25be70ed21a3c.&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 2020-07-23 13:58:18,037 WARN&#010;&gt; &gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; hostname could be resolved for the IP address 10.47.96.2, using IP&#010;&gt; address&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; be&#010;&gt; &gt; impacted.&#010;&gt; &gt; 2020-07-23 13:58:22,192 WARN&#010;&gt; &gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; hostname could be resolved for the IP address 10.34.64.14, using IP&#010;&gt; address&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; be&#010;&gt; &gt; impacted.&#010;&gt; &gt; 2020-07-23 13:58:22,358 WARN&#010;&gt; &gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; hostname could be resolved for the IP address 10.34.128.9, using IP&#010;&gt; address&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; be&#010;&gt; &gt; impacted.&#010;&gt; &gt; 2020-07-23 13:58:24,562 WARN&#010;&gt; &gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; hostname could be resolved for the IP address 10.32.160.6, using IP&#010;&gt; address&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; be&#010;&gt; &gt; impacted.&#010;&gt; &gt; 2020-07-23 13:58:25,487 WARN&#010;&gt; &gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; hostname could be resolved for the IP address 10.38.64.7, using IP&#010;&gt; address&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; be&#010;&gt; &gt; impacted.&#010;&gt; &gt; 2020-07-23 13:58:27,636 WARN&#010;&gt; &gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; hostname could be resolved for the IP address 10.42.160.6, using IP&#010;&gt; address&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; be&#010;&gt; &gt; impacted.&#010;&gt; &gt; 2020-07-23 13:58:27,767 WARN&#010;&gt; &gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; hostname could be resolved for the IP address 10.43.64.12, using IP&#010;&gt; address&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; be&#010;&gt; &gt; impacted.&#010;&gt; &gt; 2020-07-23 13:58:29,651 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; The heartbeat of JobManager with id 456a18b6c404cb11a359718e16de1c6b&#010;&gt; timed&#010;&gt; &gt; out.&#010;&gt; &gt; 2020-07-23 13:58:29,651 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Disconnect job manager 00000000000000000000000000000000&#010;&gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56 from the resource manager.&#010;&gt; &gt; 2020-07-23 13:58:29,854 WARN&#010;&gt; &gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; hostname could be resolved for the IP address 10.39.0.8, using IP address&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; be&#010;&gt; &gt; impacted.&#010;&gt; &gt; 2020-07-23 13:58:33,623 WARN&#010;&gt; &gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; hostname could be resolved for the IP address 10.35.0.10, using IP&#010;&gt; address&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; be&#010;&gt; &gt; impacted.&#010;&gt; &gt; 2020-07-23 13:58:35,756 WARN&#010;&gt; &gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; hostname could be resolved for the IP address 10.36.32.8, using IP&#010;&gt; address&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; be&#010;&gt; &gt; impacted.&#010;&gt; &gt; 2020-07-23 13:58:36,694 WARN&#010;&gt; &gt;  org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;&gt; &gt; hostname could be resolved for the IP address 10.42.128.6, using IP&#010;&gt; address&#010;&gt; &gt; as host name. Local input split assignment (such as for HDFS files) may&#010;&gt; be&#010;&gt; &gt; impacted.&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 2020-07-23 14:01:17,814 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Close ResourceManager connection&#010;&gt; &gt; 83b1ff14900abfd54418e7fa3efb3f8a: The heartbeat of JobManager with id&#010;&gt; &gt; 456a18b6c404cb11a359718e16de1c6b timed out..&#010;&gt; &gt; 2020-07-23 14:01:17,815 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Connecting to ResourceManager&#010;&gt; &gt; akka.tcp://flink@flink-jobmanager&#010;&gt; &gt; :6123/user/rpc/resourcemanager_*(00000000000000000000000000000000)&#010;&gt; &gt; 2020-07-23 14:01:17,816 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Resolved ResourceManager address, beginning&#010;&gt; &gt; registration&#010;&gt; &gt; 2020-07-23 14:01:17,816 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Registering job manager 00000000000000000000000000000000&#010;&gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; &gt; 2020-07-23 14:01:17,836 INFO&#010;&gt; &gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] -&#010;&gt; Source:&#010;&gt; &gt; host_relation -&gt; Timestamps/Watermarks -&gt; Map (1/1)&#010;&gt; &gt; (302ca9640e2d209a543d843f2996ccd2) switched from SCHEDULED to FAILED on&#010;&gt; not&#010;&gt; &gt; deployed.&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException:&#010;&gt; &gt; Could not allocate the required slot within slot request timeout. Please&#010;&gt; &gt; make sure that the cluster has enough resources.&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.actor.Actor$class.aroundReceive(Actor.scala:517)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.actor.ActorCell.invoke(ActorCell.scala:561)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.dispatch.Mailbox.run(Mailbox.scala:225)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt; Caused by: java.util.concurrent.CompletionException:&#010;&gt; &gt; java.util.concurrent.TimeoutException&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      ... 25 more&#010;&gt; &gt; Caused by: java.util.concurrent.TimeoutException&#010;&gt; &gt;      ... 23 more&#010;&gt; &gt; 2020-07-23 14:01:17,848 INFO&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy&#010;&gt; &gt; [] - Calculating tasks to restart to recover the failed task&#010;&gt; &gt; cbc357ccb763df2852fee8c4fc7d55f2_0.&#010;&gt; &gt; 2020-07-23 14:01:17,910 INFO&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy&#010;&gt; &gt; [] - 902 tasks should be restarted to recover the failed task&#010;&gt; &gt; cbc357ccb763df2852fee8c4fc7d55f2_0.&#010;&gt; &gt; 2020-07-23 14:01:17,913 INFO&#010;&gt; &gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job&#010;&gt; &gt; JobTest (99a030d0e3f428490a501c0132f27a56) switched from state RUNNING to&#010;&gt; &gt; FAILING.&#010;&gt; &gt; org.apache.flink.runtime.JobException: Recovery is suppressed by&#010;&gt; &gt; NoRestartBackoffTimeStrategy&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:116)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:78)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:192)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:185)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:179)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:503)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.UpdateSchedulerNgOnInternalFailuresListener.notifyTaskFailure(UpdateSchedulerNgOnInternalFailuresListener.java:49)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.ExecutionGraph.notifySchedulerNgAboutInternalTaskFailure(ExecutionGraph.java:1710)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1287)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1255)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.markFailed(Execution.java:1086)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.ExecutionVertex.markFailed(ExecutionVertex.java:748)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultExecutionVertexOperations.markFailed(DefaultExecutionVertexOperations.java:41)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskDeploymentFailure(DefaultScheduler.java:435)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.actor.Actor$class.aroundReceive(Actor.scala:517)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.actor.ActorCell.invoke(ActorCell.scala:561)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.dispatch.Mailbox.run(Mailbox.scala:225)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt; Caused by:&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException:&#010;&gt; &gt; Could not allocate the required slot within slot request timeout. Please&#010;&gt; &gt; make sure that the cluster has enough resources.&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      ... 45 more&#010;&gt; &gt; Caused by: java.util.concurrent.CompletionException:&#010;&gt; &gt; java.util.concurrent.TimeoutException&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      ... 25 more&#010;&gt; &gt; Caused by: java.util.concurrent.TimeoutException&#010;&gt; &gt;      ... 23 more&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 2020-07-23 14:01:18,109 INFO&#010;&gt; &gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] -&#010;&gt; &gt; Discarding the results produced by task execution&#010;&gt; &gt; 1809eb912d69854f2babedeaf879df6a.&#010;&gt; &gt; 2020-07-23 14:01:18,110 INFO&#010;&gt; &gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job&#010;&gt; &gt; JobTest (99a030d0e3f428490a501c0132f27a56) switched from state FAILING to&#010;&gt; &gt; FAILED.&#010;&gt; &gt; org.apache.flink.runtime.JobException: Recovery is suppressed by&#010;&gt; &gt; NoRestartBackoffTimeStrategy&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:116)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:78)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:192)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:185)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:179)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:503)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.UpdateSchedulerNgOnInternalFailuresListener.notifyTaskFailure(UpdateSchedulerNgOnInternalFailuresListener.java:49)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.ExecutionGraph.notifySchedulerNgAboutInternalTaskFailure(ExecutionGraph.java:1710)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1287)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1255)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.Execution.markFailed(Execution.java:1086)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.executiongraph.ExecutionVertex.markFailed(ExecutionVertex.java:748)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultExecutionVertexOperations.markFailed(DefaultExecutionVertexOperations.java:41)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskDeploymentFailure(DefaultScheduler.java:435)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.actor.Actor$class.aroundReceive(Actor.scala:517)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.actor.ActorCell.invoke(ActorCell.scala:561)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.dispatch.Mailbox.run(Mailbox.scala:225)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt; akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;&gt; &gt; [flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt; Caused by:&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException:&#010;&gt; &gt; Could not allocate the required slot within slot request timeout. Please&#010;&gt; &gt; make sure that the cluster has enough resources.&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441)&#010;&gt; &gt; ~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;&gt; &gt;      ... 45 more&#010;&gt; &gt; Caused by: java.util.concurrent.CompletionException:&#010;&gt; &gt; java.util.concurrent.TimeoutException&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      at&#010;&gt; &gt;&#010;&gt; java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)&#010;&gt; &gt; ~[?:1.8.0_242]&#010;&gt; &gt;      ... 25 more&#010;&gt; &gt; Caused by: java.util.concurrent.TimeoutException&#010;&gt; &gt;      ... 23 more&#010;&gt; &gt; 2020-07-23 14:01:18,114 INFO&#010;&gt; &gt;  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] -&#010;&gt; Stopping&#010;&gt; &gt; checkpoint coordinator for job 99a030d0e3f428490a501c0132f27a56.&#010;&gt; &gt; 2020-07-23 14:01:18,117 INFO&#010;&gt; &gt;  org.apache.flink.runtime.checkpoint.StandaloneCompletedCheckpointStore&#010;&gt; []&#010;&gt; &gt; - Shutting down&#010;&gt; &gt; 2020-07-23 14:01:18,118 INFO&#010;&gt; &gt;  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] -&#010;&gt; &gt; Discarding the results produced by task execution&#010;&gt; &gt; 302ca9640e2d209a543d843f2996ccd2.&#010;&gt; &gt; 2020-07-23 14:01:18,120 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Pending&#010;&gt; &gt; slot request [SlotRequestId{15fd2a9565c2b080748c1d1592b1cbbc}] timed out.&#010;&gt; &gt; 2020-07-23 14:01:18,120 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Pending&#010;&gt; &gt; slot request [SlotRequestId{8cd72cc16f0e319d915a9a096a1096d7}] timed out.&#010;&gt; &gt; 2020-07-23 14:01:18,120 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Pending&#010;&gt; &gt; slot request [SlotRequestId{e7e422409acebdb385014a9634af6a90}] timed out.&#010;&gt; &gt; 2020-07-23 14:01:18,121 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Pending&#010;&gt; &gt; slot request [SlotRequestId{cef1af73546ca1fc27ca7a3322e9e815}] timed out.&#010;&gt; &gt; 2020-07-23 14:01:18,121 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Pending&#010;&gt; &gt; slot request [SlotRequestId{108fe0b3086567ad79275eccef2fdaf8}] timed out.&#010;&gt; &gt; 2020-07-23 14:01:18,121 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Pending&#010;&gt; &gt; slot request [SlotRequestId{265e67985eab7a6dc08024e53bf2708d}] timed out.&#010;&gt; &gt; 2020-07-23 14:01:18,122 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Pending&#010;&gt; &gt; slot request [SlotRequestId{7087497a17c441f1a1d6fefcbc7cd0ea}] timed out.&#010;&gt; &gt; 2020-07-23 14:01:18,122 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Pending&#010;&gt; &gt; slot request [&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 2020-07-23 14:01:18,151 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Registering job manager 00000000000000000000000000000000&#010;&gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; &gt; 2020-07-23 14:01:18,157 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Registered job manager 00000000000000000000000000000000&#010;&gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; &gt; 2020-07-23 14:01:18,157 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Registered job manager 00000000000000000000000000000000&#010;&gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; &gt; 2020-07-23 14:01:18,157 INFO&#010;&gt; &gt;  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56 reached globally terminal state FAILED.&#010;&gt; &gt; 2020-07-23 14:01:18,162 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Registered job manager 00000000000000000000000000000000&#010;&gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56.&#010;&gt; &gt; 2020-07-23 14:01:18,162 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - JobManager successfully registered at&#010;&gt; ResourceManager,&#010;&gt; &gt; leader id: 00000000000000000000000000000000.&#010;&gt; &gt; 2020-07-23 14:01:18,225 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Stopping the JobMaster for job&#010;&gt; &gt; JobTest(99a030d0e3f428490a501c0132f27a56).&#010;&gt; &gt; 2020-07-23 14:01:18,381 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; &gt; Suspending SlotPool.&#010;&gt; &gt; 2020-07-23 14:01:18,382 INFO&#010;&gt; org.apache.flink.runtime.jobmaster.JobMaster&#010;&gt; &gt;                 [] - Close ResourceManager connection&#010;&gt; &gt; 83b1ff14900abfd54418e7fa3efb3f8a: JobManager is shutting down..&#010;&gt; &gt; 2020-07-23 14:01:18,382 INFO&#010;&gt; &gt;  org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;&gt; Stopping&#010;&gt; &gt; SlotPool.&#010;&gt; &gt; 2020-07-23 14:01:18,382 INFO&#010;&gt; &gt;  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;&gt; &gt; Disconnect job manager 00000000000000000000000000000000&#010;&gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;&gt; &gt; 99a030d0e3f428490a501c0132f27a56 from the resource manager.&#010;&gt; &gt;&#010;&gt; &gt; a511955993&#010;&gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt;&#010;&gt; &gt; &lt;&#010;&gt; https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt&#010;&gt; ;&#010;&gt; &gt;&#010;&gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt; å®šåˆ¶&#010;&gt; &gt;&#010;&gt; &gt; On 07/23/2020 13:26, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;&gt; &gt; å¾ˆé«˜å…´ä½ çš„é—®é¢˜è§£å†³äº†ï¼Œä½†æˆ‘è§‰å¾—æ ¹æœ¬åŸå› åº”è¯¥ä¸æ˜¯åŠ ä¸Šäº†taskmanager-query-state-service.yamlçš„å…³ç³»ã€‚&#010;&gt; &gt; æˆ‘è¿™è¾¹ä¸åˆ›å»ºè¿™ä¸ªæœåŠ¡ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œè€Œä¸”nslookup {tm_ip_address}æ˜¯å¯ä»¥æ­£å¸¸åè§£æåˆ°hostnameçš„ã€‚&#010;&gt; &gt;&#010;&gt; &gt; æ³¨æ„è¿™é‡Œä¸æ˜¯è§£æhostnameï¼Œè€Œæ˜¯é€šè¿‡ipåœ°å€æ¥åè§£æè¿›è¡ŒéªŒè¯&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; å›ç­”ä½ è¯´çš„ä¸¤ä¸ªé—®é¢˜ï¼š&#010;&gt; &gt; 1. ä¸æ˜¯å¿…é¡»çš„ï¼Œæˆ‘è¿™è¾¹éªŒè¯ä¸éœ€è¦åˆ›å»ºï¼Œé›†ç¾¤ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œä»»åŠ¡çš„ã€‚Rest&#010;&gt; &gt; serviceçš„æš´éœ²æ–¹å¼æ˜¯ClusterIPã€NodePortã€LoadBalanceréƒ½æ­£å¸¸&#010;&gt; &gt; 2. å¦‚æœæ²¡æœ‰é…ç½®taskmanager.bind-hostï¼Œ&#010;&gt; &gt; [Flink-15911][Flink-15154]è¿™ä¸¤ä¸ªJIRAå¹¶ä¸ä¼šå½±å“TMå‘RMæ³¨å†Œæ—¶å€™çš„ä½¿ç”¨çš„åœ°å€&#010;&gt; &gt;&#010;&gt; &gt; å¦‚æœä½ æƒ³æ‰¾åˆ°æ ¹æœ¬åŸå› ï¼Œé‚£å¯èƒ½éœ€è¦ä½ è¿™è¾¹æä¾›JM/TMçš„å®Œæ•´logï¼Œè¿™æ ·æ–¹ä¾¿åˆ†æ&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; Best,&#010;&gt; &gt; Yang&#010;&gt; &gt;&#010;&gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸Šåˆ11:30å†™é“ï¼š&#010;&gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Hi Yang Wang&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; åˆšåˆšåœ¨æµ‹è¯•ç¯å¢ƒæµ‹è¯•äº†ä¸€ä¸‹ï¼ŒtaskManageræ²¡æœ‰åŠæ³•nslookupå‡ºæ¥ï¼ŒJMå¯ä»¥nslookupï¼Œè¿™ä¸¤è€…çš„å·®åˆ«åœ¨äºæ˜¯å¦æœ‰serviceã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; è§£å†³æ–¹æ¡ˆï¼šæˆ‘è¿™è¾¹ç»™é›†ç¾¤åŠ ä¸Šäº†taskmanager-query-state-service.yamlï¼ˆæŒ‰ç…§å®˜ç½‘ä¸Šæ˜¯å¯é€‰æœåŠ¡ï¼‰ã€‚å°±ä¸ä¼šåˆ·No&#010;&gt; &gt; &gt; hostname could be resolved for ip&#010;&gt; &gt; &gt; addressï¼Œå°†NodePortæ”¹ä¸ºClusterIpï¼Œä½œä¸šå°±å¯ä»¥æˆåŠŸæäº¤ï¼Œä¸ä¼šå‡ºç°time outçš„é—®é¢˜äº†ï¼Œé—®é¢˜å¾—åˆ°äº†è§£å†³ã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; 1. å¦‚æœæŒ‰ç…§ä¸Šé¢çš„æƒ…å†µï¼Œé‚£ä¹ˆè¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯å¿…é¡»é…ç½®çš„ï¼Ÿ&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; 2. åœ¨1.11çš„æ›´æ–°ä¸­ï¼Œå‘ç°æœ‰ [Flink-15911][Flink-15154]&#010;&gt; &gt; &gt; æ”¯æŒåˆ†åˆ«é…ç½®ç”¨äºæœ¬åœ°ç›‘å¬ç»‘å®šçš„ç½‘ç»œæ¥å£å’Œå¤–éƒ¨è®¿é—®çš„åœ°å€å’Œç«¯å£ã€‚æ˜¯å¦æ˜¯è¿™å—çš„æ”¹åŠ¨ï¼Œ&#010;&gt; &gt; &gt; éœ€è¦JMå»é€šè¿‡TMä¸ŠæŠ¥çš„ipåå‘è§£æå‡ºserviceï¼Ÿ&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Bsetï¼&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; [1]&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/kubernetes.html&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; &lt;&#010;&gt; &gt;&#010;&gt; https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt&#010;&gt; ;&#010;&gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt; å®šåˆ¶&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; On 07/23/2020 10:11, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;&gt; &gt; &gt; æˆ‘çš„æ„æ€å°±æ˜¯ä½ åœ¨Flinkä»»åŠ¡è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œç„¶åä¸‹é¢çš„å‘½ä»¤åœ¨é›†ç¾¤é‡Œé¢èµ·ä¸€ä¸ªbusyboxçš„podï¼Œ&#010;&gt; &gt; &gt; åœ¨é‡Œé¢æ‰§è¡Œ nslookup {ip_address}ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸è§£æåˆ°ã€‚å¦‚æœä¸èƒ½åº”è¯¥å°±æ˜¯corednsçš„&#010;&gt; &gt; &gt; é—®é¢˜äº†&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; kubectl run -i -t busybox --image=busybox --restart=Never&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; ä½ éœ€è¦ç¡®è®¤ä¸‹é›†ç¾¤çš„coredns podæ˜¯å¦æ­£å¸¸ï¼Œä¸€èˆ¬æ˜¯éƒ¨ç½²åœ¨kube-systemè¿™ä¸ªnamespaceä¸‹çš„&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; Best,&#010;&gt; &gt; &gt; Yang&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ22æ—¥å‘¨ä¸‰ ä¸‹åˆ7:57å†™é“ï¼š&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; Hiï¼ŒYang Wangï¼&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; å¾ˆå¼€å¿ƒå¯ä»¥æ”¶åˆ°ä½ çš„å›å¤ï¼Œä½ çš„å›å¤å¸®åŠ©å¾ˆå¤§ï¼Œè®©æˆ‘çŸ¥é“äº†é—®é¢˜çš„æ–¹å‘ã€‚æˆ‘å†è¡¥å……äº›ä¿¡æ¯ï¼Œå¸Œæœ›å¯ä»¥å¸®æˆ‘è¿›ä¸€æ­¥åˆ¤æ–­ä¸€ä¸‹é—®é¢˜æ ¹æºã€‚&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; åœ¨JMæŠ¥é”™çš„åœ°æ–¹ï¼ŒNo hostname could be resolved for ip address xxxxx&#010;&gt; &gt; &gt; &gt; ï¼ŒæŠ¥å‡ºæ¥çš„ipæ˜¯k8såˆ†é…ç»™flink podçš„å†…ç½‘ipï¼Œä¸æ˜¯å®¿ä¸»æœºçš„ipã€‚è¯·é—®è¿™ä¸ªé—®é¢˜å¯èƒ½å‡ºåœ¨å“ªé‡Œå‘¢&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; Bestï¼&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &lt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt&#010;&gt; ;&#010;&gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt; å®šåˆ¶&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; On 07/22/2020 18:18, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;&gt; &gt; &gt; &gt; å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP&#010;&gt; &gt; &gt; addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#010;&gt; &gt; &gt; &gt; æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#010;&gt; &gt; &gt; &gt; å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; Best,&#010;&gt; &gt; &gt; &gt; Yang&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ7:29å†™é“ï¼š&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; Hi&#010;&gt; &gt; &gt; &gt; &gt;    ä¸ç¡®å®š k8s ç¯å¢ƒä¸­èƒ½å¦çœ‹åˆ° pod çš„å®Œæ•´æ—¥å¿—ï¼Ÿç±»ä¼¼ Yarn çš„ NM æ—¥å¿—ä¸€æ ·ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹è¿™ä¸ª pod&#010;&gt; &gt; &gt; &gt; &gt; çš„å®Œæ•´æ—¥å¿—æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°&#010;&gt; &gt; &gt; &gt; &gt; Best,&#010;&gt; &gt; &gt; &gt; &gt; Congxian&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ3:19å†™é“ï¼š&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; Hiï¼ŒCongxian&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; å› ä¸ºæ˜¯æµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰é…ç½®HAï¼Œç›®å‰çœ‹åˆ°çš„ä¿¡æ¯ï¼Œå°±æ˜¯JMåˆ·å‡ºæ¥å¤§é‡çš„no hostname could be&#010;&gt; &gt; &gt; &gt; &gt; &gt; resolvedï¼Œjmå¤±è”ï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; å°†jmå†…å­˜é…ç½®ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µï¼ˆjobmanager.memory.pprocesa.sizeï¼š10240mï¼‰ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; åœ¨åŒä¸€ä¸ªç¯å¢ƒå°†ç‰ˆæœ¬å›é€€åˆ°1.10æ²¡æœ‰å‡ºç°è¯¥é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåˆ·å¦‚ä¸ŠæŠ¥é”™ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; æ˜¯å¦æœ‰å…¶ä»–æ’æŸ¥æ€è·¯ï¼Ÿ&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; Bestï¼&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; | |&#010;&gt; &gt; &gt; &gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; On 07/16/2020 13:17, Congxian Qiu wrote:&#010;&gt; &gt; &gt; &gt; &gt; &gt; Hi&#010;&gt; &gt; &gt; &gt; &gt; &gt;   å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼ŒGC æƒ…å†µä¹Ÿæ­£å¸¸çš„è¯ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹ pod çš„ç›¸å…³æ—¥å¿—ï¼Œå¦‚æœå¼€å¯äº† HA ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹ zk&#010;&gt; &gt; &gt; çš„æ—¥å¿—ã€‚ä¹‹å‰é‡åˆ°è¿‡ä¸€æ¬¡åœ¨&#010;&gt; &gt; &gt; &gt; &gt; Yarn&#010;&gt; &gt; &gt; &gt; &gt; &gt; ç¯å¢ƒä¸­ç±»ä¼¼çš„ç°è±¡æ˜¯ç”±äºå…¶ä»–åŸå› å¯¼è‡´çš„ï¼Œé€šè¿‡çœ‹ NM æ—¥å¿—ä»¥åŠ zk æ—¥å¿—å‘ç°çš„åŸå› ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; Best,&#010;&gt; &gt; &gt; &gt; &gt; &gt; Congxian&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:20å†™é“ï¼š&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; Hi Roc&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; | |&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; a511955993&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; |&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; On 07/15/2020 17:16, Roc Marshal wrote:&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; Hiï¼ŒSmileSmile.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; ç¥å¥½ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; Roc Marshal&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;Hi&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM 4ä¸ªslotã€‚&#010;&gt; &gt; job&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be resolved for the IP&#010;&gt; &gt; &gt; &gt; addressï¼ŒJM&#010;&gt; &gt; &gt; &gt; &gt; &gt; time&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno&#010;&gt; &gt; hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     []&#010;&gt; &gt; -&#010;&gt; &gt; &gt; No&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.32.160.7,&#010;&gt; using&#010;&gt; &gt; &gt; IP&#010;&gt; &gt; &gt; &gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#010;&gt; &gt; &gt; files)&#010;&gt; &gt; &gt; &gt; may&#010;&gt; &gt; &gt; &gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,460 WARN&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     []&#010;&gt; &gt; -&#010;&gt; &gt; &gt; No&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.44.224.7,&#010;&gt; using&#010;&gt; &gt; &gt; IP&#010;&gt; &gt; &gt; &gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#010;&gt; &gt; &gt; files)&#010;&gt; &gt; &gt; &gt; may&#010;&gt; &gt; &gt; &gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:58:46,461 WARN&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; org.apache.flink.runtime.taskmanager.TaskManagerLocation     []&#010;&gt; &gt; -&#010;&gt; &gt; &gt; No&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; hostname could be resolved for the IP address 10.40.32.9, using&#010;&gt; &gt; IP&#010;&gt; &gt; &gt; &gt; &gt; &gt; address&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; as host name. Local input split assignment (such as for HDFS&#010;&gt; &gt; &gt; files)&#010;&gt; &gt; &gt; &gt; may&#010;&gt; &gt; &gt; &gt; &gt; &gt; be&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; impacted.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;&gt; &gt; &gt; &gt; [] -&#010;&gt; &gt; &gt; &gt; &gt; &gt; The&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; heartbeat of JobManager with id&#010;&gt; 69a0d460de468888a9f41c770d963c0a&#010;&gt; &gt; &gt; &gt; timed&#010;&gt; &gt; &gt; &gt; &gt; &gt; out.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;2020-07-15 16:59:10,236 INFO&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;&gt; &gt; &gt; &gt; [] -&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; Disconnect job manager 00000000000000000000000000000000&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; @akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2&#010;&gt; &gt; for&#010;&gt; &gt; &gt; &gt; job&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;how to deal with ï¼Ÿ&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;beset ï¼&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;| |&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;a511955993&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;|&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt;&#010;&#010;",
        "depth": "14",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<3aecc979.4bf0.173a4b8ef54.Coremail.wangm92@163.com>",
        "from": "&quot;Matt Wang&quot; &lt;wang...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 31 Jul 2020 11:54:10 GMT",
        "subject": "Re: Flink 1.11 submit job timed out",
        "content": "é‡åˆ°äº†åŒæ ·çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯å¯åŠ¨äº† taskmanager-query-state-service.yaml è¿™ä¸ªæœåŠ¡åï¼Œä½œä¸šæ‰èƒ½æ­£å¸¸æäº¤çš„ï¼Œå¦å¤–æˆ‘æ˜¯åœ¨æœ¬åœ°è£…çš„ k8s é›†ç¾¤è¿›è¡Œæµ‹è¯•çš„ï¼Œå¦‚æœæ˜¯ GC çš„é—®é¢˜ï¼Œå¯ä¸å¯åŠ¨ TM service åº”è¯¥ä¸ä¼šæœ‰å½±å“çš„&#010;&#010;&#010;--&#010;&#010;Best,&#010;Matt Wang&#010;&#010;&#010;On 07/27/2020 15:01ï¼ŒYang Wang&lt;danrtsey.wy@gmail.com&gt; wroteï¼š&#010;å»ºè®®å…ˆé…ç½®heartbeat.timeoutçš„å€¼å¤§ä¸€äº›ï¼Œç„¶åæŠŠgc logæ‰“å‡ºæ¥&#010;çœ‹çœ‹æ˜¯ä¸æ˜¯ç»å¸¸å‘ç”ŸfullGCï¼Œæ¯æ¬¡æŒç»­æ—¶é—´æ˜¯å¤šé•¿ï¼Œä»ä½ ç›®å‰æä¾›çš„logçœ‹ï¼Œè¿›ç¨‹å†…JM-&gt;RMéƒ½ä¼šå¿ƒè·³è¶…æ—¶&#010;æ€€ç–‘è¿˜æ˜¯å’ŒGCæœ‰å…³çš„&#010;&#010;env.java.opts.jobmanager: -Xloggc:&lt;LOG_DIR&gt;/jobmanager-gc.log&#010;-XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=2 -XX:GCLogFileSize=512M&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ27æ—¥å‘¨ä¸€ ä¸‹åˆ1:50å†™é“ï¼š&#010;&#010;Hiï¼ŒYang Wang&#010;&#010;å› ä¸ºæ—¥å¿—å¤ªé•¿äº†ï¼Œåˆ äº†ä¸€äº›é‡å¤çš„å†…å®¹ã€‚&#010;ä¸€å¼€å§‹æ€€ç–‘è¿‡jm gcçš„é—®é¢˜ï¼Œå°†jmçš„å†…å­˜è°ƒæ•´ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µã€‚&#010;&#010;Best&#010;&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;On 07/27/2020 11:36, Yang Wang wrote:&#010;çœ‹ä½ è¿™ä¸ªä»»åŠ¡ï¼Œå¤±è´¥çš„æ ¹æœ¬åŸå› å¹¶ä¸æ˜¯â€œNo hostname could be resolved&#010;â€ï¼Œè¿™ä¸ªWARNINGçš„åŸå› å¯ä»¥å•ç‹¬è®¨è®ºï¼ˆå¦‚æœåœ¨1.10é‡Œé¢ä¸å­˜åœ¨çš„è¯ï¼‰ã€‚&#010;ä½ å¯ä»¥æœ¬åœ°èµ·ä¸€ä¸ªStandaloneçš„é›†ç¾¤ï¼Œä¹Ÿä¼šæœ‰è¿™æ ·çš„WARNINGï¼Œå¹¶ä¸å½±å“æ­£å¸¸ä½¿ç”¨&#010;&#010;&#010;å¤±è´¥çš„åŸå› æ˜¯slot 5åˆ†é’Ÿç”³è¯·è¶…æ—¶äº†ï¼Œä½ ç»™çš„æ—¥å¿—é‡Œé¢2020-07-23 13:55:45,519åˆ°2020-07-23&#010;13:58:18,037æ˜¯ç©ºç™½çš„ï¼Œæ²¡æœ‰è¿›è¡Œçœç•¥å§ï¼Ÿ&#010;è¿™æ®µæ—¶é—´æŒ‰ç†åº”è¯¥æ˜¯taskå¼€å§‹deployäº†ã€‚åœ¨æ—¥å¿—é‡Œçœ‹åˆ°äº†JM-&gt;RMçš„å¿ƒè·³è¶…æ—¶ï¼ŒåŒä¸€ä¸ªPodé‡Œé¢çš„åŒä¸€ä¸ªè¿›ç¨‹é€šä¿¡ä¹Ÿè¶…æ—¶äº†&#010;æ‰€ä»¥æ€€ç–‘JMä¸€ç›´åœ¨FullGCï¼Œè¿™ä¸ªéœ€è¦ä½ ç¡®è®¤ä¸€ä¸‹&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸‹åˆ2:43å†™é“ï¼š&#010;&#010;Hi Yang Wang&#010;&#010;å…ˆåˆ†äº«ä¸‹æˆ‘è¿™è¾¹çš„ç¯å¢ƒç‰ˆæœ¬&#010;&#010;&#010;kubernetesï¼š1.17.4.   CNIï¼š weave&#010;&#010;&#010;1 2 3 æ˜¯æˆ‘çš„ä¸€äº›ç–‘æƒ‘&#010;&#010;4 æ˜¯JMæ—¥å¿—&#010;&#010;&#010;1. å»æ‰taskmanager-query-state-service.yamlåç¡®å®ä¸è¡Œ  nslookup&#010;&#010;kubectl exec -it busybox2 -- /bin/sh&#010;/ # nslookup 10.47.96.2&#010;Server:          10.96.0.10&#010;Address:     10.96.0.10:53&#010;&#010;** server can't find 2.96.47.10.in-addr.arpa: NXDOMAIN&#010;&#010;&#010;&#010;2. Flink1.11å’ŒFlink1.10&#010;&#010;detail subtasks taskmanagers xxx x è¿™è¡Œ&#010;&#010;1.11å˜æˆäº†172-20-0-50ã€‚1.10æ˜¯flink-taskmanager-7b5d6958b6-sfzlk:36459ã€‚è¿™å—çš„æ”¹åŠ¨æ˜¯ï¼Ÿï¼ˆç›®å‰è¿™ä¸ªé›†ç¾¤è·‘ç€1.10å’Œ1.11,1.10å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå¦‚æœcorednsæœ‰é—®é¢˜ï¼Œ1.10ç‰ˆæœ¬çš„flinkåº”è¯¥ä¹Ÿæœ‰ä¸€æ ·çš„æƒ…å†µå§ï¼Ÿï¼‰&#010;&#010;3. corednsæ˜¯å¦ç‰¹æ®Šé…ç½®ï¼Ÿ&#010;&#010;åœ¨å®¹å™¨ä¸­è§£æåŸŸåæ˜¯æ­£å¸¸çš„ï¼Œåªæ˜¯åå‘è§£ææ²¡æœ‰serviceæ‰ä¼šæœ‰é—®é¢˜ã€‚corednsæ˜¯å¦æœ‰ä»€ä¹ˆéœ€è¦é…ç½®ï¼Ÿ&#010;&#010;&#010;4. time outæ—¶å€™çš„JMæ—¥å¿—å¦‚ä¸‹ï¼š&#010;&#010;&#010;&#010;2020-07-23 13:53:00,228 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;ResourceManager akka.tcp://flink@flink-jobmanager&#010;:6123/user/rpc/resourcemanager_0&#010;was granted leadership with fencing token&#010;00000000000000000000000000000000&#010;2020-07-23 13:53:00,232 INFO&#010;org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] -&#010;Starting&#010;RPC endpoint for org.apache.flink.runtime.dispatcher.StandaloneDispatcher&#010;at akka://flink/user/rpc/dispatcher_1 .&#010;2020-07-23 13:53:00,233 INFO&#010;org.apache.flink.runtime.resourcemanager.slotmanager.SlotManagerImpl []&#010;-&#010;Starting the SlotManager.&#010;2020-07-23 13:53:03,472 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Registering TaskManager with ResourceID 1f9ae0cd95a28943a73be26323588696&#010;(akka.tcp://flink@10.34.128.9:6122/user/rpc/taskmanager_0) at&#010;ResourceManager&#010;2020-07-23 13:53:03,777 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Registering TaskManager with ResourceID cac09e751264e61615329c20713a84b4&#010;(akka.tcp://flink@10.32.160.6:6122/user/rpc/taskmanager_0) at&#010;ResourceManager&#010;2020-07-23 13:53:03,787 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Registering TaskManager with ResourceID 93c72d01d09f9ae427c5fc980ed4c1e4&#010;(akka.tcp://flink@10.39.0.8:6122/user/rpc/taskmanager_0) at&#010;ResourceManager&#010;2020-07-23 13:53:04,044 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Registering TaskManager with ResourceID 8adf2f8e81b77a16d5418a9e252c61e2&#010;(akka.tcp://flink@10.38.64.7:6122/user/rpc/taskmanager_0) at&#010;ResourceManager&#010;2020-07-23 13:53:04,099 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Registering TaskManager with ResourceID 23e9d2358f6eb76b9ae718d879d4f330&#010;(akka.tcp://flink@10.42.160.6:6122/user/rpc/taskmanager_0) at&#010;ResourceManager&#010;2020-07-23 13:53:04,146 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Registering TaskManager with ResourceID 092f8dee299e32df13db3111662b61f8&#010;(akka.tcp://flink@10.33.192.14:6122/user/rpc/taskmanager_0) at&#010;ResourceManager&#010;&#010;&#010;2020-07-23 13:55:44,220 INFO&#010;org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] -&#010;Received&#010;JobGraph submission 99a030d0e3f428490a501c0132f27a56 (JobTest).&#010;2020-07-23 13:55:44,222 INFO&#010;org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] -&#010;Submitting job 99a030d0e3f428490a501c0132f27a56 (JobTest).&#010;2020-07-23 13:55:44,251 INFO&#010;org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] -&#010;Starting&#010;RPC endpoint for org.apache.flink.runtime.jobmaster.JobMaster at&#010;akka://flink/user/rpc/jobmanager_2 .&#010;2020-07-23 13:55:44,260 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Initializing job JobTest&#010;(99a030d0e3f428490a501c0132f27a56).&#010;2020-07-23 13:55:44,278 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Using restart back off time strategy&#010;NoRestartBackoffTimeStrategy for JobTest&#010;(99a030d0e3f428490a501c0132f27a56).&#010;2020-07-23 13:55:44,319 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Running initialization on master for job JobTest&#010;(99a030d0e3f428490a501c0132f27a56).&#010;2020-07-23 13:55:44,319 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Successfully ran initialization on master in 0 ms.&#010;2020-07-23 13:55:44,428 INFO&#010;org.apache.flink.runtime.scheduler.adapter.DefaultExecutionTopology [] -&#010;Built 1 pipelined regions in 25 ms&#010;2020-07-23 13:55:44,437 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Loading state backend via factory&#010;org.apache.flink.contrib.streaming.state.RocksDBStateBackendFactory&#010;2020-07-23 13:55:44,456 INFO&#010;org.apache.flink.contrib.streaming.state.RocksDBStateBackend [] - Using&#010;predefined options: DEFAULT.&#010;2020-07-23 13:55:44,457 INFO&#010;org.apache.flink.contrib.streaming.state.RocksDBStateBackend [] - Using&#010;default options factory:&#010;DefaultConfigurableOptionsFactory{configuredOptions={}}.&#010;2020-07-23 13:55:44,466 WARN  org.apache.flink.runtime.util.HadoopUtils&#010;[] - Could not find Hadoop configuration via any of the&#010;supported methods (Flink configuration, environment variables).&#010;2020-07-23 13:55:45,276 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Using failover strategy&#010;&#010;org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy@72bd8533&#010;for JobTest (99a030d0e3f428490a501c0132f27a56).&#010;2020-07-23 13:55:45,280 INFO&#010;org.apache.flink.runtime.jobmaster.JobManagerRunnerImpl      [] -&#010;JobManager runner for job JobTest (99a030d0e3f428490a501c0132f27a56) was&#010;granted leadership with session id 00000000-0000-0000-0000-000000000000&#010;at&#010;akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2.&#010;2020-07-23 13:55:45,286 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Starting scheduling with scheduling strategy&#010;[org.apache.flink.runtime.scheduler.strategy.EagerSchedulingStrategy]&#010;&#010;&#010;&#010;2020-07-23 13:55:45,436 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;serve slot request, no ResourceManager connected. Adding as pending&#010;request&#010;[SlotRequestId{e092b12b96b0a98bbf057e71b9705c23}]&#010;2020-07-23 13:55:45,436 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;serve slot request, no ResourceManager connected. Adding as pending&#010;request&#010;[SlotRequestId{4ad15f417716c9e07fca383990c0f52a}]&#010;2020-07-23 13:55:45,436 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;serve slot request, no ResourceManager connected. Adding as pending&#010;request&#010;[SlotRequestId{345fdb427a893b7fc3f4f040f93445d2}]&#010;2020-07-23 13:55:45,437 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;serve slot request, no ResourceManager connected. Adding as pending&#010;request&#010;[SlotRequestId{e559485ea7b0b7e17367816882538d90}]&#010;2020-07-23 13:55:45,437 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;serve slot request, no ResourceManager connected. Adding as pending&#010;request&#010;[SlotRequestId{7be8f6c1aedb27b04e7feae68078685c}]&#010;2020-07-23 13:55:45,437 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;serve slot request, no ResourceManager connected. Adding as pending&#010;request&#010;[SlotRequestId{582a86197884206652dff3aea2306bb3}]&#010;2020-07-23 13:55:45,437 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;serve slot request, no ResourceManager connected. Adding as pending&#010;request&#010;[SlotRequestId{0cc24260eda3af299a0b321feefaf2cb}]&#010;2020-07-23 13:55:45,437 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;serve slot request, no ResourceManager connected. Adding as pending&#010;request&#010;[SlotRequestId{240ca6f3d3b5ece6a98243ec8cadf616}]&#010;2020-07-23 13:55:45,438 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;serve slot request, no ResourceManager connected. Adding as pending&#010;request&#010;[SlotRequestId{c35033d598a517acc108424bb9f809fb}]&#010;2020-07-23 13:55:45,438 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;serve slot request, no ResourceManager connected. Adding as pending&#010;request&#010;[SlotRequestId{ad35013c3b532d4b4df1be62395ae0cf}]&#010;2020-07-23 13:55:45,438 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] - Cannot&#010;serve slot request, no ResourceManager connected. Adding as pending&#010;request&#010;[SlotRequestId{c929bd5e8daf432d01fad1ece3daec1a}]&#010;2020-07-23 13:55:45,487 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Connecting to ResourceManager&#010;akka.tcp://flink@flink-jobmanager&#010;:6123/user/rpc/resourcemanager_*(00000000000000000000000000000000)&#010;2020-07-23 13:55:45,492 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Resolved ResourceManager address, beginning&#010;registration&#010;2020-07-23 13:55:45,493 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Registering job manager 00000000000000000000000000000000&#010;@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 13:55:45,499 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Registered job manager 00000000000000000000000000000000&#010;@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 13:55:45,501 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - JobManager successfully registered at&#010;ResourceManager,&#010;leader id: 00000000000000000000000000000000.&#010;2020-07-23 13:55:45,501 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{15fd2a9565c2b080748c1d1592b1cbbc}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,502 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Request slot with profile ResourceProfile{UNKNOWN} for job&#010;99a030d0e3f428490a501c0132f27a56 with allocation id&#010;d420d08bf2654d9ea76955c70db18b69.&#010;2020-07-23 13:55:45,502 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{8cd72cc16f0e319d915a9a096a1096d7}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,503 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{e7e422409acebdb385014a9634af6a90}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,503 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{cef1af73546ca1fc27ca7a3322e9e815}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,503 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{108fe0b3086567ad79275eccef2fdaf8}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,503 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{265e67985eab7a6dc08024e53bf2708d}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,503 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{7087497a17c441f1a1d6fefcbc7cd0ea}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,503 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{14ac08438e79c8db8d25d93b99d62725}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;&#010;2020-07-23 13:55:45,514 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Request slot with profile ResourceProfile{UNKNOWN} for job&#010;99a030d0e3f428490a501c0132f27a56 with allocation id&#010;fce526bbe3e1be91caa3e4b536b20e35.&#010;2020-07-23 13:55:45,514 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{40c7abbb12514c405323b0569fb21647}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,514 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{a4985a9647b65b30a571258b45c8f2ce}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,515 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{c52a6eb2fa58050e71e7903590019fd1}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;&#010;2020-07-23 13:55:45,517 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Request slot with profile ResourceProfile{UNKNOWN} for job&#010;99a030d0e3f428490a501c0132f27a56 with allocation id&#010;18ac7ec802ebfcfed8c05ee9324a55a4.&#010;&#010;2020-07-23 13:55:45,518 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Request slot with profile ResourceProfile{UNKNOWN} for job&#010;99a030d0e3f428490a501c0132f27a56 with allocation id&#010;7ec76cbe689eb418b63599e90ade19be.&#010;2020-07-23 13:55:45,518 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{46d65692a8b5aad11b51f9a74a666a74}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,518 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{3670bb4f345eedf941cc18e477ba1e9d}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,518 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{4a12467d76b9e3df8bc3412c0be08e14}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,518 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{e092b12b96b0a98bbf057e71b9705c23}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,518 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{4ad15f417716c9e07fca383990c0f52a}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,518 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{345fdb427a893b7fc3f4f040f93445d2}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,519 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Requesting new slot [SlotRequestId{e559485ea7b0b7e17367816882538d90}] and&#010;profile ResourceProfile{UNKNOWN} from resource manager.&#010;2020-07-23 13:55:45,519 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Request slot with profile ResourceProfile{UNKNOWN} for job&#010;99a030d0e3f428490a501c0132f27a56 with allocation id&#010;b78837a29b4032924ac25be70ed21a3c.&#010;&#010;&#010;2020-07-23 13:58:18,037 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;hostname could be resolved for the IP address 10.47.96.2, using IP&#010;address&#010;as host name. Local input split assignment (such as for HDFS files) may&#010;be&#010;impacted.&#010;2020-07-23 13:58:22,192 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;hostname could be resolved for the IP address 10.34.64.14, using IP&#010;address&#010;as host name. Local input split assignment (such as for HDFS files) may&#010;be&#010;impacted.&#010;2020-07-23 13:58:22,358 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;hostname could be resolved for the IP address 10.34.128.9, using IP&#010;address&#010;as host name. Local input split assignment (such as for HDFS files) may&#010;be&#010;impacted.&#010;2020-07-23 13:58:24,562 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;hostname could be resolved for the IP address 10.32.160.6, using IP&#010;address&#010;as host name. Local input split assignment (such as for HDFS files) may&#010;be&#010;impacted.&#010;2020-07-23 13:58:25,487 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;hostname could be resolved for the IP address 10.38.64.7, using IP&#010;address&#010;as host name. Local input split assignment (such as for HDFS files) may&#010;be&#010;impacted.&#010;2020-07-23 13:58:27,636 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;hostname could be resolved for the IP address 10.42.160.6, using IP&#010;address&#010;as host name. Local input split assignment (such as for HDFS files) may&#010;be&#010;impacted.&#010;2020-07-23 13:58:27,767 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;hostname could be resolved for the IP address 10.43.64.12, using IP&#010;address&#010;as host name. Local input split assignment (such as for HDFS files) may&#010;be&#010;impacted.&#010;2020-07-23 13:58:29,651 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;The heartbeat of JobManager with id 456a18b6c404cb11a359718e16de1c6b&#010;timed&#010;out.&#010;2020-07-23 13:58:29,651 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Disconnect job manager 00000000000000000000000000000000&#010;@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;99a030d0e3f428490a501c0132f27a56 from the resource manager.&#010;2020-07-23 13:58:29,854 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;hostname could be resolved for the IP address 10.39.0.8, using IP address&#010;as host name. Local input split assignment (such as for HDFS files) may&#010;be&#010;impacted.&#010;2020-07-23 13:58:33,623 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;hostname could be resolved for the IP address 10.35.0.10, using IP&#010;address&#010;as host name. Local input split assignment (such as for HDFS files) may&#010;be&#010;impacted.&#010;2020-07-23 13:58:35,756 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;hostname could be resolved for the IP address 10.36.32.8, using IP&#010;address&#010;as host name. Local input split assignment (such as for HDFS files) may&#010;be&#010;impacted.&#010;2020-07-23 13:58:36,694 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     [] - No&#010;hostname could be resolved for the IP address 10.42.128.6, using IP&#010;address&#010;as host name. Local input split assignment (such as for HDFS files) may&#010;be&#010;impacted.&#010;&#010;&#010;2020-07-23 14:01:17,814 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Close ResourceManager connection&#010;83b1ff14900abfd54418e7fa3efb3f8a: The heartbeat of JobManager with id&#010;456a18b6c404cb11a359718e16de1c6b timed out..&#010;2020-07-23 14:01:17,815 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Connecting to ResourceManager&#010;akka.tcp://flink@flink-jobmanager&#010;:6123/user/rpc/resourcemanager_*(00000000000000000000000000000000)&#010;2020-07-23 14:01:17,816 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Resolved ResourceManager address, beginning&#010;registration&#010;2020-07-23 14:01:17,816 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Registering job manager 00000000000000000000000000000000&#010;@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 14:01:17,836 INFO&#010;org.apache.flink.runtime.executiongraph.ExecutionGraph       [] -&#010;Source:&#010;host_relation -&gt; Timestamps/Watermarks -&gt; Map (1/1)&#010;(302ca9640e2d209a543d843f2996ccd2) switched from SCHEDULED to FAILED on&#010;not&#010;deployed.&#010;&#010;org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException:&#010;Could not allocate the required slot within slot request timeout. Please&#010;make sure that the cluster has enough resources.&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.actor.Actor$class.aroundReceive(Actor.scala:517)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.actor.ActorCell.invoke(ActorCell.scala:561)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.dispatch.Mailbox.run(Mailbox.scala:225)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;Caused by: java.util.concurrent.CompletionException:&#010;java.util.concurrent.TimeoutException&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)&#010;~[?:1.8.0_242]&#010;... 25 more&#010;Caused by: java.util.concurrent.TimeoutException&#010;... 23 more&#010;2020-07-23 14:01:17,848 INFO&#010;&#010;org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy&#010;[] - Calculating tasks to restart to recover the failed task&#010;cbc357ccb763df2852fee8c4fc7d55f2_0.&#010;2020-07-23 14:01:17,910 INFO&#010;&#010;org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy&#010;[] - 902 tasks should be restarted to recover the failed task&#010;cbc357ccb763df2852fee8c4fc7d55f2_0.&#010;2020-07-23 14:01:17,913 INFO&#010;org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job&#010;JobTest (99a030d0e3f428490a501c0132f27a56) switched from state RUNNING to&#010;FAILING.&#010;org.apache.flink.runtime.JobException: Recovery is suppressed by&#010;NoRestartBackoffTimeStrategy&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:116)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:78)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:192)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:185)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:179)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:503)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.UpdateSchedulerNgOnInternalFailuresListener.notifyTaskFailure(UpdateSchedulerNgOnInternalFailuresListener.java:49)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.ExecutionGraph.notifySchedulerNgAboutInternalTaskFailure(ExecutionGraph.java:1710)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1287)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1255)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.Execution.markFailed(Execution.java:1086)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.ExecutionVertex.markFailed(ExecutionVertex.java:748)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultExecutionVertexOperations.markFailed(DefaultExecutionVertexOperations.java:41)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskDeploymentFailure(DefaultScheduler.java:435)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.actor.Actor$class.aroundReceive(Actor.scala:517)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.actor.ActorCell.invoke(ActorCell.scala:561)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.dispatch.Mailbox.run(Mailbox.scala:225)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;Caused by:&#010;&#010;org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException:&#010;Could not allocate the required slot within slot request timeout. Please&#010;make sure that the cluster has enough resources.&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;... 45 more&#010;Caused by: java.util.concurrent.CompletionException:&#010;java.util.concurrent.TimeoutException&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)&#010;~[?:1.8.0_242]&#010;... 25 more&#010;Caused by: java.util.concurrent.TimeoutException&#010;... 23 more&#010;&#010;&#010;&#010;2020-07-23 14:01:18,109 INFO&#010;org.apache.flink.runtime.executiongraph.ExecutionGraph       [] -&#010;Discarding the results produced by task execution&#010;1809eb912d69854f2babedeaf879df6a.&#010;2020-07-23 14:01:18,110 INFO&#010;org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job&#010;JobTest (99a030d0e3f428490a501c0132f27a56) switched from state FAILING to&#010;FAILED.&#010;org.apache.flink.runtime.JobException: Recovery is suppressed by&#010;NoRestartBackoffTimeStrategy&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:116)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:78)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:192)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:185)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:179)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:503)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.UpdateSchedulerNgOnInternalFailuresListener.notifyTaskFailure(UpdateSchedulerNgOnInternalFailuresListener.java:49)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.ExecutionGraph.notifySchedulerNgAboutInternalTaskFailure(ExecutionGraph.java:1710)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1287)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1255)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.Execution.markFailed(Execution.java:1086)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.executiongraph.ExecutionVertex.markFailed(ExecutionVertex.java:748)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultExecutionVertexOperations.markFailed(DefaultExecutionVertexOperations.java:41)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskDeploymentFailure(DefaultScheduler.java:435)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:422)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:168)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:726)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$new$0(SlotSharingManager.java:432)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1120)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1036)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.actor.Actor$class.aroundReceive(Actor.scala:517)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.actor.ActorCell.invoke(ActorCell.scala:561)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.dispatch.Mailbox.run(Mailbox.scala:225)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;at&#010;&#010;akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;Caused by:&#010;&#010;org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException:&#010;Could not allocate the required slot within slot request timeout. Please&#010;make sure that the cluster has enough resources.&#010;at&#010;&#010;org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:441)&#010;~[flink-dist_2.11-1.11.1.jar:1.11.1]&#010;... 45 more&#010;Caused by: java.util.concurrent.CompletionException:&#010;java.util.concurrent.TimeoutException&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)&#010;~[?:1.8.0_242]&#010;at&#010;&#010;java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)&#010;~[?:1.8.0_242]&#010;... 25 more&#010;Caused by: java.util.concurrent.TimeoutException&#010;... 23 more&#010;2020-07-23 14:01:18,114 INFO&#010;org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] -&#010;Stopping&#010;checkpoint coordinator for job 99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 14:01:18,117 INFO&#010;org.apache.flink.runtime.checkpoint.StandaloneCompletedCheckpointStore&#010;[]&#010;- Shutting down&#010;2020-07-23 14:01:18,118 INFO&#010;org.apache.flink.runtime.executiongraph.ExecutionGraph       [] -&#010;Discarding the results produced by task execution&#010;302ca9640e2d209a543d843f2996ccd2.&#010;2020-07-23 14:01:18,120 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Pending&#010;slot request [SlotRequestId{15fd2a9565c2b080748c1d1592b1cbbc}] timed out.&#010;2020-07-23 14:01:18,120 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Pending&#010;slot request [SlotRequestId{8cd72cc16f0e319d915a9a096a1096d7}] timed out.&#010;2020-07-23 14:01:18,120 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Pending&#010;slot request [SlotRequestId{e7e422409acebdb385014a9634af6a90}] timed out.&#010;2020-07-23 14:01:18,121 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Pending&#010;slot request [SlotRequestId{cef1af73546ca1fc27ca7a3322e9e815}] timed out.&#010;2020-07-23 14:01:18,121 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Pending&#010;slot request [SlotRequestId{108fe0b3086567ad79275eccef2fdaf8}] timed out.&#010;2020-07-23 14:01:18,121 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Pending&#010;slot request [SlotRequestId{265e67985eab7a6dc08024e53bf2708d}] timed out.&#010;2020-07-23 14:01:18,122 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Pending&#010;slot request [SlotRequestId{7087497a17c441f1a1d6fefcbc7cd0ea}] timed out.&#010;2020-07-23 14:01:18,122 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Pending&#010;slot request [&#010;&#010;&#010;2020-07-23 14:01:18,151 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Registering job manager 00000000000000000000000000000000&#010;@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 14:01:18,157 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Registered job manager 00000000000000000000000000000000&#010;@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 14:01:18,157 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Registered job manager 00000000000000000000000000000000&#010;@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 14:01:18,157 INFO&#010;org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Job&#010;99a030d0e3f428490a501c0132f27a56 reached globally terminal state FAILED.&#010;2020-07-23 14:01:18,162 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Registered job manager 00000000000000000000000000000000&#010;@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;99a030d0e3f428490a501c0132f27a56.&#010;2020-07-23 14:01:18,162 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - JobManager successfully registered at&#010;ResourceManager,&#010;leader id: 00000000000000000000000000000000.&#010;2020-07-23 14:01:18,225 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Stopping the JobMaster for job&#010;JobTest(99a030d0e3f428490a501c0132f27a56).&#010;2020-07-23 14:01:18,381 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Suspending SlotPool.&#010;2020-07-23 14:01:18,382 INFO&#010;org.apache.flink.runtime.jobmaster.JobMaster&#010;[] - Close ResourceManager connection&#010;83b1ff14900abfd54418e7fa3efb3f8a: JobManager is shutting down..&#010;2020-07-23 14:01:18,382 INFO&#010;org.apache.flink.runtime.jobmaster.slotpool.SlotPoolImpl     [] -&#010;Stopping&#010;SlotPool.&#010;2020-07-23 14:01:18,382 INFO&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] -&#010;Disconnect job manager 00000000000000000000000000000000&#010;@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2 for job&#010;99a030d0e3f428490a501c0132f27a56 from the resource manager.&#010;&#010;a511955993&#010;é‚®ç®±ï¼ša511955993@163.com&#010;&#010;&lt;&#010;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt&#010;;&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt; å®šåˆ¶&#010;&#010;On 07/23/2020 13:26, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;å¾ˆé«˜å…´ä½ çš„é—®é¢˜è§£å†³äº†ï¼Œä½†æˆ‘è§‰å¾—æ ¹æœ¬åŸå› åº”è¯¥ä¸æ˜¯åŠ ä¸Šäº†taskmanager-query-state-service.yamlçš„å…³ç³»ã€‚&#010;æˆ‘è¿™è¾¹ä¸åˆ›å»ºè¿™ä¸ªæœåŠ¡ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œè€Œä¸”nslookup {tm_ip_address}æ˜¯å¯ä»¥æ­£å¸¸åè§£æåˆ°hostnameçš„ã€‚&#010;&#010;æ³¨æ„è¿™é‡Œä¸æ˜¯è§£æhostnameï¼Œè€Œæ˜¯é€šè¿‡ipåœ°å€æ¥åè§£æè¿›è¡ŒéªŒè¯&#010;&#010;&#010;å›ç­”ä½ è¯´çš„ä¸¤ä¸ªé—®é¢˜ï¼š&#010;1. ä¸æ˜¯å¿…é¡»çš„ï¼Œæˆ‘è¿™è¾¹éªŒè¯ä¸éœ€è¦åˆ›å»ºï¼Œé›†ç¾¤ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œä»»åŠ¡çš„ã€‚Rest&#010;serviceçš„æš´éœ²æ–¹å¼æ˜¯ClusterIPã€NodePortã€LoadBalanceréƒ½æ­£å¸¸&#010;2. å¦‚æœæ²¡æœ‰é…ç½®taskmanager.bind-hostï¼Œ&#010;[Flink-15911][Flink-15154]è¿™ä¸¤ä¸ªJIRAå¹¶ä¸ä¼šå½±å“TMå‘RMæ³¨å†Œæ—¶å€™çš„ä½¿ç”¨çš„åœ°å€&#010;&#010;å¦‚æœä½ æƒ³æ‰¾åˆ°æ ¹æœ¬åŸå› ï¼Œé‚£å¯èƒ½éœ€è¦ä½ è¿™è¾¹æä¾›JM/TMçš„å®Œæ•´logï¼Œè¿™æ ·æ–¹ä¾¿åˆ†æ&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸Šåˆ11:30å†™é“ï¼š&#010;&#010;&#010;Hi Yang Wang&#010;&#010;åˆšåˆšåœ¨æµ‹è¯•ç¯å¢ƒæµ‹è¯•äº†ä¸€ä¸‹ï¼ŒtaskManageræ²¡æœ‰åŠæ³•nslookupå‡ºæ¥ï¼ŒJMå¯ä»¥nslookupï¼Œè¿™ä¸¤è€…çš„å·®åˆ«åœ¨äºæ˜¯å¦æœ‰serviceã€‚&#010;&#010;è§£å†³æ–¹æ¡ˆï¼šæˆ‘è¿™è¾¹ç»™é›†ç¾¤åŠ ä¸Šäº†taskmanager-query-state-service.yamlï¼ˆæŒ‰ç…§å®˜ç½‘ä¸Šæ˜¯å¯é€‰æœåŠ¡ï¼‰ã€‚å°±ä¸ä¼šåˆ·No&#010;hostname could be resolved for ip&#010;addressï¼Œå°†NodePortæ”¹ä¸ºClusterIpï¼Œä½œä¸šå°±å¯ä»¥æˆåŠŸæäº¤ï¼Œä¸ä¼šå‡ºç°time outçš„é—®é¢˜äº†ï¼Œé—®é¢˜å¾—åˆ°äº†è§£å†³ã€‚&#010;&#010;&#010;1. å¦‚æœæŒ‰ç…§ä¸Šé¢çš„æƒ…å†µï¼Œé‚£ä¹ˆè¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯å¿…é¡»é…ç½®çš„ï¼Ÿ&#010;&#010;2. åœ¨1.11çš„æ›´æ–°ä¸­ï¼Œå‘ç°æœ‰ [Flink-15911][Flink-15154]&#010;æ”¯æŒåˆ†åˆ«é…ç½®ç”¨äºæœ¬åœ°ç›‘å¬ç»‘å®šçš„ç½‘ç»œæ¥å£å’Œå¤–éƒ¨è®¿é—®çš„åœ°å€å’Œç«¯å£ã€‚æ˜¯å¦æ˜¯è¿™å—çš„æ”¹åŠ¨ï¼Œ&#010;éœ€è¦JMå»é€šè¿‡TMä¸ŠæŠ¥çš„ipåå‘è§£æå‡ºserviceï¼Ÿ&#010;&#010;&#010;Bsetï¼&#010;&#010;&#010;[1]&#010;&#010;&#010;https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/kubernetes.html&#010;&#010;a511955993&#010;é‚®ç®±ï¼ša511955993@163.com&#010;&#010;&lt;&#010;&#010;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt&#010;;&#010;&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt; å®šåˆ¶&#010;&#010;On 07/23/2020 10:11, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;æˆ‘çš„æ„æ€å°±æ˜¯ä½ åœ¨Flinkä»»åŠ¡è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œç„¶åä¸‹é¢çš„å‘½ä»¤åœ¨é›†ç¾¤é‡Œé¢èµ·ä¸€ä¸ªbusyboxçš„podï¼Œ&#010;åœ¨é‡Œé¢æ‰§è¡Œ nslookup {ip_address}ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸è§£æåˆ°ã€‚å¦‚æœä¸èƒ½åº”è¯¥å°±æ˜¯corednsçš„&#010;é—®é¢˜äº†&#010;&#010;kubectl run -i -t busybox --image=busybox --restart=Never&#010;&#010;ä½ éœ€è¦ç¡®è®¤ä¸‹é›†ç¾¤çš„coredns podæ˜¯å¦æ­£å¸¸ï¼Œä¸€èˆ¬æ˜¯éƒ¨ç½²åœ¨kube-systemè¿™ä¸ªnamespaceä¸‹çš„&#010;&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ22æ—¥å‘¨ä¸‰ ä¸‹åˆ7:57å†™é“ï¼š&#010;&#010;&#010;Hiï¼ŒYang Wangï¼&#010;&#010;å¾ˆå¼€å¿ƒå¯ä»¥æ”¶åˆ°ä½ çš„å›å¤ï¼Œä½ çš„å›å¤å¸®åŠ©å¾ˆå¤§ï¼Œè®©æˆ‘çŸ¥é“äº†é—®é¢˜çš„æ–¹å‘ã€‚æˆ‘å†è¡¥å……äº›ä¿¡æ¯ï¼Œå¸Œæœ›å¯ä»¥å¸®æˆ‘è¿›ä¸€æ­¥åˆ¤æ–­ä¸€ä¸‹é—®é¢˜æ ¹æºã€‚&#010;&#010;åœ¨JMæŠ¥é”™çš„åœ°æ–¹ï¼ŒNo hostname could be resolved for ip address xxxxx&#010;ï¼ŒæŠ¥å‡ºæ¥çš„ipæ˜¯k8såˆ†é…ç»™flink podçš„å†…ç½‘ipï¼Œä¸æ˜¯å®¿ä¸»æœºçš„ipã€‚è¯·é—®è¿™ä¸ªé—®é¢˜å¯èƒ½å‡ºåœ¨å“ªé‡Œå‘¢&#010;&#010;Bestï¼&#010;&#010;&#010;a511955993&#010;é‚®ç®±ï¼ša511955993@163.com&#010;&#010;&lt;&#010;&#010;&#010;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&amp;gt&#010;;&#010;&#010;&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&amp;gt; å®šåˆ¶&#010;&#010;On 07/22/2020 18:18, Yang Wang &lt;danrtsey.wy@gmail.com&gt; wrote:&#010;å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP&#010;addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#010;æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#010;å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ7:29å†™é“ï¼š&#010;&#010;Hi&#010;ä¸ç¡®å®š k8s ç¯å¢ƒä¸­èƒ½å¦çœ‹åˆ° pod çš„å®Œæ•´æ—¥å¿—ï¼Ÿç±»ä¼¼ Yarn çš„ NM æ—¥å¿—ä¸€æ ·ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹è¿™ä¸ª pod&#010;çš„å®Œæ•´æ—¥å¿—æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°&#010;Best,&#010;Congxian&#010;&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ21æ—¥å‘¨äºŒ ä¸‹åˆ3:19å†™é“ï¼š&#010;&#010;Hiï¼ŒCongxian&#010;&#010;å› ä¸ºæ˜¯æµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰é…ç½®HAï¼Œç›®å‰çœ‹åˆ°çš„ä¿¡æ¯ï¼Œå°±æ˜¯JMåˆ·å‡ºæ¥å¤§é‡çš„no hostname could be&#010;resolvedï¼Œjmå¤±è”ï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚&#010;å°†jmå†…å­˜é…ç½®ä¸º10gä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µï¼ˆjobmanager.memory.pprocesa.sizeï¼š10240mï¼‰ã€‚&#010;&#010;åœ¨åŒä¸€ä¸ªç¯å¢ƒå°†ç‰ˆæœ¬å›é€€åˆ°1.10æ²¡æœ‰å‡ºç°è¯¥é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåˆ·å¦‚ä¸ŠæŠ¥é”™ã€‚&#010;&#010;&#010;æ˜¯å¦æœ‰å…¶ä»–æ’æŸ¥æ€è·¯ï¼Ÿ&#010;&#010;Bestï¼&#010;&#010;&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;On 07/16/2020 13:17, Congxian Qiu wrote:&#010;Hi&#010;å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼ŒGC æƒ…å†µä¹Ÿæ­£å¸¸çš„è¯ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹ pod çš„ç›¸å…³æ—¥å¿—ï¼Œå¦‚æœå¼€å¯äº† HA ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹ zk&#010;çš„æ—¥å¿—ã€‚ä¹‹å‰é‡åˆ°è¿‡ä¸€æ¬¡åœ¨&#010;Yarn&#010;ç¯å¢ƒä¸­ç±»ä¼¼çš„ç°è±¡æ˜¯ç”±äºå…¶ä»–åŸå› å¯¼è‡´çš„ï¼Œé€šè¿‡çœ‹ NM æ—¥å¿—ä»¥åŠ zk æ—¥å¿—å‘ç°çš„åŸå› ã€‚&#010;&#010;Best,&#010;Congxian&#010;&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ15æ—¥å‘¨ä¸‰ ä¸‹åˆ5:20å†™é“ï¼š&#010;&#010;Hi Roc&#010;&#010;è¯¥ç°è±¡åœ¨1.10.1ç‰ˆæœ¬æ²¡æœ‰ï¼Œåœ¨1.11ç‰ˆæœ¬æ‰å‡ºç°ã€‚è¯·é—®è¿™ä¸ªè¯¥å¦‚ä½•æŸ¥æ¯”è¾ƒåˆé€‚&#010;&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;On 07/15/2020 17:16, Roc Marshal wrote:&#010;Hiï¼ŒSmileSmile.&#010;ä¸ªäººä¹‹å‰æœ‰é‡åˆ°è¿‡ ç±»ä¼¼ çš„hostè§£æé—®é¢˜ï¼Œå¯ä»¥ä»k8sçš„podèŠ‚ç‚¹ç½‘ç»œæ˜ å°„è§’åº¦æ’æŸ¥ä¸€ä¸‹ã€‚&#010;å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚&#010;&#010;&#010;ç¥å¥½ã€‚&#010;Roc Marshal&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-15 17:04:18ï¼Œ\"SmileSmile\" &lt;a511955993@163.com&gt; å†™é“ï¼š&#010;&#010;Hi&#010;&#010;ä½¿ç”¨ç‰ˆæœ¬Flink 1.11ï¼Œéƒ¨ç½²æ–¹å¼ kubernetes sessionã€‚ TMä¸ªæ•°30ä¸ªï¼Œæ¯ä¸ªTM 4ä¸ªslotã€‚&#010;job&#010;å¹¶è¡Œåº¦120.æäº¤ä½œä¸šçš„æ—¶å€™å‡ºç°å¤§é‡çš„No hostname could be resolved for the IP&#010;addressï¼ŒJM&#010;time&#010;outï¼Œä½œä¸šæäº¤å¤±è´¥ã€‚web uiä¹Ÿä¼šå¡ä¸»æ— å“åº”ã€‚&#010;&#010;ç”¨wordCountï¼Œå¹¶è¡Œåº¦åªæœ‰1æäº¤ä¹Ÿä¼šåˆ·ï¼Œno&#010;hostnameçš„æ—¥å¿—ä¼šåˆ·ä¸ªå‡ æ¡ï¼Œç„¶åæ­£å¸¸æäº¤ï¼Œå¦‚æœå¹¶è¡Œåº¦ä¸€ä¸Šå»ï¼Œå°±ä¼šè¶…æ—¶ã€‚&#010;&#010;&#010;éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼š&#010;&#010;2020-07-15 16:58:46,460 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     []&#010;-&#010;No&#010;hostname could be resolved for the IP address 10.32.160.7,&#010;using&#010;IP&#010;address&#010;as host name. Local input split assignment (such as for HDFS&#010;files)&#010;may&#010;be&#010;impacted.&#010;2020-07-15 16:58:46,460 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     []&#010;-&#010;No&#010;hostname could be resolved for the IP address 10.44.224.7,&#010;using&#010;IP&#010;address&#010;as host name. Local input split assignment (such as for HDFS&#010;files)&#010;may&#010;be&#010;impacted.&#010;2020-07-15 16:58:46,461 WARN&#010;org.apache.flink.runtime.taskmanager.TaskManagerLocation     []&#010;-&#010;No&#010;hostname could be resolved for the IP address 10.40.32.9, using&#010;IP&#010;address&#010;as host name. Local input split assignment (such as for HDFS&#010;files)&#010;may&#010;be&#010;impacted.&#010;&#010;2020-07-15 16:59:10,236 INFO&#010;&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;[] -&#010;The&#010;heartbeat of JobManager with id&#010;69a0d460de468888a9f41c770d963c0a&#010;timed&#010;out.&#010;2020-07-15 16:59:10,236 INFO&#010;&#010;org.apache.flink.runtime.resourcemanager.StandaloneResourceManager&#010;[] -&#010;Disconnect job manager 00000000000000000000000000000000&#010;@akka.tcp://flink@flink-jobmanager:6123/user/rpc/jobmanager_2&#010;for&#010;job&#010;e1554c737e37ed79688a15c746b6e9ef from the resource manager.&#010;&#010;&#010;how to deal with ï¼Ÿ&#010;&#010;&#010;beset ï¼&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;",
        "depth": "15",
        "reply": "<2498bd4.e988.17351b7aa73.Coremail.a511955993@163.com>"
    },
    {
        "id": "<1594805964605-0.post@n8.nabble.com>",
        "from": "vw17 &lt;vwing...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 09:39:24 GMT",
        "subject": "springboot 2.3.1 + flink 1.11.0æ•´åˆåå¦‚ä½•ä»å¤–éƒ¨ä¼ å…¥application.ymlé…ç½®æ–‡ä»¶?",
        "content": "Hi,&#013;&#010;ç”±äºé¡¹ç›®éœ€è¦ç›®å‰æ•´åˆäº†springbootå’Œflink,&#010;ä½†ä¸€äº›é¡¹ç›®çš„ç›¸å…³é…ç½®åœ¨application.ymlï¼Œç”Ÿäº§ç¯å¢ƒéœ€è¦å˜æ›´å…¶ä¸­çš„ä¸€äº›é…ç½®ã€‚ä¹‹å‰é€šå¸¸çš„åšæ³•çš„æ˜¯å¯åŠ¨æ—¶ä½¿ç”¨&#010;-Dspring.config.location=xxx ä»å¤–éƒ¨æŒ‡å®šéœ€è¦çš„é…ç½®æ–‡ä»¶ã€‚ç°åœ¨æƒ³çŸ¥é“å¦‚æœä½¿ç”¨flink&#010;run&#010;å¯åŠ¨jarèƒ½å¦æ”¯æŒè¿™ç§æŒ‡å®šæ–¹å¼? &#013;&#010;è°¢è°¢&#010;&#010;&#010;&#013;&#010;--&#013;&#010;Sent from: http://apache-flink.147419.n8.nabble.com/",
        "depth": "0",
        "reply": "<1594805964605-0.post@n8.nabble.com>"
    },
    {
        "id": "<758f2cbb.7073.17352a5e59f.Coremail.sunfulin0321@163.com>",
        "from": "sunfulin  &lt;sunfulin0...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 13:24:30 GMT",
        "subject": "flink 1.11 sqlç±»å‹é—®é¢˜",
        "content": "hiï¼Œ&#010;æˆ‘çœ‹1.11çš„java.sql.Timestamp å¯¹åº”çš„æ˜¯Flinkçš„TIMESTAMP(9)ï¼Œè·Ÿä¹‹å‰é»˜è®¤çš„TIMESTAMP(3)æœ‰åŒºåˆ«ï¼Œè€Œä¸”ä¹‹å‰1.10çš„Timestamp(3)æ˜¯å¸¦æ—¶åŒºUTCçš„ï¼Œç°åœ¨è¿™ä¸ªç±»å‹ä¸å¸¦æ—¶åŒºäº†ã€‚æƒ³é—®ä¸‹è¿™ä¸ªå…·ä½“è°ƒæ•´åº”è¯¥å¦‚ä½•é€‚é…ï¼Ÿ",
        "depth": "0",
        "reply": "<758f2cbb.7073.17352a5e59f.Coremail.sunfulin0321@163.com>"
    },
    {
        "id": "<703a87d.7589.173530f01f4.Coremail.sunfulin0321@163.com>",
        "from": "sunfulin  &lt;sunfulin0...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 15:19:19 GMT",
        "subject": "Re:flink 1.11 sqlç±»å‹é—®é¢˜",
        "content": "hi,&#010;æˆ‘é€šè¿‡flink sql å®šä¹‰äº†ä¸€ä¸ªes sinkï¼Œå…¶ä¸­æœ‰ä¸ªå­—æ®µç±»å‹å®šä¹‰ä¸ºäº† eventTime&#010;TIMESTAMP(9) WITH LOCAL TIME ZONEã€‚&#010;åœ¨å°è¯•å†™å…¥æ—¶ï¼ŒæŠ¥äº†å¦‚ä¸‹çš„å¼‚å¸¸ã€‚çœ‹æ¥json parseræ— æ³•è§£æè¿™ç§ç±»å‹ã€‚è¯·é—®ä¸‹å¤§ç¥ä»¬ï¼Œæˆ‘åº”è¯¥æ€ä¹ˆå†™å…¥ä¸€ä¸ªUTCæ—¥æœŸçš„æ—¶é—´ç±»å‹ï¼Ÿæ ¼å¼ç±»ä¼¼&#010;2020-07-15T12:00:00.000Z &#010;&#010;&#010;&#010;java.lang.UnsupportedOperationException: Not support to parse type: TIMESTAMP(9) WITH LOCAL&#010;TIME ZONE&#010;&#010;at org.apache.flink.formats.json.JsonRowDataSerializationSchema.createNotNullConverter(JsonRowDataSerializationSchema.java:184)&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-15 21:24:30ï¼Œ\"sunfulin\" &lt;sunfulin0321@163.com&gt; å†™é“ï¼š&#010;&gt;hiï¼Œ&#010;&gt;æˆ‘çœ‹1.11çš„java.sql.Timestamp å¯¹åº”çš„æ˜¯Flinkçš„TIMESTAMP(9)ï¼Œè·Ÿä¹‹å‰é»˜è®¤çš„TIMESTAMP(3)æœ‰åŒºåˆ«ï¼Œè€Œä¸”ä¹‹å‰1.10çš„Timestamp(3)æ˜¯å¸¦æ—¶åŒºUTCçš„ï¼Œç°åœ¨è¿™ä¸ªç±»å‹ä¸å¸¦æ—¶åŒºäº†ã€‚æƒ³é—®ä¸‹è¿™ä¸ªå…·ä½“è°ƒæ•´åº”è¯¥å¦‚ä½•é€‚é…ï¼Ÿ&#010;",
        "depth": "1",
        "reply": "<758f2cbb.7073.17352a5e59f.Coremail.sunfulin0321@163.com>"
    },
    {
        "id": "<BDB014DE-67D5-407E-830F-3CDBA629B686@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 01:40:06 GMT",
        "subject": "Re: flink 1.11 sqlç±»å‹é—®é¢˜",
        "content": "Hello&#010;&#010;jsonè§£æUTCæ—¶é—´æ˜¯æ”¯æŒçš„ï¼Œä½ withå‚æ•°é‡ŒæŒ‡å®šä¸‹jsonä¸­timestampçš„ç±»å‹è¯•ä¸‹ï¼Œ&#010;json.timestamp-format.standard = 'ISO-8601'&#010;&#010;Best&#010;Leonard Xu&#010;[1] https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/formats/json.html#json-timestamp-format-standard&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/formats/json.html#json-timestamp-format-standard&gt;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ15æ—¥ï¼Œ23:19ï¼Œsunfulin &lt;sunfulin0321@163.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; hi,&#010;&gt; æˆ‘é€šè¿‡flink sql å®šä¹‰äº†ä¸€ä¸ªes sinkï¼Œå…¶ä¸­æœ‰ä¸ªå­—æ®µç±»å‹å®šä¹‰ä¸ºäº† eventTime&#010;TIMESTAMP(9) WITH LOCAL TIME ZONEã€‚&#010;&gt; åœ¨å°è¯•å†™å…¥æ—¶ï¼ŒæŠ¥äº†å¦‚ä¸‹çš„å¼‚å¸¸ã€‚çœ‹æ¥json parseræ— æ³•è§£æè¿™ç§ç±»å‹ã€‚è¯·é—®ä¸‹å¤§ç¥ä»¬ï¼Œæˆ‘åº”è¯¥æ€ä¹ˆå†™å…¥ä¸€ä¸ªUTCæ—¥æœŸçš„æ—¶é—´ç±»å‹ï¼Ÿæ ¼å¼ç±»ä¼¼&#010;2020-07-15T12:00:00.000Z &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; java.lang.UnsupportedOperationException: Not support to parse type: TIMESTAMP(9) WITH&#010;LOCAL TIME ZONE&#010;&gt; &#010;&gt; at org.apache.flink.formats.json.JsonRowDataSerializationSchema.createNotNullConverter(JsonRowDataSerializationSchema.java:184)&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; åœ¨ 2020-07-15 21:24:30ï¼Œ\"sunfulin\" &lt;sunfulin0321@163.com&gt; å†™é“ï¼š&#010;&gt;&gt; hiï¼Œ&#010;&gt;&gt; æˆ‘çœ‹1.11çš„java.sql.Timestamp å¯¹åº”çš„æ˜¯Flinkçš„TIMESTAMP(9)ï¼Œè·Ÿä¹‹å‰é»˜è®¤çš„TIMESTAMP(3)æœ‰åŒºåˆ«ï¼Œè€Œä¸”ä¹‹å‰1.10çš„Timestamp(3)æ˜¯å¸¦æ—¶åŒºUTCçš„ï¼Œç°åœ¨è¿™ä¸ªç±»å‹ä¸å¸¦æ—¶åŒºäº†ã€‚æƒ³é—®ä¸‹è¿™ä¸ªå…·ä½“è°ƒæ•´åº”è¯¥å¦‚ä½•é€‚é…ï¼Ÿ&#010;&#010;&#010;",
        "depth": "2",
        "reply": "<758f2cbb.7073.17352a5e59f.Coremail.sunfulin0321@163.com>"
    },
    {
        "id": "<5ff0156e.15a3.173555b7e7d.Coremail.sunfulin0321@163.com>",
        "from": "sunfulin  &lt;sunfulin0...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 02:02:06 GMT",
        "subject": "Re:Re: flink 1.11 sqlç±»å‹é—®é¢˜",
        "content": "&#010;&#010;&#010;hi, leonard&#010;æ„Ÿè°¢å›å¤ã€‚æˆ‘åœ¨esçš„ddl withå‚æ•°é‡ŒåŠ äº†è¿™ä¸ªï¼Œè²Œä¼¼è¿˜æ˜¯æŠ¥é”™ã€‚æˆ‘å†ç®€å•æè¿°ä¸‹æˆ‘çš„åœºæ™¯ï¼š&#010;æˆ‘çš„es sinkçš„ddlå¦‚ä¸‹ï¼š&#010;create table es_sink (&#010;  a varchar,&#010;  b varchar,&#010;  c TIMESTAMP(9) WITH LOCAL TIME ZONE&#010;) with (&#010;  ....&#010;)&#010;&#010;&#010;æˆ‘ä½¿ç”¨å¤„ç†æ—¶é—´å±æ€§ï¼Œå°†æµé‡Œçš„proctimeè½¬æˆUTCæ ¼å¼çš„æ—¥æœŸç±»å‹ï¼Œä½œä¸ºcè¿™ä¸ªå­—æ®µå†™å…¥ã€‚ç°åœ¨èƒ½åŸç”Ÿæ”¯æŒä¹ˆï¼Ÿä¹‹å‰åœ¨1.10ç‰ˆæœ¬è²Œä¼¼æ˜¯å¯ä»¥ç›´æ¥å†™çš„ã€‚ä½†æ˜¯åˆ°1.11å†™çš„ä¸å¸¦æ—¶åŒºäº†ï¼Œå¯¼è‡´ä¸èƒ½å…¼å®¹ä¹‹å‰çš„æ ¼å¼ã€‚&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-16 09:40:06ï¼Œ\"Leonard Xu\" &lt;xbjtdcq@gmail.com&gt; å†™é“ï¼š&#010;&gt;Hello&#010;&gt;&#010;&gt;jsonè§£æUTCæ—¶é—´æ˜¯æ”¯æŒçš„ï¼Œä½ withå‚æ•°é‡ŒæŒ‡å®šä¸‹jsonä¸­timestampçš„ç±»å‹è¯•ä¸‹ï¼Œ&#010;json.timestamp-format.standard = 'ISO-8601'&#010;&gt;&#010;&gt;Best&#010;&gt;Leonard Xu&#010;&gt;[1] https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/formats/json.html#json-timestamp-format-standard&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/formats/json.html#json-timestamp-format-standard&gt;&#010;&gt;&#010;&gt;&gt; åœ¨ 2020å¹´7æœˆ15æ—¥ï¼Œ23:19ï¼Œsunfulin &lt;sunfulin0321@163.com&gt; å†™é“ï¼š&#010;&gt;&gt; &#010;&gt;&gt; hi,&#010;&gt;&gt; æˆ‘é€šè¿‡flink sql å®šä¹‰äº†ä¸€ä¸ªes sinkï¼Œå…¶ä¸­æœ‰ä¸ªå­—æ®µç±»å‹å®šä¹‰ä¸ºäº†&#010;eventTime TIMESTAMP(9) WITH LOCAL TIME ZONEã€‚&#010;&gt;&gt; åœ¨å°è¯•å†™å…¥æ—¶ï¼ŒæŠ¥äº†å¦‚ä¸‹çš„å¼‚å¸¸ã€‚çœ‹æ¥json parseræ— æ³•è§£æè¿™ç§ç±»å‹ã€‚è¯·é—®ä¸‹å¤§ç¥ä»¬ï¼Œæˆ‘åº”è¯¥æ€ä¹ˆå†™å…¥ä¸€ä¸ªUTCæ—¥æœŸçš„æ—¶é—´ç±»å‹ï¼Ÿæ ¼å¼ç±»ä¼¼&#010;2020-07-15T12:00:00.000Z &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; java.lang.UnsupportedOperationException: Not support to parse type: TIMESTAMP(9)&#010;WITH LOCAL TIME ZONE&#010;&gt;&gt; &#010;&gt;&gt; at org.apache.flink.formats.json.JsonRowDataSerializationSchema.createNotNullConverter(JsonRowDataSerializationSchema.java:184)&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; åœ¨ 2020-07-15 21:24:30ï¼Œ\"sunfulin\" &lt;sunfulin0321@163.com&gt; å†™é“ï¼š&#010;&gt;&gt;&gt; hiï¼Œ&#010;&gt;&gt;&gt; æˆ‘çœ‹1.11çš„java.sql.Timestamp å¯¹åº”çš„æ˜¯Flinkçš„TIMESTAMP(9)ï¼Œè·Ÿä¹‹å‰é»˜è®¤çš„TIMESTAMP(3)æœ‰åŒºåˆ«ï¼Œè€Œä¸”ä¹‹å‰1.10çš„Timestamp(3)æ˜¯å¸¦æ—¶åŒºUTCçš„ï¼Œç°åœ¨è¿™ä¸ªç±»å‹ä¸å¸¦æ—¶åŒºäº†ã€‚æƒ³é—®ä¸‹è¿™ä¸ªå…·ä½“è°ƒæ•´åº”è¯¥å¦‚ä½•é€‚é…ï¼Ÿ&#010;&gt;&#010;",
        "depth": "3",
        "reply": "<758f2cbb.7073.17352a5e59f.Coremail.sunfulin0321@163.com>"
    },
    {
        "id": "<CAELO932F68jhNJEMpt2qtKSFjNKLLwkrEK7H1iWwS4vwSuRTvg@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 09:53:10 GMT",
        "subject": "Re: Re: flink 1.11 sqlç±»å‹é—®é¢˜",
        "content": "ä½ æ˜¯è¯´è¾“å‡ºçš„æ—¶å€™æƒ³å¸¦ 'Z' åç¼€ï¼Ÿ&#013;&#010;å¦‚æœè¿™æ ·çš„è¯ï¼Œæˆ‘è§‰å¾— json.timestamp-format.standard = 'ISO-8601' è¿™ä¸ªå‚æ•°åº”è¯¥èƒ½è§£å†³ä½ çš„é—®é¢˜ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Jark&#013;&#010;&#013;&#010;On Thu, 16 Jul 2020 at 10:02, sunfulin &lt;sunfulin0321@163.com&gt; wrote:&#013;&#010;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; hi, leonard&#013;&#010;&gt; æ„Ÿè°¢å›å¤ã€‚æˆ‘åœ¨esçš„ddl withå‚æ•°é‡ŒåŠ äº†è¿™ä¸ªï¼Œè²Œä¼¼è¿˜æ˜¯æŠ¥é”™ã€‚æˆ‘å†ç®€å•æè¿°ä¸‹æˆ‘çš„åœºæ™¯ï¼š&#013;&#010;&gt; æˆ‘çš„es sinkçš„ddlå¦‚ä¸‹ï¼š&#013;&#010;&gt; create table es_sink (&#013;&#010;&gt;   a varchar,&#013;&#010;&gt;   b varchar,&#013;&#010;&gt;   c TIMESTAMP(9) WITH LOCAL TIME ZONE&#013;&#010;&gt; ) with (&#013;&#010;&gt;   ....&#013;&#010;&gt; )&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘ä½¿ç”¨å¤„ç†æ—¶é—´å±æ€§ï¼Œå°†æµé‡Œçš„proctimeè½¬æˆUTCæ ¼å¼çš„æ—¥æœŸç±»å‹ï¼Œä½œä¸ºcè¿™ä¸ªå­—æ®µå†™å…¥ã€‚ç°åœ¨èƒ½åŸç”Ÿæ”¯æŒä¹ˆï¼Ÿä¹‹å‰åœ¨1.10ç‰ˆæœ¬è²Œä¼¼æ˜¯å¯ä»¥ç›´æ¥å†™çš„ã€‚ä½†æ˜¯åˆ°1.11å†™çš„ä¸å¸¦æ—¶åŒºäº†ï¼Œå¯¼è‡´ä¸èƒ½å…¼å®¹ä¹‹å‰çš„æ ¼å¼ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; åœ¨ 2020-07-16 09:40:06ï¼Œ\"Leonard Xu\" &lt;xbjtdcq@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;Hello&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;jsonè§£æUTCæ—¶é—´æ˜¯æ”¯æŒçš„ï¼Œä½ withå‚æ•°é‡ŒæŒ‡å®šä¸‹jsonä¸­timestampçš„ç±»å‹è¯•ä¸‹ï¼Œ&#013;&#010;&gt; json.timestamp-format.standard = 'ISO-8601'&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;Best&#013;&#010;&gt; &gt;Leonard Xu&#013;&#010;&gt; &gt;[1]&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/formats/json.html#json-timestamp-format-standard&#013;&#010;&gt; &lt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/formats/json.html#json-timestamp-format-standard&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&gt; åœ¨ 2020å¹´7æœˆ15æ—¥ï¼Œ23:19ï¼Œsunfulin &lt;sunfulin0321@163.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; hi,&#013;&#010;&gt; &gt;&gt; æˆ‘é€šè¿‡flink sql å®šä¹‰äº†ä¸€ä¸ªes sinkï¼Œå…¶ä¸­æœ‰ä¸ªå­—æ®µç±»å‹å®šä¹‰ä¸ºäº†&#010;eventTime TIMESTAMP(9) WITH&#013;&#010;&gt; LOCAL TIME ZONEã€‚&#013;&#010;&gt; &gt;&gt; åœ¨å°è¯•å†™å…¥æ—¶ï¼ŒæŠ¥äº†å¦‚ä¸‹çš„å¼‚å¸¸ã€‚çœ‹æ¥json parseræ— æ³•è§£æè¿™ç§ç±»å‹ã€‚è¯·é—®ä¸‹å¤§ç¥ä»¬ï¼Œæˆ‘åº”è¯¥æ€ä¹ˆå†™å…¥ä¸€ä¸ªUTCæ—¥æœŸçš„æ—¶é—´ç±»å‹ï¼Ÿæ ¼å¼ç±»ä¼¼&#013;&#010;&gt; 2020-07-15T12:00:00.000Z&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; java.lang.UnsupportedOperationException: Not support to parse type:&#013;&#010;&gt; TIMESTAMP(9) WITH LOCAL TIME ZONE&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; at&#013;&#010;&gt; org.apache.flink.formats.json.JsonRowDataSerializationSchema.createNotNullConverter(JsonRowDataSerializationSchema.java:184)&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; åœ¨ 2020-07-15 21:24:30ï¼Œ\"sunfulin\" &lt;sunfulin0321@163.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;&gt;&gt; hiï¼Œ&#013;&#010;&gt; &gt;&gt;&gt; æˆ‘çœ‹1.11çš„java.sql.Timestamp&#013;&#010;&gt; å¯¹åº”çš„æ˜¯Flinkçš„TIMESTAMP(9)ï¼Œè·Ÿä¹‹å‰é»˜è®¤çš„TIMESTAMP(3)æœ‰åŒºåˆ«ï¼Œè€Œä¸”ä¹‹å‰1.10çš„Timestamp(3)æ˜¯å¸¦æ—¶åŒºUTCçš„ï¼Œç°åœ¨è¿™ä¸ªç±»å‹ä¸å¸¦æ—¶åŒºäº†ã€‚æƒ³é—®ä¸‹è¿™ä¸ªå…·ä½“è°ƒæ•´åº”è¯¥å¦‚ä½•é€‚é…ï¼Ÿ&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "4",
        "reply": "<758f2cbb.7073.17352a5e59f.Coremail.sunfulin0321@163.com>"
    },
    {
        "id": "<CABMA2UvUOMdTP_LERbUgzQ6J2vyUZZKp=AEuUx2+E3zTEs5zwg@mail.gmail.com>",
        "from": "Jim Chen &lt;chenshuai19950...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 02:10:34 GMT",
        "subject": "HELPï¼Œflink1.10 sqlæ•´åˆhbaseï¼Œinsert intoæ—¶ï¼Œæç¤ºvalidateSchemaAndApplyImplicitCastæŠ¥é”™",
        "content": "Hi,&#010;&#010;æˆ‘åœ¨ä½¿ç”¨flink1.10.1çš„sqlåŠŸèƒ½ï¼Œhbaseçš„ç‰ˆæœ¬æ˜¯1.4.3ï¼Œå†™å…¥hbaseæ—¶ï¼Œæç¤ºvalidateSchemaAndApplyImplicitCastæŠ¥é”™ï¼Œæ„æ€æ˜¯Queryçš„Schemaå’ŒSinkçš„Schemaä¸ä¸€è‡´ã€‚ä¸»è¦æ˜¯Query&#010;Schemaä¸­çš„Row(EXPR$0)ï¼Œé‡Œé¢éƒ½æ˜¯è¡¨è¾¾å¼ã€‚Sink&#010;Schemaä¸­æ˜¯Row(device_id)è¿™ç§ã€‚æˆ‘ä¸çŸ¥é“ï¼Œåœ¨sqlä¸­å¦‚ä½•å†™ï¼Œæ‰èƒ½å’Œhbaseçš„sink&#010;schemaä¿æŒä¸€è‡´ã€‚&#010;&#010;æˆ‘å°è¯•äº†ï¼Œç±»ä¼¼äºåœ¨select device_id as rowkey, ROW( device_id as è¿™é‡Œä¸èƒ½as )&#010;as&#010;f1ï¼Œä¸å†™çš„è¯ï¼ŒQuery ä¸­ROWçš„ Schemaéƒ½æ˜¯è¡¨è¾¾å¼ï¼Œä¸æ˜¯å…·ä½“å®šä¹‰çš„ä¸€ä¸ªå­—æ®µ&#010;&#010;è¿™é‡Œqueryå’Œsinkçš„å­—æ®µä¸ªæ•°ï¼Œæ˜¯å¯¹ä¸Šçš„ã€‚æ¯ä¸ªå­—æ®µçš„ç±»å‹ä¹Ÿæ˜¯å¯¹åº”ä¸Šçš„ã€‚å°±æ˜¯Queryçš„Schemaä¸­æ˜¯è¡¨è¾¾å¼ï¼Œæ²¡æ³•ä¿æŒä¸€è‡´&#010;&#010;æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š&#010;[image: image.png]&#010;&#010;å…³é”®ä»£ç ï¼š&#010;HBase sink ddl:&#010;String ddlSource = \"CREATE TABLE&#010;test_hive_catalog.test_dim.dw_common_mobile_device_user_mapping (\\n\" +&#010;                \"  rowkey STRING,\\n\" +&#010;                \"  f1 ROW&lt; \\n\" +&#010;                \"        device_id STRING,\\n\" +&#010;                \"        pass_id STRING,\\n\" +&#010;                \"        first_date STRING,\\n\" +&#010;                \"        first_channel_id STRING,\\n\" +&#010;                \"        first_app_version STRING,\\n\" +&#010;                \"        first_server_time STRING,\\n\" +&#010;                \"        first_server_hour STRING,\\n\" +&#010;                \"        first_ip_location STRING,\\n\" +&#010;                \"        first_login_time STRING,\\n\" +&#010;                \"        sys_can_uninstall STRING,\\n\" +&#010;                \"        update_date STRING,\\n\" +&#010;                \"        server_time BIGINT,\\n\" +&#010;                \"        last_pass_id STRING,\\n\" +&#010;                \"        last_channel_id STRING,\\n\" +&#010;                \"        last_app_version STRING,\\n\" +&#010;                \"        last_date STRING,\\n\" +&#010;                \"        os STRING,\\n\" +&#010;                \"        attribution_channel_id STRING,\\n\" +&#010;                \"        attribution_first_date STRING,\\n\" +&#010;                \"        p_product STRING,\\n\" +&#010;                \"        p_project STRING,\\n\" +&#010;                \"        p_dt STRING\\n\" +&#010;                \"        &gt;\\n\" +&#010;                \") WITH (\\n\" +&#010;                \"  'connector.type' = 'hbase',\\n\" +&#010;                \"  'connector.version' = '1.4.3',\\n\" + //&#010;å³ä½¿ç»•è¿‡è¯­æ³•ç¼–è¯‘ï¼Œæ¢å…¶ä»–ç‰ˆæœ¬çš„hbaseï¼Œè¿˜æ˜¯æœ‰é—®é¢˜ï¼Œå¦‚çº¿ä¸Šçš„ç‰ˆæœ¬å°±ä¸è¡Œ&#010;                \"  'connector.table-name' =&#010;'dw_common_mobile_device_user_mapping_new',\\n\" +&#010;                \"  'connector.zookeeper.quorum' = '\"+ zookeeperServers&#010;+\"',\\n\" +&#010;                \"  'connector.zookeeper.znode.parent' = '/hbase143',\\n\" +&#010;                \"  'connector.write.buffer-flush.max-size' = '2mb',\\n\" +&#010;                \"  'connector.write.buffer-flush.max-rows' = '1000',\\n\" +&#010;                \"  'connector.write.buffer-flush.interval' = '2s'\\n\" +&#010;                \")\";&#010;&#010;insert into sql:&#010;&#010;String bodyAndLocalSql = \"\" +&#010;//                \"insert into&#010;test_hive_catalog.test_dim.dw_common_mobile_device_user_mapping \" +&#010;                \"SELECT CAST(rowkey AS STRING) AS rowkey, \" +&#010;                \" ROW(\" +&#010;                \" device_id, pass_id, first_date, first_channel_id,&#010;first_app_version, first_server_time, first_server_hour, first_ip_location,&#010;first_login_time, sys_can_uninstall, update_date, server_time,&#010;last_pass_id, last_channel_id, last_app_version, last_date, os,&#010;attribution_channel_id, attribution_first_date, p_product, p_project, p_dt&#010;\" +&#010;                \") AS f1\" +&#010;                \" FROM \" +&#010;                \"(\" +&#010;                \" SELECT \" +&#010;                \" MD5(CONCAT_WS('|', kafka.uid, kafka.p_product,&#010;kafka.p_project)) AS rowkey, \" +&#010;                \" kafka.uid AS device_id \" +&#010;                \",kafka.pass_id \" +&#010;&#010;                // first_date&#010;                \",CASE WHEN COALESCE(hbase.server_time, 0) &lt;=&#010;kafka.server_time \" +&#010;                // æ–°ç”¨æˆ·&#010;                \" THEN FROM_UNIXTIME(kafka.server_time, 'yyyy-MM-dd') \" +&#010;                // è€ç”¨æˆ·&#010;                \" ELSE hbase.first_date END AS first_date \" +&#010;&#010;                // first_channel_id&#010;                \",CASE WHEN COALESCE(hbase.server_time, 0) &lt;=&#010;kafka.server_time \" +&#010;                // æ–°ç”¨æˆ·&#010;                \" THEN kafka.wlb_channel_id\" +&#010;                // è€ç”¨æˆ·&#010;                \" ELSE hbase.first_channel_id END AS first_channel_id \" +&#010;&#010;                // first_app_version&#010;                \",CASE WHEN COALESCE(hbase.server_time, 0) &lt;=&#010;kafka.server_time \" +&#010;                // æ–°ç”¨æˆ·&#010;                \" THEN kafka.app_version \" +&#010;                // è€ç”¨æˆ·&#010;                \" ELSE hbase.first_app_version END AS first_app_version \" +&#010;&#010;                // first_server_time&#010;                \",CASE WHEN COALESCE(hbase.server_time, 0) &lt;=&#010;kafka.server_time \" +&#010;                // æ–°ç”¨æˆ·&#010;                \" THEN FROM_UNIXTIME(kafka.server_time, 'yyyy-MM-dd&#010;HH:mm:ss') \" +&#010;                // è€ç”¨æˆ·&#010;                \" ELSE hbase.first_server_time END AS first_server_time \" +&#010;&#010;                // first_server_hour&#010;                \",CASE WHEN COALESCE(hbase.server_time, 0) &lt;=&#010;kafka.server_time \" +&#010;                // æ–°ç”¨æˆ·&#010;                \" THEN FROM_UNIXTIME(kafka.server_time, 'HH') \" +&#010;                // è€ç”¨æˆ·&#010;                \" ELSE hbase.first_server_hour END AS first_server_hour \" +&#010;&#010;                // first_ip_location&#010;                \",CASE WHEN COALESCE(hbase.server_time, 0) &lt;=&#010;kafka.server_time \" +&#010;                // æ–°ç”¨æˆ·&#010;                \" THEN kafka.ip_location \" +&#010;                // è€ç”¨æˆ·&#010;                \" ELSE hbase.first_ip_location END AS first_ip_location \" +&#010;&#010;                // first_login_time&#010;                \",CASE WHEN COALESCE(hbase.server_time, 0) &lt;=&#010;kafka.server_time \" +&#010;                // æ–°ç”¨æˆ·&#010;                \" THEN FROM_UNIXTIME(kafka.server_time, 'yyyy-MM-dd&#010;HH:mm:ss') \" +&#010;                // è€ç”¨æˆ·&#010;                \" ELSE hbase.first_login_time END AS first_login_time \" +&#010;&#010;                \",kafka.sys_can_uninstall \" +&#010;&#010;                // update_date&#010;                \",CASE WHEN hbase.pass_id = 0 \" +&#010;                \" THEN CAST(FROM_UNIXTIME(kafka.server_time, 'yyyy-MM-dd')&#010;AS string) \" +&#010;                \" END AS update_date \" + // VARCHAR(2000)&#010;&#010;                // server_time&#010;                \",kafka.server_time\" +&#010;&#010;                \", kafka.pass_id AS last_pass_id\" +&#010;                \", kafka.wlb_channel_id AS last_channel_id\" +&#010;                \", kafka.app_version AS last_app_version\" +&#010;                \", CAST(FROM_UNIXTIME(kafka.server_time, 'yyyy-MM-dd') AS&#010;STRING) AS last_date\" + // VARCHAR(2000)&#010;                \", kafka.os\" +&#010;                \", hbase.attribution_channel_id\" +&#010;                \", hbase.attribution_first_date\" +&#010;                \", kafka.p_product\" +&#010;                \", kafka.p_project\" +&#010;                \", kafka.p_dt\" +&#010;&#010;                \" FROM test_hive_catalog.test_ods.test_ods_header AS kafka&#010;\" +&#010;                \" FULL JOIN&#010;test_hive_catalog.test_dim.dw_common_mobile_device_user_mapping AS hbase \" +&#010;                \" ON kafka.uid = hbase.device_id \" + // TODO&#010;è¿™é‡Œuidï¼Œåé¢è¦æ”¹æˆdevice_id&#010;                \" WHERE kafka.is_body=1 AND kafka.is_local=1\" +&#010;                \")\";&#010;&#010;",
        "depth": "0",
        "reply": "<CABMA2UvUOMdTP_LERbUgzQ6J2vyUZZKp=AEuUx2+E3zTEs5zwg@mail.gmail.com>"
    },
    {
        "id": "<2020071611304650705210@163.com>",
        "from": "&quot;amenhub@163.com&quot; &lt;amen...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 03:30:48 GMT",
        "subject": "Flink-1.11å†…ç½®connectoræµ‹è¯•é—®é¢˜æ±‚è§£",
        "content": "hi, everyone&#013;&#010;&#013;&#010;å°ç™½åœ¨æµ‹è¯•flink 1.11æ–°ç‰¹æ€§æ–°å†…ç½®çš„ä¸‰ä¸ªconnectoræ—¶ï¼Œåœ¨æœ¬åœ°åˆ›å»ºå›¾ç‰‡[1]ä¸­çš„ä»»åŠ¡å¹¶è¿›è¡Œæ•°æ®æ‰“å°æ—¶ï¼Œæ§åˆ¶å°åªæ‰“å°äº†è¡¨schemaï¼Œè€Œæ²¡æœ‰æŒ‰å†…ç½®çš„datagen&#010;connectorè§„åˆ™äº§ç”Ÿæ•°æ®ï¼Œè¯·é—®å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿè°¢è°¢è§£ç­”ï¼&#013;&#010;&#013;&#010;&#013;&#010;[1] https://postimg.cc/PprT9XV6&#013;&#010;&#013;&#010;best,&#013;&#010;amenhub&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;amenhub@163.com&#013;&#010;",
        "depth": "0",
        "reply": "<2020071611304650705210@163.com>"
    },
    {
        "id": "<CABi+2jSY6VcwgCbuDt6JEv2i-OYUE63nAJFkW423ahurZwMBvQ@mail.gmail.com>",
        "from": "Jingsong Li &lt;jingsongl...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 03:36:38 GMT",
        "subject": "Re: Flink-1.11å†…ç½®connectoræµ‹è¯•é—®é¢˜æ±‚è§£",
        "content": " tableResult.printéœ€è¦æœ‰checkpoint&#013;&#010;&#013;&#010;Best,&#013;&#010;Jingsong&#013;&#010;&#013;&#010;On Thu, Jul 16, 2020 at 11:31 AM amenhub@163.com &lt;amenhub@163.com&gt; wrote:&#013;&#010;&#013;&#010;&gt; hi, everyone&#013;&#010;&gt;&#013;&#010;&gt; å°ç™½åœ¨æµ‹è¯•flink&#013;&#010;&gt; 1.11æ–°ç‰¹æ€§æ–°å†…ç½®çš„ä¸‰ä¸ªconnectoræ—¶ï¼Œåœ¨æœ¬åœ°åˆ›å»ºå›¾ç‰‡[1]ä¸­çš„ä»»åŠ¡å¹¶è¿›è¡Œæ•°æ®æ‰“å°æ—¶ï¼Œæ§åˆ¶å°åªæ‰“å°äº†è¡¨schemaï¼Œè€Œæ²¡æœ‰æŒ‰å†…ç½®çš„datagen&#013;&#010;&gt; connectorè§„åˆ™äº§ç”Ÿæ•°æ®ï¼Œè¯·é—®å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿè°¢è°¢è§£ç­”ï¼&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; [1] https://postimg.cc/PprT9XV6&#013;&#010;&gt;&#013;&#010;&gt; best,&#013;&#010;&gt; amenhub&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; amenhub@163.com&#013;&#010;&gt;&#013;&#010;&#013;&#010;&#013;&#010;-- &#013;&#010;Best, Jingsong Lee&#013;&#010;",
        "depth": "1",
        "reply": "<2020071611304650705210@163.com>"
    },
    {
        "id": "<CADQYLGtOpBeboMD7V5Naq0FNLif3Os-Ff8x=hfpw0jPEaV-bqw@mail.gmail.com>",
        "from": "godfrey he &lt;godfre...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 04:08:55 GMT",
        "subject": "Re: Flink-1.11å†…ç½®connectoræµ‹è¯•é—®é¢˜æ±‚è§£",
        "content": "ç›®å‰ 1.11 ç‰ˆæœ¬ä¸­çš„ tableResult.print åªæ”¯æŒ exactly once è¯­ä¹‰ï¼Œéœ€è¦é…ç½® checkpointã€‚&#013;&#010;&#013;&#010;1.12 é‡Œå‡†å¤‡æ”¯æŒ at least once è¯­ä¹‰ï¼Œç”¨æˆ·å¯ä»¥ä¸ç”¨é…ç½® checkpointã€‚ç›®å‰ pr&#010;[1] æ­£åœ¨reivew ã€‚&#013;&#010;&#013;&#010;[1] https://github.com/apache/flink/pull/12867&#013;&#010;&#013;&#010;Best,&#013;&#010;Godfrey&#013;&#010;&#013;&#010;Jingsong Li &lt;jingsonglee0@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸Šåˆ11:36å†™é“ï¼š&#013;&#010;&#013;&#010;&gt;  tableResult.printéœ€è¦æœ‰checkpoint&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Jingsong&#013;&#010;&gt;&#013;&#010;&gt; On Thu, Jul 16, 2020 at 11:31 AM amenhub@163.com &lt;amenhub@163.com&gt; wrote:&#013;&#010;&gt;&#013;&#010;&gt; &gt; hi, everyone&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; å°ç™½åœ¨æµ‹è¯•flink&#013;&#010;&gt; &gt;&#013;&#010;&gt; 1.11æ–°ç‰¹æ€§æ–°å†…ç½®çš„ä¸‰ä¸ªconnectoræ—¶ï¼Œåœ¨æœ¬åœ°åˆ›å»ºå›¾ç‰‡[1]ä¸­çš„ä»»åŠ¡å¹¶è¿›è¡Œæ•°æ®æ‰“å°æ—¶ï¼Œæ§åˆ¶å°åªæ‰“å°äº†è¡¨schemaï¼Œè€Œæ²¡æœ‰æŒ‰å†…ç½®çš„datagen&#013;&#010;&gt; &gt; connectorè§„åˆ™äº§ç”Ÿæ•°æ®ï¼Œè¯·é—®å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿè°¢è°¢è§£ç­”ï¼&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; [1] https://postimg.cc/PprT9XV6&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; best,&#013;&#010;&gt; &gt; amenhub&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; amenhub@163.com&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt; Best, Jingsong Lee&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<2020071611304650705210@163.com>"
    },
    {
        "id": "<f3e1eb45-8b1d-4c10-81e3-4784fde833b5.zhengbinbin@heint.cn>",
        "from": "&quot;éƒ‘æ–Œæ–Œ&quot; &lt;zhengbin...@heint.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 03:42:56 GMT",
        "subject": "FlinkKafkaConsumer API ç»´è¡¨å…³è”",
        "content": "å„ä½å¥½ï¼š&#010;&#010;è¯·æ•™ä¸€ä¸‹ï¼Œç”¨FlinkKafkaConsumer APIçš„è¯ï¼Œå¦‚ä½•æ”¯æŒSQLçš„æ–¹å¼ï¼Œå’Œç»´è¡¨å…³è”ã€‚ï¼ˆä¹‹å‰ç”¨Kafka&#010;API&amp;StreamTableDescriptor APIæ˜¯å¯ä»¥çš„ï¼‰&#010; \"select  a.id,b.name from kafka_table a \"&#010;        + \"join dim_table FOR SYSTEM_TIME AS OF a.proctime as b on a.id = b.user_id\";&#010;&#010;thanks &amp; Regards",
        "depth": "0",
        "reply": "<f3e1eb45-8b1d-4c10-81e3-4784fde833b5.zhengbinbin@heint.cn>"
    },
    {
        "id": "<CAELO930mCKMr_1o+3bZ4gRMDV7xXnORPMs955W5TtWYxwcNCgw@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 14:42:10 GMT",
        "subject": "Re: FlinkKafkaConsumer API ç»´è¡¨å…³è”",
        "content": "ä½ éœ€è¦ç”¨ DDL å»å£°æ˜è¿™å¼  kafka è¡¨[1], ç›®å‰ä¸å»ºè®®ä½¿ç”¨ `Kafka` å’Œ `StreamTableDescriptor`&#010;APIã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Jark&#013;&#010;&#013;&#010;[1]:&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/kafka.html&#013;&#010;&#013;&#010;On Thu, 16 Jul 2020 at 11:43, éƒ‘æ–Œæ–Œ &lt;zhengbinbin@heint.cn&gt; wrote:&#013;&#010;&#013;&#010;&gt; å„ä½å¥½ï¼š&#013;&#010;&gt;&#013;&#010;&gt; è¯·æ•™ä¸€ä¸‹ï¼Œç”¨FlinkKafkaConsumer APIçš„è¯ï¼Œå¦‚ä½•æ”¯æŒSQLçš„æ–¹å¼ï¼Œå’Œç»´è¡¨å…³è”ã€‚ï¼ˆä¹‹å‰ç”¨Kafka&#013;&#010;&gt; API&amp;StreamTableDescriptor APIæ˜¯å¯ä»¥çš„ï¼‰&#013;&#010;&gt;  \"select  a.id,b.name from kafka_table a \"&#013;&#010;&gt;         + \"join dim_table FOR SYSTEM_TIME AS OF a.proctime as b on a.id =&#013;&#010;&gt; b.user_id\";&#013;&#010;&gt;&#013;&#010;&gt; thanks &amp; Regards&#013;&#010;",
        "depth": "1",
        "reply": "<f3e1eb45-8b1d-4c10-81e3-4784fde833b5.zhengbinbin@heint.cn>"
    },
    {
        "id": "<3d8d7d3f.3c01.17355cdf87e.Coremail.wander669@163.com>",
        "from": "&quot;Zhou Zach&quot; &lt;wander...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 04:07:08 GMT",
        "subject": "flink sql 1.11 create hive table error",
        "content": "Hi all,&#010;flink sql 1.11 create table æ˜¯ä¸æ˜¯ ä¸æ”¯æŒ IF NOT EXISTS&#010;&#010;&#010;Queryï¼š&#010;    val hiveConfDir = \"/etc/hive/conf\" &#010;    val hiveVersion = \"2.1.1\"&#010;&#010;    val odsCatalog = \"odsCatalog\"&#010;    val odsHiveCatalog = new HiveCatalog(odsCatalog, \"ods\", hiveConfDir, hiveVersion)&#010;    streamTableEnv.registerCatalog(odsCatalog, odsHiveCatalog)&#010;&#010;    streamTableEnv.getConfig.setSqlDialect(SqlDialect.HIVE)&#010;    streamTableEnv.executeSql(&#010;      \"\"\"&#010;        |&#010;        |CREATE TABLE IF NOT EXISTS odsCatalog.ods.hive_table (&#010;        |  user_id STRING,&#010;        |  age INT&#010;        |) PARTITIONED BY (dt STRING, hr STRING) STORED AS parquet TBLPROPERTIES (&#010;        |  'partition.time-extractor.timestamp-pattern'='$dt $hr:00:00',&#010;        |  'sink.partition-commit.trigger'='partition-time',&#010;        |  'sink.partition-commit.delay'='0s',&#010;        |  'sink.partition-commit.policy.kind'='metastore'&#010;        |)&#010;        |&#010;        |\"\"\".stripMargin)&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;java.util.concurrent.CompletionException: org.apache.flink.client.deployment.application.ApplicationExecutionException:&#010;Could not execute application.&#010;&#009;at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292) ~[?:1.8.0_161]&#010;&#009;at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308) ~[?:1.8.0_161]&#010;&#009;at java.util.concurrent.CompletableFuture.uniCompose(CompletableFuture.java:943) ~[?:1.8.0_161]&#010;&#009;at java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:926)&#010;~[?:1.8.0_161]&#010;&#009;at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474) ~[?:1.8.0_161]&#010;&#009;at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)&#010;~[?:1.8.0_161]&#010;&#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:245)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.lambda$runApplicationAsync$1(ApplicationDispatcherBootstrap.java:199)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_161]&#010;&#009;at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_161]&#010;&#009;at org.apache.flink.runtime.concurrent.akka.ActorSystemScheduledExecutorAdapter$ScheduledFutureTask.run(ActorSystemScheduledExecutorAdapter.java:154)&#010;[data-flow-1.0.jar:?]&#010;&#009;at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:40) [data-flow-1.0.jar:?]&#010;&#009;at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(ForkJoinExecutorConfigurator.scala:44)&#010;[data-flow-1.0.jar:?]&#010;&#009;at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260) [data-flow-1.0.jar:?]&#010;&#009;at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339) [data-flow-1.0.jar:?]&#010;&#009;at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979) [data-flow-1.0.jar:?]&#010;&#009;at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107) [data-flow-1.0.jar:?]&#010;Caused by: org.apache.flink.client.deployment.application.ApplicationExecutionException: Could&#010;not execute application.&#010;&#009;... 11 more&#010;Caused by: org.apache.flink.client.program.ProgramInvocationException: The main method caused&#010;an error: SQL parse failed. Encountered \"NOT\" at line 3, column 17.&#010;Was expecting one of:&#010;    &lt;EOF&gt; &#010;    \"ROW\" ...&#010;    \"COMMENT\" ...&#010;    \"LOCATION\" ...&#010;    \"PARTITIONED\" ...&#010;    \"STORED\" ...&#010;    \"TBLPROPERTIES\" ...&#010;    \"(\" ...&#010;    \".\" ...&#010;    &#010;&#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:302)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;... 10 more&#010;Caused by: org.apache.flink.table.api.SqlParserException: SQL parse failed. Encountered \"NOT\"&#010;at line 3, column 17.&#010;Was expecting one of:&#010;    &lt;EOF&gt; &#010;    \"ROW\" ...&#010;    \"COMMENT\" ...&#010;    \"LOCATION\" ...&#010;    \"PARTITIONED\" ...&#010;    \"STORED\" ...&#010;    \"TBLPROPERTIES\" ...&#010;    \"(\" ...&#010;    \".\" ...&#010;    &#010;&#009;at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:56) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:76) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:678)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase$.main(FromKafkaSinkHiveAndHbase.scala:31)&#010;~[qile-data-flow-1.0.jar:?]&#010;&#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase.main(FromKafkaSinkHiveAndHbase.scala)&#010;~[qile-data-flow-1.0.jar:?]&#010;&#009;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]&#010;&#009;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]&#010;&#009;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#010;~[?:1.8.0_161]&#010;&#009;at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]&#010;&#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;... 10 more&#010;Caused by: org.apache.calcite.sql.parser.SqlParseException: Encountered \"NOT\" at line 3, column&#010;17.&#010;Was expecting one of:&#010;    &lt;EOF&gt; &#010;    \"ROW\" ...&#010;    \"COMMENT\" ...&#010;    \"LOCATION\" ...&#010;    \"PARTITIONED\" ...&#010;    \"STORED\" ...&#010;    \"TBLPROPERTIES\" ...&#010;    \"(\" ...&#010;    \".\" ...&#010;    &#010;&#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.convertException(FlinkHiveSqlParserImpl.java:435)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.normalizeException(FlinkHiveSqlParserImpl.java:220)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.calcite.sql.parser.SqlParser.handleException(SqlParser.java:148) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:163) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.calcite.sql.parser.SqlParser.parseStmt(SqlParser.java:188) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:54) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:76) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:678)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase$.main(FromKafkaSinkHiveAndHbase.scala:31)&#010;~[data-flow-1.0.jar:?]&#010;&#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase.main(FromKafkaSinkHiveAndHbase.scala)&#010;~[data-flow-1.0.jar:?]&#010;&#009;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]&#010;&#009;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]&#010;&#009;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#010;~[?:1.8.0_161]&#010;&#009;at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]&#010;&#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;... 10 more&#010;Caused by: org.apache.flink.sql.parser.hive.impl.ParseException: Encountered \"NOT\" at line&#010;3, column 17.&#010;Was expecting one of:&#010;    &lt;EOF&gt; &#010;    \"ROW\" ...&#010;    \"COMMENT\" ...&#010;    \"LOCATION\" ...&#010;    \"PARTITIONED\" ...&#010;    \"STORED\" ...&#010;    \"TBLPROPERTIES\" ...&#010;    \"(\" ...&#010;    \".\" ...&#010;    &#010;&#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.generateParseException(FlinkHiveSqlParserImpl.java:37347)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.jj_consume_token(FlinkHiveSqlParserImpl.java:37158)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.SqlStmtEof(FlinkHiveSqlParserImpl.java:3962)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.parseSqlStmtEof(FlinkHiveSqlParserImpl.java:267)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:161) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.calcite.sql.parser.SqlParser.parseStmt(SqlParser.java:188) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:54) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:76) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:678)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase$.main(FromKafkaSinkHiveAndHbase.scala:31)&#010;~[data-flow-1.0.jar:?]&#010;&#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase.main(FromKafkaSinkHiveAndHbase.scala)&#010;~[data-flow-1.0.jar:?]&#010;&#009;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]&#010;&#009;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]&#010;&#009;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#010;~[?:1.8.0_161]&#010;&#009;at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]&#010;&#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0",
        "depth": "0",
        "reply": "<3d8d7d3f.3c01.17355cdf87e.Coremail.wander669@163.com>"
    },
    {
        "id": "<D2C48DC9-E207-4235-9619-A03EF1CC8275@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 04:16:40 GMT",
        "subject": "Re: flink sql 1.11 create hive table error",
        "content": "Hello, Zach&#010;&#010;æ˜¯çš„, 1.12 ä¼šæ”¯æŒï¼ŒPR[1]å·²ç»å¼€äº†ï¼Œåœ¨reviewä¸­ã€‚&#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;[1] https://issues.apache.org/jira/browse/FLINK-18588 &lt;https://issues.apache.org/jira/browse/FLINK-18588&gt;&#010;&gt; åœ¨ 2020å¹´7æœˆ16æ—¥ï¼Œ12:07ï¼ŒZhou Zach &lt;wander669@163.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; Hi all,&#010;&gt; flink sql 1.11 create table æ˜¯ä¸æ˜¯ ä¸æ”¯æŒ IF NOT EXISTS&#010;&gt; &#010;&gt; &#010;&gt; Queryï¼š&#010;&gt;    val hiveConfDir = \"/etc/hive/conf\" &#010;&gt;    val hiveVersion = \"2.1.1\"&#010;&gt; &#010;&gt;    val odsCatalog = \"odsCatalog\"&#010;&gt;    val odsHiveCatalog = new HiveCatalog(odsCatalog, \"ods\", hiveConfDir, hiveVersion)&#010;&gt;    streamTableEnv.registerCatalog(odsCatalog, odsHiveCatalog)&#010;&gt; &#010;&gt;    streamTableEnv.getConfig.setSqlDialect(SqlDialect.HIVE)&#010;&gt;    streamTableEnv.executeSql(&#010;&gt;      \"\"\"&#010;&gt;        |&#010;&gt;        |CREATE TABLE IF NOT EXISTS odsCatalog.ods.hive_table (&#010;&gt;        |  user_id STRING,&#010;&gt;        |  age INT&#010;&gt;        |) PARTITIONED BY (dt STRING, hr STRING) STORED AS parquet TBLPROPERTIES (&#010;&gt;        |  'partition.time-extractor.timestamp-pattern'='$dt $hr:00:00',&#010;&gt;        |  'sink.partition-commit.trigger'='partition-time',&#010;&gt;        |  'sink.partition-commit.delay'='0s',&#010;&gt;        |  'sink.partition-commit.policy.kind'='metastore'&#010;&gt;        |)&#010;&gt;        |&#010;&gt;        |\"\"\".stripMargin)&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; java.util.concurrent.CompletionException: org.apache.flink.client.deployment.application.ApplicationExecutionException:&#010;Could not execute application.&#010;&gt; &#009;at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;~[?:1.8.0_161]&#010;&gt; &#009;at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;~[?:1.8.0_161]&#010;&gt; &#009;at java.util.concurrent.CompletableFuture.uniCompose(CompletableFuture.java:943) ~[?:1.8.0_161]&#010;&gt; &#009;at java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:926)&#010;~[?:1.8.0_161]&#010;&gt; &#009;at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474) ~[?:1.8.0_161]&#010;&gt; &#009;at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)&#010;~[?:1.8.0_161]&#010;&gt; &#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:245)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.lambda$runApplicationAsync$1(ApplicationDispatcherBootstrap.java:199)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_161]&#010;&gt; &#009;at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_161]&#010;&gt; &#009;at org.apache.flink.runtime.concurrent.akka.ActorSystemScheduledExecutorAdapter$ScheduledFutureTask.run(ActorSystemScheduledExecutorAdapter.java:154)&#010;[data-flow-1.0.jar:?]&#010;&gt; &#009;at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:40) [data-flow-1.0.jar:?]&#010;&gt; &#009;at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(ForkJoinExecutorConfigurator.scala:44)&#010;[data-flow-1.0.jar:?]&#010;&gt; &#009;at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260) [data-flow-1.0.jar:?]&#010;&gt; &#009;at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339) [data-flow-1.0.jar:?]&#010;&gt; &#009;at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979) [data-flow-1.0.jar:?]&#010;&gt; &#009;at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107) [data-flow-1.0.jar:?]&#010;&gt; Caused by: org.apache.flink.client.deployment.application.ApplicationExecutionException:&#010;Could not execute application.&#010;&gt; &#009;... 11 more&#010;&gt; Caused by: org.apache.flink.client.program.ProgramInvocationException: The main method&#010;caused an error: SQL parse failed. Encountered \"NOT\" at line 3, column 17.&#010;&gt; Was expecting one of:&#010;&gt;    &lt;EOF&gt; &#010;&gt;    \"ROW\" ...&#010;&gt;    \"COMMENT\" ...&#010;&gt;    \"LOCATION\" ...&#010;&gt;    \"PARTITIONED\" ...&#010;&gt;    \"STORED\" ...&#010;&gt;    \"TBLPROPERTIES\" ...&#010;&gt;    \"(\" ...&#010;&gt;    \".\" ...&#010;&gt; &#010;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:302)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;... 10 more&#010;&gt; Caused by: org.apache.flink.table.api.SqlParserException: SQL parse failed. Encountered&#010;\"NOT\" at line 3, column 17.&#010;&gt; Was expecting one of:&#010;&gt;    &lt;EOF&gt; &#010;&gt;    \"ROW\" ...&#010;&gt;    \"COMMENT\" ...&#010;&gt;    \"LOCATION\" ...&#010;&gt;    \"PARTITIONED\" ...&#010;&gt;    \"STORED\" ...&#010;&gt;    \"TBLPROPERTIES\" ...&#010;&gt;    \"(\" ...&#010;&gt;    \".\" ...&#010;&gt; &#010;&gt; &#009;at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:56)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:76) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:678)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase$.main(FromKafkaSinkHiveAndHbase.scala:31)&#010;~[qile-data-flow-1.0.jar:?]&#010;&gt; &#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase.main(FromKafkaSinkHiveAndHbase.scala)&#010;~[qile-data-flow-1.0.jar:?]&#010;&gt; &#009;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]&#010;&gt; &#009;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]&#010;&gt; &#009;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#010;~[?:1.8.0_161]&#010;&gt; &#009;at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]&#010;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;... 10 more&#010;&gt; Caused by: org.apache.calcite.sql.parser.SqlParseException: Encountered \"NOT\" at line&#010;3, column 17.&#010;&gt; Was expecting one of:&#010;&gt;    &lt;EOF&gt; &#010;&gt;    \"ROW\" ...&#010;&gt;    \"COMMENT\" ...&#010;&gt;    \"LOCATION\" ...&#010;&gt;    \"PARTITIONED\" ...&#010;&gt;    \"STORED\" ...&#010;&gt;    \"TBLPROPERTIES\" ...&#010;&gt;    \"(\" ...&#010;&gt;    \".\" ...&#010;&gt; &#010;&gt; &#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.convertException(FlinkHiveSqlParserImpl.java:435)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.normalizeException(FlinkHiveSqlParserImpl.java:220)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.calcite.sql.parser.SqlParser.handleException(SqlParser.java:148) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:163) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.calcite.sql.parser.SqlParser.parseStmt(SqlParser.java:188) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:54)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:76) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:678)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase$.main(FromKafkaSinkHiveAndHbase.scala:31)&#010;~[data-flow-1.0.jar:?]&#010;&gt; &#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase.main(FromKafkaSinkHiveAndHbase.scala)&#010;~[data-flow-1.0.jar:?]&#010;&gt; &#009;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]&#010;&gt; &#009;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]&#010;&gt; &#009;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#010;~[?:1.8.0_161]&#010;&gt; &#009;at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]&#010;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;... 10 more&#010;&gt; Caused by: org.apache.flink.sql.parser.hive.impl.ParseException: Encountered \"NOT\" at&#010;line 3, column 17.&#010;&gt; Was expecting one of:&#010;&gt;    &lt;EOF&gt; &#010;&gt;    \"ROW\" ...&#010;&gt;    \"COMMENT\" ...&#010;&gt;    \"LOCATION\" ...&#010;&gt;    \"PARTITIONED\" ...&#010;&gt;    \"STORED\" ...&#010;&gt;    \"TBLPROPERTIES\" ...&#010;&gt;    \"(\" ...&#010;&gt;    \".\" ...&#010;&gt; &#010;&gt; &#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.generateParseException(FlinkHiveSqlParserImpl.java:37347)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.jj_consume_token(FlinkHiveSqlParserImpl.java:37158)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.SqlStmtEof(FlinkHiveSqlParserImpl.java:3962)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.parseSqlStmtEof(FlinkHiveSqlParserImpl.java:267)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:161) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.calcite.sql.parser.SqlParser.parseStmt(SqlParser.java:188) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:54)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:76) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:678)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase$.main(FromKafkaSinkHiveAndHbase.scala:31)&#010;~[data-flow-1.0.jar:?]&#010;&gt; &#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase.main(FromKafkaSinkHiveAndHbase.scala)&#010;~[data-flow-1.0.jar:?]&#010;&gt; &#009;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]&#010;&gt; &#009;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]&#010;&gt; &#009;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#010;~[?:1.8.0_161]&#010;&gt; &#009;at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]&#010;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt; &#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&#010;&#010;",
        "depth": "1",
        "reply": "<3d8d7d3f.3c01.17355cdf87e.Coremail.wander669@163.com>"
    },
    {
        "id": "<1018567c.3da4.17355f380aa.Coremail.wander669@163.com>",
        "from": "&quot;Zhou Zach&quot; &lt;wander...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 04:48:08 GMT",
        "subject": "Re:Re: flink sql 1.11 create hive table error",
        "content": "hi Leonard,&#010;æ„Ÿè°¢ç­”ç–‘ï¼&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;At 2020-07-16 12:16:40, \"Leonard Xu\" &lt;xbjtdcq@gmail.com&gt; wrote:&#010;&gt;Hello, Zach&#010;&gt;&#010;&gt;æ˜¯çš„, 1.12 ä¼šæ”¯æŒï¼ŒPR[1]å·²ç»å¼€äº†ï¼Œåœ¨reviewä¸­ã€‚&#010;&gt;&#010;&gt;ç¥å¥½ï¼Œ&#010;&gt;Leonard Xu&#010;&gt;[1] https://issues.apache.org/jira/browse/FLINK-18588 &lt;https://issues.apache.org/jira/browse/FLINK-18588&gt;&#010;&gt;&gt; åœ¨ 2020å¹´7æœˆ16æ—¥ï¼Œ12:07ï¼ŒZhou Zach &lt;wander669@163.com&gt; å†™é“ï¼š&#010;&gt;&gt; &#010;&gt;&gt; Hi all,&#010;&gt;&gt; flink sql 1.11 create table æ˜¯ä¸æ˜¯ ä¸æ”¯æŒ IF NOT EXISTS&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; Queryï¼š&#010;&gt;&gt;    val hiveConfDir = \"/etc/hive/conf\" &#010;&gt;&gt;    val hiveVersion = \"2.1.1\"&#010;&gt;&gt; &#010;&gt;&gt;    val odsCatalog = \"odsCatalog\"&#010;&gt;&gt;    val odsHiveCatalog = new HiveCatalog(odsCatalog, \"ods\", hiveConfDir, hiveVersion)&#010;&gt;&gt;    streamTableEnv.registerCatalog(odsCatalog, odsHiveCatalog)&#010;&gt;&gt; &#010;&gt;&gt;    streamTableEnv.getConfig.setSqlDialect(SqlDialect.HIVE)&#010;&gt;&gt;    streamTableEnv.executeSql(&#010;&gt;&gt;      \"\"\"&#010;&gt;&gt;        |&#010;&gt;&gt;        |CREATE TABLE IF NOT EXISTS odsCatalog.ods.hive_table (&#010;&gt;&gt;        |  user_id STRING,&#010;&gt;&gt;        |  age INT&#010;&gt;&gt;        |) PARTITIONED BY (dt STRING, hr STRING) STORED AS parquet TBLPROPERTIES (&#010;&gt;&gt;        |  'partition.time-extractor.timestamp-pattern'='$dt $hr:00:00',&#010;&gt;&gt;        |  'sink.partition-commit.trigger'='partition-time',&#010;&gt;&gt;        |  'sink.partition-commit.delay'='0s',&#010;&gt;&gt;        |  'sink.partition-commit.policy.kind'='metastore'&#010;&gt;&gt;        |)&#010;&gt;&gt;        |&#010;&gt;&gt;        |\"\"\".stripMargin)&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; java.util.concurrent.CompletionException: org.apache.flink.client.deployment.application.ApplicationExecutionException:&#010;Could not execute application.&#010;&gt;&gt; &#009;at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)&#010;~[?:1.8.0_161]&#010;&gt;&gt; &#009;at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)&#010;~[?:1.8.0_161]&#010;&gt;&gt; &#009;at java.util.concurrent.CompletableFuture.uniCompose(CompletableFuture.java:943)&#010;~[?:1.8.0_161]&#010;&gt;&gt; &#009;at java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:926)&#010;~[?:1.8.0_161]&#010;&gt;&gt; &#009;at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)&#010;~[?:1.8.0_161]&#010;&gt;&gt; &#009;at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)&#010;~[?:1.8.0_161]&#010;&gt;&gt; &#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:245)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.lambda$runApplicationAsync$1(ApplicationDispatcherBootstrap.java:199)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_161]&#010;&gt;&gt; &#009;at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_161]&#010;&gt;&gt; &#009;at org.apache.flink.runtime.concurrent.akka.ActorSystemScheduledExecutorAdapter$ScheduledFutureTask.run(ActorSystemScheduledExecutorAdapter.java:154)&#010;[data-flow-1.0.jar:?]&#010;&gt;&gt; &#009;at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:40) [data-flow-1.0.jar:?]&#010;&gt;&gt; &#009;at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(ForkJoinExecutorConfigurator.scala:44)&#010;[data-flow-1.0.jar:?]&#010;&gt;&gt; &#009;at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260) [data-flow-1.0.jar:?]&#010;&gt;&gt; &#009;at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;[data-flow-1.0.jar:?]&#010;&gt;&gt; &#009;at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979) [data-flow-1.0.jar:?]&#010;&gt;&gt; &#009;at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&#010;[data-flow-1.0.jar:?]&#010;&gt;&gt; Caused by: org.apache.flink.client.deployment.application.ApplicationExecutionException:&#010;Could not execute application.&#010;&gt;&gt; &#009;... 11 more&#010;&gt;&gt; Caused by: org.apache.flink.client.program.ProgramInvocationException: The main method&#010;caused an error: SQL parse failed. Encountered \"NOT\" at line 3, column 17.&#010;&gt;&gt; Was expecting one of:&#010;&gt;&gt;    &lt;EOF&gt; &#010;&gt;&gt;    \"ROW\" ...&#010;&gt;&gt;    \"COMMENT\" ...&#010;&gt;&gt;    \"LOCATION\" ...&#010;&gt;&gt;    \"PARTITIONED\" ...&#010;&gt;&gt;    \"STORED\" ...&#010;&gt;&gt;    \"TBLPROPERTIES\" ...&#010;&gt;&gt;    \"(\" ...&#010;&gt;&gt;    \".\" ...&#010;&gt;&gt; &#010;&gt;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:302)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;... 10 more&#010;&gt;&gt; Caused by: org.apache.flink.table.api.SqlParserException: SQL parse failed. Encountered&#010;\"NOT\" at line 3, column 17.&#010;&gt;&gt; Was expecting one of:&#010;&gt;&gt;    &lt;EOF&gt; &#010;&gt;&gt;    \"ROW\" ...&#010;&gt;&gt;    \"COMMENT\" ...&#010;&gt;&gt;    \"LOCATION\" ...&#010;&gt;&gt;    \"PARTITIONED\" ...&#010;&gt;&gt;    \"STORED\" ...&#010;&gt;&gt;    \"TBLPROPERTIES\" ...&#010;&gt;&gt;    \"(\" ...&#010;&gt;&gt;    \".\" ...&#010;&gt;&gt; &#010;&gt;&gt; &#009;at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:56)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:76)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:678)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase$.main(FromKafkaSinkHiveAndHbase.scala:31)&#010;~[qile-data-flow-1.0.jar:?]&#010;&gt;&gt; &#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase.main(FromKafkaSinkHiveAndHbase.scala)&#010;~[qile-data-flow-1.0.jar:?]&#010;&gt;&gt; &#009;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]&#010;&gt;&gt; &#009;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&#010;~[?:1.8.0_161]&#010;&gt;&gt; &#009;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#010;~[?:1.8.0_161]&#010;&gt;&gt; &#009;at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]&#010;&gt;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;... 10 more&#010;&gt;&gt; Caused by: org.apache.calcite.sql.parser.SqlParseException: Encountered \"NOT\" at&#010;line 3, column 17.&#010;&gt;&gt; Was expecting one of:&#010;&gt;&gt;    &lt;EOF&gt; &#010;&gt;&gt;    \"ROW\" ...&#010;&gt;&gt;    \"COMMENT\" ...&#010;&gt;&gt;    \"LOCATION\" ...&#010;&gt;&gt;    \"PARTITIONED\" ...&#010;&gt;&gt;    \"STORED\" ...&#010;&gt;&gt;    \"TBLPROPERTIES\" ...&#010;&gt;&gt;    \"(\" ...&#010;&gt;&gt;    \".\" ...&#010;&gt;&gt; &#010;&gt;&gt; &#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.convertException(FlinkHiveSqlParserImpl.java:435)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.normalizeException(FlinkHiveSqlParserImpl.java:220)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.calcite.sql.parser.SqlParser.handleException(SqlParser.java:148) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:163) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.calcite.sql.parser.SqlParser.parseStmt(SqlParser.java:188) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:54)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:76)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:678)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase$.main(FromKafkaSinkHiveAndHbase.scala:31)&#010;~[data-flow-1.0.jar:?]&#010;&gt;&gt; &#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase.main(FromKafkaSinkHiveAndHbase.scala)&#010;~[data-flow-1.0.jar:?]&#010;&gt;&gt; &#009;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]&#010;&gt;&gt; &#009;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&#010;~[?:1.8.0_161]&#010;&gt;&gt; &#009;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#010;~[?:1.8.0_161]&#010;&gt;&gt; &#009;at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]&#010;&gt;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;... 10 more&#010;&gt;&gt; Caused by: org.apache.flink.sql.parser.hive.impl.ParseException: Encountered \"NOT\"&#010;at line 3, column 17.&#010;&gt;&gt; Was expecting one of:&#010;&gt;&gt;    &lt;EOF&gt; &#010;&gt;&gt;    \"ROW\" ...&#010;&gt;&gt;    \"COMMENT\" ...&#010;&gt;&gt;    \"LOCATION\" ...&#010;&gt;&gt;    \"PARTITIONED\" ...&#010;&gt;&gt;    \"STORED\" ...&#010;&gt;&gt;    \"TBLPROPERTIES\" ...&#010;&gt;&gt;    \"(\" ...&#010;&gt;&gt;    \".\" ...&#010;&gt;&gt; &#010;&gt;&gt; &#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.generateParseException(FlinkHiveSqlParserImpl.java:37347)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.jj_consume_token(FlinkHiveSqlParserImpl.java:37158)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.SqlStmtEof(FlinkHiveSqlParserImpl.java:3962)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.sql.parser.hive.impl.FlinkHiveSqlParserImpl.parseSqlStmtEof(FlinkHiveSqlParserImpl.java:267)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:161) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.calcite.sql.parser.SqlParser.parseStmt(SqlParser.java:188) ~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:54)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:76)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:678)&#010;~[flink-table-blink_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase$.main(FromKafkaSinkHiveAndHbase.scala:31)&#010;~[data-flow-1.0.jar:?]&#010;&gt;&gt; &#009;at cn.ibobei.qile.dataflow.sql.FromKafkaSinkHiveAndHbase.main(FromKafkaSinkHiveAndHbase.scala)&#010;~[data-flow-1.0.jar:?]&#010;&gt;&gt; &#009;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]&#010;&gt;&gt; &#009;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&#010;~[?:1.8.0_161]&#010;&gt;&gt; &#009;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#010;~[?:1.8.0_161]&#010;&gt;&gt; &#009;at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]&#010;&gt;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149) ~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&gt; &#009;at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:230)&#010;~[flink-clients_2.11-1.11.0.jar:1.11.0]&#010;&gt;&#010;",
        "depth": "2",
        "reply": "<3d8d7d3f.3c01.17355cdf87e.Coremail.wander669@163.com>"
    },
    {
        "id": "<CAHOPYeVU3Th3=qTibsDH5=9ufv-0EFJQT9+3_dyicSoRGVUYnA@mail.gmail.com>",
        "from": "&quot;Harold.Miao&quot; &lt;miaohong...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 05:27:40 GMT",
        "subject": "[sql-client] é€šè¿‡sql-clientæäº¤sqlæ€ä¹ˆè®¾ç½®checkpointing.interval",
        "content": "hi flink users&#013;&#010;&#013;&#010;é€šè¿‡sql-clientæäº¤sqlæ€ä¹ˆè®¾ç½®checkpointing.intervalï¼Ÿ&#013;&#010;æˆ‘çœ‹äº†ä¸€ä¸‹sql-client-defaults.yamlä¸­çš„executionï¼Œ å¹¶æ²¡æœ‰å‘ç°è¿™ä¸ªå‚æ•°ã€‚è¯·æ•™å¤§å®¶ä¸€ä¸‹ã€‚&#013;&#010;è°¢è°¢&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;-- &#013;&#010;&#013;&#010;Best Regards,&#013;&#010;Harold Miao&#013;&#010;",
        "depth": "0",
        "reply": "<CAHOPYeVU3Th3=qTibsDH5=9ufv-0EFJQT9+3_dyicSoRGVUYnA@mail.gmail.com>"
    },
    {
        "id": "<CADQYLGvzkmrj46654FGo+R_HdGa620Vj35GRYYCBUuvtqXkNUg@mail.gmail.com>",
        "from": "godfrey he &lt;godfre...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 05:36:24 GMT",
        "subject": "Re: [sql-client] é€šè¿‡sql-clientæäº¤sqlæ€ä¹ˆè®¾ç½®checkpointing.interval",
        "content": "ç°åœ¨è¿˜ä¸æ”¯æŒåœ¨sql-client-defaults.yaml é‡Œé…ç½® checkpointing.interval,&#013;&#010;ä½ å¯ä»¥é…ç½®åœ¨flink-conf.yamlé‡Œ&#013;&#010;&#013;&#010;Harold.Miao &lt;miaohonghit@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ1:27å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; hi flink users&#013;&#010;&gt;&#013;&#010;&gt; é€šè¿‡sql-clientæäº¤sqlæ€ä¹ˆè®¾ç½®checkpointing.intervalï¼Ÿ&#013;&#010;&gt; æˆ‘çœ‹äº†ä¸€ä¸‹sql-client-defaults.yamlä¸­çš„executionï¼Œ å¹¶æ²¡æœ‰å‘ç°è¿™ä¸ªå‚æ•°ã€‚è¯·æ•™å¤§å®¶ä¸€ä¸‹ã€‚&#013;&#010;&gt; è°¢è°¢&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt;&#013;&#010;&gt; Best Regards,&#013;&#010;&gt; Harold Miao&#013;&#010;&gt;&#013;&#010;",
        "depth": "1",
        "reply": "<CAHOPYeVU3Th3=qTibsDH5=9ufv-0EFJQT9+3_dyicSoRGVUYnA@mail.gmail.com>"
    },
    {
        "id": "<CAHOPYeX+-P4RA+wVYcZHmwyD=CfosgJzOGSSRvhv479cnphoTg@mail.gmail.com>",
        "from": "&quot;Harold.Miao&quot; &lt;miaohong...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 05:38:24 GMT",
        "subject": "Re: [sql-client] é€šè¿‡sql-clientæäº¤sqlæ€ä¹ˆè®¾ç½®checkpointing.interval",
        "content": "æ˜¯åœ¨flink-conf.yamlé‡Œé¢é…ç½®è¿™ä¸ªå‚æ•°å—&#013;&#010;execution.checkpointing.interval&#013;&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/config.html#execution-checkpointing-interval&gt;&#013;&#010;&#013;&#010;godfrey he &lt;godfreyhe@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ1:37å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; ç°åœ¨è¿˜ä¸æ”¯æŒåœ¨sql-client-defaults.yaml é‡Œé…ç½® checkpointing.interval,&#013;&#010;&gt; ä½ å¯ä»¥é…ç½®åœ¨flink-conf.yamlé‡Œ&#013;&#010;&gt;&#013;&#010;&gt; Harold.Miao &lt;miaohonghit@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ1:27å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; hi flink users&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; é€šè¿‡sql-clientæäº¤sqlæ€ä¹ˆè®¾ç½®checkpointing.intervalï¼Ÿ&#013;&#010;&gt; &gt; æˆ‘çœ‹äº†ä¸€ä¸‹sql-client-defaults.yamlä¸­çš„executionï¼Œ å¹¶æ²¡æœ‰å‘ç°è¿™ä¸ªå‚æ•°ã€‚è¯·æ•™å¤§å®¶ä¸€ä¸‹ã€‚&#013;&#010;&gt; &gt; è°¢è°¢&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; --&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Best Regards,&#013;&#010;&gt; &gt; Harold Miao&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;&#013;&#010;&#013;&#010;-- &#013;&#010;&#013;&#010;Best Regards,&#013;&#010;Harold Miao&#013;&#010;",
        "depth": "2",
        "reply": "<CAHOPYeVU3Th3=qTibsDH5=9ufv-0EFJQT9+3_dyicSoRGVUYnA@mail.gmail.com>"
    },
    {
        "id": "<2020071616045599749946@geekplus.com.cn>",
        "from": "&quot;wanglei2@geekplus.com.cn&quot; &lt;wangl...@geekplus.com.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:06:02 GMT",
        "subject": "Re: [sql-client] é€šè¿‡sql-clientæäº¤sqlæ€ä¹ˆè®¾ç½®checkpointing.interval",
        "content": "&#013;&#010;ç›´æ¥åœ¨ flink-conf.yaml æ–‡ä»¶ä¸­åŠ é…ç½®&#013;&#010;execution.checkpointing.interval: 60000&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;    &#013;&#010; &#013;&#010;Sender: Harold.Miao&#013;&#010;Send Time: 2020-07-16 13:27&#013;&#010;Receiver: user-zh&#013;&#010;Subject: [sql-client] é€šè¿‡sql-clientæäº¤sqlæ€ä¹ˆè®¾ç½®checkpointing.interval&#013;&#010;hi flink users&#013;&#010; &#013;&#010;é€šè¿‡sql-clientæäº¤sqlæ€ä¹ˆè®¾ç½®checkpointing.intervalï¼Ÿ&#013;&#010;æˆ‘çœ‹äº†ä¸€ä¸‹sql-client-defaults.yamlä¸­çš„executionï¼Œ å¹¶æ²¡æœ‰å‘ç°è¿™ä¸ªå‚æ•°ã€‚è¯·æ•™å¤§å®¶ä¸€ä¸‹ã€‚&#013;&#010;è°¢è°¢&#013;&#010; &#013;&#010; &#013;&#010; &#013;&#010;-- &#013;&#010; &#013;&#010;Best Regards,&#013;&#010;Harold Miao&#013;&#010;",
        "depth": "1",
        "reply": "<CAHOPYeVU3Th3=qTibsDH5=9ufv-0EFJQT9+3_dyicSoRGVUYnA@mail.gmail.com>"
    },
    {
        "id": "<tencent_E05BB0BB1E6A2A50813A256A9417FF10B80A@qq.com>",
        "from": "&quot;jiafu&quot; &lt;530496...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 05:48:48 GMT",
        "subject": "Trying to eagerly schedule a task whose inputs are not ready",
        "content": "flinkä»»åŠ¡è¿è¡Œæ—¶ä¼šæœ‰ä»¥ä¸‹çš„æŠ¥é”™&#013;&#010;org.apache.flink.runtime.executiongraph.ExecutionGraphException: Trying to eagerly schedule&#010;a task whose inputs are not ready (result type: PIPELINED_BOUNDED, partition consumable: false,&#010;producer state: SCHEDULED, producer slot: null). &#009;at org.apache.flink.runtime.deployment.InputChannelDeploymentDescriptor.fromEdges(InputChannelDeploymentDescriptor.java:145)&#010;&#009;at org.apache.flink.runtime.executiongraph.ExecutionVertex.createDeploymentDescriptor(ExecutionVertex.java:840)&#010;&#009;at org.apache.flink.runtime.executiongraph.Execution.deploy(Execution.java:621) &#009;at org.apache.flink.util.function.ThrowingRunnable.lambda$unchecked$0(ThrowingRunnable.java:50)&#010;&#009;at java.util.concurrent.CompletableFuture.uniRun(CompletableFuture.java:705) &#009;at java.util.concurrent.CompletableFuture.uniRunStage(CompletableFuture.java:717)&#010;&#009;at java.util.concurrent.CompletableFuture.thenRun(CompletableFuture.java:2010) &#009;at org.apache.flink.runtime.executiongraph.Execution.scheduleForExecution(Execution.java:436)&#010;&#009;at org.apache.flink.runtime.executiongraph.ExecutionVertex.scheduleForExecution(ExecutionVertex.java:637)&#010;&#009;at org.apache.flink.runtime.executiongraph.failover.FailoverRegion.restart(FailoverRegion.java:229)&#010;&#009;at org.apache.flink.runtime.executiongraph.failover.FailoverRegion.reset(FailoverRegion.java:186)&#010;&#009;at org.apache.flink.runtime.executiongraph.failover.FailoverRegion.allVerticesInTerminalState(FailoverRegion.java:96)&#010;&#009;at org.apache.flink.runtime.executiongraph.failover.FailoverRegion.lambda$cancel$0(FailoverRegion.java:146)&#010;&#009;at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:656) &#009;at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:632)&#010;&#009;at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474) &#009;at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1962)&#010;&#009;at org.apache.flink.runtime.concurrent.FutureUtils$WaitingConjunctFuture.handleCompletedFuture(FutureUtils.java:633)&#010;&#009;at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760) &#009;at&#010;java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)&#010;&#009;at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474) &#009;at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1962)&#010;&#009;at org.apache.flink.runtime.executiongraph.Execution.lambda$releaseAssignedResource$11(Execution.java:1350)&#010;&#009;at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760) &#009;at&#010;java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:778) &#009;at&#010;java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2140) &#009;at org.apache.flink.runtime.executiongraph.Execution.releaseAssignedResource(Execution.java:1345)&#010;&#009;at org.apache.flink.runtime.executiongraph.Execution.finishCancellation(Execution.java:1115)&#010;&#009;at org.apache.flink.runtime.executiongraph.Execution.completeCancelling(Execution.java:1094)&#010;&#009;at org.apache.flink.runtime.executiongraph.ExecutionGraph.updateState(ExecutionGraph.java:1628)&#010;&#009;at org.apache.flink.runtime.jobmaster.JobMaster.updateTaskExecutionState(JobMaster.java:517)&#010;&#009;at sun.reflect.GeneratedMethodAccessor63.invoke(Unknown Source) &#009;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#010;&#009;at java.lang.reflect.Method.invoke(Method.java:498) &#009;at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcInvocation(AkkaRpcActor.java:274)&#010;&#009;at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:189)&#010;&#009;at org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&#010;&#009;at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.onReceive(AkkaRpcActor.java:147) &#009;at org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.onReceive(FencedAkkaRpcActor.java:40)&#010;&#009;at akka.actor.UntypedActor$$anonfun$receive$1.applyOrElse(UntypedActor.scala:165) &#009;at akka.actor.Actor$class.aroundReceive(Actor.scala:502)&#010;&#009;at akka.actor.UntypedActor.aroundReceive(UntypedActor.scala:95) &#009;at akka.actor.ActorCell.receiveMessage(ActorCell.scala:526)&#010;&#009;at akka.actor.ActorCell.invoke(ActorCell.scala:495) &#009;at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:257)&#010;&#009;at akka.dispatch.Mailbox.run(Mailbox.scala:224) &#009;at akka.dispatch.Mailbox.exec(Mailbox.scala:234)&#010;&#009;at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260) &#009;at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&#010;&#009;at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979) &#009;at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)",
        "depth": "0",
        "reply": "<tencent_E05BB0BB1E6A2A50813A256A9417FF10B80A@qq.com>"
    },
    {
        "id": "<46616561.542f.1735664625e.Coremail.wander669@163.com>",
        "from": "&quot;Zhou Zach&quot; &lt;wander...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 06:51:26 GMT",
        "subject": "flink1.11 set yarn slots failed",
        "content": "Hi all,&#010;&#010;&#010;ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œè®¾ç½®Number of slots per TaskManager&#010;/opt/flink-1.11.0/bin/flink run-application -t yarn-application \\&#010;-Djobmanager.memory.process.size=1024m \\&#010;-Dtaskmanager.memory.process.size=2048m \\&#010; -ys 4 \\&#010;&#010;&#010;å‘ç°å¹¶ä¸èƒ½override/opt/flink-1.11.0/bin/flink/conf/flink-conf.yamlä¸­çš„é»˜è®¤å€¼ï¼Œæ¯æ¬¡è¦è°ƒæ•´åªèƒ½é€šè¿‡æ›´æ”¹flink-conf.yamlçš„æ–¹å¼æ‰èƒ½ç”Ÿæ•ˆï¼Œè¯·é—®ä½¿ç”¨run-applicationçš„æ–¹å¼ï¼Œæ€æ ·è®¾ç½®Number&#010;of slots per TaskManagerï¼Ÿ&#010;å¦å¤–ï¼Œæœ‰å“ªäº›æ–¹å¼å¯ä»¥å¢Flink UIä¸­çš„å¤§Available Task Slotsçš„å€¼ï¼Œç°åœ¨æ¯æ¬¡æäº¤ä½œä¸šéƒ½æ˜¯0",
        "depth": "0",
        "reply": "<46616561.542f.1735664625e.Coremail.wander669@163.com>"
    },
    {
        "id": "<CAP+gf37_QypPYd11wTM2D=rp=Xe4BYh8+Cc5Jj2kmHvR924=dg@mail.gmail.com>",
        "from": "Yang Wang &lt;danrtsey...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 07:04:19 GMT",
        "subject": "Re: flink1.11 set yarn slots failed",
        "content": "-tæ˜¯æ–°å¼•å…¥çš„å‚æ•°ï¼Œæ˜¯ä¸æ”¯æŒä»¥å‰çš„-yxxxå‚æ•°çš„&#013;&#010;ä½ éœ€è¦ä½¿ç”¨-Dtaskmanager.numberOfTaskSlots=4è¿™æ ·æ¥è®¾ç½®&#013;&#010;&#013;&#010;Zhou Zach &lt;wander669@163.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ2:51å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi all,&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œè®¾ç½®Number of slots per TaskManager&#013;&#010;&gt; /opt/flink-1.11.0/bin/flink run-application -t yarn-application \\&#013;&#010;&gt; -Djobmanager.memory.process.size=1024m \\&#013;&#010;&gt; -Dtaskmanager.memory.process.size=2048m \\&#013;&#010;&gt;  -ys 4 \\&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å‘ç°å¹¶ä¸èƒ½override/opt/flink-1.11.0/bin/flink/conf/flink-conf.yamlä¸­çš„é»˜è®¤å€¼ï¼Œæ¯æ¬¡è¦è°ƒæ•´åªèƒ½é€šè¿‡æ›´æ”¹flink-conf.yamlçš„æ–¹å¼æ‰èƒ½ç”Ÿæ•ˆï¼Œè¯·é—®ä½¿ç”¨run-applicationçš„æ–¹å¼ï¼Œæ€æ ·è®¾ç½®Number&#013;&#010;&gt; of slots per TaskManagerï¼Ÿ&#013;&#010;&gt; å¦å¤–ï¼Œæœ‰å“ªäº›æ–¹å¼å¯ä»¥å¢Flink UIä¸­çš„å¤§Available Task Slotsçš„å€¼ï¼Œç°åœ¨æ¯æ¬¡æäº¤ä½œä¸šéƒ½æ˜¯0&#013;&#010;",
        "depth": "1",
        "reply": "<46616561.542f.1735664625e.Coremail.wander669@163.com>"
    },
    {
        "id": "<tencent_4339BB19B17BCD02C14A4132@qq.com>",
        "from": "&quot;flinkcx&quot;&lt;flin...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 07:03:14 GMT",
        "subject": "å›å¤ï¼šflink1.11 set yarn slots failed",
        "content": "æ˜¯ä¸æ˜¯åº”è¯¥ç”¨-Dä½œä¸ºå‰ç¼€æ¥è®¾ç½®,æ¯”å¦‚-Dtaskmanager.numberOfTaskSlots=4&#010;&#010;&#010; åŸå§‹é‚®ä»¶ &#010;å‘ä»¶äºº: Zhou Zach&lt;wander669@163.com&gt;&#010;æ”¶ä»¶äºº: Flink user-zh mailing list&lt;user-zh@flink.apache.org&gt;&#010;å‘é€æ—¶é—´: 2020å¹´7æœˆ16æ—¥(å‘¨å››)â€‡14:51&#010;ä¸»é¢˜: flink1.11 set yarn slots failed&#010;&#010;&#010;Hi all, ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œè®¾ç½®Number of slots per TaskManager /opt/flink-1.11.0/bin/flink&#010;run-application -t yarn-application \\ -Djobmanager.memory.process.size=1024m \\ -Dtaskmanager.memory.process.size=2048m&#010;\\ -ys 4 \\ å‘ç°å¹¶ä¸èƒ½override/opt/flink-1.11.0/bin/flink/conf/flink-conf.yamlä¸­çš„é»˜è®¤å€¼ï¼Œæ¯æ¬¡è¦è°ƒæ•´åªèƒ½é€šè¿‡æ›´æ”¹flink-conf.yamlçš„æ–¹å¼æ‰èƒ½ç”Ÿæ•ˆï¼Œè¯·é—®ä½¿ç”¨run-applicationçš„æ–¹å¼ï¼Œæ€æ ·è®¾ç½®Number&#010;of slots per TaskManagerï¼Ÿ å¦å¤–ï¼Œæœ‰å“ªäº›æ–¹å¼å¯ä»¥å¢Flink UIä¸­çš„å¤§Available Task&#010;Slotsçš„å€¼ï¼Œç°åœ¨æ¯æ¬¡æäº¤ä½œä¸šéƒ½æ˜¯0",
        "depth": "0",
        "reply": "<tencent_4339BB19B17BCD02C14A4132@qq.com>"
    },
    {
        "id": "<3c168e08.5e86.1735685dc89.Coremail.wander669@163.com>",
        "from": "&quot;Zhou Zach&quot; &lt;wander...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 07:28:00 GMT",
        "subject": "Re:å›å¤ï¼šflink1.11 set yarn slots failed",
        "content": "-Då‰ç¼€å¥½ä½¿ï¼Œè¦è®¾ç½®yarn nameç”¨ä»€ä¹ˆå‚æ•°å•Šï¼Œ1.11å®˜ç½‘çš„æ–‡æ¡£æœ‰äº›éƒ½ä¸å¥½ä½¿äº†&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-16 15:03:14ï¼Œ\"flinkcx\" &lt;flinkcx@163.com&gt; å†™é“ï¼š&#010;&gt;æ˜¯ä¸æ˜¯åº”è¯¥ç”¨-Dä½œä¸ºå‰ç¼€æ¥è®¾ç½®,æ¯”å¦‚-Dtaskmanager.numberOfTaskSlots=4&#010;&gt;&#010;&gt;&#010;&gt; åŸå§‹é‚®ä»¶ &#010;&gt;å‘ä»¶äºº: Zhou Zach&lt;wander669@163.com&gt;&#010;&gt;æ”¶ä»¶äºº: Flink user-zh mailing list&lt;user-zh@flink.apache.org&gt;&#010;&gt;å‘é€æ—¶é—´: 2020å¹´7æœˆ16æ—¥(å‘¨å››)â€‡14:51&#010;&gt;ä¸»é¢˜: flink1.11 set yarn slots failed&#010;&gt;&#010;&gt;&#010;&gt;Hi all, ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œè®¾ç½®Number of slots per TaskManager /opt/flink-1.11.0/bin/flink&#010;run-application -t yarn-application \\ -Djobmanager.memory.process.size=1024m \\ -Dtaskmanager.memory.process.size=2048m&#010;\\ -ys 4 \\ å‘ç°å¹¶ä¸èƒ½override/opt/flink-1.11.0/bin/flink/conf/flink-conf.yamlä¸­çš„é»˜è®¤å€¼ï¼Œæ¯æ¬¡è¦è°ƒæ•´åªèƒ½é€šè¿‡æ›´æ”¹flink-conf.yamlçš„æ–¹å¼æ‰èƒ½ç”Ÿæ•ˆï¼Œè¯·é—®ä½¿ç”¨run-applicationçš„æ–¹å¼ï¼Œæ€æ ·è®¾ç½®Number&#010;of slots per TaskManagerï¼Ÿ å¦å¤–ï¼Œæœ‰å“ªäº›æ–¹å¼å¯ä»¥å¢Flink UIä¸­çš„å¤§Available Task&#010;Slotsçš„å€¼ï¼Œç°åœ¨æ¯æ¬¡æäº¤ä½œä¸šéƒ½æ˜¯0&#010;",
        "depth": "1",
        "reply": "<tencent_4339BB19B17BCD02C14A4132@qq.com>"
    },
    {
        "id": "<CA+Lep4bHk39D70SDg=r-sDBFcAgVJB3VXK2mrQ-WPQEuYgxobQ@mail.gmail.com>",
        "from": "Rainie Li &lt;raini...@pinterest.com.INVALID&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 07:46:46 GMT",
        "subject": "Flink yarn session exception",
        "content": "å¤§ä½¬ä»¬å¥½ï¼Œæˆ‘æ˜¯flinkæ–°æ‰‹ï¼Œæ­£åœ¨ç”¨flink 1.9.1&#010;Flink APP cannot run, APP log error,  æƒ³æ±‚æ•™ä¸€ä¸‹ä¼šæ˜¯ä»€ä¹ˆåŸå› é€ æˆçš„ï¼Œå¤šè°¢ğŸ™&#010;&#010;2020-06-16 17:06:21,921 WARN  org.apache.flink.client.cli.CliFrontend&#010;                - Could not load CLI class&#010;org.apache.flink.yarn.cli.FlinkYarnSessionCli.&#010;java.lang.NoClassDefFoundError:&#010;org/apache/hadoop/yarn/exceptions/YarnException&#010;at java.lang.Class.forName0(Native Method)&#010;at java.lang.Class.forName(Class.java:264)&#010;at&#010;org.apache.flink.client.cli.CliFrontend.loadCustomCommandLine(CliFrontend.java:1185)&#010;at&#010;org.apache.flink.client.cli.CliFrontend.loadCustomCommandLines(CliFrontend.java:1145)&#010;at org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1070)&#010;Caused by: java.lang.ClassNotFoundException:&#010;org.apache.hadoop.yarn.exceptions.YarnException&#010;at java.net.URLClassLoader.findClass(URLClassLoader.java:382)&#010;at java.lang.ClassLoader.loadClass(ClassLoader.java:424)&#010;at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)&#010;at java.lang.ClassLoader.loadClass(ClassLoader.java:357)&#010;... 5 more&#010;2020-06-16 17:06:21,980 INFO  org.apache.flink.core.fs.FileSystem&#010;                - Hadoop is not in the classpath/dependencies. The extended&#010;set of supported File Systems via Hadoop is not available.&#010;&#010;",
        "depth": "0",
        "reply": "<CA+Lep4bHk39D70SDg=r-sDBFcAgVJB3VXK2mrQ-WPQEuYgxobQ@mail.gmail.com>"
    },
    {
        "id": "<ABADEB88-1EB5-4585-895C-BEBB37789529@gmail.com>",
        "from": "Paul Lam &lt;paullin3...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:12:29 GMT",
        "subject": "Re: Flink yarn session exception",
        "content": "æ—¥å¿—é‡Œè¯´å¾—æ¯”è¾ƒæ¸…æ¥šäº†ï¼Œclasspath é‡Œæ²¡æœ‰ Hadoop çš„ libã€‚å¯ä»¥å‚è€ƒè¿™ä¸ªæ–‡æ¡£&#010;[1] æ¥é…ç½®ä½ çš„ç¯å¢ƒã€‚&#010;&#010;1. https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/hadoop.html&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/hadoop.html&gt;&#010;Best,&#010;Paul Lam&#010;&#010;&gt; 2020å¹´7æœˆ16æ—¥ 15:46ï¼ŒRainie Li &lt;rainieli@pinterest.com.INVALID&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; å¤§ä½¬ä»¬å¥½ï¼Œæˆ‘æ˜¯flinkæ–°æ‰‹ï¼Œæ­£åœ¨ç”¨flink 1.9.1&#010;&gt; Flink APP cannot run, APP log error,  æƒ³æ±‚æ•™ä¸€ä¸‹ä¼šæ˜¯ä»€ä¹ˆåŸå› é€ æˆçš„ï¼Œå¤šè°¢ğŸ™&#010;&gt; &#010;&gt; 2020-06-16 17:06:21,921 WARN  org.apache.flink.client.cli.CliFrontend&#010;&gt;                - Could not load CLI class&#010;&gt; org.apache.flink.yarn.cli.FlinkYarnSessionCli.&#010;&gt; java.lang.NoClassDefFoundError:&#010;&gt; org/apache/hadoop/yarn/exceptions/YarnException&#010;&gt; at java.lang.Class.forName0(Native Method)&#010;&gt; at java.lang.Class.forName(Class.java:264)&#010;&gt; at&#010;&gt; org.apache.flink.client.cli.CliFrontend.loadCustomCommandLine(CliFrontend.java:1185)&#010;&gt; at&#010;&gt; org.apache.flink.client.cli.CliFrontend.loadCustomCommandLines(CliFrontend.java:1145)&#010;&gt; at org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1070)&#010;&gt; Caused by: java.lang.ClassNotFoundException:&#010;&gt; org.apache.hadoop.yarn.exceptions.YarnException&#010;&gt; at java.net.URLClassLoader.findClass(URLClassLoader.java:382)&#010;&gt; at java.lang.ClassLoader.loadClass(ClassLoader.java:424)&#010;&gt; at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)&#010;&gt; at java.lang.ClassLoader.loadClass(ClassLoader.java:357)&#010;&gt; ... 5 more&#010;&gt; 2020-06-16 17:06:21,980 INFO  org.apache.flink.core.fs.FileSystem&#010;&gt;                - Hadoop is not in the classpath/dependencies. The extended&#010;&gt; set of supported File Systems via Hadoop is not available.&#010;&#010;&#010;",
        "depth": "1",
        "reply": "<CA+Lep4bHk39D70SDg=r-sDBFcAgVJB3VXK2mrQ-WPQEuYgxobQ@mail.gmail.com>"
    },
    {
        "id": "<CA+Lep4a8U=kTs83ketQJfaxhc0Me127=AJERgJwyCK9d-qJmYg@mail.gmail.com>",
        "from": "Rainie Li &lt;raini...@pinterest.com.INVALID&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 17:06:14 GMT",
        "subject": "Re: Flink yarn session exception",
        "content": "å¤šè°¢ï¼Œæˆ‘setäº†è¿™äº›envs:&#010;&#010;export JAVA_HOME=/usr/lib/jvm/java-8-oracle&#010;export PATH=$JAVA_HOME/bin:$PATH&#010;export HADOOP_HOME=/usr/local/hadoop&#010;export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop&#010;export HADOOP_CLASSPATH=`hadoop classpath`&#010;export FLINK_CONF_DIR=/etc/flink-1.9.1/conf&#010;export FLINK_LOG_DIR=/home/rainieli/&#010;&#010;æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼ŸğŸ™&#010;&#010;&#010;On Thu, Jul 16, 2020 at 1:12 AM Paul Lam &lt;paullin3280@gmail.com&gt; wrote:&#010;&#010;&gt; æ—¥å¿—é‡Œè¯´å¾—æ¯”è¾ƒæ¸…æ¥šäº†ï¼Œclasspath é‡Œæ²¡æœ‰ Hadoop çš„ libã€‚å¯ä»¥å‚è€ƒè¿™ä¸ªæ–‡æ¡£&#010;[1] æ¥é…ç½®ä½ çš„ç¯å¢ƒã€‚&#010;&gt;&#010;&gt; 1.&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/hadoop.html&#010;&gt; &lt;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/hadoop.html&#010;&gt; &gt;&#010;&gt; Best,&#010;&gt; Paul Lam&#010;&gt;&#010;&gt; &gt; 2020å¹´7æœˆ16æ—¥ 15:46ï¼ŒRainie Li &lt;rainieli@pinterest.com.INVALID&gt; å†™é“ï¼š&#010;&gt; &gt;&#010;&gt; &gt; å¤§ä½¬ä»¬å¥½ï¼Œæˆ‘æ˜¯flinkæ–°æ‰‹ï¼Œæ­£åœ¨ç”¨flink 1.9.1&#010;&gt; &gt; Flink APP cannot run, APP log error,  æƒ³æ±‚æ•™ä¸€ä¸‹ä¼šæ˜¯ä»€ä¹ˆåŸå› é€ æˆçš„ï¼Œå¤šè°¢ğŸ™&#010;&gt; &gt;&#010;&gt; &gt; 2020-06-16 17:06:21,921 WARN  org.apache.flink.client.cli.CliFrontend&#010;&gt; &gt;                - Could not load CLI class&#010;&gt; &gt; org.apache.flink.yarn.cli.FlinkYarnSessionCli.&#010;&gt; &gt; java.lang.NoClassDefFoundError:&#010;&gt; &gt; org/apache/hadoop/yarn/exceptions/YarnException&#010;&gt; &gt; at java.lang.Class.forName0(Native Method)&#010;&gt; &gt; at java.lang.Class.forName(Class.java:264)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; org.apache.flink.client.cli.CliFrontend.loadCustomCommandLine(CliFrontend.java:1185)&#010;&gt; &gt; at&#010;&gt; &gt;&#010;&gt; org.apache.flink.client.cli.CliFrontend.loadCustomCommandLines(CliFrontend.java:1145)&#010;&gt; &gt; at org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1070)&#010;&gt; &gt; Caused by: java.lang.ClassNotFoundException:&#010;&gt; &gt; org.apache.hadoop.yarn.exceptions.YarnException&#010;&gt; &gt; at java.net.URLClassLoader.findClass(URLClassLoader.java:382)&#010;&gt; &gt; at java.lang.ClassLoader.loadClass(ClassLoader.java:424)&#010;&gt; &gt; at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)&#010;&gt; &gt; at java.lang.ClassLoader.loadClass(ClassLoader.java:357)&#010;&gt; &gt; ... 5 more&#010;&gt; &gt; 2020-06-16 17:06:21,980 INFO  org.apache.flink.core.fs.FileSystem&#010;&gt; &gt;                - Hadoop is not in the classpath/dependencies. The&#010;&gt; extended&#010;&gt; &gt; set of supported File Systems via Hadoop is not available.&#010;&gt;&#010;&gt;&#010;&#010;",
        "depth": "2",
        "reply": "<CA+Lep4bHk39D70SDg=r-sDBFcAgVJB3VXK2mrQ-WPQEuYgxobQ@mail.gmail.com>"
    },
    {
        "id": "<tencent_CEE39731DDFB6656B85FF3F64D6CAF871A06@qq.com>",
        "from": "&quot;å¿å¿å‘ä»§&quot; &lt;153488...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 17 Jul 2020 00:31:59 GMT",
        "subject": "Re: Flink yarn session exception",
        "content": "ä½ å¯ä»¥çœ‹çœ‹libé‡Œé¢çš„åŒ…è·Ÿå®˜ç½‘çš„è¦æ±‚æ˜¯ä¸æ˜¯ä¸€æ ·çš„&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;å‘è‡ªæˆ‘çš„iPhone&#013;&#010;&#013;&#010;&#013;&#010;------------------ Original ------------------&#013;&#010;From: Rainie Li &lt;rainieli@pinterest.com.INVALID&amp;gt;&#013;&#010;Date: Fri,Jul 17,2020 1:06 AM&#013;&#010;To: user-zh &lt;user-zh@flink.apache.org&amp;gt;&#013;&#010;Subject: Re: Flink yarn session exception&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;å¤šè°¢ï¼Œæˆ‘setäº†è¿™äº›envs:&#013;&#010;&#013;&#010;export JAVA_HOME=/usr/lib/jvm/java-8-oracle&#013;&#010;export PATH=$JAVA_HOME/bin:$PATH&#013;&#010;export HADOOP_HOME=/usr/local/hadoop&#013;&#010;export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop&#013;&#010;export HADOOP_CLASSPATH=`hadoop classpath`&#013;&#010;export FLINK_CONF_DIR=/etc/flink-1.9.1/conf&#013;&#010;export FLINK_LOG_DIR=/home/rainieli/&#013;&#010;&#013;&#010;æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼ŸğŸ™&#013;&#010;&#013;&#010;&#013;&#010;On Thu, Jul 16, 2020 at 1:12 AM Paul Lam &lt;paullin3280@gmail.com&amp;gt; wrote:&#013;&#010;&#013;&#010;&amp;gt; æ—¥å¿—é‡Œè¯´å¾—æ¯”è¾ƒæ¸…æ¥šäº†ï¼Œclasspath é‡Œæ²¡æœ‰ Hadoop çš„ libã€‚å¯ä»¥å‚è€ƒè¿™ä¸ªæ–‡æ¡£&#010;[1] æ¥é…ç½®ä½ çš„ç¯å¢ƒã€‚&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; 1.&#013;&#010;&amp;gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/hadoop.html&#013;&#010;&amp;gt; &lt;&#013;&#010;&amp;gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/hadoop.html&#013;&#010;&amp;gt; &amp;gt;&#013;&#010;&amp;gt; Best,&#013;&#010;&amp;gt; Paul Lam&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; &amp;gt; 2020å¹´7æœˆ16æ—¥ 15:46ï¼ŒRainie Li &lt;rainieli@pinterest.com.INVALID&amp;gt;&#010;å†™é“ï¼š&#013;&#010;&amp;gt; &amp;gt;&#013;&#010;&amp;gt; &amp;gt; å¤§ä½¬ä»¬å¥½ï¼Œæˆ‘æ˜¯flinkæ–°æ‰‹ï¼Œæ­£åœ¨ç”¨flink 1.9.1&#013;&#010;&amp;gt; &amp;gt; Flink APP cannot run, APP log error,&amp;nbsp; æƒ³æ±‚æ•™ä¸€ä¸‹ä¼šæ˜¯ä»€ä¹ˆåŸå› é€ æˆçš„ï¼Œå¤šè°¢ğŸ™&#013;&#010;&amp;gt; &amp;gt;&#013;&#010;&amp;gt; &amp;gt; 2020-06-16 17:06:21,921 WARN&amp;nbsp; org.apache.flink.client.cli.CliFrontend&#013;&#010;&amp;gt; &amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;- Could not load CLI class&#013;&#010;&amp;gt; &amp;gt; org.apache.flink.yarn.cli.FlinkYarnSessionCli.&#013;&#010;&amp;gt; &amp;gt; java.lang.NoClassDefFoundError:&#013;&#010;&amp;gt; &amp;gt; org/apache/hadoop/yarn/exceptions/YarnException&#013;&#010;&amp;gt; &amp;gt; at java.lang.Class.forName0(Native Method)&#013;&#010;&amp;gt; &amp;gt; at java.lang.Class.forName(Class.java:264)&#013;&#010;&amp;gt; &amp;gt; at&#013;&#010;&amp;gt; &amp;gt;&#013;&#010;&amp;gt; org.apache.flink.client.cli.CliFrontend.loadCustomCommandLine(CliFrontend.java:1185)&#013;&#010;&amp;gt; &amp;gt; at&#013;&#010;&amp;gt; &amp;gt;&#013;&#010;&amp;gt; org.apache.flink.client.cli.CliFrontend.loadCustomCommandLines(CliFrontend.java:1145)&#013;&#010;&amp;gt; &amp;gt; at org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1070)&#013;&#010;&amp;gt; &amp;gt; Caused by: java.lang.ClassNotFoundException:&#013;&#010;&amp;gt; &amp;gt; org.apache.hadoop.yarn.exceptions.YarnException&#013;&#010;&amp;gt; &amp;gt; at java.net.URLClassLoader.findClass(URLClassLoader.java:382)&#013;&#010;&amp;gt; &amp;gt; at java.lang.ClassLoader.loadClass(ClassLoader.java:424)&#013;&#010;&amp;gt; &amp;gt; at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)&#013;&#010;&amp;gt; &amp;gt; at java.lang.ClassLoader.loadClass(ClassLoader.java:357)&#013;&#010;&amp;gt; &amp;gt; ... 5 more&#013;&#010;&amp;gt; &amp;gt; 2020-06-16 17:06:21,980 INFO&amp;nbsp; org.apache.flink.core.fs.FileSystem&#013;&#010;&amp;gt; &amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;- Hadoop is not in the classpath/dependencies. The&#013;&#010;&amp;gt; extended&#013;&#010;&amp;gt; &amp;gt; set of supported File Systems via Hadoop is not available.&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;",
        "depth": "1",
        "reply": "<CA+Lep4bHk39D70SDg=r-sDBFcAgVJB3VXK2mrQ-WPQEuYgxobQ@mail.gmail.com>"
    },
    {
        "id": "<CA+Lep4YHBcFeGWUCtkbD=sT+UagWwiqnnSeDBBixt58OfYYwsA@mail.gmail.com>",
        "from": "Rainie Li &lt;raini...@pinterest.com.INVALID&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 17 Jul 2020 02:55:15 GMT",
        "subject": "Re: Flink yarn session exception",
        "content": "å¥½æ­ï¼Œè°¢è°¢ï¼&#010;&#010;On Thu, Jul 16, 2020 at 5:32 PM å¿å¿å‘ä»§ &lt;153488125@qq.com&gt; wrote:&#010;&#010;&gt; ä½ å¯ä»¥çœ‹çœ‹libé‡Œé¢çš„åŒ…è·Ÿå®˜ç½‘çš„è¦æ±‚æ˜¯ä¸æ˜¯ä¸€æ ·çš„&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; å‘è‡ªæˆ‘çš„iPhone&#010;&gt;&#010;&gt;&#010;&gt; ------------------ Original ------------------&#010;&gt; From: Rainie Li &lt;rainieli@pinterest.com.INVALID&amp;gt;&#010;&gt; Date: Fri,Jul 17,2020 1:06 AM&#010;&gt; To: user-zh &lt;user-zh@flink.apache.org&amp;gt;&#010;&gt; Subject: Re: Flink yarn session exception&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; å¤šè°¢ï¼Œæˆ‘setäº†è¿™äº›envs:&#010;&gt;&#010;&gt; export JAVA_HOME=/usr/lib/jvm/java-8-oracle&#010;&gt; export PATH=$JAVA_HOME/bin:$PATH&#010;&gt; export HADOOP_HOME=/usr/local/hadoop&#010;&gt; export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop&#010;&gt; export HADOOP_CLASSPATH=`hadoop classpath`&#010;&gt; export FLINK_CONF_DIR=/etc/flink-1.9.1/conf&#010;&gt; export FLINK_LOG_DIR=/home/rainieli/&#010;&gt;&#010;&gt; æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼ŸğŸ™&#010;&gt;&#010;&gt;&#010;&gt; On Thu, Jul 16, 2020 at 1:12 AM Paul Lam &lt;paullin3280@gmail.com&amp;gt; wrote:&#010;&gt;&#010;&gt; &amp;gt; æ—¥å¿—é‡Œè¯´å¾—æ¯”è¾ƒæ¸…æ¥šäº†ï¼Œclasspath é‡Œæ²¡æœ‰ Hadoop çš„ libã€‚å¯ä»¥å‚è€ƒè¿™ä¸ªæ–‡æ¡£&#010;[1] æ¥é…ç½®ä½ çš„ç¯å¢ƒã€‚&#010;&gt; &amp;gt;&#010;&gt; &amp;gt; 1.&#010;&gt; &amp;gt;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/hadoop.html&#010;&gt; &amp;gt; &lt;&#010;&gt; &amp;gt;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/hadoop.html&#010;&gt; &amp;gt; &amp;gt;&#010;&gt; &amp;gt; Best,&#010;&gt; &amp;gt; Paul Lam&#010;&gt; &amp;gt;&#010;&gt; &amp;gt; &amp;gt; 2020å¹´7æœˆ16æ—¥ 15:46ï¼ŒRainie Li &lt;rainieli@pinterest.com.INVALID&amp;gt;&#010;&gt; å†™é“ï¼š&#010;&gt; &amp;gt; &amp;gt;&#010;&gt; &amp;gt; &amp;gt; å¤§ä½¬ä»¬å¥½ï¼Œæˆ‘æ˜¯flinkæ–°æ‰‹ï¼Œæ­£åœ¨ç”¨flink 1.9.1&#010;&gt; &amp;gt; &amp;gt; Flink APP cannot run, APP log error,&amp;nbsp; æƒ³æ±‚æ•™ä¸€ä¸‹ä¼šæ˜¯ä»€ä¹ˆåŸå› é€ æˆçš„ï¼Œå¤šè°¢ğŸ™&#010;&gt; &amp;gt; &amp;gt;&#010;&gt; &amp;gt; &amp;gt; 2020-06-16 17:06:21,921 WARN&amp;nbsp;&#010;&gt; org.apache.flink.client.cli.CliFrontend&#010;&gt; &amp;gt;&#010;&gt; &amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;&gt; - Could not load CLI class&#010;&gt; &amp;gt; &amp;gt; org.apache.flink.yarn.cli.FlinkYarnSessionCli.&#010;&gt; &amp;gt; &amp;gt; java.lang.NoClassDefFoundError:&#010;&gt; &amp;gt; &amp;gt; org/apache/hadoop/yarn/exceptions/YarnException&#010;&gt; &amp;gt; &amp;gt; at java.lang.Class.forName0(Native Method)&#010;&gt; &amp;gt; &amp;gt; at java.lang.Class.forName(Class.java:264)&#010;&gt; &amp;gt; &amp;gt; at&#010;&gt; &amp;gt; &amp;gt;&#010;&gt; &amp;gt;&#010;&gt; org.apache.flink.client.cli.CliFrontend.loadCustomCommandLine(CliFrontend.java:1185)&#010;&gt; &amp;gt; &amp;gt; at&#010;&gt; &amp;gt; &amp;gt;&#010;&gt; &amp;gt;&#010;&gt; org.apache.flink.client.cli.CliFrontend.loadCustomCommandLines(CliFrontend.java:1145)&#010;&gt; &amp;gt; &amp;gt; at&#010;&gt; org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1070)&#010;&gt; &amp;gt; &amp;gt; Caused by: java.lang.ClassNotFoundException:&#010;&gt; &amp;gt; &amp;gt; org.apache.hadoop.yarn.exceptions.YarnException&#010;&gt; &amp;gt; &amp;gt; at java.net.URLClassLoader.findClass(URLClassLoader.java:382)&#010;&gt; &amp;gt; &amp;gt; at java.lang.ClassLoader.loadClass(ClassLoader.java:424)&#010;&gt; &amp;gt; &amp;gt; at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)&#010;&gt; &amp;gt; &amp;gt; at java.lang.ClassLoader.loadClass(ClassLoader.java:357)&#010;&gt; &amp;gt; &amp;gt; ... 5 more&#010;&gt; &amp;gt; &amp;gt; 2020-06-16 17:06:21,980 INFO&amp;nbsp;&#010;&gt; org.apache.flink.core.fs.FileSystem&#010;&gt; &amp;gt;&#010;&gt; &amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;&gt; - Hadoop is not in the classpath/dependencies. The&#010;&gt; &amp;gt; extended&#010;&gt; &amp;gt; &amp;gt; set of supported File Systems via Hadoop is not available.&#010;&gt; &amp;gt;&#010;&gt; &amp;gt;&#010;&#010;",
        "depth": "2",
        "reply": "<CA+Lep4bHk39D70SDg=r-sDBFcAgVJB3VXK2mrQ-WPQEuYgxobQ@mail.gmail.com>"
    },
    {
        "id": "<2020071616022061034945@geekplus.com.cn>",
        "from": "&quot;wanglei2@geekplus.com.cn&quot; &lt;wangl...@geekplus.com.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:02:21 GMT",
        "subject": "FlinkSQL æ˜¯é€šè¿‡æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ",
        "content": "æ¯”å¦‚ï¼š&#013;&#010;&#013;&#010;CREATE TABLE my_table (&#013;&#010;  id BIGINT,&#013;&#010; first_name STRING,&#013;&#010; last_name STRING,&#013;&#010; email STRING&#013;&#010;) WITH (&#013;&#010; 'connector'='kafka',&#013;&#010; 'topic'='user_topic',&#013;&#010; 'properties.bootstrap.servers'='localhost:9092',&#013;&#010; 'scan.startup.mode'='earliest-offset',&#013;&#010; 'format'='debezium-json'&#013;&#010;);&#013;&#010;&#013;&#010;æœ€ç»ˆè§£æ debezium-json åº”è¯¥æ˜¯  flink-formats/flink-json/src/main/java/org/apache/flink/formats/json/debezium&#010;ä¸‹é¢çš„ä»£ç &#013;&#010;ä½† flinkSQL æ˜¯æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;è°¢è°¢ï¼Œ&#013;&#010;ç‹ç£Š&#013;&#010;&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;&#013;&#010;",
        "depth": "0",
        "reply": "<2020071616022061034945@geekplus.com.cn>"
    },
    {
        "id": "<CADQYLGsQ5qo90r0AjGQtozPkJ3mFb7-znL=nbk_HW5ZrduiQ=g@mail.gmail.com>",
        "from": "godfrey he &lt;godfre...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:38:57 GMT",
        "subject": "Re: FlinkSQL æ˜¯é€šè¿‡æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ",
        "content": "é€šè¿‡Java çš„ SPI æœºåˆ¶æ¥æ‰¾åˆ°å¯¹åº”çš„ formatï¼Œå¯ä»¥å‚è€ƒ [1]&#013;&#010;&#013;&#010;[1]&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/#how-to-use-connectors&#013;&#010;&#013;&#010;Best,&#013;&#010;Godfrey&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ4:02å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; æ¯”å¦‚ï¼š&#013;&#010;&gt;&#013;&#010;&gt; CREATE TABLE my_table (&#013;&#010;&gt;   id BIGINT,&#013;&#010;&gt;  first_name STRING,&#013;&#010;&gt;  last_name STRING,&#013;&#010;&gt;  email STRING&#013;&#010;&gt; ) WITH (&#013;&#010;&gt;  'connector'='kafka',&#013;&#010;&gt;  'topic'='user_topic',&#013;&#010;&gt;  'properties.bootstrap.servers'='localhost:9092',&#013;&#010;&gt;  'scan.startup.mode'='earliest-offset',&#013;&#010;&gt;  'format'='debezium-json'&#013;&#010;&gt; );&#013;&#010;&gt;&#013;&#010;&gt; æœ€ç»ˆè§£æ debezium-json åº”è¯¥æ˜¯&#013;&#010;&gt; flink-formats/flink-json/src/main/java/org/apache/flink/formats/json/debezium&#013;&#010;&gt; ä¸‹é¢çš„ä»£ç &#013;&#010;&gt; ä½† flinkSQL æ˜¯æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; ç‹ç£Š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; wanglei2@geekplus.com.cn&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "1",
        "reply": "<2020071616022061034945@geekplus.com.cn>"
    },
    {
        "id": "<202007161904266394395@geekplus.com.cn>",
        "from": "&quot;wanglei2@geekplus.com.cn&quot; &lt;wangl...@geekplus.com.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 11:04:27 GMT",
        "subject": "Re: Re: FlinkSQL æ˜¯é€šè¿‡æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ",
        "content": "&#013;&#010;æˆ‘åœ¨ flink-formats/flink-json/src/main/resources/META-INF/services/org.apache.flink.table.factories.Factory&#010;æ‰¾åˆ°äº† SPI çš„é…ç½®ï¼š&#013;&#010;&#013;&#010;org.apache.flink.formats.json.JsonFileSystemFormatFactory&#013;&#010;org.apache.flink.formats.json.JsonFormatFactory&#013;&#010;org.apache.flink.formats.json.debezium.DebeziumJsonFormatFactory&#013;&#010;org.apache.flink.formats.json.canal.CanalJsonFormatFactory&#013;&#010;&#013;&#010;è¿˜æ˜¯æ²¡æœ‰ææ¸…æ¥š æŒ‡å®š 'format'='debezium-json' æ€ä¹ˆå°±èƒ½å¯¹åº”åˆ° DebeziumJsonFormatFactory&#013;&#010;æˆ‘çš„ç†è§£è‚¯å®šè¦æœ‰ä¸€ä¸ªåœ°æ–¹æŒ‡æ˜ debezium-json è¦å¯¹åº”åˆ° DebeziumJsonFormatFactoryï¼Œ&#010;ä½†æ˜¯æˆ‘ grep ä»£ç æ²¡æ‰¾åˆ°ç±»ä¼¼çš„å…³ç³»æ˜ å°„é…ç½®ã€‚&#013;&#010;&#013;&#010;&#013;&#010;è°¢è°¢ï¼Œ&#013;&#010;ç‹ç£Š&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;&#013;&#010; &#013;&#010;Sender: godfrey he&#013;&#010;Send Time: 2020-07-16 16:38&#013;&#010;Receiver: user-zh&#013;&#010;Subject: Re: FlinkSQL æ˜¯é€šè¿‡æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ&#013;&#010;é€šè¿‡Java çš„ SPI æœºåˆ¶æ¥æ‰¾åˆ°å¯¹åº”çš„ formatï¼Œå¯ä»¥å‚è€ƒ [1]&#013;&#010; &#013;&#010;[1]&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/#how-to-use-connectors&#013;&#010; &#013;&#010;Best,&#013;&#010;Godfrey&#013;&#010; &#013;&#010;wanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ4:02å†™é“ï¼š&#013;&#010; &#013;&#010;&gt; æ¯”å¦‚ï¼š&#013;&#010;&gt;&#013;&#010;&gt; CREATE TABLE my_table (&#013;&#010;&gt;   id BIGINT,&#013;&#010;&gt;  first_name STRING,&#013;&#010;&gt;  last_name STRING,&#013;&#010;&gt;  email STRING&#013;&#010;&gt; ) WITH (&#013;&#010;&gt;  'connector'='kafka',&#013;&#010;&gt;  'topic'='user_topic',&#013;&#010;&gt;  'properties.bootstrap.servers'='localhost:9092',&#013;&#010;&gt;  'scan.startup.mode'='earliest-offset',&#013;&#010;&gt;  'format'='debezium-json'&#013;&#010;&gt; );&#013;&#010;&gt;&#013;&#010;&gt; æœ€ç»ˆè§£æ debezium-json åº”è¯¥æ˜¯&#013;&#010;&gt; flink-formats/flink-json/src/main/java/org/apache/flink/formats/json/debezium&#013;&#010;&gt; ä¸‹é¢çš„ä»£ç &#013;&#010;&gt; ä½† flinkSQL æ˜¯æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; ç‹ç£Š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; wanglei2@geekplus.com.cn&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<2020071616022061034945@geekplus.com.cn>"
    },
    {
        "id": "<CAHOPYeVyeJ8aHib4FBb=b4AnH0p0ryotA-jhkqq9NhhMejORWg@mail.gmail.com>",
        "from": "&quot;Harold.Miao&quot; &lt;miaohong...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 11:33:54 GMT",
        "subject": "Re: Re: FlinkSQL æ˜¯é€šè¿‡æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ",
        "content": "æˆ‘çš„ç†è§£ ï¼š  å¤§æ¦‚å°±æ˜¯é€šè¿‡spiæœºåˆ¶åŠ è½½ç±»ï¼Œç„¶åé€šè¿‡å±æ€§å»è¿‡æ»¤å‡ºæ¥éœ€è¦çš„class&#010;  ç±»ä¼¼ä¸‹é¢çš„ä»£ç &#010;&#010;private static &lt;T extends TableFactory&gt; T findSingleInternal(&#010;      Class&lt;T&gt; factoryClass,&#010;      Map&lt;String, String&gt; properties,&#010;      Optional&lt;ClassLoader&gt; classLoader) {&#010;&#010;   List&lt;TableFactory&gt; tableFactories = discoverFactories(classLoader);&#010;   List&lt;T&gt; filtered = filter(tableFactories, factoryClass, properties);&#010;&#010;   if (filtered.size() &gt; 1) {&#010;      throw new AmbiguousTableFactoryException(&#010;         filtered,&#010;         factoryClass,&#010;         tableFactories,&#010;         properties);&#010;   } else {&#010;      return filtered.get(0);&#010;   }&#010;}&#010;&#010;private static List&lt;TableFactory&gt;&#010;discoverFactories(Optional&lt;ClassLoader&gt; classLoader) {&#010;   try {&#010;      List&lt;TableFactory&gt; result = new LinkedList&lt;&gt;();&#010;      ClassLoader cl =&#010;classLoader.orElse(Thread.currentThread().getContextClassLoader());&#010;      ServiceLoader&#010;         .load(TableFactory.class, cl)&#010;         .iterator()&#010;         .forEachRemaining(result::add);&#010;      return result;&#010;   } catch (ServiceConfigurationError e) {&#010;      LOG.error(\"Could not load service provider for table factories.\", e);&#010;      throw new TableException(\"Could not load service provider for&#010;table factories.\", e);&#010;   }&#010;&#010;}&#010;&#010;&#010;wanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ7:04å†™é“ï¼š&#010;&#010;&gt;&#010;&gt; æˆ‘åœ¨&#010;&gt; flink-formats/flink-json/src/main/resources/META-INF/services/org.apache.flink.table.factories.Factory&#010;&gt; æ‰¾åˆ°äº† SPI çš„é…ç½®ï¼š&#010;&gt;&#010;&gt; org.apache.flink.formats.json.JsonFileSystemFormatFactory&#010;&gt; org.apache.flink.formats.json.JsonFormatFactory&#010;&gt; org.apache.flink.formats.json.debezium.DebeziumJsonFormatFactory&#010;&gt; org.apache.flink.formats.json.canal.CanalJsonFormatFactory&#010;&gt;&#010;&gt; è¿˜æ˜¯æ²¡æœ‰ææ¸…æ¥š æŒ‡å®š 'format'='debezium-json' æ€ä¹ˆå°±èƒ½å¯¹åº”åˆ° DebeziumJsonFormatFactory&#010;&gt; æˆ‘çš„ç†è§£è‚¯å®šè¦æœ‰ä¸€ä¸ªåœ°æ–¹æŒ‡æ˜ debezium-json è¦å¯¹åº”åˆ° DebeziumJsonFormatFactoryï¼Œ&#010;ä½†æ˜¯æˆ‘ grep&#010;&gt; ä»£ç æ²¡æ‰¾åˆ°ç±»ä¼¼çš„å…³ç³»æ˜ å°„é…ç½®ã€‚&#010;&gt;&#010;&gt;&#010;&gt; è°¢è°¢ï¼Œ&#010;&gt; ç‹ç£Š&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; wanglei2@geekplus.com.cn&#010;&gt;&#010;&gt;&#010;&gt; Sender: godfrey he&#010;&gt; Send Time: 2020-07-16 16:38&#010;&gt; Receiver: user-zh&#010;&gt; Subject: Re: FlinkSQL æ˜¯é€šè¿‡æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ&#010;&gt; é€šè¿‡Java çš„ SPI æœºåˆ¶æ¥æ‰¾åˆ°å¯¹åº”çš„ formatï¼Œå¯ä»¥å‚è€ƒ [1]&#010;&gt;&#010;&gt; [1]&#010;&gt;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/#how-to-use-connectors&#010;&gt;&#010;&gt; Best,&#010;&gt; Godfrey&#010;&gt;&#010;&gt; wanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å››&#010;&gt; ä¸‹åˆ4:02å†™é“ï¼š&#010;&gt;&#010;&gt; &gt; æ¯”å¦‚ï¼š&#010;&gt; &gt;&#010;&gt; &gt; CREATE TABLE my_table (&#010;&gt; &gt;   id BIGINT,&#010;&gt; &gt;  first_name STRING,&#010;&gt; &gt;  last_name STRING,&#010;&gt; &gt;  email STRING&#010;&gt; &gt; ) WITH (&#010;&gt; &gt;  'connector'='kafka',&#010;&gt; &gt;  'topic'='user_topic',&#010;&gt; &gt;  'properties.bootstrap.servers'='localhost:9092',&#010;&gt; &gt;  'scan.startup.mode'='earliest-offset',&#010;&gt; &gt;  'format'='debezium-json'&#010;&gt; &gt; );&#010;&gt; &gt;&#010;&gt; &gt; æœ€ç»ˆè§£æ debezium-json åº”è¯¥æ˜¯&#010;&gt; &gt;&#010;&gt; flink-formats/flink-json/src/main/java/org/apache/flink/formats/json/debezium&#010;&gt; &gt; ä¸‹é¢çš„ä»£ç &#010;&gt; &gt; ä½† flinkSQL æ˜¯æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ&#010;&gt; &gt;&#010;&gt; &gt; è°¢è°¢ï¼Œ&#010;&gt; &gt; ç‹ç£Š&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; wanglei2@geekplus.com.cn&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt;&#010;&#010;&#010;-- &#010;&#010;Best Regards,&#010;Harold Miao&#010;&#010;",
        "depth": "3",
        "reply": "<2020071616022061034945@geekplus.com.cn>"
    },
    {
        "id": "<4A39072B-46F9-45DC-8C1D-D2D9A11AD960@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 11:36:48 GMT",
        "subject": "Re: FlinkSQL æ˜¯é€šè¿‡æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ",
        "content": "Hi,&#013;&#010;&#013;&#010;&gt; åœ¨ 2020å¹´7æœˆ16æ—¥ï¼Œ19:04ï¼Œwanglei2@geekplus.com.cn å†™é“ï¼š&#013;&#010;&gt; &#013;&#010;&gt; æˆ‘çš„ç†è§£è‚¯å®šè¦æœ‰ä¸€ä¸ªåœ°æ–¹æŒ‡æ˜ debezium-json è¦å¯¹åº”åˆ° DebeziumJsonFormatFactoryï¼Œ&#010;ä½†æ˜¯æˆ‘ grep ä»£ç æ²¡æ‰¾åˆ°ç±»ä¼¼çš„å…³ç³»æ˜ å°„é…ç½®ã€‚&#013;&#010;&#013;&#010;ä½ DDLä¸­ä¸æ˜¯å†™äº† â€˜formatâ€™ = â€˜debzium-jsonâ€™ å—ï¼Ÿå°±æ˜¯è¿™é‡ŒæŒ‡æ˜çš„ã€‚",
        "depth": "3",
        "reply": "<2020071616022061034945@geekplus.com.cn>"
    },
    {
        "id": "<202007162222008001748@geekplus.com.cn>",
        "from": "&quot;wanglei2@geekplus.com.cn&quot; &lt;wangl...@geekplus.com.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 14:22:01 GMT",
        "subject": "Re: Re: FlinkSQL æ˜¯é€šè¿‡æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ",
        "content": "&#013;&#010; è°¢è°¢ï¼Œæˆ‘ç†è§£äº†ã€‚&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;wanglei2@geekplus.com.cn &#013;&#010;&#013;&#010;Sender: Harold.Miao&#013;&#010;Send Time: 2020-07-16 19:33&#013;&#010;Receiver: user-zh&#013;&#010;Subject: Re: Re: FlinkSQL æ˜¯é€šè¿‡æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ&#013;&#010;æˆ‘çš„ç†è§£ ï¼š  å¤§æ¦‚å°±æ˜¯é€šè¿‡spiæœºåˆ¶åŠ è½½ç±»ï¼Œç„¶åé€šè¿‡å±æ€§å»è¿‡æ»¤å‡ºæ¥éœ€è¦çš„class&#010;  ç±»ä¼¼ä¸‹é¢çš„ä»£ç &#013;&#010; &#013;&#010;private static &lt;T extends TableFactory&gt; T findSingleInternal(&#013;&#010;      Class&lt;T&gt; factoryClass,&#013;&#010;      Map&lt;String, String&gt; properties,&#013;&#010;      Optional&lt;ClassLoader&gt; classLoader) {&#013;&#010; &#013;&#010;   List&lt;TableFactory&gt; tableFactories = discoverFactories(classLoader);&#013;&#010;   List&lt;T&gt; filtered = filter(tableFactories, factoryClass, properties);&#013;&#010; &#013;&#010;   if (filtered.size() &gt; 1) {&#013;&#010;      throw new AmbiguousTableFactoryException(&#013;&#010;         filtered,&#013;&#010;         factoryClass,&#013;&#010;         tableFactories,&#013;&#010;         properties);&#013;&#010;   } else {&#013;&#010;      return filtered.get(0);&#013;&#010;   }&#013;&#010;}&#013;&#010; &#013;&#010;private static List&lt;TableFactory&gt;&#013;&#010;discoverFactories(Optional&lt;ClassLoader&gt; classLoader) {&#013;&#010;   try {&#013;&#010;      List&lt;TableFactory&gt; result = new LinkedList&lt;&gt;();&#013;&#010;      ClassLoader cl =&#013;&#010;classLoader.orElse(Thread.currentThread().getContextClassLoader());&#013;&#010;      ServiceLoader&#013;&#010;         .load(TableFactory.class, cl)&#013;&#010;         .iterator()&#013;&#010;         .forEachRemaining(result::add);&#013;&#010;      return result;&#013;&#010;   } catch (ServiceConfigurationError e) {&#013;&#010;      LOG.error(\"Could not load service provider for table factories.\", e);&#013;&#010;      throw new TableException(\"Could not load service provider for&#013;&#010;table factories.\", e);&#013;&#010;   }&#013;&#010; &#013;&#010;}&#013;&#010; &#013;&#010; &#013;&#010;wanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ7:04å†™é“ï¼š&#013;&#010; &#013;&#010;&gt;&#013;&#010;&gt; æˆ‘åœ¨&#013;&#010;&gt; flink-formats/flink-json/src/main/resources/META-INF/services/org.apache.flink.table.factories.Factory&#013;&#010;&gt; æ‰¾åˆ°äº† SPI çš„é…ç½®ï¼š&#013;&#010;&gt;&#013;&#010;&gt; org.apache.flink.formats.json.JsonFileSystemFormatFactory&#013;&#010;&gt; org.apache.flink.formats.json.JsonFormatFactory&#013;&#010;&gt; org.apache.flink.formats.json.debezium.DebeziumJsonFormatFactory&#013;&#010;&gt; org.apache.flink.formats.json.canal.CanalJsonFormatFactory&#013;&#010;&gt;&#013;&#010;&gt; è¿˜æ˜¯æ²¡æœ‰ææ¸…æ¥š æŒ‡å®š 'format'='debezium-json' æ€ä¹ˆå°±èƒ½å¯¹åº”åˆ° DebeziumJsonFormatFactory&#013;&#010;&gt; æˆ‘çš„ç†è§£è‚¯å®šè¦æœ‰ä¸€ä¸ªåœ°æ–¹æŒ‡æ˜ debezium-json è¦å¯¹åº”åˆ° DebeziumJsonFormatFactoryï¼Œ&#010;ä½†æ˜¯æˆ‘ grep&#013;&#010;&gt; ä»£ç æ²¡æ‰¾åˆ°ç±»ä¼¼çš„å…³ç³»æ˜ å°„é…ç½®ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; ç‹ç£Š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; wanglei2@geekplus.com.cn&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Sender: godfrey he&#013;&#010;&gt; Send Time: 2020-07-16 16:38&#013;&#010;&gt; Receiver: user-zh&#013;&#010;&gt; Subject: Re: FlinkSQL æ˜¯é€šè¿‡æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ&#013;&#010;&gt; é€šè¿‡Java çš„ SPI æœºåˆ¶æ¥æ‰¾åˆ°å¯¹åº”çš„ formatï¼Œå¯ä»¥å‚è€ƒ [1]&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/#how-to-use-connectors&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Godfrey&#013;&#010;&gt;&#013;&#010;&gt; wanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å››&#013;&#010;&gt; ä¸‹åˆ4:02å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; æ¯”å¦‚ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; CREATE TABLE my_table (&#013;&#010;&gt; &gt;   id BIGINT,&#013;&#010;&gt; &gt;  first_name STRING,&#013;&#010;&gt; &gt;  last_name STRING,&#013;&#010;&gt; &gt;  email STRING&#013;&#010;&gt; &gt; ) WITH (&#013;&#010;&gt; &gt;  'connector'='kafka',&#013;&#010;&gt; &gt;  'topic'='user_topic',&#013;&#010;&gt; &gt;  'properties.bootstrap.servers'='localhost:9092',&#013;&#010;&gt; &gt;  'scan.startup.mode'='earliest-offset',&#013;&#010;&gt; &gt;  'format'='debezium-json'&#013;&#010;&gt; &gt; );&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; æœ€ç»ˆè§£æ debezium-json åº”è¯¥æ˜¯&#013;&#010;&gt; &gt;&#013;&#010;&gt; flink-formats/flink-json/src/main/java/org/apache/flink/formats/json/debezium&#013;&#010;&gt; &gt; ä¸‹é¢çš„ä»£ç &#013;&#010;&gt; &gt; ä½† flinkSQL æ˜¯æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; &gt; ç‹ç£Š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; wanglei2@geekplus.com.cn&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010; &#013;&#010; &#013;&#010;-- &#013;&#010; &#013;&#010;Best Regards,&#013;&#010;Harold Miao&#013;&#010;",
        "depth": "1",
        "reply": "<2020071616022061034945@geekplus.com.cn>"
    },
    {
        "id": "<CAELO9305Bg9jnTD4pvP5m6HC1Qq5DdaB6NkNNr+7zGNY89Ah_Q@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 21 Jul 2020 10:44:09 GMT",
        "subject": "Re: Re: FlinkSQL æ˜¯é€šè¿‡æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ",
        "content": "è¿™ä¸ªå¯¹åº”å…³ç³»æ˜¯é€šè¿‡ Factory#factoryIdentifier æ¥å†³å®šçš„ã€‚&#013;&#010;æ¯”å¦‚ DebeziumJsonFormatFactory#factoryIdentifier() å°±æ˜¯è¿”å›äº† 'debezium-json'&#013;&#010;&#013;&#010;Best,&#013;&#010;Jark&#013;&#010;&#013;&#010;On Thu, 16 Jul 2020 at 22:29, wanglei2@geekplus.com.cn &lt;&#013;&#010;wanglei2@geekplus.com.cn&gt; wrote:&#013;&#010;&#013;&#010;&gt;&#013;&#010;&gt;  è°¢è°¢ï¼Œæˆ‘ç†è§£äº†ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; wanglei2@geekplus.com.cn&#013;&#010;&gt;&#013;&#010;&gt; Sender: Harold.Miao&#013;&#010;&gt; Send Time: 2020-07-16 19:33&#013;&#010;&gt; Receiver: user-zh&#013;&#010;&gt; Subject: Re: Re: FlinkSQL æ˜¯é€šè¿‡æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ&#013;&#010;&gt; æˆ‘çš„ç†è§£ ï¼š  å¤§æ¦‚å°±æ˜¯é€šè¿‡spiæœºåˆ¶åŠ è½½ç±»ï¼Œç„¶åé€šè¿‡å±æ€§å»è¿‡æ»¤å‡ºæ¥éœ€è¦çš„class&#010;  ç±»ä¼¼ä¸‹é¢çš„ä»£ç &#013;&#010;&gt;&#013;&#010;&gt; private static &lt;T extends TableFactory&gt; T findSingleInternal(&#013;&#010;&gt;       Class&lt;T&gt; factoryClass,&#013;&#010;&gt;       Map&lt;String, String&gt; properties,&#013;&#010;&gt;       Optional&lt;ClassLoader&gt; classLoader) {&#013;&#010;&gt;&#013;&#010;&gt;    List&lt;TableFactory&gt; tableFactories = discoverFactories(classLoader);&#013;&#010;&gt;    List&lt;T&gt; filtered = filter(tableFactories, factoryClass, properties);&#013;&#010;&gt;&#013;&#010;&gt;    if (filtered.size() &gt; 1) {&#013;&#010;&gt;       throw new AmbiguousTableFactoryException(&#013;&#010;&gt;          filtered,&#013;&#010;&gt;          factoryClass,&#013;&#010;&gt;          tableFactories,&#013;&#010;&gt;          properties);&#013;&#010;&gt;    } else {&#013;&#010;&gt;       return filtered.get(0);&#013;&#010;&gt;    }&#013;&#010;&gt; }&#013;&#010;&gt;&#013;&#010;&gt; private static List&lt;TableFactory&gt;&#013;&#010;&gt; discoverFactories(Optional&lt;ClassLoader&gt; classLoader) {&#013;&#010;&gt;    try {&#013;&#010;&gt;       List&lt;TableFactory&gt; result = new LinkedList&lt;&gt;();&#013;&#010;&gt;       ClassLoader cl =&#013;&#010;&gt; classLoader.orElse(Thread.currentThread().getContextClassLoader());&#013;&#010;&gt;       ServiceLoader&#013;&#010;&gt;          .load(TableFactory.class, cl)&#013;&#010;&gt;          .iterator()&#013;&#010;&gt;          .forEachRemaining(result::add);&#013;&#010;&gt;       return result;&#013;&#010;&gt;    } catch (ServiceConfigurationError e) {&#013;&#010;&gt;       LOG.error(\"Could not load service provider for table factories.\", e);&#013;&#010;&gt;       throw new TableException(\"Could not load service provider for&#013;&#010;&gt; table factories.\", e);&#013;&#010;&gt;    }&#013;&#010;&gt;&#013;&#010;&gt; }&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; wanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å››&#013;&#010;&gt; ä¸‹åˆ7:04å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; æˆ‘åœ¨&#013;&#010;&gt; &gt;&#013;&#010;&gt; flink-formats/flink-json/src/main/resources/META-INF/services/org.apache.flink.table.factories.Factory&#013;&#010;&gt; &gt; æ‰¾åˆ°äº† SPI çš„é…ç½®ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; org.apache.flink.formats.json.JsonFileSystemFormatFactory&#013;&#010;&gt; &gt; org.apache.flink.formats.json.JsonFormatFactory&#013;&#010;&gt; &gt; org.apache.flink.formats.json.debezium.DebeziumJsonFormatFactory&#013;&#010;&gt; &gt; org.apache.flink.formats.json.canal.CanalJsonFormatFactory&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; è¿˜æ˜¯æ²¡æœ‰ææ¸…æ¥š æŒ‡å®š 'format'='debezium-json' æ€ä¹ˆå°±èƒ½å¯¹åº”åˆ° DebeziumJsonFormatFactory&#013;&#010;&gt; &gt; æˆ‘çš„ç†è§£è‚¯å®šè¦æœ‰ä¸€ä¸ªåœ°æ–¹æŒ‡æ˜ debezium-json è¦å¯¹åº”åˆ° DebeziumJsonFormatFactoryï¼Œ&#010;ä½†æ˜¯æˆ‘ grep&#013;&#010;&gt; &gt; ä»£ç æ²¡æ‰¾åˆ°ç±»ä¼¼çš„å…³ç³»æ˜ å°„é…ç½®ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; &gt; ç‹ç£Š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; wanglei2@geekplus.com.cn&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Sender: godfrey he&#013;&#010;&gt; &gt; Send Time: 2020-07-16 16:38&#013;&#010;&gt; &gt; Receiver: user-zh&#013;&#010;&gt; &gt; Subject: Re: FlinkSQL æ˜¯é€šè¿‡æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ&#013;&#010;&gt; &gt; é€šè¿‡Java çš„ SPI æœºåˆ¶æ¥æ‰¾åˆ°å¯¹åº”çš„ formatï¼Œå¯ä»¥å‚è€ƒ [1]&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; [1]&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/#how-to-use-connectors&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Best,&#013;&#010;&gt; &gt; Godfrey&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; wanglei2@geekplus.com.cn &lt;wanglei2@geekplus.com.cn&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å››&#013;&#010;&gt; &gt; ä¸‹åˆ4:02å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; &gt; æ¯”å¦‚ï¼š&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; CREATE TABLE my_table (&#013;&#010;&gt; &gt; &gt;   id BIGINT,&#013;&#010;&gt; &gt; &gt;  first_name STRING,&#013;&#010;&gt; &gt; &gt;  last_name STRING,&#013;&#010;&gt; &gt; &gt;  email STRING&#013;&#010;&gt; &gt; &gt; ) WITH (&#013;&#010;&gt; &gt; &gt;  'connector'='kafka',&#013;&#010;&gt; &gt; &gt;  'topic'='user_topic',&#013;&#010;&gt; &gt; &gt;  'properties.bootstrap.servers'='localhost:9092',&#013;&#010;&gt; &gt; &gt;  'scan.startup.mode'='earliest-offset',&#013;&#010;&gt; &gt; &gt;  'format'='debezium-json'&#013;&#010;&gt; &gt; &gt; );&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; æœ€ç»ˆè§£æ debezium-json åº”è¯¥æ˜¯&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; flink-formats/flink-json/src/main/java/org/apache/flink/formats/json/debezium&#013;&#010;&gt; &gt; &gt; ä¸‹é¢çš„ä»£ç &#013;&#010;&gt; &gt; &gt; ä½† flinkSQL æ˜¯æ€æ ·çš„æœºåˆ¶æ‰¾åˆ°è¦æ‰§è¡Œçš„ Java ä»£ç çš„å‘¢ï¼Ÿ&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; &gt; &gt; ç‹ç£Š&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; wanglei2@geekplus.com.cn&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt;&#013;&#010;&gt; Best Regards,&#013;&#010;&gt; Harold Miao&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<2020071616022061034945@geekplus.com.cn>"
    },
    {
        "id": "<1594886710135-0.post@n8.nabble.com>",
        "from": "Hito Zhu &lt;qrshi....@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:05:10 GMT",
        "subject": "flink1.11 Application æ¨¡å¼ä¸‹å¯åŠ¨å¤±è´¥é—®é¢˜",
        "content": "Hi all&#010;æˆ‘æŠŠä½œä¸šæäº¤æ¨¡å¼ä» yarn-cluster æ¢æˆ application æ¨¡å¼ï¼Œå¯åŠ¨å¤±è´¥ï¼ŒæŠ¥ä¸¤ä¸ªé”™è¯¯ï¼š&#010;1ã€java.lang.ClassNotFoundException:&#010;org.apache.hadoop.yarn.api.records.ResourceInformation&#010;2ã€cannot assign instance of org.apache.commons.collections.map.LinkedMap to&#010;field&#010;org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumerBase.pendingOffsetsToCommit&#010;of type org.apache.commons.collections.map.LinkedMap in instance of&#010;com.tydic.tysc.core.flink.cal.v3.core.connector.kafka.source.KafkaTableSource$CustomerFlinkKafkaConsumer&#010;åœ¨ yarn-cluster ä¸‹æ­£å¸¸è¿è¡Œï¼Œè¯·å„ä½å¸®å¿™çœ‹ä¸‹ã€‚&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "1",
        "reply": "<1594886710135-0.post@n8.nabble.com>"
    },
    {
        "id": "<1594886790415-0.post@n8.nabble.com>",
        "from": "Hito Zhu &lt;qrshi....@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:06:30 GMT",
        "subject": "flink1.11 Application æ¨¡å¼ä¸‹å¯åŠ¨å¤±è´¥é—®é¢˜",
        "content": "Hi all&#010;æˆ‘æŠŠä½œä¸šæäº¤æ¨¡å¼ä» yarn-cluster æ¢æˆ application æ¨¡å¼ï¼Œå¯åŠ¨å¤±è´¥ï¼ŒæŠ¥ä¸¤ä¸ªé”™è¯¯ï¼š&#010;1ã€java.lang.ClassNotFoundException:&#010;org.apache.hadoop.yarn.api.records.ResourceInformation&#010;2ã€cannot assign instance of org.apache.commons.collections.map.LinkedMap to&#010;field&#010;org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumerBase.pendingOffsetsToCommit&#010;of type org.apache.commons.collections.map.LinkedMap in instance of&#010;com.tydic.tysc.core.flink.cal.v3.core.connector.kafka.source.KafkaTableSource$CustomerFlinkKafkaConsumer&#010;åœ¨ yarn-cluster ä¸‹æ­£å¸¸è¿è¡Œï¼Œè¯·å„ä½å¸®å¿™çœ‹ä¸‹ã€‚&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "1",
        "reply": "<1594886710135-0.post@n8.nabble.com>"
    },
    {
        "id": "<1594887889397-0.post@n8.nabble.com>",
        "from": "Hito Zhu &lt;qrshi....@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:24:49 GMT",
        "subject": "flink1.11 Application æ¨¡å¼ä¸‹å¯åŠ¨å¤±è´¥é—®é¢˜",
        "content": "Hi all&#010;æˆ‘æŠŠä½œä¸šæäº¤æ¨¡å¼ä» yarn-cluster æ¢æˆ application æ¨¡å¼ï¼Œå¯åŠ¨å¤±è´¥ï¼ŒæŠ¥ä¸¤ä¸ªé”™è¯¯ï¼š&#010;1ã€java.lang.ClassNotFoundException:&#010;org.apache.hadoop.yarn.api.records.ResourceInformation&#010;2ã€cannot assign instance of org.apache.commons.collections.map.LinkedMap to&#010;field&#010;org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumerBase.pendingOffsetsToCommit&#010;of type org.apache.commons.collections.map.LinkedMap in instance of&#010;com.tydic.tysc.core.flink.cal.v3.core.connector.kafka.source.KafkaTableSource$CustomerFlinkKafkaConsumer&#010;åœ¨ yarn-cluster ä¸‹æ­£å¸¸è¿è¡Œï¼Œè¯·å„ä½å¸®å¿™çœ‹ä¸‹ã€‚&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "1",
        "reply": "<1594886710135-0.post@n8.nabble.com>"
    },
    {
        "id": "<1594887966160-0.post@n8.nabble.com>",
        "from": "Hito Zhu &lt;qrshi....@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:26:06 GMT",
        "subject": "flink1.11 Application æ¨¡å¼ä¸‹å¯åŠ¨å¤±è´¥é—®é¢˜",
        "content": "Hi all&#010;æˆ‘æŠŠä½œä¸šæäº¤æ¨¡å¼ä» yarn-cluster æ¢æˆ application æ¨¡å¼ï¼Œå¯åŠ¨å¤±è´¥ï¼ŒæŠ¥ä¸¤ä¸ªé”™è¯¯ï¼š&#010;1ã€java.lang.ClassNotFoundException:&#010;org.apache.hadoop.yarn.api.records.ResourceInformation&#010;2ã€cannot assign instance of org.apache.commons.collections.map.LinkedMap to&#010;field&#010;org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumerBase.pendingOffsetsToCommit&#010;of type org.apache.commons.collections.map.LinkedMap in instance of&#010;com.tydic.tysc.core.flink.cal.v3.core.connector.kafka.source.KafkaTableSource$CustomerFlinkKafkaConsumer&#010;åœ¨ yarn-cluster ä¸‹æ­£å¸¸è¿è¡Œï¼Œè¯·å„ä½å¸®å¿™çœ‹ä¸‹ã€‚&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "1",
        "reply": "<1594886710135-0.post@n8.nabble.com>"
    },
    {
        "id": "<CAP+gf37bBM_sWhmOFNv3=zvK0Jbu463NZHfiFQsBGg=jo-1Tdw@mail.gmail.com>",
        "from": "Yang Wang &lt;danrtsey...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 20 Jul 2020 03:26:08 GMT",
        "subject": "Re: flink1.11 Application æ¨¡å¼ä¸‹å¯åŠ¨å¤±è´¥é—®é¢˜",
        "content": "ä½ çš„æŠ¥é”™æ˜¯åœ¨Clientç«¯è¿˜æ˜¯JMç«¯å‘¢ï¼Œclient/JMçš„æ—¥å¿—ä»¥åŠå¯åŠ¨å‘½ä»¤æœ€å¥½å¯ä»¥å‘ä¸€ä¸‹å§&#013;&#010;è¿™æ ·æ–¹ä¾¿æŸ¥é—®é¢˜&#013;&#010;&#013;&#010;&#013;&#010;Applicationå’ŒPerjobæ¨¡å¼æœ¬è´¨ä¸Šçš„åŒºåˆ«æ˜¯ç”¨æˆ·mainè¿è¡Œçš„ä½ç½®ä¸ä¸€æ ·ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´JMå¯åŠ¨çš„classpath&#013;&#010;ä¹Ÿä¸å¤ªä¸€æ ·çš„&#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;Yang&#013;&#010;&#013;&#010;Hito Zhu &lt;qrshi.tao@gmail.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ4:26å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi all&#013;&#010;&gt; æˆ‘æŠŠä½œä¸šæäº¤æ¨¡å¼ä» yarn-cluster æ¢æˆ application æ¨¡å¼ï¼Œå¯åŠ¨å¤±è´¥ï¼ŒæŠ¥ä¸¤ä¸ªé”™è¯¯ï¼š&#013;&#010;&gt; 1ã€java.lang.ClassNotFoundException:&#013;&#010;&gt; org.apache.hadoop.yarn.api.records.ResourceInformation&#013;&#010;&gt; 2ã€cannot assign instance of org.apache.commons.collections.map.LinkedMap to&#013;&#010;&gt; field&#013;&#010;&gt;&#013;&#010;&gt; org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumerBase.pendingOffsetsToCommit&#013;&#010;&gt; of type org.apache.commons.collections.map.LinkedMap in instance of&#013;&#010;&gt;&#013;&#010;&gt; com.tydic.tysc.core.flink.cal.v3.core.connector.kafka.source.KafkaTableSource$CustomerFlinkKafkaConsumer&#013;&#010;&gt; åœ¨ yarn-cluster ä¸‹æ­£å¸¸è¿è¡Œï¼Œè¯·å„ä½å¸®å¿™çœ‹ä¸‹ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<1594886710135-0.post@n8.nabble.com>"
    },
    {
        "id": "<tencent_CBF0E1FD17F3DE9D5EF6165C@qq.com>",
        "from": "&quot;xiao cai&quot;&lt;flin...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:15:13 GMT",
        "subject": "Re:å›å¤ï¼šflink1.11 set yarn slots failed",
        "content": "å¯ä»¥çœ‹è¿™é‡Œ&#010;&#010;&#010; åŸå§‹é‚®ä»¶ &#010;å‘ä»¶äºº: Zhou Zach&lt;wander669@163.com&gt;&#010;æ”¶ä»¶äºº: user-zh&lt;user-zh@flink.apache.org&gt;&#010;å‘é€æ—¶é—´: 2020å¹´7æœˆ16æ—¥(å‘¨å››)â€‡15:28&#010;ä¸»é¢˜: Re:å›å¤ï¼šflink1.11 set yarn slots failed&#010;&#010;&#010;-Då‰ç¼€å¥½ä½¿ï¼Œè¦è®¾ç½®yarn nameç”¨ä»€ä¹ˆå‚æ•°å•Šï¼Œ1.11å®˜ç½‘çš„æ–‡æ¡£æœ‰äº›éƒ½ä¸å¥½ä½¿äº†&#010;åœ¨ 2020-07-16 15:03:14ï¼Œ\"flinkcx\" &lt;flinkcx@163.com&gt; å†™é“ï¼š &gt;æ˜¯ä¸æ˜¯åº”è¯¥ç”¨-Dä½œä¸ºå‰ç¼€æ¥è®¾ç½®,æ¯”å¦‚-Dtaskmanager.numberOfTaskSlots=4&#010;&gt; &gt; &gt; åŸå§‹é‚®ä»¶ &gt;å‘ä»¶äºº: Zhou Zach&lt;wander669@163.com&gt; &gt;æ”¶ä»¶äºº:&#010;Flink user-zh mailing list&lt;user-zh@flink.apache.org&gt; &gt;å‘é€æ—¶é—´: 2020å¹´7æœˆ16æ—¥(å‘¨å››)â€‡14:51&#010;&gt;ä¸»é¢˜: flink1.11 set yarn slots failed &gt; &gt; &gt;Hi all, ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œè®¾ç½®Number&#010;of slots per TaskManager /opt/flink-1.11.0/bin/flink run-application -t yarn-application \\&#010;-Djobmanager.memory.process.size=1024m \\ -Dtaskmanager.memory.process.size=2048m \\ -ys 4 \\&#010;å‘ç°å¹¶ä¸èƒ½override/opt/flink-1.11.0/bin/flink/conf/flink-conf.yamlä¸­çš„é»˜è®¤å€¼ï¼Œæ¯æ¬¡è¦è°ƒæ•´åªèƒ½é€šè¿‡æ›´æ”¹flink-conf.yamlçš„æ–¹å¼æ‰èƒ½ç”Ÿæ•ˆï¼Œè¯·é—®ä½¿ç”¨run-applicationçš„æ–¹å¼ï¼Œæ€æ ·è®¾ç½®Number&#010;of slots per TaskManagerï¼Ÿ å¦å¤–ï¼Œæœ‰å“ªäº›æ–¹å¼å¯ä»¥å¢Flink UIä¸­çš„å¤§Available Task&#010;Slotsçš„å€¼ï¼Œç°åœ¨æ¯æ¬¡æäº¤ä½œä¸šéƒ½æ˜¯0",
        "depth": "1",
        "reply": "<tencent_CBF0E1FD17F3DE9D5EF6165C@qq.com>"
    },
    {
        "id": "<tencent_B26A6FE8357550A6032DB64C@qq.com>",
        "from": "&quot;xiao cai&quot;&lt;flin...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:16:00 GMT",
        "subject": "Re:å›å¤ï¼šflink1.11 set yarn slots failed",
        "content": "å¯ä»¥çœ‹è¿™é‡Œhttps://ci.apache.org/projects/flink/flink-docs-stable/ops/config.html&#010;&#010; åŸå§‹é‚®ä»¶ &#010;å‘ä»¶äºº: Zhou Zach&lt;wander669@163.com&gt;&#010;æ”¶ä»¶äºº: user-zh&lt;user-zh@flink.apache.org&gt;&#010;å‘é€æ—¶é—´: 2020å¹´7æœˆ16æ—¥(å‘¨å››)â€‡15:28&#010;ä¸»é¢˜: Re:å›å¤ï¼šflink1.11 set yarn slots failed&#010;&#010;&#010;-Då‰ç¼€å¥½ä½¿ï¼Œè¦è®¾ç½®yarn nameç”¨ä»€ä¹ˆå‚æ•°å•Šï¼Œ1.11å®˜ç½‘çš„æ–‡æ¡£æœ‰äº›éƒ½ä¸å¥½ä½¿äº†&#010;åœ¨ 2020-07-16 15:03:14ï¼Œ\"flinkcx\" &lt;flinkcx@163.com&gt; å†™é“ï¼š &gt;æ˜¯ä¸æ˜¯åº”è¯¥ç”¨-Dä½œä¸ºå‰ç¼€æ¥è®¾ç½®,æ¯”å¦‚-Dtaskmanager.numberOfTaskSlots=4&#010;&gt; &gt; &gt; åŸå§‹é‚®ä»¶ &gt;å‘ä»¶äºº: Zhou Zach&lt;wander669@163.com&gt; &gt;æ”¶ä»¶äºº:&#010;Flink user-zh mailing list&lt;user-zh@flink.apache.org&gt; &gt;å‘é€æ—¶é—´: 2020å¹´7æœˆ16æ—¥(å‘¨å››)â€‡14:51&#010;&gt;ä¸»é¢˜: flink1.11 set yarn slots failed &gt; &gt; &gt;Hi all, ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œè®¾ç½®Number&#010;of slots per TaskManager /opt/flink-1.11.0/bin/flink run-application -t yarn-application \\&#010;-Djobmanager.memory.process.size=1024m \\ -Dtaskmanager.memory.process.size=2048m \\ -ys 4 \\&#010;å‘ç°å¹¶ä¸èƒ½override/opt/flink-1.11.0/bin/flink/conf/flink-conf.yamlä¸­çš„é»˜è®¤å€¼ï¼Œæ¯æ¬¡è¦è°ƒæ•´åªèƒ½é€šè¿‡æ›´æ”¹flink-conf.yamlçš„æ–¹å¼æ‰èƒ½ç”Ÿæ•ˆï¼Œè¯·é—®ä½¿ç”¨run-applicationçš„æ–¹å¼ï¼Œæ€æ ·è®¾ç½®Number&#010;of slots per TaskManagerï¼Ÿ å¦å¤–ï¼Œæœ‰å“ªäº›æ–¹å¼å¯ä»¥å¢Flink UIä¸­çš„å¤§Available Task&#010;Slotsçš„å€¼ï¼Œç°åœ¨æ¯æ¬¡æäº¤ä½œä¸šéƒ½æ˜¯0",
        "depth": "1",
        "reply": "<tencent_CBF0E1FD17F3DE9D5EF6165C@qq.com>"
    },
    {
        "id": "<466be14c.6fd8.17356bd20bf.Coremail.wander669@163.com>",
        "from": "&quot;Zhou Zach&quot; &lt;wander...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 16 Jul 2020 08:28:22 GMT",
        "subject": "Re:Re:å›å¤ï¼šflink1.11 set yarn slots failed",
        "content": "nice, å¯ä»¥ä¸ç”¨çœ‹Command-Line Interfaceçš„æ–‡æ¡£äº†&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-16 16:16:00ï¼Œ\"xiao cai\" &lt;flinkcx@163.com&gt; å†™é“ï¼š&#010;&gt;å¯ä»¥çœ‹è¿™é‡Œhttps://ci.apache.org/projects/flink/flink-docs-stable/ops/config.html&#010;&gt;&#010;&gt; åŸå§‹é‚®ä»¶ &#010;&gt;å‘ä»¶äºº: Zhou Zach&lt;wander669@163.com&gt;&#010;&gt;æ”¶ä»¶äºº: user-zh&lt;user-zh@flink.apache.org&gt;&#010;&gt;å‘é€æ—¶é—´: 2020å¹´7æœˆ16æ—¥(å‘¨å››)â€‡15:28&#010;&gt;ä¸»é¢˜: Re:å›å¤ï¼šflink1.11 set yarn slots failed&#010;&gt;&#010;&gt;&#010;&gt;-Då‰ç¼€å¥½ä½¿ï¼Œè¦è®¾ç½®yarn nameç”¨ä»€ä¹ˆå‚æ•°å•Šï¼Œ1.11å®˜ç½‘çš„æ–‡æ¡£æœ‰äº›éƒ½ä¸å¥½ä½¿äº†&#010;åœ¨ 2020-07-16 15:03:14ï¼Œ\"flinkcx\" &lt;flinkcx@163.com&gt; å†™é“ï¼š &gt;æ˜¯ä¸æ˜¯åº”è¯¥ç”¨-Dä½œä¸ºå‰ç¼€æ¥è®¾ç½®,æ¯”å¦‚-Dtaskmanager.numberOfTaskSlots=4&#010;&gt; &gt; &gt; åŸå§‹é‚®ä»¶ &gt;å‘ä»¶äºº: Zhou Zach&lt;wander669@163.com&gt; &gt;æ”¶ä»¶äºº:&#010;Flink user-zh mailing list&lt;user-zh@flink.apache.org&gt; &gt;å‘é€æ—¶é—´: 2020å¹´7æœˆ16æ—¥(å‘¨å››)â€‡14:51&#010;&gt;ä¸»é¢˜: flink1.11 set yarn slots failed &gt; &gt; &gt;Hi all, ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œè®¾ç½®Number&#010;of slots per TaskManager /opt/flink-1.11.0/bin/flink run-application -t yarn-application \\&#010;-Djobmanager.memory.process.size=1024m \\ -Dtaskmanager.memory.process.size=2048m \\ -ys 4 \\&#010;å‘ç°å¹¶ä¸èƒ½override/opt/flink-1.11.0/bin/flink/conf/flink-conf.yamlä¸­çš„é»˜è®¤å€¼ï¼Œæ¯æ¬¡è¦è°ƒæ•´åªèƒ½é€šè¿‡æ›´æ”¹flink-conf.yamlçš„æ–¹å¼æ‰èƒ½ç”Ÿæ•ˆï¼Œè¯·é—®ä½¿ç”¨run-applicationçš„æ–¹å¼ï¼Œæ€æ ·è®¾ç½®Number&#010;of slots per TaskManagerï¼Ÿ å¦å¤–ï¼Œæœ‰å“ªäº›æ–¹å¼å¯ä»¥å¢Flink UIä¸­çš„å¤§Available Task&#010;Slotsçš„å€¼ï¼Œç°åœ¨æ¯æ¬¡æäº¤ä½œä¸šéƒ½æ˜¯0&#010;",
        "depth": "2",
        "reply": "<tencent_CBF0E1FD17F3DE9D5EF6165C@qq.com>"
    },
    {
        "id": "<CAP+gf354hG+j_inF=dGg7UQ50th2Qh3_X4A=iHUO8nFMnhxiSA@mail.gmail.com>",
        "from": "Yang Wang &lt;danrtsey...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 20 Jul 2020 03:23:25 GMT",
        "subject": "Re: Re:å›å¤ï¼šflink1.11 set yarn slots failed",
        "content": "ä»é•¿è¿œçœ‹ï¼Œç¤¾åŒºæ˜¯æƒ³é€æ­¥ç»Ÿä¸€å„ä¸ªdeploymentä¸‹çš„å‚æ•°çš„ï¼ˆYarn/K8sï¼‰ï¼Œæ‰€ä»¥CLI&#010;Config options&#013;&#010;ä¼šé€æ¸è¢«åºŸå¼ƒï¼Œè€Œä½¿ç”¨dynamic config optionsçš„æ–¹å¼&#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;Yang&#013;&#010;&#013;&#010;Zhou Zach &lt;wander669@163.com&gt; äº2020å¹´7æœˆ16æ—¥å‘¨å›› ä¸‹åˆ4:28å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; nice, å¯ä»¥ä¸ç”¨çœ‹Command-Line Interfaceçš„æ–‡æ¡£äº†&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; åœ¨ 2020-07-16 16:16:00ï¼Œ\"xiao cai\" &lt;flinkcx@163.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;å¯ä»¥çœ‹è¿™é‡Œ&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-stable/ops/config.html&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; åŸå§‹é‚®ä»¶&#013;&#010;&gt; &gt;å‘ä»¶äºº: Zhou Zach&lt;wander669@163.com&gt;&#013;&#010;&gt; &gt;æ”¶ä»¶äºº: user-zh&lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; &gt;å‘é€æ—¶é—´: 2020å¹´7æœˆ16æ—¥(å‘¨å››)â€‡15:28&#013;&#010;&gt; &gt;ä¸»é¢˜: Re:å›å¤ï¼šflink1.11 set yarn slots failed&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;-Då‰ç¼€å¥½ä½¿ï¼Œè¦è®¾ç½®yarn nameç”¨ä»€ä¹ˆå‚æ•°å•Šï¼Œ1.11å®˜ç½‘çš„æ–‡æ¡£æœ‰äº›éƒ½ä¸å¥½ä½¿äº†&#010;åœ¨ 2020-07-16&#013;&#010;&gt; 15:03:14ï¼Œ\"flinkcx\" &lt;flinkcx@163.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;æ˜¯ä¸æ˜¯åº”è¯¥ç”¨-Dä½œä¸ºå‰ç¼€æ¥è®¾ç½®,æ¯”å¦‚-Dtaskmanager.numberOfTaskSlots=4&#010;&gt; &gt; &gt; åŸå§‹é‚®ä»¶ &gt;å‘ä»¶äºº: Zhou&#013;&#010;&gt; Zach&lt;wander669@163.com&gt; &gt;æ”¶ä»¶äºº: Flink user-zh mailing list&lt;&#013;&#010;&gt; user-zh@flink.apache.org&gt; &gt;å‘é€æ—¶é—´: 2020å¹´7æœˆ16æ—¥(å‘¨å››)â€‡14:51 &gt;ä¸»é¢˜:&#010;flink1.11 set&#013;&#010;&gt; yarn slots failed &gt; &gt; &gt;Hi all, ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œè®¾ç½®Number of slots per&#010;TaskManager&#013;&#010;&gt; /opt/flink-1.11.0/bin/flink run-application -t yarn-application \\&#013;&#010;&gt; -Djobmanager.memory.process.size=1024m \\&#013;&#010;&gt; -Dtaskmanager.memory.process.size=2048m \\ -ys 4 \\&#013;&#010;&gt; å‘ç°å¹¶ä¸èƒ½override/opt/flink-1.11.0/bin/flink/conf/flink-conf.yamlä¸­çš„é»˜è®¤å€¼ï¼Œæ¯æ¬¡è¦è°ƒæ•´åªèƒ½é€šè¿‡æ›´æ”¹flink-conf.yamlçš„æ–¹å¼æ‰èƒ½ç”Ÿæ•ˆï¼Œè¯·é—®ä½¿ç”¨run-applicationçš„æ–¹å¼ï¼Œæ€æ ·è®¾ç½®Number&#013;&#010;&gt; of slots per TaskManagerï¼Ÿ å¦å¤–ï¼Œæœ‰å“ªäº›æ–¹å¼å¯ä»¥å¢Flink UIä¸­çš„å¤§Available&#010;Task&#013;&#010;&gt; Slotsçš„å€¼ï¼Œç°åœ¨æ¯æ¬¡æäº¤ä½œä¸šéƒ½æ˜¯0&#013;&#010;&gt;&#013;&#010;",
        "depth": "3",
        "reply": "<tencent_CBF0E1FD17F3DE9D5EF6165C@qq.com>"
    }
]