[
    {
        "id": "<4db08dca.8edf.173227496d7.Coremail.13669299054@163.com>",
        "from": "å¼ æµ© &lt;13669299...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 04:48:52 GMT",
        "subject": "æ»‘åŠ¨çª—å£æ•°æ®å­˜å‚¨å¤šä»½é—®é¢˜",
        "content": "Hi,all!&#010;ç”±äºç¬¬ä¸€æ¬¡å’¨è¯¢ï¼Œæˆ‘ä¸ç¡®å®šä¸Šä¸€ä»½é‚®ä»¶å¤§å®¶æ˜¯å¦æ”¶åˆ°ã€‚&#010;æƒ³å’¨è¯¢ä¸‹å¤§å®¶ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ datastream api çš„è¯ï¼Œæ»‘åŠ¨çª—å£å¯¹äºæ¯æ¡æ•°æ®éƒ½ä¼šåœ¨&#010;state ä¸­å­˜ size / slide&#010;ä»½ï¼Ÿ&#010;&#010;&#010;| |&#010;å¼ æµ©&#010;|&#010;|&#010;13669299054@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶",
        "depth": "0",
        "reply": "<4db08dca.8edf.173227496d7.Coremail.13669299054@163.com>"
    },
    {
        "id": "<CAA8tFvtPsQUMrEisrU+QFgpz=VwM_HDVGehWztxJ7muk6+h-=g@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 05:46:03 GMT",
        "subject": "Re: æ»‘åŠ¨çª—å£æ•°æ®å­˜å‚¨å¤šä»½é—®é¢˜",
        "content": "Hi&#013;&#010;ç°åœ¨çš„å®ç°æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¡æ•°æ®ä¼šåœ¨æ¯ä¸ªçª—å£ä¸­å­˜ä¸€ä»½&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;å¼ æµ© &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ12:49å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi,all!&#013;&#010;&gt; ç”±äºç¬¬ä¸€æ¬¡å’¨è¯¢ï¼Œæˆ‘ä¸ç¡®å®šä¸Šä¸€ä»½é‚®ä»¶å¤§å®¶æ˜¯å¦æ”¶åˆ°ã€‚&#013;&#010;&gt; æƒ³å’¨è¯¢ä¸‹å¤§å®¶ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ datastream api çš„è¯ï¼Œæ»‘åŠ¨çª—å£å¯¹äºæ¯æ¡æ•°æ®éƒ½ä¼šåœ¨&#010;state ä¸­å­˜ size / slide&#013;&#010;&gt; ä»½ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; å¼ æµ©&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; 13669299054@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;",
        "depth": "1",
        "reply": "<4db08dca.8edf.173227496d7.Coremail.13669299054@163.com>"
    },
    {
        "id": "<CAA8tFvu-3BgGa2SG6uyOTySyT88rgOw-BMdRV4Wg4+cwu0=ahw@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 12:56:05 GMT",
        "subject": "Re: æ»‘åŠ¨çª—å£æ•°æ®å­˜å‚¨å¤šä»½é—®é¢˜",
        "content": "Hi&#013;&#010;&#013;&#010;æˆ‘ç†è§£ï¼Œå¦‚æœåªå­˜å–ä¸€ä»½çš„è¯ï¼Œstate çš„ç®¡ç†ä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼ˆæ‰€æœ‰éœ€è¦è¿™ä»½æ•°æ®çš„çª—å£éƒ½éœ€è¦å»æŸä¸ªåœ°æ–¹å–ï¼Œ&#010;state ä»€ä¹ˆæ—¶å€™æ¸…ç†é€»è¾‘ä¹Ÿä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼‰&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;å¼ æµ© &lt;zhanghao_waxm@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ1:57å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; ä½ å¥½ï¼Œæˆ‘çš„æ€è€ƒæ˜¯ä¾¿äºåœ¨çŠ¶æ€ä¿¡æ¯ä¸­æ¸…é™¤æˆ–è€…æå–æ¯ä¸€ä¸ªçª—å£çš„æ•°æ®ä¿¡æ¯ã€‚&#013;&#010;&gt; ä¸çŸ¥é“ï¼Œæˆ‘è¿™æ ·ç†è§£çš„å¯¹å—ï¼Ÿ&#013;&#010;&gt; å¦å¤–ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½åªå­˜å‚¨ä¸€ä»½æ•°æ®å‘¢ï¼Ÿ&#013;&#010;&gt; éå¸¸æ„Ÿè°¢ä¸æ‚¨äº¤æµï¼&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¼ æµ©&#013;&#010;&gt; é‚®ç®±ï¼šzhanghao_waxm@163.com&#013;&#010;&gt;&#013;&#010;&gt; &lt;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=%E5%BC%A0%E6%B5%A9&amp;uid=13669299054%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Azhanghao_waxm%40163.com%22%5D&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&gt;&#010;å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; åœ¨2020å¹´07æœˆ06æ—¥ 13:46ï¼ŒCongxian Qiu &lt;qcx978132955@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi&#013;&#010;&gt; ç°åœ¨çš„å®ç°æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¡æ•°æ®ä¼šåœ¨æ¯ä¸ªçª—å£ä¸­å­˜ä¸€ä»½&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¼ æµ© &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ12:49å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hi,all!&#013;&#010;&gt; &gt; ç”±äºç¬¬ä¸€æ¬¡å’¨è¯¢ï¼Œæˆ‘ä¸ç¡®å®šä¸Šä¸€ä»½é‚®ä»¶å¤§å®¶æ˜¯å¦æ”¶åˆ°ã€‚&#013;&#010;&gt; &gt; æƒ³å’¨è¯¢ä¸‹å¤§å®¶ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ datastream api çš„è¯ï¼Œæ»‘åŠ¨çª—å£å¯¹äºæ¯æ¡æ•°æ®éƒ½ä¼šåœ¨&#010;state ä¸­å­˜ size / slide&#013;&#010;&gt; &gt; ä»½ï¼Ÿ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; | |&#013;&#010;&gt; &gt; å¼ æµ©&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; 13669299054@163.com&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<4db08dca.8edf.173227496d7.Coremail.13669299054@163.com>"
    },
    {
        "id": "<CAA8tFvu8W9H76Vp_aTgQXOEHhV0OMkdaHp0V8HcZT25f8rFG4A@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Sat, 11 Jul 2020 08:23:41 GMT",
        "subject": "Re: æ»‘åŠ¨çª—å£æ•°æ®å­˜å‚¨å¤šä»½é—®é¢˜",
        "content": "Hi&#013;&#010;&#013;&#010;æ¯ä¸ªçª—å£éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„ stateï¼Œè‡³äºä½ è®¤ä¸ºçš„ä¸åŒ state ä»…ä¿æŒå¼•ç”¨æ˜¯ä¸å¯¹çš„ã€‚è¿™ä¸ªä½ å¯ä»¥ä½¿ç”¨&#010;RocksDBStateBackend&#013;&#010;æ¥è€ƒè™‘ï¼ŒRocksDBStateBackend ä¸­ä¼šæŠŠ state åºåˆ—åŒ–æˆ bytesï¼Œç„¶åå†™åˆ° RocksDB&#010;ä¸­ï¼Œå°±æ˜¯æ¯ä¸ª State&#013;&#010;ä¸­éƒ½ä¼šæœ‰ä¸€ä»½ã€‚&#013;&#010;&#013;&#010;PSï¼šå›å¤é‚®ä»¶çš„æ—¶å€™å¯ä»¥é€‰æ‹©ã€Œå…¨éƒ¨å›å¤ã€è¿™æ ·å°±èƒ½å¤ŸåŠ ä¸Š \"user-zh@flink.apache.org\"ï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬çš„é‚®ä»¶æ‰€æœ‰äººéƒ½èƒ½çœ‹åˆ°äº†&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;å¼ æµ© &lt;zhanghao_waxm@163.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸Šåˆ10:34å†™é“ï¼š&#013;&#010;&#013;&#010;&gt;&#013;&#010;&gt; Hi,æˆ‘é€šè¿‡çœ‹æºç å‘ç°æ¯æ¡æ•°æ®åˆ°è¾¾æ—¶ï¼Œæ˜¯åˆ†é…ç»™äº†æ‰€æœ‰çš„çª—å£ï¼Œä½†æ˜¯æˆ‘ç†è§£è¿™å•æ¡æ•°æ®æ˜¯ä¸æ˜¯åªæ˜¯ä¼ é€’ç»™äº†æ¯ä¸ªçª—å£ï¼Œå…¶å®åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä»½ï¼Œçª—å£çŠ¶æ€ä¿æŒå¯¹å®ƒçš„å¼•ç”¨ï¼Œè§¦å‘ä¸€æ¬¡çª—å£å°±åˆ æ‰å¯¹è¿™äº›æ•°æ®çš„å¼•ç”¨ï¼Ÿ&#013;&#010;&gt; å¾ˆé«˜å…´ä¸æ‚¨æ¢è®¨ï¼&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¼ æµ©&#013;&#010;&gt; é‚®ç®±ï¼šzhanghao_waxm@163.com&#013;&#010;&gt;&#013;&#010;&gt; &lt;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=%E5%BC%A0%E6%B5%A9&amp;uid=13669299054%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Azhanghao_waxm%40163.com%22%5D&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&gt;&#010;å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; åœ¨2020å¹´07æœˆ06æ—¥ 20:56ï¼ŒCongxian Qiu &lt;qcx978132955@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘ç†è§£ï¼Œå¦‚æœåªå­˜å–ä¸€ä»½çš„è¯ï¼Œstate çš„ç®¡ç†ä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼ˆæ‰€æœ‰éœ€è¦è¿™ä»½æ•°æ®çš„çª—å£éƒ½éœ€è¦å»æŸä¸ªåœ°æ–¹å–ï¼Œ&#010;state&#013;&#010;&gt; ä»€ä¹ˆæ—¶å€™æ¸…ç†é€»è¾‘ä¹Ÿä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼‰&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¼ æµ© &lt;zhanghao_waxm@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ1:57å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&gt; ä½ å¥½ï¼Œæˆ‘çš„æ€è€ƒæ˜¯ä¾¿äºåœ¨çŠ¶æ€ä¿¡æ¯ä¸­æ¸…é™¤æˆ–è€…æå–æ¯ä¸€ä¸ªçª—å£çš„æ•°æ®ä¿¡æ¯ã€‚&#013;&#010;&gt;&gt; ä¸çŸ¥é“ï¼Œæˆ‘è¿™æ ·ç†è§£çš„å¯¹å—ï¼Ÿ&#013;&#010;&gt;&gt; å¦å¤–ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½åªå­˜å‚¨ä¸€ä»½æ•°æ®å‘¢ï¼Ÿ&#013;&#010;&gt;&gt; éå¸¸æ„Ÿè°¢ä¸æ‚¨äº¤æµï¼&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; å¼ æµ©&#013;&#010;&gt;&gt; é‚®ç®±ï¼šzhanghao_waxm@163.com&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; &lt;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=%E5%BC%A0%E6%B5%A9&amp;uid=13669299054%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Azhanghao_waxm%40163.com%22%5D&gt;&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&gt;&#010;å®šåˆ¶&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; åœ¨2020å¹´07æœˆ06æ—¥ 13:46ï¼ŒCongxian Qiu &lt;qcx978132955@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt;&gt; Hi&#013;&#010;&gt;&gt; ç°åœ¨çš„å®ç°æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¡æ•°æ®ä¼šåœ¨æ¯ä¸ªçª—å£ä¸­å­˜ä¸€ä»½&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; Best,&#013;&#010;&gt;&gt; Congxian&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; å¼ æµ© &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ12:49å†™é“ï¼š&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt; &gt; Hi,all!&#013;&#010;&gt;&gt; &gt; ç”±äºç¬¬ä¸€æ¬¡å’¨è¯¢ï¼Œæˆ‘ä¸ç¡®å®šä¸Šä¸€ä»½é‚®ä»¶å¤§å®¶æ˜¯å¦æ”¶åˆ°ã€‚&#013;&#010;&gt;&gt; &gt; æƒ³å’¨è¯¢ä¸‹å¤§å®¶ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ datastream api çš„è¯ï¼Œæ»‘åŠ¨çª—å£å¯¹äºæ¯æ¡æ•°æ®éƒ½ä¼šåœ¨&#010;state ä¸­å­˜ size / slide&#013;&#010;&gt;&gt; &gt; ä»½ï¼Ÿ&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt;&#013;&#010;&gt;&gt; &gt; | |&#013;&#010;&gt;&gt; &gt; å¼ æµ©&#013;&#010;&gt;&gt; &gt; |&#013;&#010;&gt;&gt; &gt; |&#013;&#010;&gt;&gt; &gt; 13669299054@163.com&#013;&#010;&gt;&gt; &gt; |&#013;&#010;&gt;&gt; &gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt;&gt;&#013;&#010;&gt;&gt;&#013;&#010;",
        "depth": "3",
        "reply": "<4db08dca.8edf.173227496d7.Coremail.13669299054@163.com>"
    },
    {
        "id": "<35217f05.7f84.1733d10ddde.Coremail.13669299054@163.com>",
        "from": "&quot;Jimmy Zhang&quot; &lt;13669299...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Sat, 11 Jul 2020 08:49:42 GMT",
        "subject": "å›å¤ï¼šæ»‘åŠ¨çª—å£æ•°æ®å­˜å‚¨å¤šä»½é—®é¢˜",
        "content": "å—¯å—¯ï¼Œä¹‹å‰æ²¡æœ‰é€‰æ‹©å›å¤å…¨éƒ¨ï¼Œä¸å¥½æ„æ€ã€‚&#010;æˆ‘çœ‹æºç å…³äºRocksDBè¿™å—ç¡®å®æ˜¯éœ€è¦åºåˆ—åŒ–çš„ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯å¤šä»½ä¿å­˜ï¼Œå¦‚æœçŠ¶æ€åç«¯æ˜¯heapå‘¢ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„å—ï¼Ÿä»æˆ‘æµ‹è¯•å†…å­˜æ¥çœ‹ï¼Œæ„Ÿè§‰ä¹Ÿæ˜¯å¤šä»½ï¼Œåªæ˜¯heapliststateé‚£ä¸ªç±»ç»™äº†æˆ‘ä¸€äº›å›°æƒ‘ğŸ˜¦&#010;&#010;&#010;åœ¨2020å¹´07æœˆ11æ—¥ 16:23ï¼ŒCongxian Qiu å†™é“ï¼š&#010;Hi&#010;&#010;&#010;æ¯ä¸ªçª—å£éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„ stateï¼Œè‡³äºä½ è®¤ä¸ºçš„ä¸åŒ state ä»…ä¿æŒå¼•ç”¨æ˜¯ä¸å¯¹çš„ã€‚è¿™ä¸ªä½ å¯ä»¥ä½¿ç”¨&#010;RocksDBStateBackend æ¥è€ƒè™‘ï¼ŒRocksDBStateBackend ä¸­ä¼šæŠŠ state åºåˆ—åŒ–æˆ bytesï¼Œç„¶åå†™åˆ°&#010;RocksDB ä¸­ï¼Œå°±æ˜¯æ¯ä¸ª State ä¸­éƒ½ä¼šæœ‰ä¸€ä»½ã€‚&#010;&#010;&#010;PSï¼šå›å¤é‚®ä»¶çš„æ—¶å€™å¯ä»¥é€‰æ‹©ã€Œå…¨éƒ¨å›å¤ã€è¿™æ ·å°±èƒ½å¤ŸåŠ ä¸Š \"user-zh@flink.apache.org\"ï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬çš„é‚®ä»¶æ‰€æœ‰äººéƒ½èƒ½çœ‹åˆ°äº†&#010;&#010;&#010;Best,&#010;Congxian&#010;&#010;&#010;&#010;&#010;å¼ æµ© &lt;zhanghao_waxm@163.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸Šåˆ10:34å†™é“ï¼š&#010;&#010;Hi,æˆ‘é€šè¿‡çœ‹æºç å‘ç°æ¯æ¡æ•°æ®åˆ°è¾¾æ—¶ï¼Œæ˜¯åˆ†é…ç»™äº†æ‰€æœ‰çš„çª—å£ï¼Œä½†æ˜¯æˆ‘ç†è§£è¿™å•æ¡æ•°æ®æ˜¯ä¸æ˜¯åªæ˜¯ä¼ é€’ç»™äº†æ¯ä¸ªçª—å£ï¼Œå…¶å®åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä»½ï¼Œçª—å£çŠ¶æ€ä¿æŒå¯¹å®ƒçš„å¼•ç”¨ï¼Œè§¦å‘ä¸€æ¬¡çª—å£å°±åˆ æ‰å¯¹è¿™äº›æ•°æ®çš„å¼•ç”¨ï¼Ÿ&#010;å¾ˆé«˜å…´ä¸æ‚¨æ¢è®¨ï¼&#010;&#010;&#010;&#010;&#010;| |&#010;å¼ æµ©&#010;|&#010;|&#010;é‚®ç®±ï¼šzhanghao_waxm@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;åœ¨2020å¹´07æœˆ06æ—¥ 20:56ï¼ŒCongxian Qiu å†™é“ï¼š&#010;Hi&#010;&#010;&#010;æˆ‘ç†è§£ï¼Œå¦‚æœåªå­˜å–ä¸€ä»½çš„è¯ï¼Œstate çš„ç®¡ç†ä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼ˆæ‰€æœ‰éœ€è¦è¿™ä»½æ•°æ®çš„çª—å£éƒ½éœ€è¦å»æŸä¸ªåœ°æ–¹å–ï¼Œ&#010;state ä»€ä¹ˆæ—¶å€™æ¸…ç†é€»è¾‘ä¹Ÿä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼‰&#010;&#010;&#010;Best,&#010;Congxian&#010;&#010;&#010;&#010;&#010;å¼ æµ© &lt;zhanghao_waxm@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ1:57å†™é“ï¼š&#010;&#010;ä½ å¥½ï¼Œæˆ‘çš„æ€è€ƒæ˜¯ä¾¿äºåœ¨çŠ¶æ€ä¿¡æ¯ä¸­æ¸…é™¤æˆ–è€…æå–æ¯ä¸€ä¸ªçª—å£çš„æ•°æ®ä¿¡æ¯ã€‚&#010;ä¸çŸ¥é“ï¼Œæˆ‘è¿™æ ·ç†è§£çš„å¯¹å—ï¼Ÿ&#010;å¦å¤–ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½åªå­˜å‚¨ä¸€ä»½æ•°æ®å‘¢ï¼Ÿ&#010;éå¸¸æ„Ÿè°¢ä¸æ‚¨äº¤æµï¼&#010;&#010;&#010;&#010;&#010;| |&#010;å¼ æµ©&#010;|&#010;|&#010;é‚®ç®±ï¼šzhanghao_waxm@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;åœ¨2020å¹´07æœˆ06æ—¥ 13:46ï¼ŒCongxian Qiu å†™é“ï¼š&#010;Hi&#010;ç°åœ¨çš„å®ç°æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¡æ•°æ®ä¼šåœ¨æ¯ä¸ªçª—å£ä¸­å­˜ä¸€ä»½&#010;&#010;Best,&#010;Congxian&#010;&#010;&#010;å¼ æµ© &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ12:49å†™é“ï¼š&#010;&#010;&gt; Hi,all!&#010;&gt; ç”±äºç¬¬ä¸€æ¬¡å’¨è¯¢ï¼Œæˆ‘ä¸ç¡®å®šä¸Šä¸€ä»½é‚®ä»¶å¤§å®¶æ˜¯å¦æ”¶åˆ°ã€‚&#010;&gt; æƒ³å’¨è¯¢ä¸‹å¤§å®¶ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ datastream api çš„è¯ï¼Œæ»‘åŠ¨çª—å£å¯¹äºæ¯æ¡æ•°æ®éƒ½ä¼šåœ¨&#010;state ä¸­å­˜ size / slide&#010;&gt; ä»½ï¼Ÿ&#010;&gt;&#010;&gt;&#010;&gt; | |&#010;&gt; å¼ æµ©&#010;&gt; |&#010;&gt; |&#010;&gt; 13669299054@163.com&#010;&gt; |&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;",
        "depth": "4",
        "reply": "<4db08dca.8edf.173227496d7.Coremail.13669299054@163.com>"
    },
    {
        "id": "<CAA8tFvtaV3vw5J_vEVOdVF7DFvu66cg+ifVJO8JCgrX2wP7tkg@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Sat, 11 Jul 2020 13:02:33 GMT",
        "subject": "Re: æ»‘åŠ¨çª—å£æ•°æ®å­˜å‚¨å¤šä»½é—®é¢˜",
        "content": "Hi&#013;&#010;   ä½ è¯´çš„ HeapListState çš„å›°æƒ‘å…·ä½“æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;Jimmy Zhang &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ11æ—¥å‘¨å…­ ä¸‹åˆ4:50å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; å—¯å—¯ï¼Œä¹‹å‰æ²¡æœ‰é€‰æ‹©å›å¤å…¨éƒ¨ï¼Œä¸å¥½æ„æ€ã€‚&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘çœ‹æºç å…³äºRocksDBè¿™å—ç¡®å®æ˜¯éœ€è¦åºåˆ—åŒ–çš„ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯å¤šä»½ä¿å­˜ï¼Œå¦‚æœçŠ¶æ€åç«¯æ˜¯heapå‘¢ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„å—ï¼Ÿä»æˆ‘æµ‹è¯•å†…å­˜æ¥çœ‹ï¼Œæ„Ÿè§‰ä¹Ÿæ˜¯å¤šä»½ï¼Œåªæ˜¯heapliststateé‚£ä¸ªç±»ç»™äº†æˆ‘ä¸€äº›å›°æƒ‘ğŸ˜¦&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; åœ¨2020å¹´07æœˆ11æ—¥ 16:23ï¼ŒCongxian Qiu å†™é“ï¼š&#013;&#010;&gt; Hi&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æ¯ä¸ªçª—å£éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„ stateï¼Œè‡³äºä½ è®¤ä¸ºçš„ä¸åŒ state ä»…ä¿æŒå¼•ç”¨æ˜¯ä¸å¯¹çš„ã€‚è¿™ä¸ªä½ å¯ä»¥ä½¿ç”¨&#010;RocksDBStateBackend&#013;&#010;&gt; æ¥è€ƒè™‘ï¼ŒRocksDBStateBackend ä¸­ä¼šæŠŠ state åºåˆ—åŒ–æˆ bytesï¼Œç„¶åå†™åˆ° RocksDB&#010;ä¸­ï¼Œå°±æ˜¯æ¯ä¸ª State&#013;&#010;&gt; ä¸­éƒ½ä¼šæœ‰ä¸€ä»½ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; PSï¼šå›å¤é‚®ä»¶çš„æ—¶å€™å¯ä»¥é€‰æ‹©ã€Œå…¨éƒ¨å›å¤ã€è¿™æ ·å°±èƒ½å¤ŸåŠ ä¸Š \"user-zh@flink.apache.org\"ï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬çš„é‚®ä»¶æ‰€æœ‰äººéƒ½èƒ½çœ‹åˆ°äº†&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¼ æµ© &lt;zhanghao_waxm@163.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸Šåˆ10:34å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Hi,æˆ‘é€šè¿‡çœ‹æºç å‘ç°æ¯æ¡æ•°æ®åˆ°è¾¾æ—¶ï¼Œæ˜¯åˆ†é…ç»™äº†æ‰€æœ‰çš„çª—å£ï¼Œä½†æ˜¯æˆ‘ç†è§£è¿™å•æ¡æ•°æ®æ˜¯ä¸æ˜¯åªæ˜¯ä¼ é€’ç»™äº†æ¯ä¸ªçª—å£ï¼Œå…¶å®åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä»½ï¼Œçª—å£çŠ¶æ€ä¿æŒå¯¹å®ƒçš„å¼•ç”¨ï¼Œè§¦å‘ä¸€æ¬¡çª—å£å°±åˆ æ‰å¯¹è¿™äº›æ•°æ®çš„å¼•ç”¨ï¼Ÿ&#013;&#010;&gt; å¾ˆé«˜å…´ä¸æ‚¨æ¢è®¨ï¼&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; å¼ æµ©&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼šzhanghao_waxm@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; åœ¨2020å¹´07æœˆ06æ—¥ 20:56ï¼ŒCongxian Qiu å†™é“ï¼š&#013;&#010;&gt; Hi&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘ç†è§£ï¼Œå¦‚æœåªå­˜å–ä¸€ä»½çš„è¯ï¼Œstate çš„ç®¡ç†ä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼ˆæ‰€æœ‰éœ€è¦è¿™ä»½æ•°æ®çš„çª—å£éƒ½éœ€è¦å»æŸä¸ªåœ°æ–¹å–ï¼Œ&#010;state&#013;&#010;&gt; ä»€ä¹ˆæ—¶å€™æ¸…ç†é€»è¾‘ä¹Ÿä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼‰&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¼ æµ© &lt;zhanghao_waxm@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ1:57å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; ä½ å¥½ï¼Œæˆ‘çš„æ€è€ƒæ˜¯ä¾¿äºåœ¨çŠ¶æ€ä¿¡æ¯ä¸­æ¸…é™¤æˆ–è€…æå–æ¯ä¸€ä¸ªçª—å£çš„æ•°æ®ä¿¡æ¯ã€‚&#013;&#010;&gt; ä¸çŸ¥é“ï¼Œæˆ‘è¿™æ ·ç†è§£çš„å¯¹å—ï¼Ÿ&#013;&#010;&gt; å¦å¤–ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½åªå­˜å‚¨ä¸€ä»½æ•°æ®å‘¢ï¼Ÿ&#013;&#010;&gt; éå¸¸æ„Ÿè°¢ä¸æ‚¨äº¤æµï¼&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; å¼ æµ©&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼šzhanghao_waxm@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; åœ¨2020å¹´07æœˆ06æ—¥ 13:46ï¼ŒCongxian Qiu å†™é“ï¼š&#013;&#010;&gt; Hi&#013;&#010;&gt; ç°åœ¨çš„å®ç°æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¡æ•°æ®ä¼šåœ¨æ¯ä¸ªçª—å£ä¸­å­˜ä¸€ä»½&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¼ æµ© &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ12:49å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hi,all!&#013;&#010;&gt; &gt; ç”±äºç¬¬ä¸€æ¬¡å’¨è¯¢ï¼Œæˆ‘ä¸ç¡®å®šä¸Šä¸€ä»½é‚®ä»¶å¤§å®¶æ˜¯å¦æ”¶åˆ°ã€‚&#013;&#010;&gt; &gt; æƒ³å’¨è¯¢ä¸‹å¤§å®¶ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ datastream api çš„è¯ï¼Œæ»‘åŠ¨çª—å£å¯¹äºæ¯æ¡æ•°æ®éƒ½ä¼šåœ¨&#010;state ä¸­å­˜ size / slide&#013;&#010;&gt; &gt; ä»½ï¼Ÿ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; | |&#013;&#010;&gt; &gt; å¼ æµ©&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; 13669299054@163.com&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt;&#013;&#010;",
        "depth": "5",
        "reply": "<4db08dca.8edf.173227496d7.Coremail.13669299054@163.com>"
    },
    {
        "id": "<13bbe3a0.9246.173405ebc81.Coremail.13669299054@163.com>",
        "from": "&quot;Jimmy Zhang&quot; &lt;13669299...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Sun, 12 Jul 2020 00:13:37 GMT",
        "subject": "å›å¤ï¼š æ»‘åŠ¨çª—å£æ•°æ®å­˜å‚¨å¤šä»½é—®é¢˜",
        "content": "Hi,allï¼&#010;ä»WindowOperator.javaçš„processElementæ–¹æ³•è·Ÿè¿›å»ï¼Œä½¿ç”¨windowState.add(element.getValue());æ·»åŠ æ•°æ®ï¼Œè¿™é‡Œé¢æ‰¾åˆ°addæ–¹æ³•çš„HeapListStateç±»çš„å®ç°ï¼Œ&#010;&#010;&#010;@Override&#010; public void add(V value) {&#010;  Preconditions.checkNotNull(value, \"You cannot add null to a ListState.\");&#010;  final N namespace = currentNamespace;&#010;  final StateTable&lt;K, N, List&lt;V&gt;&gt; map = stateTable;&#010;  List&lt;V&gt; list = map.get(namespace);&#010;  if (list == null) {&#010;   list = new ArrayList&lt;&gt;();&#010;   map.put(namespace, list);&#010;  }&#010;  list.add(value);&#010; }&#010;å°±æ˜¯è¿™ä¸ªæ–¹æ³•ï¼Œè®©æˆ‘äº§ç”Ÿäº† â€œæ­¤valueåªçœŸå®å­˜åœ¨ä¸€ä»½â€çš„å›°æƒ‘ï¼&#010;|&#010;Best,&#010;Jimmy&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;åœ¨2020å¹´7æœˆ11æ—¥ 21:02ï¼ŒCongxian Qiu&lt;qcx978132955@gmail.com&gt; å†™é“ï¼š&#010;Hi&#010;ä½ è¯´çš„ HeapListState çš„å›°æƒ‘å…·ä½“æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&#010;&#010;Best,&#010;Congxian&#010;&#010;&#010;Jimmy Zhang &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ11æ—¥å‘¨å…­ ä¸‹åˆ4:50å†™é“ï¼š&#010;&#010;å—¯å—¯ï¼Œä¹‹å‰æ²¡æœ‰é€‰æ‹©å›å¤å…¨éƒ¨ï¼Œä¸å¥½æ„æ€ã€‚&#010;&#010;æˆ‘çœ‹æºç å…³äºRocksDBè¿™å—ç¡®å®æ˜¯éœ€è¦åºåˆ—åŒ–çš„ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯å¤šä»½ä¿å­˜ï¼Œå¦‚æœçŠ¶æ€åç«¯æ˜¯heapå‘¢ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„å—ï¼Ÿä»æˆ‘æµ‹è¯•å†…å­˜æ¥çœ‹ï¼Œæ„Ÿè§‰ä¹Ÿæ˜¯å¤šä»½ï¼Œåªæ˜¯heapliststateé‚£ä¸ªç±»ç»™äº†æˆ‘ä¸€äº›å›°æƒ‘ğŸ˜¦&#010;&#010;&#010;åœ¨2020å¹´07æœˆ11æ—¥ 16:23ï¼ŒCongxian Qiu å†™é“ï¼š&#010;Hi&#010;&#010;&#010;æ¯ä¸ªçª—å£éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„ stateï¼Œè‡³äºä½ è®¤ä¸ºçš„ä¸åŒ state ä»…ä¿æŒå¼•ç”¨æ˜¯ä¸å¯¹çš„ã€‚è¿™ä¸ªä½ å¯ä»¥ä½¿ç”¨&#010;RocksDBStateBackend&#010;æ¥è€ƒè™‘ï¼ŒRocksDBStateBackend ä¸­ä¼šæŠŠ state åºåˆ—åŒ–æˆ bytesï¼Œç„¶åå†™åˆ° RocksDB&#010;ä¸­ï¼Œå°±æ˜¯æ¯ä¸ª State&#010;ä¸­éƒ½ä¼šæœ‰ä¸€ä»½ã€‚&#010;&#010;&#010;PSï¼šå›å¤é‚®ä»¶çš„æ—¶å€™å¯ä»¥é€‰æ‹©ã€Œå…¨éƒ¨å›å¤ã€è¿™æ ·å°±èƒ½å¤ŸåŠ ä¸Š \"user-zh@flink.apache.org\"ï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬çš„é‚®ä»¶æ‰€æœ‰äººéƒ½èƒ½çœ‹åˆ°äº†&#010;&#010;&#010;Best,&#010;Congxian&#010;&#010;&#010;&#010;&#010;å¼ æµ© &lt;zhanghao_waxm@163.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸Šåˆ10:34å†™é“ï¼š&#010;&#010;&#010;Hi,æˆ‘é€šè¿‡çœ‹æºç å‘ç°æ¯æ¡æ•°æ®åˆ°è¾¾æ—¶ï¼Œæ˜¯åˆ†é…ç»™äº†æ‰€æœ‰çš„çª—å£ï¼Œä½†æ˜¯æˆ‘ç†è§£è¿™å•æ¡æ•°æ®æ˜¯ä¸æ˜¯åªæ˜¯ä¼ é€’ç»™äº†æ¯ä¸ªçª—å£ï¼Œå…¶å®åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä»½ï¼Œçª—å£çŠ¶æ€ä¿æŒå¯¹å®ƒçš„å¼•ç”¨ï¼Œè§¦å‘ä¸€æ¬¡çª—å£å°±åˆ æ‰å¯¹è¿™äº›æ•°æ®çš„å¼•ç”¨ï¼Ÿ&#010;å¾ˆé«˜å…´ä¸æ‚¨æ¢è®¨ï¼&#010;&#010;&#010;&#010;&#010;| |&#010;å¼ æµ©&#010;|&#010;|&#010;é‚®ç®±ï¼šzhanghao_waxm@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;åœ¨2020å¹´07æœˆ06æ—¥ 20:56ï¼ŒCongxian Qiu å†™é“ï¼š&#010;Hi&#010;&#010;&#010;æˆ‘ç†è§£ï¼Œå¦‚æœåªå­˜å–ä¸€ä»½çš„è¯ï¼Œstate çš„ç®¡ç†ä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼ˆæ‰€æœ‰éœ€è¦è¿™ä»½æ•°æ®çš„çª—å£éƒ½éœ€è¦å»æŸä¸ªåœ°æ–¹å–ï¼Œ&#010;state&#010;ä»€ä¹ˆæ—¶å€™æ¸…ç†é€»è¾‘ä¹Ÿä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼‰&#010;&#010;&#010;Best,&#010;Congxian&#010;&#010;&#010;&#010;&#010;å¼ æµ© &lt;zhanghao_waxm@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ1:57å†™é“ï¼š&#010;&#010;ä½ å¥½ï¼Œæˆ‘çš„æ€è€ƒæ˜¯ä¾¿äºåœ¨çŠ¶æ€ä¿¡æ¯ä¸­æ¸…é™¤æˆ–è€…æå–æ¯ä¸€ä¸ªçª—å£çš„æ•°æ®ä¿¡æ¯ã€‚&#010;ä¸çŸ¥é“ï¼Œæˆ‘è¿™æ ·ç†è§£çš„å¯¹å—ï¼Ÿ&#010;å¦å¤–ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½åªå­˜å‚¨ä¸€ä»½æ•°æ®å‘¢ï¼Ÿ&#010;éå¸¸æ„Ÿè°¢ä¸æ‚¨äº¤æµï¼&#010;&#010;&#010;&#010;&#010;| |&#010;å¼ æµ©&#010;|&#010;|&#010;é‚®ç®±ï¼šzhanghao_waxm@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;åœ¨2020å¹´07æœˆ06æ—¥ 13:46ï¼ŒCongxian Qiu å†™é“ï¼š&#010;Hi&#010;ç°åœ¨çš„å®ç°æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¡æ•°æ®ä¼šåœ¨æ¯ä¸ªçª—å£ä¸­å­˜ä¸€ä»½&#010;&#010;Best,&#010;Congxian&#010;&#010;&#010;å¼ æµ© &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ12:49å†™é“ï¼š&#010;&#010;Hi,all!&#010;ç”±äºç¬¬ä¸€æ¬¡å’¨è¯¢ï¼Œæˆ‘ä¸ç¡®å®šä¸Šä¸€ä»½é‚®ä»¶å¤§å®¶æ˜¯å¦æ”¶åˆ°ã€‚&#010;æƒ³å’¨è¯¢ä¸‹å¤§å®¶ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ datastream api çš„è¯ï¼Œæ»‘åŠ¨çª—å£å¯¹äºæ¯æ¡æ•°æ®éƒ½ä¼šåœ¨&#010;state ä¸­å­˜ size / slide&#010;ä»½ï¼Ÿ&#010;&#010;&#010;| |&#010;å¼ æµ©&#010;|&#010;|&#010;13669299054@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;&#010;",
        "depth": "6",
        "reply": "<4db08dca.8edf.173227496d7.Coremail.13669299054@163.com>"
    },
    {
        "id": "<CAA8tFvst_jtxEweNixhgWB2OQ86YL6d-+SUYWpE6eEBcchOmOg@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 13 Jul 2020 11:58:00 GMT",
        "subject": "Re: æ»‘åŠ¨çª—å£æ•°æ®å­˜å‚¨å¤šä»½é—®é¢˜",
        "content": "Hi&#013;&#010;&#013;&#010;ä» HeapListState#add è¿™é‡Œçœ‹æ˜¯çš„ï¼Œæˆ‘è·Ÿäº†ä¸€ä¸ª WindowOperator åˆ°æœ€ç»ˆ HeapListState&#013;&#010;çš„é€»è¾‘ï¼Œè¿™é‡Œç¡®å®æ˜¯åªæœ‰ä¸€ä»½æ•°æ®ï¼Œæ²¡æœ‰æ‹·è´ã€‚è¿™ä¸ªä¸œè¥¿çš„å®ç°å¯èƒ½æ˜¯å› ä¸ºæ€§èƒ½å¥½ï¼Œæˆ‘å°è¯•ç¡®è®¤ä¸‹è¿™ä¸ªåŸå› ï¼Œå¤šè°¢ä½ çš„æé—®ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;Jimmy Zhang &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ12æ—¥å‘¨æ—¥ ä¸Šåˆ8:13å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi,allï¼&#013;&#010;&gt;&#013;&#010;&gt; ä»WindowOperator.javaçš„processElementæ–¹æ³•è·Ÿè¿›å»ï¼Œä½¿ç”¨windowState.add(element.getValue());æ·»åŠ æ•°æ®ï¼Œè¿™é‡Œé¢æ‰¾åˆ°addæ–¹æ³•çš„HeapListStateç±»çš„å®ç°ï¼Œ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; @Override&#013;&#010;&gt;  public void add(V value) {&#013;&#010;&gt;   Preconditions.checkNotNull(value, \"You cannot add null to a ListState.\");&#013;&#010;&gt;   final N namespace = currentNamespace;&#013;&#010;&gt;   final StateTable&lt;K, N, List&lt;V&gt;&gt; map = stateTable;&#013;&#010;&gt;   List&lt;V&gt; list = map.get(namespace);&#013;&#010;&gt;   if (list == null) {&#013;&#010;&gt;    list = new ArrayList&lt;&gt;();&#013;&#010;&gt;    map.put(namespace, list);&#013;&#010;&gt;   }&#013;&#010;&gt;   list.add(value);&#013;&#010;&gt;  }&#013;&#010;&gt; å°±æ˜¯è¿™ä¸ªæ–¹æ³•ï¼Œè®©æˆ‘äº§ç”Ÿäº† â€œæ­¤valueåªçœŸå®å­˜åœ¨ä¸€ä»½â€çš„å›°æƒ‘ï¼&#013;&#010;&gt; |&#013;&#010;&gt; Best,&#013;&#010;&gt; Jimmy&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt; åœ¨2020å¹´7æœˆ11æ—¥ 21:02ï¼ŒCongxian Qiu&lt;qcx978132955@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi&#013;&#010;&gt; ä½ è¯´çš„ HeapListState çš„å›°æƒ‘å…·ä½“æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Jimmy Zhang &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ11æ—¥å‘¨å…­ ä¸‹åˆ4:50å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; å—¯å—¯ï¼Œä¹‹å‰æ²¡æœ‰é€‰æ‹©å›å¤å…¨éƒ¨ï¼Œä¸å¥½æ„æ€ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘çœ‹æºç å…³äºRocksDBè¿™å—ç¡®å®æ˜¯éœ€è¦åºåˆ—åŒ–çš„ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯å¤šä»½ä¿å­˜ï¼Œå¦‚æœçŠ¶æ€åç«¯æ˜¯heapå‘¢ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„å—ï¼Ÿä»æˆ‘æµ‹è¯•å†…å­˜æ¥çœ‹ï¼Œæ„Ÿè§‰ä¹Ÿæ˜¯å¤šä»½ï¼Œåªæ˜¯heapliststateé‚£ä¸ªç±»ç»™äº†æˆ‘ä¸€äº›å›°æƒ‘ğŸ˜¦&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; åœ¨2020å¹´07æœˆ11æ—¥ 16:23ï¼ŒCongxian Qiu å†™é“ï¼š&#013;&#010;&gt; Hi&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æ¯ä¸ªçª—å£éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„ stateï¼Œè‡³äºä½ è®¤ä¸ºçš„ä¸åŒ state ä»…ä¿æŒå¼•ç”¨æ˜¯ä¸å¯¹çš„ã€‚è¿™ä¸ªä½ å¯ä»¥ä½¿ç”¨&#010;RocksDBStateBackend&#013;&#010;&gt; æ¥è€ƒè™‘ï¼ŒRocksDBStateBackend ä¸­ä¼šæŠŠ state åºåˆ—åŒ–æˆ bytesï¼Œç„¶åå†™åˆ° RocksDB&#010;ä¸­ï¼Œå°±æ˜¯æ¯ä¸ª State&#013;&#010;&gt; ä¸­éƒ½ä¼šæœ‰ä¸€ä»½ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; PSï¼šå›å¤é‚®ä»¶çš„æ—¶å€™å¯ä»¥é€‰æ‹©ã€Œå…¨éƒ¨å›å¤ã€è¿™æ ·å°±èƒ½å¤ŸåŠ ä¸Š \"user-zh@flink.apache.org\"ï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬çš„é‚®ä»¶æ‰€æœ‰äººéƒ½èƒ½çœ‹åˆ°äº†&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¼ æµ© &lt;zhanghao_waxm@163.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸Šåˆ10:34å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Hi,æˆ‘é€šè¿‡çœ‹æºç å‘ç°æ¯æ¡æ•°æ®åˆ°è¾¾æ—¶ï¼Œæ˜¯åˆ†é…ç»™äº†æ‰€æœ‰çš„çª—å£ï¼Œä½†æ˜¯æˆ‘ç†è§£è¿™å•æ¡æ•°æ®æ˜¯ä¸æ˜¯åªæ˜¯ä¼ é€’ç»™äº†æ¯ä¸ªçª—å£ï¼Œå…¶å®åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä»½ï¼Œçª—å£çŠ¶æ€ä¿æŒå¯¹å®ƒçš„å¼•ç”¨ï¼Œè§¦å‘ä¸€æ¬¡çª—å£å°±åˆ æ‰å¯¹è¿™äº›æ•°æ®çš„å¼•ç”¨ï¼Ÿ&#013;&#010;&gt; å¾ˆé«˜å…´ä¸æ‚¨æ¢è®¨ï¼&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; å¼ æµ©&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼šzhanghao_waxm@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; åœ¨2020å¹´07æœˆ06æ—¥ 20:56ï¼ŒCongxian Qiu å†™é“ï¼š&#013;&#010;&gt; Hi&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘ç†è§£ï¼Œå¦‚æœåªå­˜å–ä¸€ä»½çš„è¯ï¼Œstate çš„ç®¡ç†ä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼ˆæ‰€æœ‰éœ€è¦è¿™ä»½æ•°æ®çš„çª—å£éƒ½éœ€è¦å»æŸä¸ªåœ°æ–¹å–ï¼Œ&#010;state&#013;&#010;&gt; ä»€ä¹ˆæ—¶å€™æ¸…ç†é€»è¾‘ä¹Ÿä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼‰&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¼ æµ© &lt;zhanghao_waxm@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ1:57å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; ä½ å¥½ï¼Œæˆ‘çš„æ€è€ƒæ˜¯ä¾¿äºåœ¨çŠ¶æ€ä¿¡æ¯ä¸­æ¸…é™¤æˆ–è€…æå–æ¯ä¸€ä¸ªçª—å£çš„æ•°æ®ä¿¡æ¯ã€‚&#013;&#010;&gt; ä¸çŸ¥é“ï¼Œæˆ‘è¿™æ ·ç†è§£çš„å¯¹å—ï¼Ÿ&#013;&#010;&gt; å¦å¤–ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½åªå­˜å‚¨ä¸€ä»½æ•°æ®å‘¢ï¼Ÿ&#013;&#010;&gt; éå¸¸æ„Ÿè°¢ä¸æ‚¨äº¤æµï¼&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; å¼ æµ©&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼šzhanghao_waxm@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; åœ¨2020å¹´07æœˆ06æ—¥ 13:46ï¼ŒCongxian Qiu å†™é“ï¼š&#013;&#010;&gt; Hi&#013;&#010;&gt; ç°åœ¨çš„å®ç°æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¡æ•°æ®ä¼šåœ¨æ¯ä¸ªçª—å£ä¸­å­˜ä¸€ä»½&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¼ æµ© &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ12:49å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; Hi,all!&#013;&#010;&gt; ç”±äºç¬¬ä¸€æ¬¡å’¨è¯¢ï¼Œæˆ‘ä¸ç¡®å®šä¸Šä¸€ä»½é‚®ä»¶å¤§å®¶æ˜¯å¦æ”¶åˆ°ã€‚&#013;&#010;&gt; æƒ³å’¨è¯¢ä¸‹å¤§å®¶ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ datastream api çš„è¯ï¼Œæ»‘åŠ¨çª—å£å¯¹äºæ¯æ¡æ•°æ®éƒ½ä¼šåœ¨&#010;state ä¸­å­˜ size / slide&#013;&#010;&gt; ä»½ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; å¼ æµ©&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; 13669299054@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "7",
        "reply": "<4db08dca.8edf.173227496d7.Coremail.13669299054@163.com>"
    },
    {
        "id": "<15ed1e7f.61a6.17348b48c38.Coremail.zhanghao_waxm@163.com>",
        "from": "&quot;Jimmy Zhang&quot; &lt;zhanghao_w...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 13 Jul 2020 15:04:18 GMT",
        "subject": "å›å¤ï¼šæ»‘åŠ¨çª—å£æ•°æ®å­˜å‚¨å¤šä»½é—®é¢˜",
        "content": "Hiï¼&#010;å¥½çš„ï¼Œéå¸¸æ„Ÿè°¢ï¼&#010;å¾ˆæœŸå¾…ä½ æ¥ä¸‹æ¥çš„å›å¤ã€‚&#010;&#010;&#010;|&#010;Best,&#010;Jimmy&#010;|&#010;&#010;Signature is customized by Netease Mail Master&#010;&#010;åœ¨2020å¹´07æœˆ13æ—¥ 19:58ï¼ŒCongxian Qiu å†™é“ï¼š&#010;Hi&#010;&#010;ä» HeapListState#add è¿™é‡Œçœ‹æ˜¯çš„ï¼Œæˆ‘è·Ÿäº†ä¸€ä¸ª WindowOperator åˆ°æœ€ç»ˆ HeapListState&#010;çš„é€»è¾‘ï¼Œè¿™é‡Œç¡®å®æ˜¯åªæœ‰ä¸€ä»½æ•°æ®ï¼Œæ²¡æœ‰æ‹·è´ã€‚è¿™ä¸ªä¸œè¥¿çš„å®ç°å¯èƒ½æ˜¯å› ä¸ºæ€§èƒ½å¥½ï¼Œæˆ‘å°è¯•ç¡®è®¤ä¸‹è¿™ä¸ªåŸå› ï¼Œå¤šè°¢ä½ çš„æé—®ã€‚&#010;&#010;Best,&#010;Congxian&#010;&#010;&#010;Jimmy Zhang &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ12æ—¥å‘¨æ—¥ ä¸Šåˆ8:13å†™é“ï¼š&#010;&#010;&gt; Hi,allï¼&#010;&gt;&#010;&gt; ä»WindowOperator.javaçš„processElementæ–¹æ³•è·Ÿè¿›å»ï¼Œä½¿ç”¨windowState.add(element.getValue());æ·»åŠ æ•°æ®ï¼Œè¿™é‡Œé¢æ‰¾åˆ°addæ–¹æ³•çš„HeapListStateç±»çš„å®ç°ï¼Œ&#010;&gt;&#010;&gt;&#010;&gt; @Override&#010;&gt;  public void add(V value) {&#010;&gt;   Preconditions.checkNotNull(value, \"You cannot add null to a ListState.\");&#010;&gt;   final N namespace = currentNamespace;&#010;&gt;   final StateTable&lt;K, N, List&lt;V&gt;&gt; map = stateTable;&#010;&gt;   List&lt;V&gt; list = map.get(namespace);&#010;&gt;   if (list == null) {&#010;&gt;    list = new ArrayList&lt;&gt;();&#010;&gt;    map.put(namespace, list);&#010;&gt;   }&#010;&gt;   list.add(value);&#010;&gt;  }&#010;&gt; å°±æ˜¯è¿™ä¸ªæ–¹æ³•ï¼Œè®©æˆ‘äº§ç”Ÿäº† â€œæ­¤valueåªçœŸå®å­˜åœ¨ä¸€ä»½â€çš„å›°æƒ‘ï¼&#010;&gt; |&#010;&gt; Best,&#010;&gt; Jimmy&#010;&gt; |&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;&gt; åœ¨2020å¹´7æœˆ11æ—¥ 21:02ï¼ŒCongxian Qiu&lt;qcx978132955@gmail.com&gt; å†™é“ï¼š&#010;&gt; Hi&#010;&gt; ä½ è¯´çš„ HeapListState çš„å›°æƒ‘å…·ä½“æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&#010;&gt;&#010;&gt; Best,&#010;&gt; Congxian&#010;&gt;&#010;&gt;&#010;&gt; Jimmy Zhang &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ11æ—¥å‘¨å…­ ä¸‹åˆ4:50å†™é“ï¼š&#010;&gt;&#010;&gt; å—¯å—¯ï¼Œä¹‹å‰æ²¡æœ‰é€‰æ‹©å›å¤å…¨éƒ¨ï¼Œä¸å¥½æ„æ€ã€‚&#010;&gt;&#010;&gt;&#010;&gt; æˆ‘çœ‹æºç å…³äºRocksDBè¿™å—ç¡®å®æ˜¯éœ€è¦åºåˆ—åŒ–çš„ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯å¤šä»½ä¿å­˜ï¼Œå¦‚æœçŠ¶æ€åç«¯æ˜¯heapå‘¢ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„å—ï¼Ÿä»æˆ‘æµ‹è¯•å†…å­˜æ¥çœ‹ï¼Œæ„Ÿè§‰ä¹Ÿæ˜¯å¤šä»½ï¼Œåªæ˜¯heapliststateé‚£ä¸ªç±»ç»™äº†æˆ‘ä¸€äº›å›°æƒ‘ğŸ˜¦&#010;&gt;&#010;&gt;&#010;&gt; åœ¨2020å¹´07æœˆ11æ—¥ 16:23ï¼ŒCongxian Qiu å†™é“ï¼š&#010;&gt; Hi&#010;&gt;&#010;&gt;&#010;&gt; æ¯ä¸ªçª—å£éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„ stateï¼Œè‡³äºä½ è®¤ä¸ºçš„ä¸åŒ state ä»…ä¿æŒå¼•ç”¨æ˜¯ä¸å¯¹çš„ã€‚è¿™ä¸ªä½ å¯ä»¥ä½¿ç”¨&#010;RocksDBStateBackend&#010;&gt; æ¥è€ƒè™‘ï¼ŒRocksDBStateBackend ä¸­ä¼šæŠŠ state åºåˆ—åŒ–æˆ bytesï¼Œç„¶åå†™åˆ° RocksDB&#010;ä¸­ï¼Œå°±æ˜¯æ¯ä¸ª State&#010;&gt; ä¸­éƒ½ä¼šæœ‰ä¸€ä»½ã€‚&#010;&gt;&#010;&gt;&#010;&gt; PSï¼šå›å¤é‚®ä»¶çš„æ—¶å€™å¯ä»¥é€‰æ‹©ã€Œå…¨éƒ¨å›å¤ã€è¿™æ ·å°±èƒ½å¤ŸåŠ ä¸Š \"user-zh@flink.apache.org\"ï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬çš„é‚®ä»¶æ‰€æœ‰äººéƒ½èƒ½çœ‹åˆ°äº†&#010;&gt;&#010;&gt;&#010;&gt; Best,&#010;&gt; Congxian&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; å¼ æµ© &lt;zhanghao_waxm@163.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸Šåˆ10:34å†™é“ï¼š&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; Hi,æˆ‘é€šè¿‡çœ‹æºç å‘ç°æ¯æ¡æ•°æ®åˆ°è¾¾æ—¶ï¼Œæ˜¯åˆ†é…ç»™äº†æ‰€æœ‰çš„çª—å£ï¼Œä½†æ˜¯æˆ‘ç†è§£è¿™å•æ¡æ•°æ®æ˜¯ä¸æ˜¯åªæ˜¯ä¼ é€’ç»™äº†æ¯ä¸ªçª—å£ï¼Œå…¶å®åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä»½ï¼Œçª—å£çŠ¶æ€ä¿æŒå¯¹å®ƒçš„å¼•ç”¨ï¼Œè§¦å‘ä¸€æ¬¡çª—å£å°±åˆ æ‰å¯¹è¿™äº›æ•°æ®çš„å¼•ç”¨ï¼Ÿ&#010;&gt; å¾ˆé«˜å…´ä¸æ‚¨æ¢è®¨ï¼&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; | |&#010;&gt; å¼ æµ©&#010;&gt; |&#010;&gt; |&#010;&gt; é‚®ç®±ï¼šzhanghao_waxm@163.com&#010;&gt; |&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt;&#010;&gt; åœ¨2020å¹´07æœˆ06æ—¥ 20:56ï¼ŒCongxian Qiu å†™é“ï¼š&#010;&gt; Hi&#010;&gt;&#010;&gt;&#010;&gt; æˆ‘ç†è§£ï¼Œå¦‚æœåªå­˜å–ä¸€ä»½çš„è¯ï¼Œstate çš„ç®¡ç†ä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼ˆæ‰€æœ‰éœ€è¦è¿™ä»½æ•°æ®çš„çª—å£éƒ½éœ€è¦å»æŸä¸ªåœ°æ–¹å–ï¼Œ&#010;state&#010;&gt; ä»€ä¹ˆæ—¶å€™æ¸…ç†é€»è¾‘ä¹Ÿä¼šå˜å¾—éº»çƒ¦ä¸€äº›ï¼‰&#010;&gt;&#010;&gt;&#010;&gt; Best,&#010;&gt; Congxian&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; å¼ æµ© &lt;zhanghao_waxm@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ1:57å†™é“ï¼š&#010;&gt;&#010;&gt; ä½ å¥½ï¼Œæˆ‘çš„æ€è€ƒæ˜¯ä¾¿äºåœ¨çŠ¶æ€ä¿¡æ¯ä¸­æ¸…é™¤æˆ–è€…æå–æ¯ä¸€ä¸ªçª—å£çš„æ•°æ®ä¿¡æ¯ã€‚&#010;&gt; ä¸çŸ¥é“ï¼Œæˆ‘è¿™æ ·ç†è§£çš„å¯¹å—ï¼Ÿ&#010;&gt; å¦å¤–ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½åªå­˜å‚¨ä¸€ä»½æ•°æ®å‘¢ï¼Ÿ&#010;&gt; éå¸¸æ„Ÿè°¢ä¸æ‚¨äº¤æµï¼&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; | |&#010;&gt; å¼ æµ©&#010;&gt; |&#010;&gt; |&#010;&gt; é‚®ç®±ï¼šzhanghao_waxm@163.com&#010;&gt; |&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt;&#010;&gt; åœ¨2020å¹´07æœˆ06æ—¥ 13:46ï¼ŒCongxian Qiu å†™é“ï¼š&#010;&gt; Hi&#010;&gt; ç°åœ¨çš„å®ç°æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¡æ•°æ®ä¼šåœ¨æ¯ä¸ªçª—å£ä¸­å­˜ä¸€ä»½&#010;&gt;&#010;&gt; Best,&#010;&gt; Congxian&#010;&gt;&#010;&gt;&#010;&gt; å¼ æµ© &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ12:49å†™é“ï¼š&#010;&gt;&#010;&gt; Hi,all!&#010;&gt; ç”±äºç¬¬ä¸€æ¬¡å’¨è¯¢ï¼Œæˆ‘ä¸ç¡®å®šä¸Šä¸€ä»½é‚®ä»¶å¤§å®¶æ˜¯å¦æ”¶åˆ°ã€‚&#010;&gt; æƒ³å’¨è¯¢ä¸‹å¤§å®¶ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ datastream api çš„è¯ï¼Œæ»‘åŠ¨çª—å£å¯¹äºæ¯æ¡æ•°æ®éƒ½ä¼šåœ¨&#010;state ä¸­å­˜ size / slide&#010;&gt; ä»½ï¼Ÿ&#010;&gt;&#010;&gt;&#010;&gt; | |&#010;&gt; å¼ æµ©&#010;&gt; |&#010;&gt; |&#010;&gt; 13669299054@163.com&#010;&gt; |&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;&gt;&#010;&gt;&#010;",
        "depth": "8",
        "reply": "<4db08dca.8edf.173227496d7.Coremail.13669299054@163.com>"
    },
    {
        "id": "<CAHtLNa-ws938nWUsmB=yrS3tU_sFukXyARcGJOMGnPrGib4XvQ@mail.gmail.com>",
        "from": "Tianwang Li &lt;litianw...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 15 Jul 2020 01:53:56 GMT",
        "subject": "Re: æ»‘åŠ¨çª—å£æ•°æ®å­˜å‚¨å¤šä»½é—®é¢˜",
        "content": "| ä¸ºä»€ä¹ˆä½¿ç”¨ datastream api çš„è¯ï¼Œæ»‘åŠ¨çª—å£å¯¹äºæ¯æ¡æ•°æ®éƒ½ä¼šåœ¨ state ä¸­å­˜&#010;size / slide&#013;&#010;å¯ä»¥ä½¿ç”¨blink çš„SQLï¼Œæ˜¯é€šè¿‡pane å®ç°çš„ï¼Œè¾“å‡ºçš„æ—¶å€™æ‰åˆå¹¶æ¯ä¸ªpaneã€‚å‚è€ƒ`PanedWindowAssigner`&#013;&#010;&#013;&#010;&#013;&#010;å¼ æµ© &lt;13669299054@163.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ12:49å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi,all!&#013;&#010;&gt; ç”±äºç¬¬ä¸€æ¬¡å’¨è¯¢ï¼Œæˆ‘ä¸ç¡®å®šä¸Šä¸€ä»½é‚®ä»¶å¤§å®¶æ˜¯å¦æ”¶åˆ°ã€‚&#013;&#010;&gt; æƒ³å’¨è¯¢ä¸‹å¤§å®¶ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ datastream api çš„è¯ï¼Œæ»‘åŠ¨çª—å£å¯¹äºæ¯æ¡æ•°æ®éƒ½ä¼šåœ¨&#010;state ä¸­å­˜ size / slide&#013;&#010;&gt; ä»½ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; å¼ æµ©&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; 13669299054@163.com&#013;&#010;&gt; |&#013;&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;-- &#013;&#010;**************************************&#013;&#010; tivanli&#013;&#010;**************************************&#013;&#010;",
        "depth": "1",
        "reply": "<4db08dca.8edf.173227496d7.Coremail.13669299054@163.com>"
    },
    {
        "id": "<tencent_114A2EB197668B73835E1E611B5042E11708@qq.com>",
        "from": "&quot;Zhou Zach&quot; &lt;is...@foxmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 05:11:45 GMT",
        "subject": "flink cep result DataStream no data print",
        "content": "code:&#013;&#010;&#013;&#010;&#013;&#010;val inpurtDS = streamTableEnv.toAppendStream[BehaviorInfo](behaviorTable)inpurtDS.print()val&#010;pattern = Pattern.begin[BehaviorInfo](\"start\")&#013;&#010;  .where(_.clickCount &amp;gt; 7)val patternStream = CEP.pattern(inpurtDS, pattern)&#013;&#010;val result: DataStream[BehaviorInfo] = patternStream.process(&#013;&#010;  new PatternProcessFunction[BehaviorInfo, BehaviorInfo]() {&#013;&#010;    override def processMatch(&#013;&#010;                               matchPattern: util.Map[String, util.List[BehaviorInfo",
        "depth": "0",
        "reply": "<tencent_114A2EB197668B73835E1E611B5042E11708@qq.com>"
    },
    {
        "id": "<tencent_2E96BC0180B93ED14E88FE516BAC6A271107@qq.com>",
        "from": "&quot;Z-Z&quot; &lt;zz9876543...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 08:59:35 GMT",
        "subject": "FlinkçŠ¶æ€è°ƒè¯•",
        "content": "Hiï¼Œ å„ä½å¤§ä½¬ä»¬ï¼Œè¯·æ•™ä¸€ä¸‹ï¼š Flinkçš„checkpointæ€ä¹ˆè°ƒè¯•å•Šï¼Œæˆ‘æƒ³çœ‹ç¨‹åºç›®å‰çš„çŠ¶æ€ï¼Œæ‹¿åˆ°äº†checkpointçš„æ–‡ä»¶ï¼Œæ‰“å¼€åæœ‰ä¸€äº›ä¸œè¥¿æ˜¯ä¹±ç ï¼Œæ²¡æœ‰ç»“æ„æ€§ï¼Œæœ‰æ–¹æ³•å—ï¼Ÿ",
        "depth": "0",
        "reply": "<tencent_2E96BC0180B93ED14E88FE516BAC6A271107@qq.com>"
    },
    {
        "id": "<CAA8tFvu0=LwgVqRLkxKtUKvp2FWVfeMopyYgoiHubCQjQbuCCg@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 11:21:52 GMT",
        "subject": "Re: FlinkçŠ¶æ€è°ƒè¯•",
        "content": "Hi&#013;&#010;æƒ³ debug checkpoint æ–‡ä»¶çš„è¯ï¼Œå¯ä»¥å‚è€ƒä¸‹è¿™ä¸ª UT[1]&#013;&#010;&#013;&#010;[1]&#013;&#010;https://github.com/apache/flink/blob/master/flink-runtime/src/test/java/org/apache/flink/runtime/checkpoint/CheckpointMetadataLoadingTest.java&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;Z-Z &lt;zz9876543210@qq.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ4:59å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hiï¼Œ å„ä½å¤§ä½¬ä»¬ï¼Œè¯·æ•™ä¸€ä¸‹ï¼š&#013;&#010;&gt; Flinkçš„checkpointæ€ä¹ˆè°ƒè¯•å•Šï¼Œæˆ‘æƒ³çœ‹ç¨‹åºç›®å‰çš„çŠ¶æ€ï¼Œæ‹¿åˆ°äº†checkpointçš„æ–‡ä»¶ï¼Œæ‰“å¼€åæœ‰ä¸€äº›ä¸œè¥¿æ˜¯ä¹±ç ï¼Œæ²¡æœ‰ç»“æ„æ€§ï¼Œæœ‰æ–¹æ³•å—ï¼Ÿ&#013;&#010;",
        "depth": "1",
        "reply": "<tencent_2E96BC0180B93ED14E88FE516BAC6A271107@qq.com>"
    },
    {
        "id": "<CAOMLN=aMcg5EPDF7DH5gV_WiKNHgrbcvpwW6N6GVQKHarQdo8Q@mail.gmail.com>",
        "from": "shizk233 &lt;wangwangdaxian...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 11:33:49 GMT",
        "subject": "Re: FlinkçŠ¶æ€è°ƒè¯•",
        "content": "Hi Z-Z,&#013;&#010;&#013;&#010;å¦‚æœä½ æƒ³æŸ¥çœ‹çš„æ˜¯ç¨‹åºä¸­çš„stateå†…å®¹ï¼Œå»ºè®®è§¦å‘ä¸€æ¬¡savepointå¹¶æ­é…state&#010;processor apiæ¥æŸ¥è¯¢ã€‚&#013;&#010;&#013;&#010;å‚è€ƒ&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/libs/state_processor_api.html&#013;&#010;&#013;&#010;Best,&#013;&#010;shizk233&#013;&#010;&#013;&#010;Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ7:22å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi&#013;&#010;&gt; æƒ³ debug checkpoint æ–‡ä»¶çš„è¯ï¼Œå¯ä»¥å‚è€ƒä¸‹è¿™ä¸ª UT[1]&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt;&#013;&#010;&gt; https://github.com/apache/flink/blob/master/flink-runtime/src/test/java/org/apache/flink/runtime/checkpoint/CheckpointMetadataLoadingTest.java&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Z-Z &lt;zz9876543210@qq.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ4:59å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hiï¼Œ å„ä½å¤§ä½¬ä»¬ï¼Œè¯·æ•™ä¸€ä¸‹ï¼š&#013;&#010;&gt; &gt; Flinkçš„checkpointæ€ä¹ˆè°ƒè¯•å•Šï¼Œæˆ‘æƒ³çœ‹ç¨‹åºç›®å‰çš„çŠ¶æ€ï¼Œæ‹¿åˆ°äº†checkpointçš„æ–‡ä»¶ï¼Œæ‰“å¼€åæœ‰ä¸€äº›ä¸œè¥¿æ˜¯ä¹±ç ï¼Œæ²¡æœ‰ç»“æ„æ€§ï¼Œæœ‰æ–¹æ³•å—ï¼Ÿ&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<tencent_2E96BC0180B93ED14E88FE516BAC6A271107@qq.com>"
    },
    {
        "id": "<CAOMLN=a8N85f1FbvhpGArFFj7ep8Zp1Qfv-3GZ4i47CRFY24ag@mail.gmail.com>",
        "from": "shizk233 &lt;wangwangdaxian...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 11:36:13 GMT",
        "subject": "Re: FlinkçŠ¶æ€è°ƒè¯•",
        "content": "æŠ±æ­‰ï¼Œæˆ‘ä¼¼ä¹å›é”™é‚®ä»¶äº†ï¼Œåº”è¯¥ä½¿ç”¨å›å¤å…¨éƒ¨ï¼Ÿ&#013;&#010;&#013;&#010;Congxian Qiu &lt;qcx978132955@gmail.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ7:22å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi&#013;&#010;&gt; æƒ³ debug checkpoint æ–‡ä»¶çš„è¯ï¼Œå¯ä»¥å‚è€ƒä¸‹è¿™ä¸ª UT[1]&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt;&#013;&#010;&gt; https://github.com/apache/flink/blob/master/flink-runtime/src/test/java/org/apache/flink/runtime/checkpoint/CheckpointMetadataLoadingTest.java&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Z-Z &lt;zz9876543210@qq.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ4:59å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hiï¼Œ å„ä½å¤§ä½¬ä»¬ï¼Œè¯·æ•™ä¸€ä¸‹ï¼š&#013;&#010;&gt; &gt; Flinkçš„checkpointæ€ä¹ˆè°ƒè¯•å•Šï¼Œæˆ‘æƒ³çœ‹ç¨‹åºç›®å‰çš„çŠ¶æ€ï¼Œæ‹¿åˆ°äº†checkpointçš„æ–‡ä»¶ï¼Œæ‰“å¼€åæœ‰ä¸€äº›ä¸œè¥¿æ˜¯ä¹±ç ï¼Œæ²¡æœ‰ç»“æ„æ€§ï¼Œæœ‰æ–¹æ³•å—ï¼Ÿ&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<tencent_2E96BC0180B93ED14E88FE516BAC6A271107@qq.com>"
    },
    {
        "id": "<SG2PR02MB3226CB1A5F94EBD8149A4F5AF8690@SG2PR02MB3226.apcprd02.prod.outlook.com>",
        "from": "ç‹ outlook &lt;deadwi...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 09:06:47 GMT",
        "subject": "Flink SQL å…³é”®å­— userï¼Ÿ",
        "content": "æˆ‘å‘ç°æˆ‘åˆ›å»ºè¡¨ å­—æ®µåä¸º userä¼šæŠ¥é”™ã€‚ useræ˜¯å…³é”®å­—å—ï¼Œè¿˜æ˜¯å…¶ä»–åŸå› &#013;&#010;&#013;&#010;&#013;&#010;\"CREATE TABLE ods_foo (\\n\" +&#013;&#010;\"    id INT,\\n\" +&#013;&#010;\"    user ARRAY&lt;ROW&lt;name STRING&gt;&gt;\\n\" +&#013;&#010;\") WITH (&#013;&#010;&#013;&#010;Exception in thread \"main\" org.apache.flink.table.api.SqlParserException: SQL parse failed.&#010;Encountered \"user\" at line 3, column 5.&#013;&#010;Was expecting one of:&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;",
        "depth": "0",
        "reply": "<SG2PR02MB3226CB1A5F94EBD8149A4F5AF8690@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<CABKuJ_QcdhfZy7Tw0qcD18e-_Guf=rtbU3y8vo4uHufoG6ZEZQ@mail.gmail.com>",
        "from": "Benchao Li &lt;libenc...@apache.org&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 09:14:30 GMT",
        "subject": "Re: Flink SQL å…³é”®å­— userï¼Ÿ",
        "content": "æ˜¯çš„ï¼Œuseræ˜¯å…³é”®å­—ï¼Œå…³é”®å­—åˆ—è¡¨å¯ä»¥å‚è€ƒ[1].&#013;&#010;&#013;&#010;å¦‚æœé‡åˆ°å…³é”®å­—ï¼Œå¯ä»¥ä½¿ç”¨ ` æ¥å¤„ç†ï¼Œæ¯”å¦‚ï¼š&#013;&#010;CREATE TABLE `user` (...) WITH (...);&#013;&#010;&#013;&#010;[1]&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-master/dev/table/sql/#reserved-keywords&#013;&#010;&#013;&#010;ç‹ outlook &lt;deadwind4@outlook.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ5:07å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; æˆ‘å‘ç°æˆ‘åˆ›å»ºè¡¨ å­—æ®µåä¸º userä¼šæŠ¥é”™ã€‚ useræ˜¯å…³é”®å­—å—ï¼Œè¿˜æ˜¯å…¶ä»–åŸå› &#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; \"CREATE TABLE ods_foo (\\n\" +&#013;&#010;&gt; \"    id INT,\\n\" +&#013;&#010;&gt; \"    user ARRAY&lt;ROW&lt;name STRING&gt;&gt;\\n\" +&#013;&#010;&gt; \") WITH (&#013;&#010;&gt;&#013;&#010;&gt; Exception in thread \"main\" org.apache.flink.table.api.SqlParserException:&#013;&#010;&gt; SQL parse failed. Encountered \"user\" at line 3, column 5.&#013;&#010;&gt; Was expecting one of:&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&#013;&#010;-- &#013;&#010;&#013;&#010;Best,&#013;&#010;Benchao Li&#013;&#010;",
        "depth": "1",
        "reply": "<SG2PR02MB3226CB1A5F94EBD8149A4F5AF8690@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<9F3C61B9-2511-471C-BDE0-2E8DEAF28205@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 09:17:03 GMT",
        "subject": "Re: Flink SQL å…³é”®å­— userï¼Ÿ",
        "content": "Hiï¼Œ&#010;æ˜¯çš„ï¼Œç”¨`user`è½¬ä¹‰å¤„ç†ä¸‹ï¼Œ&#010;å®Œæ•´çš„ä¿ç•™å…³é”®å­—å‚è€ƒ[1]&#010;&#010;Best,&#010;Leonard&#010;[1] https://ci.apache.org/projects/flink/flink-docs-master/dev/table/sql/ &lt;https://ci.apache.org/projects/flink/flink-docs-master/dev/table/sql/&gt;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ6æ—¥ï¼Œ17:06ï¼Œç‹ outlook &lt;deadwind4@outlook.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; \"CREATE TABLE ods_foo (\\n\" +&#010;&gt; \"    id INT,\\n\" +&#010;&gt; \"    user ARRAY&lt;ROW&lt;name STRING&gt;&gt;\\n\" +&#010;&gt; \") WITH (&#010;&#010;&#010;",
        "depth": "1",
        "reply": "<SG2PR02MB3226CB1A5F94EBD8149A4F5AF8690@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<7bec36e8.a32f.173237c3931.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 09:36:50 GMT",
        "subject": "jemalloc dump å†…å­˜",
        "content": "hiï¼Œç¤¾åŒºçš„å„ä½ï¼Œæ˜¯å¦æœ‰é…ç½®è¿‡jemallocï¼Ÿ&#010;&#010;ç›®å‰åœ¨dockerå®¹å™¨ä¸­æ”¾å…¥ç¼–è¯‘è¿‡åçš„jemallocï¼Œåœ¨flinkçš„é…ç½®æ–‡ä»¶åŠ å…¥å¦‚ä¸‹é…ç½®&#010;&#010;containerized.taskmanager.env.LD_PRELOAD: /opt/jemalloc/lib/libjemalloc.so&#010;   containerized.taskmanager.env.MALLOC_CONF: prof:true,lg_prof_interval:25,lg_prof_sample:17,prof_prefix:/opt/state/jeprof.out&#010;&#010;ç»“æœç”Ÿæˆä¸åˆ°å¯¹åº”çš„heapæ–‡ä»¶ï¼Œ /opt/stateæŒ‚è½½åœ¨å®¿ä¸»æœºçš„ç£ç›˜ä¸Šï¼Œæƒé™ç»™äº†ã€‚&#010;&#010;è¯·é—®è¯¥å¦‚ä½•æ“ä½œæ‰å¯ä»¥ç”Ÿäº§å†…å­˜dumpå‘¢ï¼Ÿ&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶",
        "depth": "0",
        "reply": "<7bec36e8.a32f.173237c3931.Coremail.a511955993@163.com>"
    },
    {
        "id": "<65f2955d.2b0e.17323faea74.Coremail.milan183sansiro@126.com>",
        "from": "milan183sansiro &lt;milan183sans...@126.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 11:55:13 GMT",
        "subject": "Flinkä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œä¿®æ”¹çš„ä»£ç ä¸ç”Ÿæ•ˆ",
        "content": "å„ä½å¥½ï¼š&#010;        èƒŒæ™¯ï¼šFlinkç‰ˆæœ¬1.6.4ï¼Œæ•°æ®æºä¸ºKafkaçš„ä¸»é¢˜Aï¼ŒBï¼Œæ¶ˆè´¹è€…ç»„ç›¸åŒ&#010;        æ“ä½œæ­¥éª¤ï¼š1.ä½¿ç”¨SavePointå–æ¶ˆä»»åŠ¡ã€‚&#010;        2.ä¿®æ”¹ä»£ç å°†Bå»æ‰ï¼Œåªæ¶ˆè´¹Aä¸»é¢˜ã€‚&#010;        3.ä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œå‘ç°æ¶ˆè´¹è€…ç»„åœ¨Bä¸»é¢˜ä¸‹çš„åç§»é‡ä¹Ÿå›åˆ°äº†ä»»åŠ¡åœæ­¢æ—¶çš„åç§»é‡ï¼Œä¹‹ååç§»é‡é©¬ä¸Šå˜æˆäº†æœ€æ–°å¹¶ç»§ç»­æ¶ˆè´¹ã€‚&#010;        æƒ³çŸ¥é“ä¸ºä»€ä¹ˆä¿®æ”¹ä»£ç ä¸ç”Ÿæ•ˆã€‚&#010;&#010;",
        "depth": "0",
        "reply": "<65f2955d.2b0e.17323faea74.Coremail.milan183sansiro@126.com>"
    },
    {
        "id": "<tencent_377613F7DF05ED00751BA8BA71AF7E12A205@qq.com>",
        "from": "&quot;wujunxi&quot; &lt;462329...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 12:32:38 GMT",
        "subject": "å›å¤ï¼šFlinkä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œä¿®æ”¹çš„ä»£ç ä¸ç”Ÿæ•ˆ",
        "content": "ä½ å¥½ï¼Œç¡®è®¤ä»¥ä¸‹ä¸¤ä¸ªç‚¹&#013;&#010;1.æ˜¯å¦ç»™æ¯ä¸ªç®—å­è®¾ç½®äº†id&#013;&#010;2.è®¾ç½®savepointæ¢å¤çš„è·¯å¾„æ˜¯å¦æ­£ç¡®&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"milan183sansiro\"&lt;milan183sansiro@126.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ6æ—¥(æ˜ŸæœŸä¸€) æ™šä¸Š7:55&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;Flinkä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œä¿®æ”¹çš„ä»£ç ä¸ç”Ÿæ•ˆ&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;å„ä½å¥½ï¼š&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; èƒŒæ™¯ï¼šFlinkç‰ˆæœ¬1.6.4ï¼Œæ•°æ®æºä¸ºKafkaçš„ä¸»é¢˜Aï¼ŒBï¼Œæ¶ˆè´¹è€…ç»„ç›¸åŒ&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; æ“ä½œæ­¥éª¤ï¼š1.ä½¿ç”¨SavePointå–æ¶ˆä»»åŠ¡ã€‚&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 2.ä¿®æ”¹ä»£ç å°†Bå»æ‰ï¼Œåªæ¶ˆè´¹Aä¸»é¢˜ã€‚&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 3.ä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œå‘ç°æ¶ˆè´¹è€…ç»„åœ¨Bä¸»é¢˜ä¸‹çš„åç§»é‡ä¹Ÿå›åˆ°äº†ä»»åŠ¡åœæ­¢æ—¶çš„åç§»é‡ï¼Œä¹‹ååç§»é‡é©¬ä¸Šå˜æˆäº†æœ€æ–°å¹¶ç»§ç»­æ¶ˆè´¹ã€‚&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; æƒ³çŸ¥é“ä¸ºä»€ä¹ˆä¿®æ”¹ä»£ç ä¸ç”Ÿæ•ˆã€‚",
        "depth": "1",
        "reply": "<65f2955d.2b0e.17323faea74.Coremail.milan183sansiro@126.com>"
    },
    {
        "id": "<4e9fd0da.2bb3.1732432613f.Coremail.milan183sansiro@126.com>",
        "from": "milan183sansiro &lt;milan183sans...@126.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 12:55:48 GMT",
        "subject": "å›å¤ï¼šFlinkä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œä¿®æ”¹çš„ä»£ç ä¸ç”Ÿæ•ˆ",
        "content": "ä½ å¥½ï¼š&#010;    1.æ²¡æœ‰ç»™ç®—å­æ‰‹åŠ¨è®¾ç½®id&#010;    2.è®¾ç½®savepointæ¢å¤çš„è·¯å¾„æ˜¯æ­£ç¡®çš„&#010;&#010;&#010;åœ¨2020å¹´7æœˆ6æ—¥ 20:32ï¼Œwujunxi&lt;462329521@qq.com&gt; å†™é“ï¼š&#010;ä½ å¥½ï¼Œç¡®è®¤ä»¥ä¸‹ä¸¤ä¸ªç‚¹&#010;1.æ˜¯å¦ç»™æ¯ä¸ªç®—å­è®¾ç½®äº†id&#010;2.è®¾ç½®savepointæ¢å¤çš„è·¯å¾„æ˜¯å¦æ­£ç¡®&#010;&#010;&#010;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#010;å‘ä»¶äºº:&amp;nbsp;\"milan183sansiro\"&lt;milan183sansiro@126.com&amp;gt;;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ6æ—¥(æ˜ŸæœŸä¸€) æ™šä¸Š7:55&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#010;&#010;ä¸»é¢˜:&amp;nbsp;Flinkä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œä¿®æ”¹çš„ä»£ç ä¸ç”Ÿæ•ˆ&#010;&#010;&#010;&#010;å„ä½å¥½ï¼š&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; èƒŒæ™¯ï¼šFlinkç‰ˆæœ¬1.6.4ï¼Œæ•°æ®æºä¸ºKafkaçš„ä¸»é¢˜Aï¼ŒBï¼Œæ¶ˆè´¹è€…ç»„ç›¸åŒ&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; æ“ä½œæ­¥éª¤ï¼š1.ä½¿ç”¨SavePointå–æ¶ˆä»»åŠ¡ã€‚&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 2.ä¿®æ”¹ä»£ç å°†Bå»æ‰ï¼Œåªæ¶ˆè´¹Aä¸»é¢˜ã€‚&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 3.ä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œå‘ç°æ¶ˆè´¹è€…ç»„åœ¨Bä¸»é¢˜ä¸‹çš„åç§»é‡ä¹Ÿå›åˆ°äº†ä»»åŠ¡åœæ­¢æ—¶çš„åç§»é‡ï¼Œä¹‹ååç§»é‡é©¬ä¸Šå˜æˆäº†æœ€æ–°å¹¶ç»§ç»­æ¶ˆè´¹ã€‚&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; æƒ³çŸ¥é“ä¸ºä»€ä¹ˆä¿®æ”¹ä»£ç ä¸ç”Ÿæ•ˆã€‚",
        "depth": "2",
        "reply": "<65f2955d.2b0e.17323faea74.Coremail.milan183sansiro@126.com>"
    },
    {
        "id": "<625E5ECF-672C-4BA1-8A1B-68E563BAF516@gmail.com>",
        "from": "Paul Lam &lt;paullin3...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 02:28:49 GMT",
        "subject": "Re: Flinkä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œä¿®æ”¹çš„ä»£ç ä¸ç”Ÿæ•ˆ",
        "content": "ä¼°è®¡ä½ æ˜¯ç”¨åŒä¸€ä¸ª Kafka Source æ¶ˆè´¹ A B ä¸¤ä¸ª Topic? å¦‚æœæ˜¯ï¼Œçœ‹èµ·æ¥åƒæ˜¯&#010;Kafka Connector æ—©æœŸçš„ä¸€ä¸ªé—®é¢˜ã€‚&#013;&#010;&#013;&#010;ä½œä¸šåœæ­¢çš„æ—¶å€™ï¼ŒTopic B çš„ partition offset è¢«å­˜å‚¨åˆ° Savepoint ä¸­ï¼Œç„¶ååœ¨æ¢å¤çš„æ—¶å€™ï¼Œå°½ç®¡ä»£ç ä¸­&#010;Topic B å·²ç»è¢«ç§»é™¤ï¼Œä½†å®ƒçš„ partition offset è¿˜æ˜¯è¢«æ¢å¤äº†ã€‚&#013;&#010;&#013;&#010;è¿™ä¸ªé—®é¢˜åœ¨åæ¥çš„ç‰ˆæœ¬ï¼Œä¼°è®¡æ˜¯ 1.8 æˆ– 1.9ï¼Œè¢«ä¿®å¤äº†ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Paul Lam&#013;&#010;&#013;&#010;&gt; 2020å¹´7æœˆ6æ—¥ 20:55ï¼Œmilan183sansiro &lt;milan183sansiro@126.com&gt; å†™é“ï¼š&#013;&#010;&gt; &#013;&#010;&gt; ä½ å¥½ï¼š&#013;&#010;&gt;    1.æ²¡æœ‰ç»™ç®—å­æ‰‹åŠ¨è®¾ç½®id&#013;&#010;&gt;    2.è®¾ç½®savepointæ¢å¤çš„è·¯å¾„æ˜¯æ­£ç¡®çš„&#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; åœ¨2020å¹´7æœˆ6æ—¥ 20:32ï¼Œwujunxi&lt;462329521@qq.com&gt; å†™é“ï¼š&#013;&#010;&gt; ä½ å¥½ï¼Œç¡®è®¤ä»¥ä¸‹ä¸¤ä¸ªç‚¹&#013;&#010;&gt; 1.æ˜¯å¦ç»™æ¯ä¸ªç®—å­è®¾ç½®äº†id&#013;&#010;&gt; 2.è®¾ç½®savepointæ¢å¤çš„è·¯å¾„æ˜¯å¦æ­£ç¡®&#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; ------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;&gt; å‘ä»¶äºº:&amp;nbsp;\"milan183sansiro\"&lt;milan183sansiro@126.com&amp;gt;;&#013;&#010;&gt; å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ6æ—¥(æ˜ŸæœŸä¸€) æ™šä¸Š7:55&#013;&#010;&gt; æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&gt; &#013;&#010;&gt; ä¸»é¢˜:&amp;nbsp;Flinkä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œä¿®æ”¹çš„ä»£ç ä¸ç”Ÿæ•ˆ&#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; å„ä½å¥½ï¼š&#013;&#010;&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; èƒŒæ™¯ï¼šFlinkç‰ˆæœ¬1.6.4ï¼Œæ•°æ®æºä¸ºKafkaçš„ä¸»é¢˜Aï¼ŒBï¼Œæ¶ˆè´¹è€…ç»„ç›¸åŒ&#013;&#010;&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; æ“ä½œæ­¥éª¤ï¼š1.ä½¿ç”¨SavePointå–æ¶ˆä»»åŠ¡ã€‚&#013;&#010;&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 2.ä¿®æ”¹ä»£ç å°†Bå»æ‰ï¼Œåªæ¶ˆè´¹Aä¸»é¢˜ã€‚&#013;&#010;&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 3.ä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œå‘ç°æ¶ˆè´¹è€…ç»„åœ¨Bä¸»é¢˜ä¸‹çš„åç§»é‡ä¹Ÿå›åˆ°äº†ä»»åŠ¡åœæ­¢æ—¶çš„åç§»é‡ï¼Œä¹‹ååç§»é‡é©¬ä¸Šå˜æˆäº†æœ€æ–°å¹¶ç»§ç»­æ¶ˆè´¹ã€‚&#013;&#010;&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; æƒ³çŸ¥é“ä¸ºä»€ä¹ˆä¿®æ”¹ä»£ç ä¸ç”Ÿæ•ˆã€‚&#013;&#010;&#013;&#010;",
        "depth": "3",
        "reply": "<65f2955d.2b0e.17323faea74.Coremail.milan183sansiro@126.com>"
    },
    {
        "id": "<773a7ef9.151a.17328d85652.Coremail.milan183sansiro@126.com>",
        "from": "milan183sansiro &lt;milan183sans...@126.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 10:35:33 GMT",
        "subject": "å›å¤ï¼š Flinkä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œä¿®æ”¹çš„ä»£ç ä¸ç”Ÿæ•ˆ",
        "content": "å¥½çš„ï¼Œæ„Ÿè°¢ã€‚&#010;&#010;&#010;åœ¨2020å¹´7æœˆ7æ—¥ 10:28ï¼ŒPaul Lam&lt;paullin3280@gmail.com&gt; å†™é“ï¼š&#010;ä¼°è®¡ä½ æ˜¯ç”¨åŒä¸€ä¸ª Kafka Source æ¶ˆè´¹ A B ä¸¤ä¸ª Topic? å¦‚æœæ˜¯ï¼Œçœ‹èµ·æ¥åƒæ˜¯&#010;Kafka Connector æ—©æœŸçš„ä¸€ä¸ªé—®é¢˜ã€‚&#010;&#010;ä½œä¸šåœæ­¢çš„æ—¶å€™ï¼ŒTopic B çš„ partition offset è¢«å­˜å‚¨åˆ° Savepoint ä¸­ï¼Œç„¶ååœ¨æ¢å¤çš„æ—¶å€™ï¼Œå°½ç®¡ä»£ç ä¸­&#010;Topic B å·²ç»è¢«ç§»é™¤ï¼Œä½†å®ƒçš„ partition offset è¿˜æ˜¯è¢«æ¢å¤äº†ã€‚&#010;&#010;è¿™ä¸ªé—®é¢˜åœ¨åæ¥çš„ç‰ˆæœ¬ï¼Œä¼°è®¡æ˜¯ 1.8 æˆ– 1.9ï¼Œè¢«ä¿®å¤äº†ã€‚&#010;&#010;Best,&#010;Paul Lam&#010;&#010;2020å¹´7æœˆ6æ—¥ 20:55ï¼Œmilan183sansiro &lt;milan183sansiro@126.com&gt; å†™é“ï¼š&#010;&#010;ä½ å¥½ï¼š&#010;1.æ²¡æœ‰ç»™ç®—å­æ‰‹åŠ¨è®¾ç½®id&#010;2.è®¾ç½®savepointæ¢å¤çš„è·¯å¾„æ˜¯æ­£ç¡®çš„&#010;&#010;&#010;åœ¨2020å¹´7æœˆ6æ—¥ 20:32ï¼Œwujunxi&lt;462329521@qq.com&gt; å†™é“ï¼š&#010;ä½ å¥½ï¼Œç¡®è®¤ä»¥ä¸‹ä¸¤ä¸ªç‚¹&#010;1.æ˜¯å¦ç»™æ¯ä¸ªç®—å­è®¾ç½®äº†id&#010;2.è®¾ç½®savepointæ¢å¤çš„è·¯å¾„æ˜¯å¦æ­£ç¡®&#010;&#010;&#010;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#010;å‘ä»¶äºº:&amp;nbsp;\"milan183sansiro\"&lt;milan183sansiro@126.com&amp;gt;;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ6æ—¥(æ˜ŸæœŸä¸€) æ™šä¸Š7:55&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#010;&#010;ä¸»é¢˜:&amp;nbsp;Flinkä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œä¿®æ”¹çš„ä»£ç ä¸ç”Ÿæ•ˆ&#010;&#010;&#010;&#010;å„ä½å¥½ï¼š&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; èƒŒæ™¯ï¼šFlinkç‰ˆæœ¬1.6.4ï¼Œæ•°æ®æºä¸ºKafkaçš„ä¸»é¢˜Aï¼ŒBï¼Œæ¶ˆè´¹è€…ç»„ç›¸åŒ&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; æ“ä½œæ­¥éª¤ï¼š1.ä½¿ç”¨SavePointå–æ¶ˆä»»åŠ¡ã€‚&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 2.ä¿®æ”¹ä»£ç å°†Bå»æ‰ï¼Œåªæ¶ˆè´¹Aä¸»é¢˜ã€‚&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 3.ä»SavePointå¯åŠ¨ä»»åŠ¡ï¼Œå‘ç°æ¶ˆè´¹è€…ç»„åœ¨Bä¸»é¢˜ä¸‹çš„åç§»é‡ä¹Ÿå›åˆ°äº†ä»»åŠ¡åœæ­¢æ—¶çš„åç§»é‡ï¼Œä¹‹ååç§»é‡é©¬ä¸Šå˜æˆäº†æœ€æ–°å¹¶ç»§ç»­æ¶ˆè´¹ã€‚&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; æƒ³çŸ¥é“ä¸ºä»€ä¹ˆä¿®æ”¹ä»£ç ä¸ç”Ÿæ•ˆã€‚&#010;&#010;",
        "depth": "4",
        "reply": "<65f2955d.2b0e.17323faea74.Coremail.milan183sansiro@126.com>"
    },
    {
        "id": "<tencent_E6101F86411DD7EDAF2067AE75F79E73B408@qq.com>",
        "from": "&quot;claylin&quot; &lt;1012539...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 12:10:36 GMT",
        "subject": "å…³äºjdbc connectoræ‰©å±•é—®é¢˜",
        "content": "hi allæˆ‘è¿™é‡Œæœ‰ä¸ªéœ€æ±‚éœ€è¦ä»sqlé‡Œé¢å†™æ•°æ®åˆ°clickhouseé‡Œé¢ï¼Œä½†æ˜¯çœ‹æºç ï¼Œå‘ç°å¹¶ä¸å¥½æ‰©å±•ï¼Œhttps://github.com/apache/flink/blob/d04872d2c6b7570ea3ba02f8fc4fca02daa96118/flink-connectors/flink-connector-jdbc/src/main/java/org/apache/flink/connector/jdbc/dialect/JdbcDialects.java#L30,&#010;è¿™é‡Œæˆ‘çœ‹ç›´æ¥å†™æ­»ä»…æ”¯æŒDerbyDialectã€MySQLDialectã€PostgresDialectï¼Œè€Œä¸”è¿™ä¸ªç±»ä¸æ”¯æŒæ³¨å†Œjdbcæ–°é©±åŠ¨ï¼Œå¦‚æœæƒ³åœ¨SQLé‡Œé¢æ”¯æŒå…¶ä»–ç±»å‹çš„æ•°æ®åº“çš„è¯ï¼Œè¯¥æ€ä¹ˆå¼„ï¼Œæ±‚æ”¯æ‹›",
        "depth": "0",
        "reply": "<tencent_E6101F86411DD7EDAF2067AE75F79E73B408@qq.com>"
    },
    {
        "id": "<CAELO933wxUbnM+XuELA=FW8es-YnwrSE--fSW2thaa1gX5jyKg@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 03:14:15 GMT",
        "subject": "Re: å…³äºjdbc connectoræ‰©å±•é—®é¢˜",
        "content": "Hi,&#013;&#010;&#013;&#010;ç›®å‰ flink-connector-jdbc è¿˜ä¸æ”¯æŒæ³¨å†Œ&#013;&#010;dialectï¼Œç¤¾åŒºæœ‰è¿™æ–¹é¢çš„è®¡åˆ’ï¼Œä½†æ˜¯ç›®å‰è¿˜æ²¡æœ‰èµ„æºåšè¿™ä¸€å—ï¼Œè¿™æ˜¯ä¸ªæ¯”è¾ƒå¤æ‚çš„åŠŸèƒ½ï¼Œéœ€è¦å¯¹æ¥å£åšç»†è‡´çš„è®¾è®¡ã€‚&#013;&#010;ç›®å‰ä½ å¯ä»¥æ‹¿ flink-connector-jdbc æºç ï¼ŒåŠ ä¸€ä¸ªè‡ªå·±çš„ Dialect ç±»ï¼Œåœ¨ JdbcDialects&#010;ä¸­æ³¨å†Œè¿›ä½ çš„&#013;&#010;dialectï¼Œç„¶åç¼–è¯‘æ‰“åŒ…å°±å¯ä»¥äº†ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Jark&#013;&#010;&#013;&#010;On Mon, 6 Jul 2020 at 20:10, claylin &lt;1012539884@qq.com&gt; wrote:&#013;&#010;&#013;&#010;&gt; hi allæˆ‘è¿™é‡Œæœ‰ä¸ªéœ€æ±‚éœ€è¦ä»sqlé‡Œé¢å†™æ•°æ®åˆ°clickhouseé‡Œé¢ï¼Œä½†æ˜¯çœ‹æºç ï¼Œå‘ç°å¹¶ä¸å¥½æ‰©å±•ï¼Œ&#013;&#010;&gt; https://github.com/apache/flink/blob/d04872d2c6b7570ea3ba02f8fc4fca02daa96118/flink-connectors/flink-connector-jdbc/src/main/java/org/apache/flink/connector/jdbc/dialect/JdbcDialects.java#L30,&#013;&#010;&gt; è¿™é‡Œæˆ‘çœ‹ç›´æ¥å†™æ­»ä»…æ”¯æŒDerbyDialectã€MySQLDialectã€PostgresDialectï¼Œè€Œä¸”è¿™ä¸ªç±»ä¸æ”¯æŒæ³¨å†Œjdbcæ–°é©±åŠ¨ï¼Œå¦‚æœæƒ³åœ¨SQLé‡Œé¢æ”¯æŒå…¶ä»–ç±»å‹çš„æ•°æ®åº“çš„è¯ï¼Œè¯¥æ€ä¹ˆå¼„ï¼Œæ±‚æ”¯æ‹›&#013;&#010;",
        "depth": "1",
        "reply": "<tencent_E6101F86411DD7EDAF2067AE75F79E73B408@qq.com>"
    },
    {
        "id": "<SG2PR02MB32264C2A9DC0B95266FB628CF8690@SG2PR02MB3226.apcprd02.prod.outlook.com>",
        "from": "ç‹ outlook &lt;deadwi...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 13:28:55 GMT",
        "subject": "Flink SQLå¤æ‚JSONè§£æ",
        "content": "åƒå¦‚ä¸‹è¿™ç§JSONè¾“å…¥ï¼Œ&#013;&#010;&#013;&#010;{&#013;&#010;  \"id\": 1,&#013;&#010;  \"many_names\": [&#013;&#010;    {\"name\": \"foo\"},&#013;&#010;    {\"name\": \"bar\"}&#013;&#010;  ]&#013;&#010;}&#013;&#010;&#013;&#010;è¾“å‡ºè¡¨ä¸¤è¡Œ  id 1, name foo  |  id 1, name bar&#013;&#010;&#013;&#010;æœ€ä½³å®è·µæ˜¯ä»Kafkaè¯»åˆ°åï¼Œè°ƒç”¨TableFunctionè¿™ä¸ªUDTFè½¬å‡ºå¤šè¡Œï¼Ÿ&#013;&#010;è¿˜æ˜¯Flink SQLæœ‰æ›´æ–¹ä¾¿çš„æ“ä½œï¼Œä»Sourceè¯»å‡ºæ¥å°±èƒ½æŠŠæ•°ç»„å±•å¼€ã€‚&#013;&#010;&#013;&#010;&#013;&#010;æ¥è‡ª Outlook&lt;http://aka.ms/weboutlook&gt;&#013;&#010;",
        "depth": "0",
        "reply": "<SG2PR02MB32264C2A9DC0B95266FB628CF8690@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<CABKuJ_RNneCogfXVmhPbLUqr1nqLk3K_kx1kJZDhcZpM3YX8Mg@mail.gmail.com>",
        "from": "Benchao Li &lt;libenc...@apache.org&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 14:35:39 GMT",
        "subject": "Re: Flink SQLå¤æ‚JSONè§£æ",
        "content": "æˆ‘ç†è§£æœ€ä½³å®è·µæ˜¯ç¬¬ä¸€ç§ï¼Œå…ˆè¯»å‡ºæ¥arrayï¼Œå†ç”¨table functionå±•å¼€æˆå¤šè¡Œã€‚&#013;&#010;å®é™…ä¸ŠæŠŠarrayè½¬æˆå¤šè¡Œæ˜¯Flink å†…ç½®æ”¯æŒçš„ï¼Œå¯ä»¥å‚è€ƒ[1]çš„â€Expanding arrays&#010;into a relationâ€œéƒ¨åˆ†&#013;&#010;&#013;&#010;[1]&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-master/dev/table/sql/queries.html#joins&#013;&#010;&#013;&#010;ç‹ outlook &lt;deadwind4@outlook.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ9:29å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; åƒå¦‚ä¸‹è¿™ç§JSONè¾“å…¥ï¼Œ&#013;&#010;&gt;&#013;&#010;&gt; {&#013;&#010;&gt;   \"id\": 1,&#013;&#010;&gt;   \"many_names\": [&#013;&#010;&gt;     {\"name\": \"foo\"},&#013;&#010;&gt;     {\"name\": \"bar\"}&#013;&#010;&gt;   ]&#013;&#010;&gt; }&#013;&#010;&gt;&#013;&#010;&gt; è¾“å‡ºè¡¨ä¸¤è¡Œ  id 1, name foo  |  id 1, name bar&#013;&#010;&gt;&#013;&#010;&gt; æœ€ä½³å®è·µæ˜¯ä»Kafkaè¯»åˆ°åï¼Œè°ƒç”¨TableFunctionè¿™ä¸ªUDTFè½¬å‡ºå¤šè¡Œï¼Ÿ&#013;&#010;&gt; è¿˜æ˜¯Flink SQLæœ‰æ›´æ–¹ä¾¿çš„æ“ä½œï¼Œä»Sourceè¯»å‡ºæ¥å°±èƒ½æŠŠæ•°ç»„å±•å¼€ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æ¥è‡ª Outlook&lt;http://aka.ms/weboutlook&gt;&#013;&#010;&gt;&#013;&#010;&#013;&#010;&#013;&#010;-- &#013;&#010;&#013;&#010;Best,&#013;&#010;Benchao Li&#013;&#010;",
        "depth": "1",
        "reply": "<SG2PR02MB32264C2A9DC0B95266FB628CF8690@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<SG2PR02MB3226813EDB78AEAB1E1325E7F8670@SG2PR02MB3226.apcprd02.prod.outlook.com>",
        "from": "hua mulan &lt;deadwi...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 12:23:54 GMT",
        "subject": "å›å¤: Flink SQLå¤æ‚JSONè§£æ",
        "content": "æˆ‘è¯•äº†ä¸‹ Arrayé‡Œæ˜¯åŸºæœ¬å…ƒç´ å¯ä»¥CROSS JOIN UNNESTç›´æ¥è§£å¼€ã€‚å¦‚æœArrayé‡Œæ˜¯Rowã€POJOã€Tupleè¿™ç§å¤åˆç±»å‹æˆ‘å°±åªèƒ½UDTFäº†æ˜¯å§ã€‚&#013;&#010;&#013;&#010;æ¥è‡ª Outlook&lt;http://aka.ms/weboutlook&gt;&#013;&#010;&#013;&#010;________________________________&#013;&#010;å‘ä»¶äºº: Benchao Li &lt;libenchao@apache.org&gt;&#013;&#010;å‘é€æ—¶é—´: 2020å¹´7æœˆ6æ—¥ 22:35&#013;&#010;æ”¶ä»¶äºº: user-zh &lt;user-zh@flink.apache.org&gt;&#013;&#010;ä¸»é¢˜: Re: Flink SQLå¤æ‚JSONè§£æ&#013;&#010;&#013;&#010;æˆ‘ç†è§£æœ€ä½³å®è·µæ˜¯ç¬¬ä¸€ç§ï¼Œå…ˆè¯»å‡ºæ¥arrayï¼Œå†ç”¨table functionå±•å¼€æˆå¤šè¡Œã€‚&#013;&#010;å®é™…ä¸ŠæŠŠarrayè½¬æˆå¤šè¡Œæ˜¯Flink å†…ç½®æ”¯æŒçš„ï¼Œå¯ä»¥å‚è€ƒ[1]çš„â€Expanding arrays&#010;into a relationâ€œéƒ¨åˆ†&#013;&#010;&#013;&#010;[1]&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-master/dev/table/sql/queries.html#joins&#013;&#010;&#013;&#010;ç‹ outlook &lt;deadwind4@outlook.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ9:29å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; åƒå¦‚ä¸‹è¿™ç§JSONè¾“å…¥ï¼Œ&#013;&#010;&gt;&#013;&#010;&gt; {&#013;&#010;&gt;   \"id\": 1,&#013;&#010;&gt;   \"many_names\": [&#013;&#010;&gt;     {\"name\": \"foo\"},&#013;&#010;&gt;     {\"name\": \"bar\"}&#013;&#010;&gt;   ]&#013;&#010;&gt; }&#013;&#010;&gt;&#013;&#010;&gt; è¾“å‡ºè¡¨ä¸¤è¡Œ  id 1, name foo  |  id 1, name bar&#013;&#010;&gt;&#013;&#010;&gt; æœ€ä½³å®è·µæ˜¯ä»Kafkaè¯»åˆ°åï¼Œè°ƒç”¨TableFunctionè¿™ä¸ªUDTFè½¬å‡ºå¤šè¡Œï¼Ÿ&#013;&#010;&gt; è¿˜æ˜¯Flink SQLæœ‰æ›´æ–¹ä¾¿çš„æ“ä½œï¼Œä»Sourceè¯»å‡ºæ¥å°±èƒ½æŠŠæ•°ç»„å±•å¼€ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æ¥è‡ª Outlook&lt;http://aka.ms/weboutlook&gt;&#013;&#010;&gt;&#013;&#010;&#013;&#010;&#013;&#010;--&#013;&#010;&#013;&#010;Best,&#013;&#010;Benchao Li&#013;&#010;",
        "depth": "2",
        "reply": "<SG2PR02MB32264C2A9DC0B95266FB628CF8690@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<CABKuJ_SFqGVVS_3bAWgY3jTkXY348VXiFDe4DskXtxjwfeKcOw@mail.gmail.com>",
        "from": "Benchao Li &lt;libenc...@apache.org&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 12:46:44 GMT",
        "subject": "Re: Flink SQLå¤æ‚JSONè§£æ",
        "content": "çœ‹ä»£ç åº”è¯¥æ˜¯æ”¯æŒå¤åˆç±»å‹çš„ï¼Œä½ å¯ä»¥è¯•ä¸‹ã€‚&#013;&#010;&#013;&#010;hua mulan &lt;deadwind4@outlook.com&gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ8:34å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; æˆ‘è¯•äº†ä¸‹ Arrayé‡Œæ˜¯åŸºæœ¬å…ƒç´ å¯ä»¥CROSS JOIN&#013;&#010;&gt; UNNESTç›´æ¥è§£å¼€ã€‚å¦‚æœArrayé‡Œæ˜¯Rowã€POJOã€Tupleè¿™ç§å¤åˆç±»å‹æˆ‘å°±åªèƒ½UDTFäº†æ˜¯å§ã€‚&#013;&#010;&gt;&#013;&#010;&gt; æ¥è‡ª Outlook&lt;http://aka.ms/weboutlook&gt;&#013;&#010;&gt;&#013;&#010;&gt; ________________________________&#013;&#010;&gt; å‘ä»¶äºº: Benchao Li &lt;libenchao@apache.org&gt;&#013;&#010;&gt; å‘é€æ—¶é—´: 2020å¹´7æœˆ6æ—¥ 22:35&#013;&#010;&gt; æ”¶ä»¶äºº: user-zh &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; ä¸»é¢˜: Re: Flink SQLå¤æ‚JSONè§£æ&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘ç†è§£æœ€ä½³å®è·µæ˜¯ç¬¬ä¸€ç§ï¼Œå…ˆè¯»å‡ºæ¥arrayï¼Œå†ç”¨table functionå±•å¼€æˆå¤šè¡Œã€‚&#013;&#010;&gt; å®é™…ä¸ŠæŠŠarrayè½¬æˆå¤šè¡Œæ˜¯Flink å†…ç½®æ”¯æŒçš„ï¼Œå¯ä»¥å‚è€ƒ[1]çš„â€Expanding&#010;arrays into a relationâ€œéƒ¨åˆ†&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/dev/table/sql/queries.html#joins&#013;&#010;&gt;&#013;&#010;&gt; ç‹ outlook &lt;deadwind4@outlook.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ9:29å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; åƒå¦‚ä¸‹è¿™ç§JSONè¾“å…¥ï¼Œ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; {&#013;&#010;&gt; &gt;   \"id\": 1,&#013;&#010;&gt; &gt;   \"many_names\": [&#013;&#010;&gt; &gt;     {\"name\": \"foo\"},&#013;&#010;&gt; &gt;     {\"name\": \"bar\"}&#013;&#010;&gt; &gt;   ]&#013;&#010;&gt; &gt; }&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; è¾“å‡ºè¡¨ä¸¤è¡Œ  id 1, name foo  |  id 1, name bar&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; æœ€ä½³å®è·µæ˜¯ä»Kafkaè¯»åˆ°åï¼Œè°ƒç”¨TableFunctionè¿™ä¸ªUDTFè½¬å‡ºå¤šè¡Œï¼Ÿ&#013;&#010;&gt; &gt; è¿˜æ˜¯Flink SQLæœ‰æ›´æ–¹ä¾¿çš„æ“ä½œï¼Œä»Sourceè¯»å‡ºæ¥å°±èƒ½æŠŠæ•°ç»„å±•å¼€ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; æ¥è‡ª Outlook&lt;http://aka.ms/weboutlook&gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Benchao Li&#013;&#010;&gt;&#013;&#010;&#013;&#010;&#013;&#010;-- &#013;&#010;&#013;&#010;Best,&#013;&#010;Benchao Li&#013;&#010;",
        "depth": "3",
        "reply": "<SG2PR02MB32264C2A9DC0B95266FB628CF8690@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<SG2PR02MB3226DDD29C7E7BDD071EA28AF8610@SG2PR02MB3226.apcprd02.prod.outlook.com>",
        "from": "hua mulan &lt;deadwi...@outlook.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 03:21:28 GMT",
        "subject": "å›å¤: Flink SQLå¤æ‚JSONè§£æ",
        "content": "Hi&#013;&#010;&#013;&#010;é‚£æˆ‘è§‰å¾—ç›®å‰æœ€ä½³å®è·µå°±æ˜¯ï¼Œæˆ‘ç”¨DataStreamçš„APIå…ˆæŠŠæ•°æ®æ¸…æ´—æˆ json object&#010;in top level åœ¨å¯¼å…¥Kafkaï¼Œä¹‹åå†FlinkSQL å¤„ç†ã€‚&#013;&#010;&#013;&#010;å¯çˆ±çš„æœ¨å…°&#013;&#010;________________________________&#013;&#010;å‘ä»¶äºº: Benchao Li &lt;libenchao@apache.org&gt;&#013;&#010;å‘é€æ—¶é—´: 2020å¹´7æœˆ8æ—¥ 20:46&#013;&#010;æ”¶ä»¶äºº: user-zh &lt;user-zh@flink.apache.org&gt;&#013;&#010;ä¸»é¢˜: Re: Flink SQLå¤æ‚JSONè§£æ&#013;&#010;&#013;&#010;çœ‹ä»£ç åº”è¯¥æ˜¯æ”¯æŒå¤åˆç±»å‹çš„ï¼Œä½ å¯ä»¥è¯•ä¸‹ã€‚&#013;&#010;&#013;&#010;hua mulan &lt;deadwind4@outlook.com&gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ8:34å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; æˆ‘è¯•äº†ä¸‹ Arrayé‡Œæ˜¯åŸºæœ¬å…ƒç´ å¯ä»¥CROSS JOIN&#013;&#010;&gt; UNNESTç›´æ¥è§£å¼€ã€‚å¦‚æœArrayé‡Œæ˜¯Rowã€POJOã€Tupleè¿™ç§å¤åˆç±»å‹æˆ‘å°±åªèƒ½UDTFäº†æ˜¯å§ã€‚&#013;&#010;&gt;&#013;&#010;&gt; æ¥è‡ª Outlook&lt;http://aka.ms/weboutlook&gt;&#013;&#010;&gt;&#013;&#010;&gt; ________________________________&#013;&#010;&gt; å‘ä»¶äºº: Benchao Li &lt;libenchao@apache.org&gt;&#013;&#010;&gt; å‘é€æ—¶é—´: 2020å¹´7æœˆ6æ—¥ 22:35&#013;&#010;&gt; æ”¶ä»¶äºº: user-zh &lt;user-zh@flink.apache.org&gt;&#013;&#010;&gt; ä¸»é¢˜: Re: Flink SQLå¤æ‚JSONè§£æ&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘ç†è§£æœ€ä½³å®è·µæ˜¯ç¬¬ä¸€ç§ï¼Œå…ˆè¯»å‡ºæ¥arrayï¼Œå†ç”¨table functionå±•å¼€æˆå¤šè¡Œã€‚&#013;&#010;&gt; å®é™…ä¸ŠæŠŠarrayè½¬æˆå¤šè¡Œæ˜¯Flink å†…ç½®æ”¯æŒçš„ï¼Œå¯ä»¥å‚è€ƒ[1]çš„â€Expanding&#010;arrays into a relationâ€œéƒ¨åˆ†&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/dev/table/sql/queries.html#joins&#013;&#010;&gt;&#013;&#010;&gt; ç‹ outlook &lt;deadwind4@outlook.com&gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ9:29å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; åƒå¦‚ä¸‹è¿™ç§JSONè¾“å…¥ï¼Œ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; {&#013;&#010;&gt; &gt;   \"id\": 1,&#013;&#010;&gt; &gt;   \"many_names\": [&#013;&#010;&gt; &gt;     {\"name\": \"foo\"},&#013;&#010;&gt; &gt;     {\"name\": \"bar\"}&#013;&#010;&gt; &gt;   ]&#013;&#010;&gt; &gt; }&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; è¾“å‡ºè¡¨ä¸¤è¡Œ  id 1, name foo  |  id 1, name bar&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; æœ€ä½³å®è·µæ˜¯ä»Kafkaè¯»åˆ°åï¼Œè°ƒç”¨TableFunctionè¿™ä¸ªUDTFè½¬å‡ºå¤šè¡Œï¼Ÿ&#013;&#010;&gt; &gt; è¿˜æ˜¯Flink SQLæœ‰æ›´æ–¹ä¾¿çš„æ“ä½œï¼Œä»Sourceè¯»å‡ºæ¥å°±èƒ½æŠŠæ•°ç»„å±•å¼€ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; æ¥è‡ª Outlook&lt;http://aka.ms/weboutlook&gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Benchao Li&#013;&#010;&gt;&#013;&#010;&#013;&#010;&#013;&#010;--&#013;&#010;&#013;&#010;Best,&#013;&#010;Benchao Li&#013;&#010;",
        "depth": "3",
        "reply": "<SG2PR02MB32264C2A9DC0B95266FB628CF8690@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<076EC844-1305-4F42-95C2-5168210D2915@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 06 Jul 2020 15:41:59 GMT",
        "subject": "Re: Flink SQLå¤æ‚JSONè§£æ",
        "content": "Hi,&#010;&#010;Schema é‡Œå¯ä»¥å£°æ˜æˆarray, æ¨èæœ‰æ‹†æˆå¤šè¡Œæ•°æ®çš„éœ€æ±‚ç”¨UDTFå¤„ç†ï¼Œç°åœ¨sourceé‡Œæ˜¯æ²¡çœ‹åˆ°æœ‰æ‹†åˆ†å¤šè¡Œçš„å®ç°ã€‚&#010;&#010;Best,&#010;Leonard Xu&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ6æ—¥ï¼Œ21:28ï¼Œç‹ outlook &lt;deadwind4@outlook.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; TableFunctionè¿™ä¸ªUDTF&#010;&#010;&#010;",
        "depth": "1",
        "reply": "<SG2PR02MB32264C2A9DC0B95266FB628CF8690@SG2PR02MB3226.apcprd02.prod.outlook.com>"
    },
    {
        "id": "<1e44462b.22f9.17327057eb1.Coremail.lydata_jia@163.com>",
        "from": "lydata &lt;lydata_...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 02:05:38 GMT",
        "subject": "flink 1.10.1 å…¥ hive æ ¼å¼ä¸ºparquet",
        "content": " Hi,&#010;&#010;å¯ä»¥æä¾›ä¸€ä»½flink1.10 å…¥hiveæ ¼å¼ä¸ºparquetçš„ä¾‹å­å—ï¼Ÿ&#010;&#010;Best,&#010;lydata",
        "depth": "0",
        "reply": "<1e44462b.22f9.17327057eb1.Coremail.lydata_jia@163.com>"
    },
    {
        "id": "<CADH6UNTRBxoC8iUK1b-XoBdyPrawQ4kOeo-bXd-yD1shS2G4GA@mail.gmail.com>",
        "from": "Rui Li &lt;lirui.fu...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 03:35:47 GMT",
        "subject": "Re: flink 1.10.1 å…¥ hive æ ¼å¼ä¸ºparquet",
        "content": "åªè¦ä½ çš„hiveç›®æ ‡è¡¨åˆ›å»ºä¸ºParquetæ ¼å¼å°±è¡Œäº†å“ˆï¼ŒINSERTè¯­å¥ä¸Šè·Ÿå…¶ä»–ç±»å‹çš„è¡¨æ²¡æœ‰åŒºåˆ«çš„&#013;&#010;&#013;&#010;On Tue, Jul 7, 2020 at 10:05 AM lydata &lt;lydata_jia@163.com&gt; wrote:&#013;&#010;&#013;&#010;&gt;  Hi,&#013;&#010;&gt;&#013;&#010;&gt; å¯ä»¥æä¾›ä¸€ä»½flink1.10 å…¥hiveæ ¼å¼ä¸ºparquetçš„ä¾‹å­å—ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; lydata&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;-- &#013;&#010;Best regards!&#013;&#010;Rui Li&#013;&#010;",
        "depth": "1",
        "reply": "<1e44462b.22f9.17327057eb1.Coremail.lydata_jia@163.com>"
    },
    {
        "id": "<tencent_DA2E9461096F13A23251B46B8A8926F0E606@qq.com>",
        "from": "&quot;å´ç£Š&quot; &lt;wuleifl...@foxmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 02:25:25 GMT",
        "subject": "ä½œä¸šä»flink1.9.0è¿ç§»åˆ°1.10.1ï¼ŒLogicalTypeRootå˜æ›´åæ— æ³•ä»CPæ¢å¤ï¼šNo enum constant org.apache.flink.table.types.logical.LogicalTypeRoot.ANY",
        "content": "å„ä½å¥½ï¼š&amp;nbsp; &amp;nbsp; å½“æˆ‘æŠŠä½œä¸šä»flink1.9.0è¿ç§»åˆ°1.10.1ï¼Œä¸”ä½œä¸šä¸­ä½¿ç”¨äº†'group&#010;by'å½¢å¼çš„è¯­æ³•æ—¶ï¼Œä¼šå¯¼è‡´æ— æ³•ä»cp/spæ¢å¤ï¼Œ&#013;&#010;ä»£ç ï¼š&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;æŠ¥é”™å¦‚ä¸‹ï¼š&#013;&#010;switched from RUNNING to FAILED.switched from RUNNING to FAILED.java.lang.Exception: Exception&#010;while creating StreamOperatorStateContext. at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:191)&#010;at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:255)&#010;at org.apache.flink.streaming.runtime.tasks.StreamTask.initializeStateAndOpen(StreamTask.java:989)&#010;at org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$beforeInvoke$0(StreamTask.java:453)&#010;at org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$SynchronizedStreamTaskActionExecutor.runThrowing(StreamTaskActionExecutor.java:94)&#010;at org.apache.flink.streaming.runtime.tasks.StreamTask.beforeInvoke(StreamTask.java:448) at&#010;org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:460) at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:708)&#010;at org.apache.flink.runtime.taskmanager.Task.run(Task.java:533) at java.lang.Thread.run(Thread.java:748)Caused&#010;by: org.apache.flink.util.FlinkException: Could not restore keyed state backend for KeyedProcessOperator_d26553d858836b90d15e66f459fbcb50_(2/3)&#010;from any of the 1 provided restore options. at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:135)&#010;at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:304)&#010;at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:131)&#010;... 9 moreCaused by: org.apache.flink.runtime.state.BackendBuildingException: Failed when&#010;trying to restore heap backend at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:116)&#010;at org.apache.flink.runtime.state.filesystem.FsStateBackend.createKeyedStateBackend(FsStateBackend.java:529)&#010;at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:288)&#010;at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:142)&#010;at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:121)&#010;... 11 moreCaused by: java.io.InvalidObjectException: enum constant ANY does not exist in&#010;class org.apache.flink.table.types.logical.LogicalTypeRoot at java.io.ObjectInputStream.readEnum(ObjectInputStream.java:2013)&#010;at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1569) at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2286)&#010;at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2166) at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2068)&#010;at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1572) at java.io.ObjectInputStream.readObject(ObjectInputStream.java:430)&#010;at org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:576) at&#010;org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:555) at org.apache.flink.table.runtime.typeutils.BaseRowSerializer$BaseRowSerializerSnapshot.readSnapshot(BaseRowSerializer.java:306)&#010;at org.apache.flink.api.common.typeutils.TypeSerializerSnapshot.readVersionedSnapshot(TypeSerializerSnapshot.java:174)&#010;at org.apache.flink.api.common.typeutils.TypeSerializerSnapshotSerializationUtil$TypeSerializerSnapshotSerializationProxy.deserializeV2(TypeSerializerSnapshotSerializationUtil.java:179)&#010;at org.apache.flink.api.common.typeutils.TypeSerializerSnapshotSerializationUtil$TypeSerializerSnapshotSerializationProxy.read(TypeSerializerSnapshotSerializationUtil.java:150)&#010;at org.apache.flink.api.common.typeutils.TypeSerializerSnapshotSerializationUtil.readSerializerSnapshot(TypeSerializerSnapshotSerializationUtil.java:76)&#010;at org.apache.flink.runtime.state.metainfo.StateMetaInfoSnapshotReadersWriters$CurrentReaderImpl.readStateMetaInfoSnapshot(StateMetaInfoSnapshotReadersWriters.java:219)&#010;at org.apache.flink.runtime.state.KeyedBackendSerializationProxy.read(KeyedBackendSerializationProxy.java:169)&#010;at org.apache.flink.runtime.state.heap.HeapRestoreOperation.restore(HeapRestoreOperation.java:133)&#010;at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:114)&#010;... 15 moreCaused by: java.lang.IllegalArgumentException: No enum constant org.apache.flink.table.types.logical.LogicalTypeRoot.ANY&#010;at java.lang.Enum.valueOf(Enum.java:238) &#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&amp;nbsp; çƒ¦è¯·å„ä½å¸®åŠ©ï¼Œè°¢è°¢ï¼",
        "depth": "0",
        "reply": "<tencent_DA2E9461096F13A23251B46B8A8926F0E606@qq.com>"
    },
    {
        "id": "<CAELO932T=vjpiprXT8ebmS2Uk2e+piTzNm1Y6FKmon1+E83WXg@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 08:28:30 GMT",
        "subject": "Re: ä½œä¸šä»flink1.9.0è¿ç§»åˆ°1.10.1ï¼ŒLogicalTypeRootå˜æ›´åæ— æ³•ä»CPæ¢å¤ï¼šNo enum constant org.apache.flink.table.types.logical.LogicalTypeRoot.ANY",
        "content": "Hi,&#010;&#010;é—®ä¸€ä¸‹ï¼Œä½ æ˜¯æŒ‡ç”¨1.10å»æ¢å¤ 1.9 ä½œä¸šçš„ savepoint/checkpoint å—ï¼Ÿè¿˜æ˜¯æŒ‡è¿ç§»åˆ°&#010;1.10 åï¼Œæ— æ³•ä» failover&#010;ä¸­æ¢å¤ï¼Ÿ&#010;å¦‚æœæ˜¯å‰è€…çš„è¯ï¼ŒFlink SQL ç›®å‰æ²¡æœ‰ä¿è¯è·¨å¤§ç‰ˆæœ¬çš„ state å…¼å®¹æ€§ã€‚æ‰€ä»¥å½“ä½ ä»&#010;1.9 å‡çº§åˆ° 1.10 æ—¶ï¼Œä½œä¸šéœ€è¦æ”¾å¼ƒçŠ¶æ€é‡è·‘ã€‚&#010;&#010;Best,&#010;Jark&#010;&#010;On Tue, 7 Jul 2020 at 15:54, å´ç£Š &lt;wuleiflink@foxmail.com&gt; wrote:&#010;&#010;&gt; å„ä½å¥½ï¼š&#010;&gt;     å½“æˆ‘æŠŠä½œä¸šä»flink1.9.0è¿ç§»åˆ°1.10.1ï¼Œä¸”ä½œä¸šä¸­ä½¿ç”¨äº†'group by'å½¢å¼çš„è¯­æ³•æ—¶ï¼Œä¼šå¯¼è‡´æ— æ³•ä»cp/spæ¢å¤ï¼Œ&#010;&gt; ä»£ç ï¼š&#010;&gt;&#010;&gt;&#010;&gt; æŠ¥é”™å¦‚ä¸‹ï¼š&#010;&gt;&#010;&gt; switched from RUNNING to FAILED.switched from RUNNING to FAILED.java.lang.Exception:&#010;Exception while creating StreamOperatorStateContext. at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:191)&#010;at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:255)&#010;at org.apache.flink.streaming.runtime.tasks.StreamTask.initializeStateAndOpen(StreamTask.java:989)&#010;at org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$beforeInvoke$0(StreamTask.java:453)&#010;at org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$SynchronizedStreamTaskActionExecutor.runThrowing(StreamTaskActionExecutor.java:94)&#010;at org.apache.flink.streaming.runtime.tasks.StreamTask.beforeInvoke(StreamTask.java:448) at&#010;org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:460) at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:708)&#010;at org.apache.flink.runtime.taskmanager.Task.run(Task.java:533) at java.lang.Thread.run(Thread.java:748)Caused&#010;by: org.apache.flink.util.FlinkException: Could not restore keyed state backend for KeyedProcessOperator_d26553d858836b90d15e66f459fbcb50_(2/3)&#010;from any of the 1 provided restore options. at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:135)&#010;at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:304)&#010;at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:131)&#010;... 9 moreCaused by: org.apache.flink.runtime.state.BackendBuildingException: Failed when&#010;trying to restore heap backend at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:116)&#010;at org.apache.flink.runtime.state.filesystem.FsStateBackend.createKeyedStateBackend(FsStateBackend.java:529)&#010;at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:288)&#010;at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:142)&#010;at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:121)&#010;... 11 moreCaused by: java.io.InvalidObjectException: enum constant ANY does not exist in&#010;class org.apache.flink.table.types.logical.LogicalTypeRoot at java.io.ObjectInputStream.readEnum(ObjectInputStream.java:2013)&#010;at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1569) at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2286)&#010;at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2166) at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2068)&#010;at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1572) at java.io.ObjectInputStream.readObject(ObjectInputStream.java:430)&#010;at org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:576) at&#010;org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:555) at org.apache.flink.table.runtime.typeutils.BaseRowSerializer$BaseRowSerializerSnapshot.readSnapshot(BaseRowSerializer.java:306)&#010;at org.apache.flink.api.common.typeutils.TypeSerializerSnapshot.readVersionedSnapshot(TypeSerializerSnapshot.java:174)&#010;at org.apache.flink.api.common.typeutils.TypeSerializerSnapshotSerializationUtil$TypeSerializerSnapshotSerializationProxy.deserializeV2(TypeSerializerSnapshotSerializationUtil.java:179)&#010;at org.apache.flink.api.common.typeutils.TypeSerializerSnapshotSerializationUtil$TypeSerializerSnapshotSerializationProxy.read(TypeSerializerSnapshotSerializationUtil.java:150)&#010;at org.apache.flink.api.common.typeutils.TypeSerializerSnapshotSerializationUtil.readSerializerSnapshot(TypeSerializerSnapshotSerializationUtil.java:76)&#010;at org.apache.flink.runtime.state.metainfo.StateMetaInfoSnapshotReadersWriters$CurrentReaderImpl.readStateMetaInfoSnapshot(StateMetaInfoSnapshotReadersWriters.java:219)&#010;at org.apache.flink.runtime.state.KeyedBackendSerializationProxy.read(KeyedBackendSerializationProxy.java:169)&#010;at org.apache.flink.runtime.state.heap.HeapRestoreOperation.restore(HeapRestoreOperation.java:133)&#010;at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:114)&#010;... 15 moreCaused by: java.lang.IllegalArgumentException: No enum constant org.apache.flink.table.types.logical.LogicalTypeRoot.ANY&#010;at java.lang.Enum.valueOf(Enum.java:238)&#010;&gt;&#010;&gt;&#010;&gt;   çƒ¦è¯·å„ä½å¸®åŠ©ï¼Œè°¢è°¢ï¼&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&#010;",
        "depth": "1",
        "reply": "<tencent_DA2E9461096F13A23251B46B8A8926F0E606@qq.com>"
    },
    {
        "id": "<CAA8tFvsLyW2nFoRhGMn1jZo+5itNivKQVgGX1p+UJrZSMPR9NQ@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Sat, 11 Jul 2020 08:09:12 GMT",
        "subject": "Re: ä½œä¸šä»flink1.9.0è¿ç§»åˆ°1.10.1ï¼ŒLogicalTypeRootå˜æ›´åæ— æ³•ä»CPæ¢å¤ï¼šNo enum constant org.apache.flink.table.types.logical.LogicalTypeRoot.ANY",
        "content": "Hi&#010;&#010;ä»é”™è¯¯æ ˆæ¥çœ‹ï¼Œæ˜¯å› ä¸º `No enum constant&#010;org.apache.flink.table.types.logical.LogicalTypeRoot.ANY ` è¿™ä¸ªå¯¼è‡´çš„æ— æ³•æ­£å¸¸&#010;restoreã€‚é¦–å…ˆä½ éœ€è¦çœ‹ä¸‹æ˜¯å¦æ˜¯å¤§ç‰ˆæœ¬çš„å‡çº§ï¼ˆåƒ Jark è¯´çš„é‚£æ ·ï¼‰ï¼Œå¦‚æœæ˜¯å°ç‰ˆæœ¬çš„å‡çº§ï¼Œä½ éœ€è¦çœ‹ä¸‹ä¸ºä»€ä¹ˆæ‰¾ä¸åˆ°è¿™ä¸ª&#010;LocigcalTypeRoot.ANY.&#010;&#010;PS: è´´ä»£ç /é”™è¯¯æ ˆå¯ä»¥ä½¿ç”¨ gist[1] æˆ–è€… pastebin[2] è¿™æ ·çš„æœåŠ¡ï¼Œç°åœ¨é‚®ä»¶é‡Œçœ‹åˆ°çš„æ ˆä¿¡æ¯æ²¡æœ‰å¾ˆå¥½çš„åˆ†è¡Œ&#010;&#010;[1] https://gist.github.com/&#010;[2] https://pastebin.ubuntu.com/&#010;Best,&#010;Congxian&#010;&#010;&#010;Jark Wu &lt;imjark@gmail.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸‹åˆ4:28å†™é“ï¼š&#010;&#010;&gt; Hi,&#010;&gt;&#010;&gt; é—®ä¸€ä¸‹ï¼Œä½ æ˜¯æŒ‡ç”¨1.10å»æ¢å¤ 1.9 ä½œä¸šçš„ savepoint/checkpoint å—ï¼Ÿè¿˜æ˜¯æŒ‡è¿ç§»åˆ°&#010;1.10 åï¼Œæ— æ³•ä» failover&#010;&gt; ä¸­æ¢å¤ï¼Ÿ&#010;&gt; å¦‚æœæ˜¯å‰è€…çš„è¯ï¼ŒFlink SQL ç›®å‰æ²¡æœ‰ä¿è¯è·¨å¤§ç‰ˆæœ¬çš„ state å…¼å®¹æ€§ã€‚æ‰€ä»¥å½“ä½ ä»&#010;1.9 å‡çº§åˆ° 1.10 æ—¶ï¼Œä½œä¸šéœ€è¦æ”¾å¼ƒçŠ¶æ€é‡è·‘ã€‚&#010;&gt;&#010;&gt; Best,&#010;&gt; Jark&#010;&gt;&#010;&gt; On Tue, 7 Jul 2020 at 15:54, å´ç£Š &lt;wuleiflink@foxmail.com&gt; wrote:&#010;&gt;&#010;&gt; &gt; å„ä½å¥½ï¼š&#010;&gt; &gt;     å½“æˆ‘æŠŠä½œä¸šä»flink1.9.0è¿ç§»åˆ°1.10.1ï¼Œä¸”ä½œä¸šä¸­ä½¿ç”¨äº†'group by'å½¢å¼çš„è¯­æ³•æ—¶ï¼Œä¼šå¯¼è‡´æ— æ³•ä»cp/spæ¢å¤ï¼Œ&#010;&gt; &gt; ä»£ç ï¼š&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; æŠ¥é”™å¦‚ä¸‹ï¼š&#010;&gt; &gt;&#010;&gt; &gt; switched from RUNNING to FAILED.switched from RUNNING to&#010;&gt; FAILED.java.lang.Exception: Exception while creating&#010;&gt; StreamOperatorStateContext. at&#010;&gt; org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:191)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:255)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.StreamTask.initializeStateAndOpen(StreamTask.java:989)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$beforeInvoke$0(StreamTask.java:453)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$SynchronizedStreamTaskActionExecutor.runThrowing(StreamTaskActionExecutor.java:94)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.StreamTask.beforeInvoke(StreamTask.java:448)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:460)&#010;&gt; at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:708) at&#010;&gt; org.apache.flink.runtime.taskmanager.Task.run(Task.java:533) at&#010;&gt; java.lang.Thread.run(Thread.java:748)Caused by:&#010;&gt; org.apache.flink.util.FlinkException: Could not restore keyed state backend&#010;&gt; for KeyedProcessOperator_d26553d858836b90d15e66f459fbcb50_(2/3) from any of&#010;&gt; the 1 provided restore options. at&#010;&gt; org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:135)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:304)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:131)&#010;&gt; ... 9 moreCaused by:&#010;&gt; org.apache.flink.runtime.state.BackendBuildingException: Failed when trying&#010;&gt; to restore heap backend at&#010;&gt; org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:116)&#010;&gt; at&#010;&gt; org.apache.flink.runtime.state.filesystem.FsStateBackend.createKeyedStateBackend(FsStateBackend.java:529)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:288)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:142)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:121)&#010;&gt; ... 11 moreCaused by: java.io.InvalidObjectException: enum constant ANY&#010;&gt; does not exist in class&#010;&gt; org.apache.flink.table.types.logical.LogicalTypeRoot at&#010;&gt; java.io.ObjectInputStream.readEnum(ObjectInputStream.java:2013) at&#010;&gt; java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1569) at&#010;&gt; java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2286) at&#010;&gt; java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2166) at&#010;&gt; java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2068)&#010;&gt; at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1572) at&#010;&gt; java.io.ObjectInputStream.readObject(ObjectInputStream.java:430) at&#010;&gt; org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:576)&#010;&gt; at&#010;&gt; org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:555)&#010;&gt; at&#010;&gt; org.apache.flink.table.runtime.typeutils.BaseRowSerializer$BaseRowSerializerSnapshot.readSnapshot(BaseRowSerializer.java:306)&#010;&gt; at&#010;&gt; org.apache.flink.api.common.typeutils.TypeSerializerSnapshot.readVersionedSnapshot(TypeSerializerSnapshot.java:174)&#010;&gt; at&#010;&gt; org.apache.flink.api.common.typeutils.TypeSerializerSnapshotSerializationUtil$TypeSerializerSnapshotSerializationProxy.deserializeV2(TypeSerializerSnapshotSerializationUtil.java:179)&#010;&gt; at&#010;&gt; org.apache.flink.api.common.typeutils.TypeSerializerSnapshotSerializationUtil$TypeSerializerSnapshotSerializationProxy.read(TypeSerializerSnapshotSerializationUtil.java:150)&#010;&gt; at&#010;&gt; org.apache.flink.api.common.typeutils.TypeSerializerSnapshotSerializationUtil.readSerializerSnapshot(TypeSerializerSnapshotSerializationUtil.java:76)&#010;&gt; at&#010;&gt; org.apache.flink.runtime.state.metainfo.StateMetaInfoSnapshotReadersWriters$CurrentReaderImpl.readStateMetaInfoSnapshot(StateMetaInfoSnapshotReadersWriters.java:219)&#010;&gt; at&#010;&gt; org.apache.flink.runtime.state.KeyedBackendSerializationProxy.read(KeyedBackendSerializationProxy.java:169)&#010;&gt; at&#010;&gt; org.apache.flink.runtime.state.heap.HeapRestoreOperation.restore(HeapRestoreOperation.java:133)&#010;&gt; at&#010;&gt; org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:114)&#010;&gt; ... 15 moreCaused by: java.lang.IllegalArgumentException: No enum constant&#010;&gt; org.apache.flink.table.types.logical.LogicalTypeRoot.ANY at&#010;&gt; java.lang.Enum.valueOf(Enum.java:238)&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;   çƒ¦è¯·å„ä½å¸®åŠ©ï¼Œè°¢è°¢ï¼&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt;&#010;&#010;",
        "depth": "2",
        "reply": "<tencent_DA2E9461096F13A23251B46B8A8926F0E606@qq.com>"
    },
    {
        "id": "<tencent_8D53CEEA7B745C773A5EA0E4@qq.com>",
        "from": "&quot;seeksst&quot;&lt;seek...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 03:35:49 GMT",
        "subject": "å›å¤ï¼š æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV",
        "content": "æˆ‘çœ‹ä½ ä»£ç ä¸Šæ˜¯sqlUpdateï¼ŒtableConfigæ˜¯å¦å¤–è®¾ç½®çš„ï¼Œéœ€è¦ä½œä¸ºå…¥å‚ä¸€åŒæ”¾å…¥sqlUpdateä¸­ï¼Œ&#010;ä½¿ç”¨æ–¹æ³•sqlUpdate(str, config)&#010;å¦å¤–å¦‚æœä½ ä½¿ç”¨çš„æ˜¯rocksdbï¼Œéœ€è¦å¼€å¯rocksdbçš„ttl&#010;state.backend.rocksdb.ttl.compaction.filter.enabledè®¾ç½®æˆtrue&#010;ä½ç‰ˆæœ¬è¿™ä¸ªå‚æ•°é»˜è®¤æ˜¯false&#010;&#010;&#010;&#010;&#010;åŸå§‹é‚®ä»¶&#010;å‘ä»¶äºº:x35907418@qq.com&#010;æ”¶ä»¶äºº:user-zhuser-zh@flink.apache.org&#010;å‘é€æ—¶é—´:2020å¹´7æœˆ7æ—¥(å‘¨äºŒ)â€‡10:46&#010;ä¸»é¢˜:å›å¤ï¼š æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;&#010;&#010;æ˜¯blinkval setttings = EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build()&#010;------------------nbsp;åŸå§‹é‚®ä»¶nbsp;------------------ å‘ä»¶äºº:nbsp;\"Benchao Li\"libenchao@apache.orggt;;&#010;å‘é€æ—¶é—´:nbsp;2020å¹´7æœˆ6æ—¥(æ˜ŸæœŸä¸€) æ™šä¸Š11:11 æ”¶ä»¶äºº:nbsp;\"user-zh\"user-zh@flink.apache.orggt;;&#010;ä¸»é¢˜:nbsp;Re: æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV æ„Ÿè§‰ä¸å¤ªåº”è¯¥æœ‰è¿™ç§æƒ…å†µï¼Œä½ ç”¨çš„æ˜¯blink&#010;plannerä¹ˆï¼Ÿ x 35907418@qq.comgt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ1:24å†™é“ï¼š gt; sorry,æˆ‘è¯´é”™äº†ï¼Œç¡®å®æ²¡æœ‰ï¼Œéƒ½æ˜¯group&#010;agg. gt; gt; æˆ‘é…ç½®äº†tableConfig.setIdleStateRetentionTime(Time.minutes(2),Time.minutes(7))ï¼Œä½†æ˜¯çŠ¶æ€è¿˜æ˜¯è¶Šæ¥è¶Šå¤§ï¼Œæ²¡æœ‰æŒ‰æ—¢å®šé…ç½®è‡ªåŠ¨æ¸…ç†.&#010;gt; gt; gt; ------------------amp;nbsp;åŸå§‹é‚®ä»¶amp;nbsp;------------------ gt; å‘ä»¶äºº:amp;nbsp;\"Benchao&#010;Li\"libenchao@apache.orgamp;gt;; gt; å‘é€æ—¶é—´:amp;nbsp;2020å¹´7æœˆ6æ—¥(æ˜ŸæœŸä¸€) ä¸­åˆ12:52&#010;gt; æ”¶ä»¶äºº:amp;nbsp;\"user-zh\"user-zh@flink.apache.orgamp;gt;; gt; gt; ä¸»é¢˜:amp;nbsp;Re:&#010;æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV gt; gt; gt; gt; æˆ‘çœ‹ä½ çš„SQLé‡Œé¢å¹¶æ²¡æœ‰ç”¨åˆ°çª—å£å‘€ï¼Œåªæ˜¯ä¸€ä¸ªæ™®é€šçš„èšåˆã€‚&#010;gt; è¿™ç§èšåˆéœ€è¦è®¾ç½®åˆç†çš„state retention[1]æ—¶é—´çš„ï¼Œè¦ä¸ç„¶çŠ¶æ€é»˜è®¤æ˜¯æ°¸è¿œä¸æ¸…ç†çš„ã€‚&#010;gt; gt; [1] gt; gt; https://ci.apache.org/projects/flink/flink-docs-master/dev/table/streaming/query_configuration.html#idle-state-retention-time&#010;gt; gt; x 35907418@qq.comamp;gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸Šåˆ11:15å†™é“ï¼š gt; gt; amp;gt;&#010;ç‰ˆæœ¬æ˜¯1.10.1ï¼Œæœ€åsinkçš„æ—¶å€™ç¡®å®æ˜¯ä¸€ä¸ªwindowé‡Œé¢åšcount gt; amp;gt; distinctæ“ä½œã€‚è¯·é—®æ˜¯åªè¦è®¡ç®—è¿‡ç¨‹ä¸­å«æœ‰ä¸€ä¸ªwindowé‡Œé¢åšcount&#010;gt; amp;gt; gt; distinctæ“ä½œï¼Œå°±ä¼šé€ æˆæ‰€æœ‰çŠ¶æ€è¿‡æœŸä¸è‡ªåŠ¨æ¸…ç†å—ï¼Ÿå®é™…æˆ‘windowè¿™æ­¥çš„çŠ¶æ€å¾ˆå°ï¼Œgroupamp;amp;nbsp;DATE_FORMAT(rowtm,&#010;gt; amp;gt; 'yyyy-MM-dd') è¿™ä¸ªsqlå¯¹åº”çš„çŠ¶æ€å¾ˆå¤§ã€‚ä»£ç å¦‚ä¸‹ï¼š gt; amp;gt; val&#010;rt_totaluv_view : Table = tabEnv.sqlQuery( gt; amp;gt;amp;nbsp;amp;nbsp; \"\"\" gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;SELECT MAX(DATE_FORMAT(rowtm, 'yyyy-MM-dd gt; HH:mm:00')) gt; amp;gt; time_str,COUNT(DISTINCT&#010;userkey) uv gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp; FROM source gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;GROUP BY DATE_FORMAT(rowtm, 'yyyy-MM-dd') gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;\"\"\") gt; amp;gt; tabEnv.createTemporaryView(\"rt_totaluv_view\",rt_totaluv_view) gt; amp;gt;&#010;gt; amp;gt; val totaluvTmp = gt; tabEnv.toRetractStream[(String,Long)](rt_totaluv_view) gt;&#010;amp;gt;amp;nbsp;amp;nbsp; .filter( line =amp;amp;gt; line._1 == true ).map( line gt; =amp;amp;gt;&#010;line._2 ) gt; amp;gt; gt; amp;gt; val totaluvTabTmp = tabEnv.fromDataStream( totaluvTmp )&#010;gt; amp;gt; gt; amp;gt; tabEnv.sqlUpdate( gt; amp;gt;amp;nbsp;amp;nbsp; s\"\"\" gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;INSERT INTO mysql_totaluv gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp; SELECT _1,MAX(_2)&#010;gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp; FROM $totaluvTabTmp gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;GROUP BY _1 gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp; \"\"\") gt; amp;gt; ------------------amp;amp;nbsp;åŸå§‹é‚®ä»¶amp;amp;nbsp;------------------&#010;gt; amp;gt; å‘ä»¶äºº:amp;amp;nbsp;\"Benchao Li\"libenchao@apache.orgamp;amp;gt;; gt; amp;gt;&#010;å‘é€æ—¶é—´:amp;amp;nbsp;2020å¹´7æœˆ3æ—¥(æ˜ŸæœŸäº”) æ™šä¸Š9:47 gt; amp;gt; æ”¶ä»¶äºº:amp;amp;nbsp;\"user-zh\"user-zh@flink.apache.orgamp;amp;gt;;&#010;gt; amp;gt; gt; amp;gt; ä¸»é¢˜:amp;amp;nbsp;Re: æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;gt; amp;gt; gt; amp;gt; gt; amp;gt; gt; amp;gt; ä½ ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬ï¼Ÿä¹‹å‰æ˜¯å­˜åœ¨ä¸€ä¸ªç±»ä¼¼é—®é¢˜çš„[1]ï¼Œæ˜¯åœ¨windowé‡Œé¢åšcount&#010;distinctä¼šæœ‰è¿™ä¸ªé—®é¢˜ï¼Œ gt; amp;gt; è¿™ä¸ªå·²ç»åœ¨1.11ä¸­ä¿®å¤äº†ã€‚ gt; amp;gt; gt;&#010;amp;gt; [1] https://issues.apache.org/jira/browse/FLINK-17942 gt; amp;gt; gt; amp;gt; x 35907418@qq.comamp;amp;gt;&#010;äº2020å¹´7æœˆ3æ—¥å‘¨äº” ä¸‹åˆ4:34å†™é“ï¼š gt; amp;gt; gt; amp;gt; amp;amp;gt; æ‚¨å¥½ï¼Œæˆ‘ç¨‹åºè¿è¡Œä¸€æ®µæ—¶é—´åï¼Œå‘ç°checkpointæ–‡ä»¶æ€»åœ¨å¢é•¿ï¼Œåº”è¯¥æ˜¯çŠ¶æ€æ²¡æœ‰è¿‡æœŸï¼Œ&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; gt; æˆ‘é…ç½®äº†tableConfig.setIdleStateRetentionTime(Time.minutes(2),Time.minutes(7)),æŒ‰ç†è¯´ï¼Œæ—¥æœŸæ˜¯å‰ä¸€å¤©çš„keyå¯¹åº”çš„çŠ¶æ€ä¼šåœ¨ç¬¬äºŒå¤©è¿‡æœŸçš„ã€‚&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; gt; ------------------amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶amp;amp;amp;nbsp;------------------&#010;gt; amp;gt; amp;amp;gt; å‘ä»¶äºº:amp;amp;amp;nbsp;\"Jark Wu\"imjark@gmail.comamp;amp;amp;gt;;&#010;gt; amp;gt; amp;amp;gt; å‘é€æ—¶é—´:amp;amp;amp;nbsp;2020å¹´6æœˆ18æ—¥(æ˜ŸæœŸå››) ä¸­åˆ12:16&#010;gt; amp;gt; amp;amp;gt; æ”¶ä»¶äºº:amp;amp;amp;nbsp;\"user-zh\"user-zh@flink.apache.org gt; amp;amp;amp;gt;;&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; ä¸»é¢˜:amp;amp;amp;nbsp;Re: æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;æ˜¯çš„ï¼Œæˆ‘è§‰å¾—è¿™æ ·å­æ˜¯èƒ½ç»•è¿‡çš„ã€‚ gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;On Thu, 18 Jun 2020 at 10:34, x 35907418@qq.comamp;amp;amp;gt; gt; wrote: gt; amp;gt; amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; å¦‚æœæ˜¯1.10çš„è¯ï¼Œæˆ‘é€šè¿‡è¡¨è½¬æµ,å†è½¬è¡¨çš„æ–¹å¼å®ç°äº†ï¼Œæ‚¨çœ‹åˆç†å—?&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; val resTmpTab: Table = tabEnv.sqlQuery( gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp; \"\"\" gt; amp;gt; amp;amp;gt;&#010;gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp; SELECT&#010;gt; amp;gt; MAX(DATE_FORMAT(ts, 'yyyy-MM-dd gt; amp;gt; amp;amp;gt; HH:mm:00')) gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; time_str,COUNT(DISTINCT userkey) uv gt; amp;gt; amp;amp;gt; gt;&#010;amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp; FROM gt;&#010;amp;gt; user_behavioramp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp; GROUP BY gt; amp;gt;&#010;amp;amp;gt; DATE_FORMAT(ts, gt; 'yyyy-MM-dd')amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;\"\"\") gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; val gt;&#010;amp;gt; resTmpStream=tabEnv.toRetractStream[(String,Long)](resTmpTab) gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp; gt; amp;gt; amp;amp;gt; gt; .filter(line=amp;amp;amp;amp;gt;line._1==true).map(line=amp;amp;amp;amp;gt;line._2)&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; val res= tabEnv.fromDataStream(resTmpStream)&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; tabEnv.sqlUpdate( gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;s\"\"\" gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;INSERT gt; INTO gt; amp;gt; rt_totaluv gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;SELECT gt; _1,MAX(_2) gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;FROM gt; $res gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;GROUP gt; BY _1 gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;\"\"\") gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; gt; ------------------amp;amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶amp;amp;amp;amp;nbsp;------------------&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; å‘ä»¶äºº:amp;amp;amp;amp;nbsp;\"Jark Wu\" gt; imjark@gmail.comamp;amp;amp;amp;gt;;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; å‘é€æ—¶é—´:amp;amp;amp;amp;nbsp;2020å¹´6æœˆ17æ—¥(æ˜ŸæœŸä¸‰)&#010;ä¸­åˆ1:55 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; æ”¶ä»¶äºº:amp;amp;amp;amp;nbsp;\"user-zh\"&#010;gt; user-zh@flink.apache.org gt; amp;gt; amp;amp;amp;amp;gt;; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; ä¸»é¢˜:amp;amp;amp;amp;nbsp;Re: æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; åœ¨ Flink 1.11 ä¸­ï¼Œä½ å¯ä»¥å°è¯•è¿™æ ·ï¼š&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; CREATE TABLE&#010;mysql ( gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp;&#010;time_str gt; STRING, gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp;&#010;uv BIGINT, gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp;&#010;PRIMARY gt; KEY (ts) NOT ENFORCED gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; ) WITH ( gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp; gt; 'connector' = 'jdbc',&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp; 'url' =&#010;gt; amp;gt; 'jdbc:mysql://localhost:3306/mydatabase', gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp; gt; 'table-name' = 'myuv' gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; ); gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;INSERT INTO mysql gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; SELECT MAX(DATE_FORMAT(ts, 'yyyy-MM-dd&#010;gt; HH:mm:00')), gt; amp;gt; amp;amp;gt; COUNT(DISTINCTamp;amp;amp;amp;nbsp; gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; user_id) gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; FROM user_behavior; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; On Wed, 17 Jun 2020 at&#010;13:49, x  gt; 35907418@qq.comamp;amp;amp;amp;gt; gt; amp;gt; wrote: gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; æ„Ÿè°¢æ‚¨çš„å›å¤ï¼Œæ‚¨æåˆ°çš„\"æ–¹æ³•ä¸€\"æˆ‘è¿˜æ˜¯æœ‰ç‚¹ä¸å¤ªç†è§£ï¼Œæˆ‘éœ€è¦æ¯åˆ†é’Ÿè¾“å‡ºä¸€ä¸ªç´¯è®¡UVï¼Œ&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; sinkè¡¨è¿™ä¸ªæ ·å¼ gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; tm uv gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; 2020/06/17 13:46:00 10000 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;2020/06/17 13:47:00 20000 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; 2020/06/17&#010;13:48:00 30000 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;group by æ—¥æœŸçš„è¯ï¼Œåˆ†é’Ÿå¦‚ä½•è·å– gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; gt; ------------------amp;amp;amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶amp;amp;amp;amp;amp;nbsp;------------------&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; å‘ä»¶äºº:amp;amp;amp;amp;amp;nbsp;\"Benchao&#010;Li\" gt; amp;gt; libenchao@apache.org gt; amp;gt; amp;amp;gt; amp;amp;amp;amp;amp;gt;; gt;&#010;amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; å‘é€æ—¶é—´:amp;amp;amp;amp;amp;nbsp;2020å¹´6æœˆ17æ—¥(æ˜ŸæœŸä¸‰)&#010;ä¸­åˆ11:46 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; æ”¶ä»¶äºº:amp;amp;amp;amp;amp;nbsp;\"user-zh\"&#010;gt; amp;gt; user-zh@flink.apache.org gt; amp;gt; amp;amp;gt; amp;amp;amp;amp;amp;gt;; gt;&#010;amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; ä¸»é¢˜:amp;amp;amp;amp;amp;nbsp;Re: gt; æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; Hiï¼Œ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; æˆ‘æ„Ÿè§‰è¿™ç§åœºæ™¯å¯ä»¥æœ‰ä¸¤ç§æ–¹å¼ï¼Œ gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; 1. å¯ä»¥ç›´æ¥ç”¨group by + mini batch gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; 2. windowèšåˆ + fast emit gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; å¯¹äº#1ï¼Œgroup&#010;gt; amp;gt; byçš„å­—æ®µé‡Œé¢å¯ä»¥æœ‰ä¸€ä¸ªæ—¥æœŸçš„å­—æ®µï¼Œä¾‹å¦‚ä½ ä¸Šé¢æåˆ°çš„DATE_FORMAT(rowtm,&#010;gt; amp;gt; amp;amp;gt; 'yyyy-MM-dd')ã€‚ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;è¿™ç§æƒ…å†µä¸‹çš„çŠ¶æ€æ¸…ç†ï¼Œéœ€è¦é…ç½®state gt; retentionæ—¶é—´ï¼Œé…ç½®æ–¹æ³•å¯ä»¥å‚è€ƒ[1]&#010;gt; amp;gt; ã€‚åŒæ—¶ï¼Œmini gt; amp;gt; amp;amp;gt; batchçš„å¼€å¯ä¹Ÿéœ€è¦ gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; ç”¨å‚æ•°[2] æ¥æ‰“å¼€ã€‚ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; å¯¹äº#2ï¼Œè¿™ç§ç›´æ¥å¼€ä¸€ä¸ªå¤©çº§åˆ«çš„tumbleçª—å£å°±è¡Œã€‚ç„¶åçŠ¶æ€æ¸…ç†ä¸ç”¨ç‰¹æ®Šé…ç½®ï¼Œé»˜è®¤å°±å¯ä»¥æ¸…ç†ã€‚&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; fast gt; amp;gt; amp;amp;gt; gt;&#010;emitè¿™ä¸ªé…ç½®ç°åœ¨è¿˜æ˜¯ä¸€ä¸ªexperimentalçš„featureï¼Œæ‰€ä»¥æ²¡æœ‰åœ¨æ–‡æ¡£ä¸­åˆ—å‡ºæ¥ï¼Œæˆ‘æŠŠé…ç½®è´´åˆ°è¿™é‡Œï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼š&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; table.exec.emit.early-fire.enabled&#010;= true gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; table.exec.emit.early-fire.delay&#010;= 60 s gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; [1] gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; gt; https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/table/streaming/query_configuration.html&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; [2] gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; gt; https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/table/config.html&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; x 35907418@qq.com gt; amp;amp;amp;amp;amp;gt; gt; amp;gt; äº2020å¹´6æœˆ17æ—¥å‘¨ä¸‰&#010;ä¸Šåˆ11:14å†™é“ï¼š gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;éœ€æ±‚æ˜¯ï¼Œæ¯åˆ†é’Ÿç»Ÿè®¡å½“æ—¥0æ—¶åˆ°å½“å‰çš„ç´¯è®¡UVæ•°ï¼Œç”¨ä¸‹é¢çš„è¿™ç§æ–¹å¼ï¼Œè·¨å¤©çš„æ—¶å€™ï¼Œç´¯è®¡UVä¸ä¼šæ¸…é›¶ï¼Œè¿˜ä¼šä¸€ç›´ç´¯è®¡&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; CREATE&#010;gt; VIEW uv_per_10min AS gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt;&#010;gt; SELECTamp;amp;amp;amp;amp;amp;nbsp; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;amp;amp;amp;amp;amp;gt; gt; amp;amp;amp;amp;amp;amp;nbsp; gt; amp;gt; amp;amp;gt; MAX(DATE_FORMAT(proctimeamp;amp;amp;amp;amp;amp;nbsp;,&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; 'yyyy-MM-dd gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; HH:mm:00'))amp;amp;amp;amp;amp;amp;nbsp;OVER w gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; AS gt; amp;gt; time_str,amp;amp;amp;amp;amp;amp;nbsp;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; gt; amp;amp;amp;amp;amp;amp;nbsp;&#010;gt; amp;gt; COUNT(DISTINCT user_id) OVER gt; amp;gt; amp;amp;gt; w AS uv gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; FROM gt; user_behavior gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; WINDOW w gt; AS (ORDER&#010;BY proctime gt; amp;gt; ROWS BETWEEN gt; amp;gt; amp;amp;gt; UNBOUNDED gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; PRECEDING AND gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;amp;amp;amp;amp;amp;gt; CURRENT gt; ROW); gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;amp;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; gt; æƒ³è¯·æ•™ä¸€ä¸‹ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; PARTITION&#010;gt; BY gt; amp;gt; DATE_FORMAT(rowtm, 'yyyy-MM-dd') gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;è¿™æ ·å¯ä»¥å—ï¼Œå¦å¤–çŠ¶æ€åº”è¯¥å¦‚ä½•æ¸…ç†ï¼Ÿ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; gt; PSï¼š1.10è²Œä¼¼ä¸æ”¯æŒDDLè²Œä¼¼ä¸æ”¯æŒCREATE&#010;gt; amp;gt; VIEWå§ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt;&#010;å¤šè°¢ gt; amp;gt; gt; amp;gt; gt; amp;gt; gt; amp;gt; -- gt; amp;gt; gt; amp;gt; Best, gt;&#010;amp;gt; Benchao Li gt; gt; gt; gt; -- gt; gt; Best, gt; Benchao Li -- Best, Benchao Li",
        "depth": "1",
        "reply": "<tencent_8D53CEEA7B745C773A5EA0E4@qq.com>"
    },
    {
        "id": "<tencent_5D2D3BFD6E004826060E76E5CABAD795CE08@qq.com>",
        "from": "&quot;x&quot; &lt;35907...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 03:08:26 GMT",
        "subject": "å›å¤ï¼š æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV",
        "content": "æ‚¨è¯´çš„è¿™ç§æ–¹å¼ï¼ŒV1.10.1 ä¸æ”¯æŒå§ï¼Œæˆ‘çœ‹å‚æ•°åªæœ‰ä¸€ä¸ªStringç±»å‹çš„&#013;&#010;void sqlUpdate(String stmt);&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"seeksst\"&lt;seeksst@163.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ7æ—¥(æ˜ŸæœŸäºŒ) ä¸­åˆ11:35&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;å›å¤ï¼š æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;æˆ‘çœ‹ä½ ä»£ç ä¸Šæ˜¯sqlUpdateï¼ŒtableConfigæ˜¯å¦å¤–è®¾ç½®çš„ï¼Œéœ€è¦ä½œä¸ºå…¥å‚ä¸€åŒæ”¾å…¥sqlUpdateä¸­ï¼Œ&#013;&#010;ä½¿ç”¨æ–¹æ³•sqlUpdate(str, config)&#013;&#010;å¦å¤–å¦‚æœä½ ä½¿ç”¨çš„æ˜¯rocksdbï¼Œéœ€è¦å¼€å¯rocksdbçš„ttl&#013;&#010;state.backend.rocksdb.ttl.compaction.filter.enabledè®¾ç½®æˆtrue&#013;&#010;ä½ç‰ˆæœ¬è¿™ä¸ªå‚æ•°é»˜è®¤æ˜¯false&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;åŸå§‹é‚®ä»¶&#013;&#010;å‘ä»¶äºº:x35907418@qq.com&#013;&#010;æ”¶ä»¶äºº:user-zhuser-zh@flink.apache.org&#013;&#010;å‘é€æ—¶é—´:2020å¹´7æœˆ7æ—¥(å‘¨äºŒ)â€‡10:46&#013;&#010;ä¸»é¢˜:å›å¤ï¼š æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#013;&#010;&#013;&#010;&#013;&#010;æ˜¯blinkval setttings = EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build()&#010;------------------nbsp;åŸå§‹é‚®ä»¶nbsp;------------------ å‘ä»¶äºº:nbsp;\"Benchao Li\"libenchao@apache.orggt;;&#010;å‘é€æ—¶é—´:nbsp;2020å¹´7æœˆ6æ—¥(æ˜ŸæœŸä¸€) æ™šä¸Š11:11 æ”¶ä»¶äºº:nbsp;\"user-zh\"user-zh@flink.apache.orggt;;&#010;ä¸»é¢˜:nbsp;Re: æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV æ„Ÿè§‰ä¸å¤ªåº”è¯¥æœ‰è¿™ç§æƒ…å†µï¼Œä½ ç”¨çš„æ˜¯blink&#010;plannerä¹ˆï¼Ÿ x 35907418@qq.comgt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ1:24å†™é“ï¼š gt; sorry,æˆ‘è¯´é”™äº†ï¼Œç¡®å®æ²¡æœ‰ï¼Œéƒ½æ˜¯group&#010;agg. gt; gt; æˆ‘é…ç½®äº†tableConfig.setIdleStateRetentionTime(Time.minutes(2),Time.minutes(7))ï¼Œä½†æ˜¯çŠ¶æ€è¿˜æ˜¯è¶Šæ¥è¶Šå¤§ï¼Œæ²¡æœ‰æŒ‰æ—¢å®šé…ç½®è‡ªåŠ¨æ¸…ç†.&#010;gt; gt; gt; ------------------amp;nbsp;åŸå§‹é‚®ä»¶amp;nbsp;------------------ gt; å‘ä»¶äºº:amp;nbsp;\"Benchao&#010;Li\"libenchao@apache.orgamp;gt;; gt; å‘é€æ—¶é—´:amp;nbsp;2020å¹´7æœˆ6æ—¥(æ˜ŸæœŸä¸€) ä¸­åˆ12:52&#010;gt; æ”¶ä»¶äºº:amp;nbsp;\"user-zh\"user-zh@flink.apache.orgamp;gt;; gt; gt; ä¸»é¢˜:amp;nbsp;Re:&#010;æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV gt; gt; gt; gt; æˆ‘çœ‹ä½ çš„SQLé‡Œé¢å¹¶æ²¡æœ‰ç”¨åˆ°çª—å£å‘€ï¼Œåªæ˜¯ä¸€ä¸ªæ™®é€šçš„èšåˆã€‚&#010;gt; è¿™ç§èšåˆéœ€è¦è®¾ç½®åˆç†çš„state retention[1]æ—¶é—´çš„ï¼Œè¦ä¸ç„¶çŠ¶æ€é»˜è®¤æ˜¯æ°¸è¿œä¸æ¸…ç†çš„ã€‚&#010;gt; gt; [1] gt; gt; https://ci.apache.org/projects/flink/flink-docs-master/dev/table/streaming/query_configuration.html#idle-state-retention-time&#010;gt; gt; x 35907418@qq.comamp;gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸Šåˆ11:15å†™é“ï¼š gt; gt; amp;gt;&#010;ç‰ˆæœ¬æ˜¯1.10.1ï¼Œæœ€åsinkçš„æ—¶å€™ç¡®å®æ˜¯ä¸€ä¸ªwindowé‡Œé¢åšcount gt; amp;gt; distinctæ“ä½œã€‚è¯·é—®æ˜¯åªè¦è®¡ç®—è¿‡ç¨‹ä¸­å«æœ‰ä¸€ä¸ªwindowé‡Œé¢åšcount&#010;gt; amp;gt; gt; distinctæ“ä½œï¼Œå°±ä¼šé€ æˆæ‰€æœ‰çŠ¶æ€è¿‡æœŸä¸è‡ªåŠ¨æ¸…ç†å—ï¼Ÿå®é™…æˆ‘windowè¿™æ­¥çš„çŠ¶æ€å¾ˆå°ï¼Œgroupamp;amp;nbsp;DATE_FORMAT(rowtm,&#010;gt; amp;gt; 'yyyy-MM-dd') è¿™ä¸ªsqlå¯¹åº”çš„çŠ¶æ€å¾ˆå¤§ã€‚ä»£ç å¦‚ä¸‹ï¼š gt; amp;gt; val&#010;rt_totaluv_view : Table = tabEnv.sqlQuery( gt; amp;gt;amp;nbsp;amp;nbsp; \"\"\" gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;SELECT MAX(DATE_FORMAT(rowtm, 'yyyy-MM-dd gt; HH:mm:00')) gt; amp;gt; time_str,COUNT(DISTINCT&#010;userkey) uv gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp; FROM source gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;GROUP BY DATE_FORMAT(rowtm, 'yyyy-MM-dd') gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;\"\"\") gt; amp;gt; tabEnv.createTemporaryView(\"rt_totaluv_view\",rt_totaluv_view) gt; amp;gt;&#010;gt; amp;gt; val totaluvTmp = gt; tabEnv.toRetractStream[(String,Long)](rt_totaluv_view) gt;&#010;amp;gt;amp;nbsp;amp;nbsp; .filter( line =amp;amp;gt; line._1 == true ).map( line gt; =amp;amp;gt;&#010;line._2 ) gt; amp;gt; gt; amp;gt; val totaluvTabTmp = tabEnv.fromDataStream( totaluvTmp )&#010;gt; amp;gt; gt; amp;gt; tabEnv.sqlUpdate( gt; amp;gt;amp;nbsp;amp;nbsp; s\"\"\" gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;INSERT INTO mysql_totaluv gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp; SELECT _1,MAX(_2)&#010;gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp; FROM $totaluvTabTmp gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;GROUP BY _1 gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp; \"\"\") gt; amp;gt; ------------------amp;amp;nbsp;åŸå§‹é‚®ä»¶amp;amp;nbsp;------------------&#010;gt; amp;gt; å‘ä»¶äºº:amp;amp;nbsp;\"Benchao Li\"libenchao@apache.orgamp;amp;gt;; gt; amp;gt;&#010;å‘é€æ—¶é—´:amp;amp;nbsp;2020å¹´7æœˆ3æ—¥(æ˜ŸæœŸäº”) æ™šä¸Š9:47 gt; amp;gt; æ”¶ä»¶äºº:amp;amp;nbsp;\"user-zh\"user-zh@flink.apache.orgamp;amp;gt;;&#010;gt; amp;gt; gt; amp;gt; ä¸»é¢˜:amp;amp;nbsp;Re: æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;gt; amp;gt; gt; amp;gt; gt; amp;gt; gt; amp;gt; ä½ ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬ï¼Ÿä¹‹å‰æ˜¯å­˜åœ¨ä¸€ä¸ªç±»ä¼¼é—®é¢˜çš„[1]ï¼Œæ˜¯åœ¨windowé‡Œé¢åšcount&#010;distinctä¼šæœ‰è¿™ä¸ªé—®é¢˜ï¼Œ gt; amp;gt; è¿™ä¸ªå·²ç»åœ¨1.11ä¸­ä¿®å¤äº†ã€‚ gt; amp;gt; gt;&#010;amp;gt; [1] https://issues.apache.org/jira/browse/FLINK-17942 gt; amp;gt; gt; amp;gt; x 35907418@qq.comamp;amp;gt;&#010;äº2020å¹´7æœˆ3æ—¥å‘¨äº” ä¸‹åˆ4:34å†™é“ï¼š gt; amp;gt; gt; amp;gt; amp;amp;gt; æ‚¨å¥½ï¼Œæˆ‘ç¨‹åºè¿è¡Œä¸€æ®µæ—¶é—´åï¼Œå‘ç°checkpointæ–‡ä»¶æ€»åœ¨å¢é•¿ï¼Œåº”è¯¥æ˜¯çŠ¶æ€æ²¡æœ‰è¿‡æœŸï¼Œ&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; gt; æˆ‘é…ç½®äº†tableConfig.setIdleStateRetentionTime(Time.minutes(2),Time.minutes(7)),æŒ‰ç†è¯´ï¼Œæ—¥æœŸæ˜¯å‰ä¸€å¤©çš„keyå¯¹åº”çš„çŠ¶æ€ä¼šåœ¨ç¬¬äºŒå¤©è¿‡æœŸçš„ã€‚&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; gt; ------------------amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶amp;amp;amp;nbsp;------------------&#010;gt; amp;gt; amp;amp;gt; å‘ä»¶äºº:amp;amp;amp;nbsp;\"Jark Wu\"imjark@gmail.comamp;amp;amp;gt;;&#010;gt; amp;gt; amp;amp;gt; å‘é€æ—¶é—´:amp;amp;amp;nbsp;2020å¹´6æœˆ18æ—¥(æ˜ŸæœŸå››) ä¸­åˆ12:16&#010;gt; amp;gt; amp;amp;gt; æ”¶ä»¶äºº:amp;amp;amp;nbsp;\"user-zh\"user-zh@flink.apache.org gt; amp;amp;amp;gt;;&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; ä¸»é¢˜:amp;amp;amp;nbsp;Re: æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;æ˜¯çš„ï¼Œæˆ‘è§‰å¾—è¿™æ ·å­æ˜¯èƒ½ç»•è¿‡çš„ã€‚ gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;On Thu, 18 Jun 2020 at 10:34, x 35907418@qq.comamp;amp;amp;gt; gt; wrote: gt; amp;gt; amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; å¦‚æœæ˜¯1.10çš„è¯ï¼Œæˆ‘é€šè¿‡è¡¨è½¬æµ,å†è½¬è¡¨çš„æ–¹å¼å®ç°äº†ï¼Œæ‚¨çœ‹åˆç†å—?&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; val resTmpTab: Table = tabEnv.sqlQuery( gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp; \"\"\" gt; amp;gt; amp;amp;gt;&#010;gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp; SELECT&#010;gt; amp;gt; MAX(DATE_FORMAT(ts, 'yyyy-MM-dd gt; amp;gt; amp;amp;gt; HH:mm:00')) gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; time_str,COUNT(DISTINCT userkey) uv gt; amp;gt; amp;amp;gt; gt;&#010;amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp; FROM gt;&#010;amp;gt; user_behavioramp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp; GROUP BY gt; amp;gt;&#010;amp;amp;gt; DATE_FORMAT(ts, gt; 'yyyy-MM-dd')amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;\"\"\") gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; val gt;&#010;amp;gt; resTmpStream=tabEnv.toRetractStream[(String,Long)](resTmpTab) gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp; gt; amp;gt; amp;amp;gt; gt; .filter(line=amp;amp;amp;amp;gt;line._1==true).map(line=amp;amp;amp;amp;gt;line._2)&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; val res= tabEnv.fromDataStream(resTmpStream)&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; tabEnv.sqlUpdate( gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;s\"\"\" gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;INSERT gt; INTO gt; amp;gt; rt_totaluv gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;SELECT gt; _1,MAX(_2) gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;FROM gt; $res gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;GROUP gt; BY _1 gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;\"\"\") gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; gt; ------------------amp;amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶amp;amp;amp;amp;nbsp;------------------&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; å‘ä»¶äºº:amp;amp;amp;amp;nbsp;\"Jark Wu\" gt; imjark@gmail.comamp;amp;amp;amp;gt;;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; å‘é€æ—¶é—´:amp;amp;amp;amp;nbsp;2020å¹´6æœˆ17æ—¥(æ˜ŸæœŸä¸‰)&#010;ä¸­åˆ1:55 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; æ”¶ä»¶äºº:amp;amp;amp;amp;nbsp;\"user-zh\"&#010;gt; user-zh@flink.apache.org gt; amp;gt; amp;amp;amp;amp;gt;; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; ä¸»é¢˜:amp;amp;amp;amp;nbsp;Re: æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; åœ¨ Flink 1.11 ä¸­ï¼Œä½ å¯ä»¥å°è¯•è¿™æ ·ï¼š&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; CREATE TABLE&#010;mysql ( gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp;&#010;time_str gt; STRING, gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp;&#010;uv BIGINT, gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp;&#010;PRIMARY gt; KEY (ts) NOT ENFORCED gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; ) WITH ( gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp; gt; 'connector' = 'jdbc',&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp; 'url' =&#010;gt; amp;gt; 'jdbc:mysql://localhost:3306/mydatabase', gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp; gt; 'table-name' = 'myuv' gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; ); gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;INSERT INTO mysql gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; SELECT MAX(DATE_FORMAT(ts, 'yyyy-MM-dd&#010;gt; HH:mm:00')), gt; amp;gt; amp;amp;gt; COUNT(DISTINCTamp;amp;amp;amp;nbsp; gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; user_id) gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; FROM user_behavior; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; On Wed, 17 Jun 2020 at&#010;13:49, x&amp;nbsp; gt; 35907418@qq.comamp;amp;amp;amp;gt; gt; amp;gt; wrote: gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; æ„Ÿè°¢æ‚¨çš„å›å¤ï¼Œæ‚¨æåˆ°çš„\"æ–¹æ³•ä¸€\"æˆ‘è¿˜æ˜¯æœ‰ç‚¹ä¸å¤ªç†è§£ï¼Œæˆ‘éœ€è¦æ¯åˆ†é’Ÿè¾“å‡ºä¸€ä¸ªç´¯è®¡UVï¼Œ&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; sinkè¡¨è¿™ä¸ªæ ·å¼ gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; tm uv gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; 2020/06/17 13:46:00 10000 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;2020/06/17 13:47:00 20000 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; 2020/06/17&#010;13:48:00 30000 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;group by æ—¥æœŸçš„è¯ï¼Œåˆ†é’Ÿå¦‚ä½•è·å– gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; gt; ------------------amp;amp;amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶amp;amp;amp;amp;amp;nbsp;------------------&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; å‘ä»¶äºº:amp;amp;amp;amp;amp;nbsp;\"Benchao&#010;Li\" gt; amp;gt; libenchao@apache.org gt; amp;gt; amp;amp;gt; amp;amp;amp;amp;amp;gt;; gt;&#010;amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; å‘é€æ—¶é—´:amp;amp;amp;amp;amp;nbsp;2020å¹´6æœˆ17æ—¥(æ˜ŸæœŸä¸‰)&#010;ä¸­åˆ11:46 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; æ”¶ä»¶äºº:amp;amp;amp;amp;amp;nbsp;\"user-zh\"&#010;gt; amp;gt; user-zh@flink.apache.org gt; amp;gt; amp;amp;gt; amp;amp;amp;amp;amp;gt;; gt;&#010;amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; ä¸»é¢˜:amp;amp;amp;amp;amp;nbsp;Re: gt; æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; Hiï¼Œ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; æˆ‘æ„Ÿè§‰è¿™ç§åœºæ™¯å¯ä»¥æœ‰ä¸¤ç§æ–¹å¼ï¼Œ gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; 1. å¯ä»¥ç›´æ¥ç”¨group by + mini batch gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; 2. windowèšåˆ + fast emit gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; å¯¹äº#1ï¼Œgroup&#010;gt; amp;gt; byçš„å­—æ®µé‡Œé¢å¯ä»¥æœ‰ä¸€ä¸ªæ—¥æœŸçš„å­—æ®µï¼Œä¾‹å¦‚ä½ ä¸Šé¢æåˆ°çš„DATE_FORMAT(rowtm,&#010;gt; amp;gt; amp;amp;gt; 'yyyy-MM-dd')ã€‚ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;è¿™ç§æƒ…å†µä¸‹çš„çŠ¶æ€æ¸…ç†ï¼Œéœ€è¦é…ç½®state gt; retentionæ—¶é—´ï¼Œé…ç½®æ–¹æ³•å¯ä»¥å‚è€ƒ[1]&#010;gt; amp;gt; ã€‚åŒæ—¶ï¼Œmini gt; amp;gt; amp;amp;gt; batchçš„å¼€å¯ä¹Ÿéœ€è¦ gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; ç”¨å‚æ•°[2] æ¥æ‰“å¼€ã€‚ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; å¯¹äº#2ï¼Œè¿™ç§ç›´æ¥å¼€ä¸€ä¸ªå¤©çº§åˆ«çš„tumbleçª—å£å°±è¡Œã€‚ç„¶åçŠ¶æ€æ¸…ç†ä¸ç”¨ç‰¹æ®Šé…ç½®ï¼Œé»˜è®¤å°±å¯ä»¥æ¸…ç†ã€‚&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; fast gt; amp;gt; amp;amp;gt; gt;&#010;emitè¿™ä¸ªé…ç½®ç°åœ¨è¿˜æ˜¯ä¸€ä¸ªexperimentalçš„featureï¼Œæ‰€ä»¥æ²¡æœ‰åœ¨æ–‡æ¡£ä¸­åˆ—å‡ºæ¥ï¼Œæˆ‘æŠŠé…ç½®è´´åˆ°è¿™é‡Œï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼š&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; table.exec.emit.early-fire.enabled&#010;= true gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; table.exec.emit.early-fire.delay&#010;= 60 s gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; [1] gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; gt; https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/table/streaming/query_configuration.html&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; [2] gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; gt; https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/table/config.html&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; x 35907418@qq.com gt; amp;amp;amp;amp;amp;gt; gt; amp;gt; äº2020å¹´6æœˆ17æ—¥å‘¨ä¸‰&#010;ä¸Šåˆ11:14å†™é“ï¼š gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;éœ€æ±‚æ˜¯ï¼Œæ¯åˆ†é’Ÿç»Ÿè®¡å½“æ—¥0æ—¶åˆ°å½“å‰çš„ç´¯è®¡UVæ•°ï¼Œç”¨ä¸‹é¢çš„è¿™ç§æ–¹å¼ï¼Œè·¨å¤©çš„æ—¶å€™ï¼Œç´¯è®¡UVä¸ä¼šæ¸…é›¶ï¼Œè¿˜ä¼šä¸€ç›´ç´¯è®¡&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; CREATE&#010;gt; VIEW uv_per_10min AS gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt;&#010;gt; SELECTamp;amp;amp;amp;amp;amp;nbsp; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;amp;amp;amp;amp;amp;gt; gt; amp;amp;amp;amp;amp;amp;nbsp; gt; amp;gt; amp;amp;gt; MAX(DATE_FORMAT(proctimeamp;amp;amp;amp;amp;amp;nbsp;,&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; 'yyyy-MM-dd gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; HH:mm:00'))amp;amp;amp;amp;amp;amp;nbsp;OVER w gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; AS gt; amp;gt; time_str,amp;amp;amp;amp;amp;amp;nbsp;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; gt; amp;amp;amp;amp;amp;amp;nbsp;&#010;gt; amp;gt; COUNT(DISTINCT user_id) OVER gt; amp;gt; amp;amp;gt; w AS uv gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; FROM gt; user_behavior gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; WINDOW w gt; AS (ORDER&#010;BY proctime gt; amp;gt; ROWS BETWEEN gt; amp;gt; amp;amp;gt; UNBOUNDED gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; PRECEDING AND gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;amp;amp;amp;amp;amp;gt; CURRENT gt; ROW); gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;amp;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; gt; æƒ³è¯·æ•™ä¸€ä¸‹ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; PARTITION&#010;gt; BY gt; amp;gt; DATE_FORMAT(rowtm, 'yyyy-MM-dd') gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;è¿™æ ·å¯ä»¥å—ï¼Œå¦å¤–çŠ¶æ€åº”è¯¥å¦‚ä½•æ¸…ç†ï¼Ÿ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; gt; PSï¼š1.10è²Œä¼¼ä¸æ”¯æŒDDLè²Œä¼¼ä¸æ”¯æŒCREATE&#010;gt; amp;gt; VIEWå§ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt;&#010;å¤šè°¢ gt; amp;gt; gt; amp;gt; gt; amp;gt; gt; amp;gt; -- gt; amp;gt; gt; amp;gt; Best, gt;&#010;amp;gt; Benchao Li gt; gt; gt; gt; -- gt; gt; Best, gt; Benchao Li -- Best, Benchao Li",
        "depth": "2",
        "reply": "<tencent_8D53CEEA7B745C773A5EA0E4@qq.com>"
    },
    {
        "id": "<tencent_650D8FFA87CC272EA648B4E3@qq.com>",
        "from": "&quot;seeksst&quot;&lt;seek...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 06:00:20 GMT",
        "subject": "å›å¤ï¼š æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV",
        "content": "ä½ å¥½ï¼Œæˆ‘åˆšåˆšåˆ‡æ¢åˆ°1.10.1ç‰ˆæœ¬ï¼Œè¿˜æ˜¯å¯ä»¥è®¾ç½®çš„ï¼Œè¿™ä¸ªæ¥å£æ˜¯åœ¨StreamTableEnvironmenté‡Œé¢ï¼Œä½¿ç”¨çš„æ˜¯flink-table-api-java-bridgeï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯scalaç‰ˆæœ¬ï¼Œè¿™ä¸ªæˆ‘ä¸æ˜¯å¾ˆäº†è§£ï¼Œç†è®ºåº”è¯¥å·®ä¸å¤šã€‚&#010;åœ¨1.10ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä¸€èˆ¬æ˜¯è¿™ä¹ˆå†™çš„ï¼š&#010;EnvironmentSettings settings = EnvironmentSettings.newInstance().useOldPlanner().inStreamingMode().build();&#010;StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();&#010;StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env, settings);&#010;ä¹Ÿä¸éœ€è¦è¿›è¡ŒsqlUpdateä¼ å…¥ï¼Œç›´æ¥tableEnv.getConfig().setIdleStateRetentionTime()&#010;è®¾ç½®å°±å¯ä»¥äº†ã€‚&#010;å¦å¤–ï¼Œä½ æŒ‡çš„çŠ¶æ€è¶Šæ¥è¶Šå¤§éœ€è¦æè¿°çš„æ›´è¯¦ç»†ä¸€ç‚¹ï¼Œå…·ä½“ç°è±¡å’ŒçŠ¶æ€åç«¯çš„é€‰æ‹©ã€‚ä¹‹å‰ä¹Ÿæåˆ°äº†ï¼Œä½¿ç”¨rocksdbåšçŠ¶æ€åç«¯ï¼Œéœ€è¦å¼€å¯ttlé…ç½®ï¼Œ&#010;å¦åˆ™ç°è±¡å°±æ˜¯checkpointçš„æ–‡ä»¶å¤§å°ä¼šä¸æ–­å¢å¤§ã€‚&#010;&#010;&#010;åŸå§‹é‚®ä»¶&#010;å‘ä»¶äºº:x35907418@qq.com&#010;æ”¶ä»¶äºº:user-zhuser-zh@flink.apache.org&#010;å‘é€æ—¶é—´:2020å¹´7æœˆ8æ—¥(å‘¨ä¸‰)â€‡11:08&#010;ä¸»é¢˜:å›å¤ï¼š æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;&#010;&#010;æ‚¨è¯´çš„è¿™ç§æ–¹å¼ï¼ŒV1.10.1 ä¸æ”¯æŒå§ï¼Œæˆ‘çœ‹å‚æ•°åªæœ‰ä¸€ä¸ªStringç±»å‹çš„ void&#010;sqlUpdate(String stmt); ------------------nbsp;åŸå§‹é‚®ä»¶nbsp;------------------ å‘ä»¶äºº:nbsp;\"seeksst\"seeksst@163.comgt;;&#010;å‘é€æ—¶é—´:nbsp;2020å¹´7æœˆ7æ—¥(æ˜ŸæœŸäºŒ) ä¸­åˆ11:35 æ”¶ä»¶äºº:nbsp;\"user-zh\"user-zh@flink.apache.orggt;;&#010;ä¸»é¢˜:nbsp;å›å¤ï¼š æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV æˆ‘çœ‹ä½ ä»£ç ä¸Šæ˜¯sqlUpdateï¼ŒtableConfigæ˜¯å¦å¤–è®¾ç½®çš„ï¼Œéœ€è¦ä½œä¸ºå…¥å‚ä¸€åŒæ”¾å…¥sqlUpdateä¸­ï¼Œ&#010;ä½¿ç”¨æ–¹æ³•sqlUpdate(str, config) å¦å¤–å¦‚æœä½ ä½¿ç”¨çš„æ˜¯rocksdbï¼Œéœ€è¦å¼€å¯rocksdbçš„ttl&#010;state.backend.rocksdb.ttl.compaction.filter.enabledè®¾ç½®æˆtrue ä½ç‰ˆæœ¬è¿™ä¸ªå‚æ•°é»˜è®¤æ˜¯false&#010;åŸå§‹é‚®ä»¶ å‘ä»¶äºº:x35907418@qq.com æ”¶ä»¶äºº:user-zhuser-zh@flink.apache.org å‘é€æ—¶é—´:2020å¹´7æœˆ7æ—¥(å‘¨äºŒ)â€‡10:46&#010;ä¸»é¢˜:å›å¤ï¼š æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV æ˜¯blinkval setttings = EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build()&#010;------------------nbsp;åŸå§‹é‚®ä»¶nbsp;------------------ å‘ä»¶äºº:nbsp;\"Benchao Li\"libenchao@apache.orggt;;&#010;å‘é€æ—¶é—´:nbsp;2020å¹´7æœˆ6æ—¥(æ˜ŸæœŸä¸€) æ™šä¸Š11:11 æ”¶ä»¶äºº:nbsp;\"user-zh\"user-zh@flink.apache.orggt;;&#010;ä¸»é¢˜:nbsp;Re: æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV æ„Ÿè§‰ä¸å¤ªåº”è¯¥æœ‰è¿™ç§æƒ…å†µï¼Œä½ ç”¨çš„æ˜¯blink&#010;plannerä¹ˆï¼Ÿ x 35907418@qq.comgt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸‹åˆ1:24å†™é“ï¼š gt; sorry,æˆ‘è¯´é”™äº†ï¼Œç¡®å®æ²¡æœ‰ï¼Œéƒ½æ˜¯group&#010;agg. gt; gt; æˆ‘é…ç½®äº†tableConfig.setIdleStateRetentionTime(Time.minutes(2),Time.minutes(7))ï¼Œä½†æ˜¯çŠ¶æ€è¿˜æ˜¯è¶Šæ¥è¶Šå¤§ï¼Œæ²¡æœ‰æŒ‰æ—¢å®šé…ç½®è‡ªåŠ¨æ¸…ç†.&#010;gt; gt; gt; ------------------amp;nbsp;åŸå§‹é‚®ä»¶amp;nbsp;------------------ gt; å‘ä»¶äºº:amp;nbsp;\"Benchao&#010;Li\"libenchao@apache.orgamp;gt;; gt; å‘é€æ—¶é—´:amp;nbsp;2020å¹´7æœˆ6æ—¥(æ˜ŸæœŸä¸€) ä¸­åˆ12:52&#010;gt; æ”¶ä»¶äºº:amp;nbsp;\"user-zh\"user-zh@flink.apache.orgamp;gt;; gt; gt; ä¸»é¢˜:amp;nbsp;Re:&#010;æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV gt; gt; gt; gt; æˆ‘çœ‹ä½ çš„SQLé‡Œé¢å¹¶æ²¡æœ‰ç”¨åˆ°çª—å£å‘€ï¼Œåªæ˜¯ä¸€ä¸ªæ™®é€šçš„èšåˆã€‚&#010;gt; è¿™ç§èšåˆéœ€è¦è®¾ç½®åˆç†çš„state retention[1]æ—¶é—´çš„ï¼Œè¦ä¸ç„¶çŠ¶æ€é»˜è®¤æ˜¯æ°¸è¿œä¸æ¸…ç†çš„ã€‚&#010;gt; gt; [1] gt; gt; https://ci.apache.org/projects/flink/flink-docs-master/dev/table/streaming/query_configuration.html#idle-state-retention-time&#010;gt; gt; x 35907418@qq.comamp;gt; äº2020å¹´7æœˆ6æ—¥å‘¨ä¸€ ä¸Šåˆ11:15å†™é“ï¼š gt; gt; amp;gt;&#010;ç‰ˆæœ¬æ˜¯1.10.1ï¼Œæœ€åsinkçš„æ—¶å€™ç¡®å®æ˜¯ä¸€ä¸ªwindowé‡Œé¢åšcount gt; amp;gt; distinctæ“ä½œã€‚è¯·é—®æ˜¯åªè¦è®¡ç®—è¿‡ç¨‹ä¸­å«æœ‰ä¸€ä¸ªwindowé‡Œé¢åšcount&#010;gt; amp;gt; gt; distinctæ“ä½œï¼Œå°±ä¼šé€ æˆæ‰€æœ‰çŠ¶æ€è¿‡æœŸä¸è‡ªåŠ¨æ¸…ç†å—ï¼Ÿå®é™…æˆ‘windowè¿™æ­¥çš„çŠ¶æ€å¾ˆå°ï¼Œgroupamp;amp;nbsp;DATE_FORMAT(rowtm,&#010;gt; amp;gt; 'yyyy-MM-dd') è¿™ä¸ªsqlå¯¹åº”çš„çŠ¶æ€å¾ˆå¤§ã€‚ä»£ç å¦‚ä¸‹ï¼š gt; amp;gt; val&#010;rt_totaluv_view : Table = tabEnv.sqlQuery( gt; amp;gt;amp;nbsp;amp;nbsp; \"\"\" gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;SELECT MAX(DATE_FORMAT(rowtm, 'yyyy-MM-dd gt; HH:mm:00')) gt; amp;gt; time_str,COUNT(DISTINCT&#010;userkey) uv gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp; FROM source gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;GROUP BY DATE_FORMAT(rowtm, 'yyyy-MM-dd') gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;\"\"\") gt; amp;gt; tabEnv.createTemporaryView(\"rt_totaluv_view\",rt_totaluv_view) gt; amp;gt;&#010;gt; amp;gt; val totaluvTmp = gt; tabEnv.toRetractStream[(String,Long)](rt_totaluv_view) gt;&#010;amp;gt;amp;nbsp;amp;nbsp; .filter( line =amp;amp;gt; line._1 == true ).map( line gt; =amp;amp;gt;&#010;line._2 ) gt; amp;gt; gt; amp;gt; val totaluvTabTmp = tabEnv.fromDataStream( totaluvTmp )&#010;gt; amp;gt; gt; amp;gt; tabEnv.sqlUpdate( gt; amp;gt;amp;nbsp;amp;nbsp; s\"\"\" gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;INSERT INTO mysql_totaluv gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp; SELECT _1,MAX(_2)&#010;gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp; FROM $totaluvTabTmp gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp;&#010;GROUP BY _1 gt; amp;gt;amp;nbsp;amp;nbsp;amp;nbsp;amp;nbsp; \"\"\") gt; amp;gt; ------------------amp;amp;nbsp;åŸå§‹é‚®ä»¶amp;amp;nbsp;------------------&#010;gt; amp;gt; å‘ä»¶äºº:amp;amp;nbsp;\"Benchao Li\"libenchao@apache.orgamp;amp;gt;; gt; amp;gt;&#010;å‘é€æ—¶é—´:amp;amp;nbsp;2020å¹´7æœˆ3æ—¥(æ˜ŸæœŸäº”) æ™šä¸Š9:47 gt; amp;gt; æ”¶ä»¶äºº:amp;amp;nbsp;\"user-zh\"user-zh@flink.apache.orgamp;amp;gt;;&#010;gt; amp;gt; gt; amp;gt; ä¸»é¢˜:amp;amp;nbsp;Re: æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;gt; amp;gt; gt; amp;gt; gt; amp;gt; gt; amp;gt; ä½ ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬ï¼Ÿä¹‹å‰æ˜¯å­˜åœ¨ä¸€ä¸ªç±»ä¼¼é—®é¢˜çš„[1]ï¼Œæ˜¯åœ¨windowé‡Œé¢åšcount&#010;distinctä¼šæœ‰è¿™ä¸ªé—®é¢˜ï¼Œ gt; amp;gt; è¿™ä¸ªå·²ç»åœ¨1.11ä¸­ä¿®å¤äº†ã€‚ gt; amp;gt; gt;&#010;amp;gt; [1] https://issues.apache.org/jira/browse/FLINK-17942 gt; amp;gt; gt; amp;gt; x 35907418@qq.comamp;amp;gt;&#010;äº2020å¹´7æœˆ3æ—¥å‘¨äº” ä¸‹åˆ4:34å†™é“ï¼š gt; amp;gt; gt; amp;gt; amp;amp;gt; æ‚¨å¥½ï¼Œæˆ‘ç¨‹åºè¿è¡Œä¸€æ®µæ—¶é—´åï¼Œå‘ç°checkpointæ–‡ä»¶æ€»åœ¨å¢é•¿ï¼Œåº”è¯¥æ˜¯çŠ¶æ€æ²¡æœ‰è¿‡æœŸï¼Œ&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; gt; æˆ‘é…ç½®äº†tableConfig.setIdleStateRetentionTime(Time.minutes(2),Time.minutes(7)),æŒ‰ç†è¯´ï¼Œæ—¥æœŸæ˜¯å‰ä¸€å¤©çš„keyå¯¹åº”çš„çŠ¶æ€ä¼šåœ¨ç¬¬äºŒå¤©è¿‡æœŸçš„ã€‚&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; gt; ------------------amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶amp;amp;amp;nbsp;------------------&#010;gt; amp;gt; amp;amp;gt; å‘ä»¶äºº:amp;amp;amp;nbsp;\"Jark Wu\"imjark@gmail.comamp;amp;amp;gt;;&#010;gt; amp;gt; amp;amp;gt; å‘é€æ—¶é—´:amp;amp;amp;nbsp;2020å¹´6æœˆ18æ—¥(æ˜ŸæœŸå››) ä¸­åˆ12:16&#010;gt; amp;gt; amp;amp;gt; æ”¶ä»¶äºº:amp;amp;amp;nbsp;\"user-zh\"user-zh@flink.apache.org gt; amp;amp;amp;gt;;&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; ä¸»é¢˜:amp;amp;amp;nbsp;Re: æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;æ˜¯çš„ï¼Œæˆ‘è§‰å¾—è¿™æ ·å­æ˜¯èƒ½ç»•è¿‡çš„ã€‚ gt; amp;gt; amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;On Thu, 18 Jun 2020 at 10:34, x 35907418@qq.comamp;amp;amp;gt; gt; wrote: gt; amp;gt; amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; å¦‚æœæ˜¯1.10çš„è¯ï¼Œæˆ‘é€šè¿‡è¡¨è½¬æµ,å†è½¬è¡¨çš„æ–¹å¼å®ç°äº†ï¼Œæ‚¨çœ‹åˆç†å—?&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; val resTmpTab: Table = tabEnv.sqlQuery( gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp; \"\"\" gt; amp;gt; amp;amp;gt;&#010;gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp; SELECT&#010;gt; amp;gt; MAX(DATE_FORMAT(ts, 'yyyy-MM-dd gt; amp;gt; amp;amp;gt; HH:mm:00')) gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; time_str,COUNT(DISTINCT userkey) uv gt; amp;gt; amp;amp;gt; gt;&#010;amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp; FROM gt;&#010;amp;gt; user_behavioramp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp; GROUP BY gt; amp;gt;&#010;amp;amp;gt; DATE_FORMAT(ts, gt; 'yyyy-MM-dd')amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;\"\"\") gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; val gt;&#010;amp;gt; resTmpStream=tabEnv.toRetractStream[(String,Long)](resTmpTab) gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp; gt; amp;gt; amp;amp;gt; gt; .filter(line=amp;amp;amp;amp;gt;line._1==true).map(line=amp;amp;amp;amp;gt;line._2)&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; val res= tabEnv.fromDataStream(resTmpStream)&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; tabEnv.sqlUpdate( gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;s\"\"\" gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;INSERT gt; INTO gt; amp;gt; rt_totaluv gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;SELECT gt; _1,MAX(_2) gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;FROM gt; $res gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;GROUP gt; BY _1 gt; amp;gt; amp;amp;gt; gt; amp;amp;amp;gt;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;amp;amp;amp;nbsp;&#010;\"\"\") gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; gt; ------------------amp;amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶amp;amp;amp;amp;nbsp;------------------&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; å‘ä»¶äºº:amp;amp;amp;amp;nbsp;\"Jark Wu\" gt; imjark@gmail.comamp;amp;amp;amp;gt;;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; å‘é€æ—¶é—´:amp;amp;amp;amp;nbsp;2020å¹´6æœˆ17æ—¥(æ˜ŸæœŸä¸‰)&#010;ä¸­åˆ1:55 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; æ”¶ä»¶äºº:amp;amp;amp;amp;nbsp;\"user-zh\"&#010;gt; user-zh@flink.apache.org gt; amp;gt; amp;amp;amp;amp;gt;; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; ä¸»é¢˜:amp;amp;amp;amp;nbsp;Re: æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; åœ¨ Flink 1.11 ä¸­ï¼Œä½ å¯ä»¥å°è¯•è¿™æ ·ï¼š&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; CREATE TABLE&#010;mysql ( gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp;&#010;time_str gt; STRING, gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp;&#010;uv BIGINT, gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp;&#010;PRIMARY gt; KEY (ts) NOT ENFORCED gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; ) WITH ( gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp; gt; 'connector' = 'jdbc',&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp; 'url' =&#010;gt; amp;gt; 'jdbc:mysql://localhost:3306/mydatabase', gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;nbsp;amp;amp;amp;amp;nbsp; gt; 'table-name' = 'myuv' gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; ); gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;INSERT INTO mysql gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; SELECT MAX(DATE_FORMAT(ts, 'yyyy-MM-dd&#010;gt; HH:mm:00')), gt; amp;gt; amp;amp;gt; COUNT(DISTINCTamp;amp;amp;amp;nbsp; gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; user_id) gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; FROM user_behavior; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; On Wed, 17 Jun 2020 at&#010;13:49, xnbsp; gt; 35907418@qq.comamp;amp;amp;amp;gt; gt; amp;gt; wrote: gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; æ„Ÿè°¢æ‚¨çš„å›å¤ï¼Œæ‚¨æåˆ°çš„\"æ–¹æ³•ä¸€\"æˆ‘è¿˜æ˜¯æœ‰ç‚¹ä¸å¤ªç†è§£ï¼Œæˆ‘éœ€è¦æ¯åˆ†é’Ÿè¾“å‡ºä¸€ä¸ªç´¯è®¡UVï¼Œ&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; sinkè¡¨è¿™ä¸ªæ ·å¼ gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; tm uv gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; 2020/06/17 13:46:00 10000 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;2020/06/17 13:47:00 20000 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; 2020/06/17&#010;13:48:00 30000 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;group by æ—¥æœŸçš„è¯ï¼Œåˆ†é’Ÿå¦‚ä½•è·å– gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; gt; ------------------amp;amp;amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶amp;amp;amp;amp;amp;nbsp;------------------&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; å‘ä»¶äºº:amp;amp;amp;amp;amp;nbsp;\"Benchao&#010;Li\" gt; amp;gt; libenchao@apache.org gt; amp;gt; amp;amp;gt; amp;amp;amp;amp;amp;gt;; gt;&#010;amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; å‘é€æ—¶é—´:amp;amp;amp;amp;amp;nbsp;2020å¹´6æœˆ17æ—¥(æ˜ŸæœŸä¸‰)&#010;ä¸­åˆ11:46 gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; æ”¶ä»¶äºº:amp;amp;amp;amp;amp;nbsp;\"user-zh\"&#010;gt; amp;gt; user-zh@flink.apache.org gt; amp;gt; amp;amp;gt; amp;amp;amp;amp;amp;gt;; gt;&#010;amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; ä¸»é¢˜:amp;amp;amp;amp;amp;nbsp;Re: gt; æ±‚åŠ©ï¼šFLINKSQL1.10å®æ—¶ç»Ÿè®¡ç´¯è®¡UV&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; Hiï¼Œ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; æˆ‘æ„Ÿè§‰è¿™ç§åœºæ™¯å¯ä»¥æœ‰ä¸¤ç§æ–¹å¼ï¼Œ gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; 1. å¯ä»¥ç›´æ¥ç”¨group by + mini batch gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; 2. windowèšåˆ + fast emit gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; å¯¹äº#1ï¼Œgroup&#010;gt; amp;gt; byçš„å­—æ®µé‡Œé¢å¯ä»¥æœ‰ä¸€ä¸ªæ—¥æœŸçš„å­—æ®µï¼Œä¾‹å¦‚ä½ ä¸Šé¢æåˆ°çš„DATE_FORMAT(rowtm,&#010;gt; amp;gt; amp;amp;gt; 'yyyy-MM-dd')ã€‚ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;è¿™ç§æƒ…å†µä¸‹çš„çŠ¶æ€æ¸…ç†ï¼Œéœ€è¦é…ç½®state gt; retentionæ—¶é—´ï¼Œé…ç½®æ–¹æ³•å¯ä»¥å‚è€ƒ[1]&#010;gt; amp;gt; ã€‚åŒæ—¶ï¼Œmini gt; amp;gt; amp;amp;gt; batchçš„å¼€å¯ä¹Ÿéœ€è¦ gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; ç”¨å‚æ•°[2] æ¥æ‰“å¼€ã€‚ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; å¯¹äº#2ï¼Œè¿™ç§ç›´æ¥å¼€ä¸€ä¸ªå¤©çº§åˆ«çš„tumbleçª—å£å°±è¡Œã€‚ç„¶åçŠ¶æ€æ¸…ç†ä¸ç”¨ç‰¹æ®Šé…ç½®ï¼Œé»˜è®¤å°±å¯ä»¥æ¸…ç†ã€‚&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; fast gt; amp;gt; amp;amp;gt; gt;&#010;emitè¿™ä¸ªé…ç½®ç°åœ¨è¿˜æ˜¯ä¸€ä¸ªexperimentalçš„featureï¼Œæ‰€ä»¥æ²¡æœ‰åœ¨æ–‡æ¡£ä¸­åˆ—å‡ºæ¥ï¼Œæˆ‘æŠŠé…ç½®è´´åˆ°è¿™é‡Œï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼š&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; table.exec.emit.early-fire.enabled&#010;= true gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; table.exec.emit.early-fire.delay&#010;= 60 s gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; [1] gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; gt; amp;gt; gt; https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/table/streaming/query_configuration.html&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; [2] gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; gt; amp;gt; gt; https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/table/config.html&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; x 35907418@qq.com gt; amp;amp;amp;amp;amp;gt; gt; amp;gt; äº2020å¹´6æœˆ17æ—¥å‘¨ä¸‰&#010;ä¸Šåˆ11:14å†™é“ï¼š gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt;&#010;éœ€æ±‚æ˜¯ï¼Œæ¯åˆ†é’Ÿç»Ÿè®¡å½“æ—¥0æ—¶åˆ°å½“å‰çš„ç´¯è®¡UVæ•°ï¼Œç”¨ä¸‹é¢çš„è¿™ç§æ–¹å¼ï¼Œè·¨å¤©çš„æ—¶å€™ï¼Œç´¯è®¡UVä¸ä¼šæ¸…é›¶ï¼Œè¿˜ä¼šä¸€ç›´ç´¯è®¡&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; CREATE&#010;gt; VIEW uv_per_10min AS gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt;&#010;gt; SELECTamp;amp;amp;amp;amp;amp;nbsp; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;amp;amp;amp;amp;amp;gt; gt; amp;amp;amp;amp;amp;amp;nbsp; gt; amp;gt; amp;amp;gt; MAX(DATE_FORMAT(proctimeamp;amp;amp;amp;amp;amp;nbsp;,&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; 'yyyy-MM-dd gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; gt; HH:mm:00'))amp;amp;amp;amp;amp;amp;nbsp;OVER w gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; AS gt; amp;gt; time_str,amp;amp;amp;amp;amp;amp;nbsp;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; gt; amp;amp;amp;amp;amp;amp;nbsp;&#010;gt; amp;gt; COUNT(DISTINCT user_id) OVER gt; amp;gt; amp;amp;gt; w AS uv gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; FROM gt; user_behavior gt; amp;gt;&#010;amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; WINDOW w gt; AS (ORDER&#010;BY proctime gt; amp;gt; ROWS BETWEEN gt; amp;gt; amp;amp;gt; UNBOUNDED gt; amp;gt; amp;amp;gt;&#010;amp;amp;amp;gt; PRECEDING AND gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;amp;amp;amp;amp;amp;gt; CURRENT gt; ROW); gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt;&#010;amp;amp;amp;amp;amp;gt; gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt;&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; gt; æƒ³è¯·æ•™ä¸€ä¸‹ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ&#010;gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; PARTITION&#010;gt; BY gt; amp;gt; DATE_FORMAT(rowtm, 'yyyy-MM-dd') gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;è¿™æ ·å¯ä»¥å—ï¼Œå¦å¤–çŠ¶æ€åº”è¯¥å¦‚ä½•æ¸…ç†ï¼Ÿ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt;&#010;amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt; gt; PSï¼š1.10è²Œä¼¼ä¸æ”¯æŒDDLè²Œä¼¼ä¸æ”¯æŒCREATE&#010;gt; amp;gt; VIEWå§ gt; amp;gt; amp;amp;gt; amp;amp;amp;gt; amp;amp;amp;amp;gt; amp;amp;amp;amp;amp;gt;&#010;å¤šè°¢ gt; amp;gt; gt; amp;gt; gt; amp;gt; gt; amp;gt; -- gt; amp;gt; gt; amp;gt; Best, gt;&#010;amp;gt; Benchao Li gt; gt; gt; gt; -- gt; gt; Best, gt; Benchao Li -- Best, Benchao Li",
        "depth": "1",
        "reply": "<tencent_8D53CEEA7B745C773A5EA0E4@qq.com>"
    },
    {
        "id": "<202007071145178616921@163.com>",
        "from": "&quot;liuhy_email@163.com&quot; &lt;liuhy_em...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 03:45:18 GMT",
        "subject": "FlinkWebUI å‚æ•°ç–‘é—®",
        "content": "Dear,&#013;&#010;    è¯·é—®FlinkUIä¸­TaskManageré¡µé¢çš„å‚æ•°å«ä¹‰æ˜¯ä»€ä¹ˆï¼Œæœ‰ç›¸å…³çš„æ–‡ç« æè¿°å—ï¼Ÿ&#013;&#010;    &#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;Thanks,&#013;&#010;Hongyang&#013;&#010;",
        "depth": "0",
        "reply": "<202007071145178616921@163.com>"
    },
    {
        "id": "<tencent_8E0E45008C7D3A05E365A7CEE65098762C09@qq.com>",
        "from": "&quot;ã‚é‡è »éŠæˆ²Ï‡&quot; &lt;zhoujiazhi1...@vip.qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 04:14:57 GMT",
        "subject": "DataStreamçš„stateé—®é¢˜",
        "content": "Deal all:&#013;&#010;&#013;&#010;&#013;&#010;æƒ³é—®ä¸‹,åœ¨ç»™stateè®¾ç½®ttlçš„æ—¶å€™ï¼Œå¦‚ä¸‹é¢çš„ä»£ç ï¼š&amp;nbsp; &amp;nbsp; &amp;nbsp;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; StateTtlConfig&#010;ttlConfig = StateTtlConfig&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .newBuilder(Time.days(1))&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .setUpdateType(StateTtlConfig.UpdateType.OnCreateAndWrite)&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .setStateVisibility(StateTtlConfig.StateVisibility.NeverReturnExpired)&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .build();&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;è®¾ç½®äº†1å¤©æ—¶é—´ä¹‹åå¤±æ•ˆï¼Œä¾‹å¦‚2020-07-07 08:30:00ç‚¹å¼€å§‹çš„jobï¼Œé‚£å¤±æ•ˆæ—¶é—´æ˜¯è¿™ä¸ªæ—¶é—´æ®µ2020-07-07&#010;00:00:00~2020-07-07 23:59:59ï¼Œè¿˜æ˜¯jobä¸Šçº¿ä¹‹åï¼Œ2020-07-07 08:30:00~2020-07-08 08:30:00è¿™ä¸ªæ—¶é—´æ®µ?&#013;&#010;&#013;&#010;&#013;&#010;Thanks&#013;&#010;Jiazhi",
        "depth": "0",
        "reply": "<tencent_8E0E45008C7D3A05E365A7CEE65098762C09@qq.com>"
    },
    {
        "id": "<CAA8tFvspJMBj3_HW96k-82U9F7-VVPSXnwdujvAX-oc3oz_c6A@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 05:13:11 GMT",
        "subject": "Re: DataStreamçš„stateé—®é¢˜",
        "content": "Hi&#013;&#010;&#013;&#010;æ˜¯æœ€åä¸€æ¬¡ access çš„æ—¶é—´åˆ°å½“å‰çš„æ—¶é—´è¶…è¿‡äº†ä½ è®¾ç½®çš„ ttl é—´éš”ï¼Œæ¯”å¦‚ä½ é…ç½®çš„æ˜¯&#010;`OnCreateAndWrite`&#013;&#010;é‚£ä¹ˆå°±æ˜¯åˆ›å»ºå’Œå†™æ“ä½œä¹‹åçš„ 1 å¤©ï¼Œè¿™ä¸ª state ä¼šå˜æˆ expiredï¼Œå…·ä½“çš„å¯ä»¥å‚è€ƒæ–‡æ¡£[1]&#013;&#010;&#013;&#010;[1]&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-release-1.10/zh/dev/stream/state/state.html#%E7%8A%B6%E6%80%81%E6%9C%89%E6%95%88%E6%9C%9F-ttl&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;ã‚é‡è »éŠæˆ²Ï‡ &lt;zhoujiazhi1985@vip.qq.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸‹åˆ12:17å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Deal all:&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æƒ³é—®ä¸‹,åœ¨ç»™stateè®¾ç½®ttlçš„æ—¶å€™ï¼Œå¦‚ä¸‹é¢çš„ä»£ç ï¼š&amp;nbsp; &amp;nbsp;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#013;&#010;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; StateTtlConfig ttlConfig = StateTtlConfig&#013;&#010;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#010;&amp;nbsp; &amp;nbsp;&#013;&#010;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .newBuilder(Time.days(1))&#013;&#010;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#010;&amp;nbsp; &amp;nbsp;&#013;&#010;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#013;&#010;&gt; .setUpdateType(StateTtlConfig.UpdateType.OnCreateAndWrite)&#013;&#010;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#010;&amp;nbsp; &amp;nbsp;&#013;&#010;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#013;&#010;&gt; .setStateVisibility(StateTtlConfig.StateVisibility.NeverReturnExpired)&#013;&#010;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#010;&amp;nbsp; &amp;nbsp;&#013;&#010;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .build();&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; è®¾ç½®äº†1å¤©æ—¶é—´ä¹‹åå¤±æ•ˆï¼Œä¾‹å¦‚2020-07-07 08:30:00ç‚¹å¼€å§‹çš„jobï¼Œé‚£å¤±æ•ˆæ—¶é—´æ˜¯è¿™ä¸ªæ—¶é—´æ®µ2020-07-07&#013;&#010;&gt; 00:00:00~2020-07-07 23:59:59ï¼Œè¿˜æ˜¯jobä¸Šçº¿ä¹‹åï¼Œ2020-07-07 08:30:00~2020-07-08&#013;&#010;&gt; 08:30:00è¿™ä¸ªæ—¶é—´æ®µ?&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Thanks&#013;&#010;&gt; Jiazhi&#013;&#010;",
        "depth": "1",
        "reply": "<tencent_8E0E45008C7D3A05E365A7CEE65098762C09@qq.com>"
    },
    {
        "id": "<tencent_7AE53F89EE301B12EA5929C42583365AC708@qq.com>",
        "from": "&quot;op&quot; &lt;520075...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 09:01:28 GMT",
        "subject": "flink sql è¯»å†™å†™kafkaè¡¨çš„æ—¶å€™å¯ä»¥æŒ‡å®šæ¶ˆæ¯çš„keyå—",
        "content": "hiï¼š&#013;&#010;&amp;nbsp; flink sql å†™kafkaè¡¨çš„æ—¶å€™å¯ä»¥æŒ‡å®šæ¶ˆæ¯çš„keyå—ï¼Ÿ&#013;&#010;çœ‹å®˜ç½‘çš„kafka connectoræ²¡æœ‰æ‰¾åˆ°æ¶ˆæ¯keyç›¸å…³çš„è¯´æ˜&#013;&#010;å¦‚æœå¯ä»¥çš„è¯ï¼Œå¦‚ä½•æŒ‡å®šï¼Ÿ&#013;&#010;&amp;nbsp;è°¢è°¢",
        "depth": "0",
        "reply": "<tencent_7AE53F89EE301B12EA5929C42583365AC708@qq.com>"
    },
    {
        "id": "<37E141CE-99B1-4EED-B1A6-9752AF40F6D5@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 09:15:49 GMT",
        "subject": "Re: flink sql è¯»å†™å†™kafkaè¡¨çš„æ—¶å€™å¯ä»¥æŒ‡å®šæ¶ˆæ¯çš„keyå—",
        "content": "Hi,&#010;&#010;ç›®å‰è¿˜ä¸æ”¯æŒçš„ï¼Œç¤¾åŒºæœ‰ä¸€ä¸ª FLIP-107[1] åœ¨è®¡åˆ’åšè¿™ä¸ªäº‹æƒ…ã€‚&#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;[1] https://cwiki.apache.org/confluence/display/FLINK/FLIP-107%3A+Reading+table+columns+from+different+parts+of+source+records#FLIP107:Readingtablecolumnsfromdifferentpartsofsourcerecords-Kafka:ETL:read,transformandwritebackwithkey,value.Allfieldsofthekeyarepresentinthevalueaswell.&#010;&lt;https://cwiki.apache.org/confluence/display/FLINK/FLIP-107%3A+Reading+table+columns+from+different+parts+of+source+records#FLIP107:Readingtablecolumnsfromdifferentpartsofsourcerecords-Kafka:ETL:read,transformandwritebackwithkey,value.Allfieldsofthekeyarepresentinthevalueaswell.&gt;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ7æ—¥ï¼Œ17:01ï¼Œop &lt;520075694@qq.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; hiï¼š&#010;&gt; &amp;nbsp; flink sql å†™kafkaè¡¨çš„æ—¶å€™å¯ä»¥æŒ‡å®šæ¶ˆæ¯çš„keyå—ï¼Ÿ&#010;&gt; çœ‹å®˜ç½‘çš„kafka connectoræ²¡æœ‰æ‰¾åˆ°æ¶ˆæ¯keyç›¸å…³çš„è¯´æ˜&#010;&gt; å¦‚æœå¯ä»¥çš„è¯ï¼Œå¦‚ä½•æŒ‡å®šï¼Ÿ&#010;&gt; &amp;nbsp;è°¢è°¢&#010;&#010;&#010;",
        "depth": "1",
        "reply": "<tencent_7AE53F89EE301B12EA5929C42583365AC708@qq.com>"
    },
    {
        "id": "<tencent_0AB53C39911AE640022E2B925874F0494B05@qq.com>",
        "from": "&quot;op&quot; &lt;520075...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 09:16:55 GMT",
        "subject": "å›å¤ï¼š flink sql è¯»å†™å†™kafkaè¡¨çš„æ—¶å€™å¯ä»¥æŒ‡å®šæ¶ˆæ¯çš„keyå—",
        "content": "æ„Ÿè°¢&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"Leonard Xu\"&lt;xbjtdcq@gmail.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ7æ—¥(æ˜ŸæœŸäºŒ) ä¸‹åˆ5:15&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;Re: flink sql è¯»å†™å†™kafkaè¡¨çš„æ—¶å€™å¯ä»¥æŒ‡å®šæ¶ˆæ¯çš„keyå—&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;Hi,&#013;&#010;&#013;&#010;ç›®å‰è¿˜ä¸æ”¯æŒçš„ï¼Œç¤¾åŒºæœ‰ä¸€ä¸ª FLIP-107[1] åœ¨è®¡åˆ’åšè¿™ä¸ªäº‹æƒ…ã€‚&#013;&#010;&#013;&#010;ç¥å¥½ï¼Œ&#013;&#010;Leonard Xu&#013;&#010;[1] https://cwiki.apache.org/confluence/display/FLINK/FLIP-107%3A+Reading+table+columns+from+different+parts+of+source+records#FLIP107:Readingtablecolumnsfromdifferentpartsofsourcerecords-Kafka:ETL:read,transformandwritebackwithkey,value.Allfieldsofthekeyarepresentinthevalueaswell.&#010;&lt;https://cwiki.apache.org/confluence/display/FLINK/FLIP-107%3A+Reading+table+columns+from+different+parts+of+source+records#FLIP107:Readingtablecolumnsfromdifferentpartsofsourcerecords-Kafka:ETL:read,transformandwritebackwithkey,value.Allfieldsofthekeyarepresentinthevalueaswell.&amp;gt;&#013;&#010;&#013;&#010;&amp;gt; åœ¨ 2020å¹´7æœˆ7æ—¥ï¼Œ17:01ï¼Œop &lt;520075694@qq.com&amp;gt; å†™é“ï¼š&#013;&#010;&amp;gt; &#013;&#010;&amp;gt; hiï¼š&#013;&#010;&amp;gt; &amp;amp;nbsp; flink sql å†™kafkaè¡¨çš„æ—¶å€™å¯ä»¥æŒ‡å®šæ¶ˆæ¯çš„keyå—ï¼Ÿ&#013;&#010;&amp;gt; çœ‹å®˜ç½‘çš„kafka connectoræ²¡æœ‰æ‰¾åˆ°æ¶ˆæ¯keyç›¸å…³çš„è¯´æ˜&#013;&#010;&amp;gt; å¦‚æœå¯ä»¥çš„è¯ï¼Œå¦‚ä½•æŒ‡å®šï¼Ÿ&#013;&#010;&amp;gt; &amp;amp;nbsp;è°¢è°¢",
        "depth": "2",
        "reply": "<tencent_7AE53F89EE301B12EA5929C42583365AC708@qq.com>"
    },
    {
        "id": "<CAELO9336=vRyo7F2_-h44yKJBZ+ko7WnGzo+seuRVBTz_kvz6w@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 10:01:26 GMT",
        "subject": "Re: flink sql è¯»å†™å†™kafkaè¡¨çš„æ—¶å€™å¯ä»¥æŒ‡å®šæ¶ˆæ¯çš„keyå—",
        "content": "Hi,&#013;&#010;&#013;&#010;å¯ä»¥æè¿°ä¸‹ä½ çš„ä¸šåŠ¡åœºæ™¯ä¹ˆï¼Ÿ ä¸ºä»€ä¹ˆä¸€å®šè¦å»è·å– key çš„ä¿¡æ¯å‘¢ï¼Œå› ä¸ºæŒ‰ç…§æˆ‘çš„ç†è§£ï¼Œä¸€èˆ¬æ¥è¯´&#010;key çš„ä¿¡æ¯ä¸€èˆ¬åœ¨ value ä¸­ä¹Ÿæœ‰ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Jark&#013;&#010;&#013;&#010;On Tue, 7 Jul 2020 at 17:17, op &lt;520075694@qq.com&gt; wrote:&#013;&#010;&#013;&#010;&gt; æ„Ÿè°¢&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;&gt; å‘ä»¶äºº:&amp;nbsp;\"Leonard Xu\"&lt;xbjtdcq@gmail.com&amp;gt;;&#013;&#010;&gt; å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ7æ—¥(æ˜ŸæœŸäºŒ) ä¸‹åˆ5:15&#013;&#010;&gt; æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&gt;&#013;&#010;&gt; ä¸»é¢˜:&amp;nbsp;Re: flink sql è¯»å†™å†™kafkaè¡¨çš„æ—¶å€™å¯ä»¥æŒ‡å®šæ¶ˆæ¯çš„keyå—&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt; ç›®å‰è¿˜ä¸æ”¯æŒçš„ï¼Œç¤¾åŒºæœ‰ä¸€ä¸ª FLIP-107[1] åœ¨è®¡åˆ’åšè¿™ä¸ªäº‹æƒ…ã€‚&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½ï¼Œ&#013;&#010;&gt; Leonard Xu&#013;&#010;&gt; [1]&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-107%3A+Reading+table+columns+from+different+parts+of+source+records#FLIP107:Readingtablecolumnsfromdifferentpartsofsourcerecords-Kafka:ETL:read,transformandwritebackwithkey,value.Allfieldsofthekeyarepresentinthevalueaswell.&#013;&#010;&gt; &lt;&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-107%3A+Reading+table+columns+from+different+parts+of+source+records#FLIP107:Readingtablecolumnsfromdifferentpartsofsourcerecords-Kafka:ETL:read,transformandwritebackwithkey,value.Allfieldsofthekeyarepresentinthevalueaswell.&amp;gt&#013;&#010;&gt; ;&#013;&#010;&gt;&#013;&#010;&gt; &amp;gt; åœ¨ 2020å¹´7æœˆ7æ—¥ï¼Œ17:01ï¼Œop &lt;520075694@qq.com&amp;gt; å†™é“ï¼š&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; hiï¼š&#013;&#010;&gt; &amp;gt; &amp;amp;nbsp; flink sql å†™kafkaè¡¨çš„æ—¶å€™å¯ä»¥æŒ‡å®šæ¶ˆæ¯çš„keyå—ï¼Ÿ&#013;&#010;&gt; &amp;gt; çœ‹å®˜ç½‘çš„kafka connectoræ²¡æœ‰æ‰¾åˆ°æ¶ˆæ¯keyç›¸å…³çš„è¯´æ˜&#013;&#010;&gt; &amp;gt; å¦‚æœå¯ä»¥çš„è¯ï¼Œå¦‚ä½•æŒ‡å®šï¼Ÿ&#013;&#010;&gt; &amp;gt; &amp;amp;nbsp;è°¢è°¢&#013;&#010;",
        "depth": "3",
        "reply": "<tencent_7AE53F89EE301B12EA5929C42583365AC708@qq.com>"
    },
    {
        "id": "<CAEZk042PA6UGmd-gt9Cj2NH04h=xZPboj=+x3e5P8tu0M7WG=A@mail.gmail.com>",
        "from": "Dream-åº•é™ &lt;zhan...@akulaku.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 09:12:41 GMT",
        "subject": "flink kafka connectorä¸­è·å–kafkaå…ƒæ•°æ®",
        "content": "hiã€&#013;&#010;flink table/sql apiä¸­ï¼Œæœ‰åŠæ³•è·å–kafkaå…ƒæ•°æ®å—ï¼Ÿ&#013;&#010;&#013;&#010;tableEnvironment.sqlUpdate(CREATE TABLE MyUserTable (...) WITH&#013;&#010;('connector.type' = 'kafka','connector.version' = '0.11' ,...))&#013;&#010;",
        "depth": "0",
        "reply": "<CAEZk042PA6UGmd-gt9Cj2NH04h=xZPboj=+x3e5P8tu0M7WG=A@mail.gmail.com>"
    },
    {
        "id": "<F153E364-0DA6-433B-85DD-F7FEA861FBD9@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 09:19:22 GMT",
        "subject": "Re: flink kafka connectorä¸­è·å–kafkaå…ƒæ•°æ®",
        "content": "Hi,&#010; kafkaå…ƒæ•°æ® æ˜¯æŒ‡kafkaè®°å½•é‡Œçš„ metaæ•°æ®å—ï¼Ÿ æ¯”å¦‚kafkaè‡ªå¸¦çš„timestampï¼Œkafkaçš„keyä¿¡æ¯ã€‚&#010;å¦‚æœæ˜¯è¿™äº›ä¿¡æ¯çš„è¯ï¼Œ Table/SQL API ç›®å‰è¿˜æ²¡åŠæ³•æ‹¿åˆ°ï¼Œ FLIP-107[1] ä¼šæ”¯æŒè¿™ä¸ªäº‹æƒ…ã€‚&#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;&#010;[1] https://cwiki.apache.org/confluence/display/FLINK/FLIP-107%3A+Reading+table+columns+from+different+parts+of+source+records&#010;&lt;https://cwiki.apache.org/confluence/display/FLINK/FLIP-107:+Reading+table+columns+from+different+parts+of+source+records&gt;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ7æ—¥ï¼Œ17:12ï¼ŒDream-åº•é™ &lt;zhangyu@akulaku.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; kafkaå…ƒæ•°æ®&#010;&#010;&#010;",
        "depth": "1",
        "reply": "<CAEZk042PA6UGmd-gt9Cj2NH04h=xZPboj=+x3e5P8tu0M7WG=A@mail.gmail.com>"
    },
    {
        "id": "<CAEZk042XNCU-ZvAqGm=SzWNFtORu+3GxHyB3nBUeVLC0JXTTPg@mail.gmail.com>",
        "from": "Dream-åº•é™ &lt;zhan...@akulaku.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 09:26:43 GMT",
        "subject": "Re: flink kafka connectorä¸­è·å–kafkaå…ƒæ•°æ®",
        "content": "hi&#013;&#010;æ˜¯çš„ï¼Œæƒ³ä»¥ä¸‹é¢è¿™ç§æ–¹å¼è·å–&#013;&#010;&#013;&#010;CREATE TABLE MyUserTable (key string,topic string,....,ä»¥åŠå…¶ä»–çš„æ•°æ®å­—æ®µ) WITH&#013;&#010;('connector.type' = 'kafka','connector.version' = '0.11' ,...)&#013;&#010;&#013;&#010;&#013;&#010;On Tue, Jul 7, 2020 at 5:19 PM Leonard Xu &lt;xbjtdcq@gmail.com&gt; wrote:&#013;&#010;&#013;&#010;&gt; Hi,&#013;&#010;&gt;  kafkaå…ƒæ•°æ® æ˜¯æŒ‡kafkaè®°å½•é‡Œçš„ metaæ•°æ®å—ï¼Ÿ æ¯”å¦‚kafkaè‡ªå¸¦çš„timestampï¼Œkafkaçš„keyä¿¡æ¯ã€‚&#013;&#010;&gt; å¦‚æœæ˜¯è¿™äº›ä¿¡æ¯çš„è¯ï¼Œ Table/SQL API ç›®å‰è¿˜æ²¡åŠæ³•æ‹¿åˆ°ï¼Œ FLIP-107[1]&#010;ä¼šæ”¯æŒè¿™ä¸ªäº‹æƒ…ã€‚&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½ï¼Œ&#013;&#010;&gt; Leonard Xu&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-107%3A+Reading+table+columns+from+different+parts+of+source+records&#013;&#010;&gt; &lt;&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-107:+Reading+table+columns+from+different+parts+of+source+records&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;&gt; &gt; åœ¨ 2020å¹´7æœˆ7æ—¥ï¼Œ17:12ï¼ŒDream-åº•é™ &lt;zhangyu@akulaku.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; kafkaå…ƒæ•°æ®&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<CAEZk042PA6UGmd-gt9Cj2NH04h=xZPboj=+x3e5P8tu0M7WG=A@mail.gmail.com>"
    },
    {
        "id": "<C19B4DFC-BD1C-4955-BC77-7892E2E2A058@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 09:29:30 GMT",
        "subject": "Re: flink kafka connectorä¸­è·å–kafkaå…ƒæ•°æ®",
        "content": "å—¯ï¼Œè¿™ä¸ªåœ¨FLIP-107é‡Œä¼šæ”¯æŒï¼Œç›®å‰æ²¡æ³•æ‹¿åˆ°è¿™äº›metaæ•°æ®ï¼Œå¯ä»¥å…³æ³¨ä¸‹FLIP-107çš„è¿›å±•ã€‚&#010;&#010;Best,&#010;Leonard Xu&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ7æ—¥ï¼Œ17:26ï¼ŒDream-åº•é™ &lt;zhangyu@akulaku.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; hi&#010;&gt; æ˜¯çš„ï¼Œæƒ³ä»¥ä¸‹é¢è¿™ç§æ–¹å¼è·å–&#010;&gt; &#010;&gt; CREATE TABLE MyUserTable (key string,topic string,....,ä»¥åŠå…¶ä»–çš„æ•°æ®å­—æ®µ) WITH&#010;&gt; ('connector.type' = 'kafka','connector.version' = '0.11' ,...)&#010;&gt; &#010;&gt; &#010;&gt; On Tue, Jul 7, 2020 at 5:19 PM Leonard Xu &lt;xbjtdcq@gmail.com&gt; wrote:&#010;&gt; &#010;&gt;&gt; Hi,&#010;&gt;&gt; kafkaå…ƒæ•°æ® æ˜¯æŒ‡kafkaè®°å½•é‡Œçš„ metaæ•°æ®å—ï¼Ÿ æ¯”å¦‚kafkaè‡ªå¸¦çš„timestampï¼Œkafkaçš„keyä¿¡æ¯ã€‚&#010;&gt;&gt; å¦‚æœæ˜¯è¿™äº›ä¿¡æ¯çš„è¯ï¼Œ Table/SQL API ç›®å‰è¿˜æ²¡åŠæ³•æ‹¿åˆ°ï¼Œ FLIP-107[1]&#010;ä¼šæ”¯æŒè¿™ä¸ªäº‹æƒ…ã€‚&#010;&gt;&gt; &#010;&gt;&gt; ç¥å¥½ï¼Œ&#010;&gt;&gt; Leonard Xu&#010;&gt;&gt; &#010;&gt;&gt; [1]&#010;&gt;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-107%3A+Reading+table+columns+from+different+parts+of+source+records&#010;&gt;&gt; &lt;&#010;&gt;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-107:+Reading+table+columns+from+different+parts+of+source+records&#010;&gt;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt;&gt; åœ¨ 2020å¹´7æœˆ7æ—¥ï¼Œ17:12ï¼ŒDream-åº•é™ &lt;zhangyu@akulaku.com&gt; å†™é“ï¼š&#010;&gt;&gt;&gt; &#010;&gt;&gt;&gt; kafkaå…ƒæ•°æ®&#010;&gt;&gt; &#010;&gt;&gt; &#010;&#010;&#010;",
        "depth": "3",
        "reply": "<CAEZk042PA6UGmd-gt9Cj2NH04h=xZPboj=+x3e5P8tu0M7WG=A@mail.gmail.com>"
    },
    {
        "id": "<CAEZk042tqaAWt80RVh-wKKF3qqs6Qgk9k-1ckw-Ty5_FioiA4A@mail.gmail.com>",
        "from": "Dream-åº•é™ &lt;zhan...@akulaku.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 09:42:39 GMT",
        "subject": "Re: flink kafka connectorä¸­è·å–kafkaå…ƒæ•°æ®",
        "content": "å¥½çš„&#013;&#010;&#013;&#010;On Tue, Jul 7, 2020 at 5:30 PM Leonard Xu &lt;xbjtdcq@gmail.com&gt; wrote:&#013;&#010;&#013;&#010;&gt; å—¯ï¼Œè¿™ä¸ªåœ¨FLIP-107é‡Œä¼šæ”¯æŒï¼Œç›®å‰æ²¡æ³•æ‹¿åˆ°è¿™äº›metaæ•°æ®ï¼Œå¯ä»¥å…³æ³¨ä¸‹FLIP-107çš„è¿›å±•ã€‚&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Leonard Xu&#013;&#010;&gt;&#013;&#010;&gt; &gt; åœ¨ 2020å¹´7æœˆ7æ—¥ï¼Œ17:26ï¼ŒDream-åº•é™ &lt;zhangyu@akulaku.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; hi&#013;&#010;&gt; &gt; æ˜¯çš„ï¼Œæƒ³ä»¥ä¸‹é¢è¿™ç§æ–¹å¼è·å–&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; CREATE TABLE MyUserTable (key string,topic string,....,ä»¥åŠå…¶ä»–çš„æ•°æ®å­—æ®µ)&#010;WITH&#013;&#010;&gt; &gt; ('connector.type' = 'kafka','connector.version' = '0.11' ,...)&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; On Tue, Jul 7, 2020 at 5:19 PM Leonard Xu &lt;xbjtdcq@gmail.com&gt; wrote:&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&gt; Hi,&#013;&#010;&gt; &gt;&gt; kafkaå…ƒæ•°æ® æ˜¯æŒ‡kafkaè®°å½•é‡Œçš„ metaæ•°æ®å—ï¼Ÿ æ¯”å¦‚kafkaè‡ªå¸¦çš„timestampï¼Œkafkaçš„keyä¿¡æ¯ã€‚&#013;&#010;&gt; &gt;&gt; å¦‚æœæ˜¯è¿™äº›ä¿¡æ¯çš„è¯ï¼Œ Table/SQL API ç›®å‰è¿˜æ²¡åŠæ³•æ‹¿åˆ°ï¼Œ FLIP-107[1]&#010;ä¼šæ”¯æŒè¿™ä¸ªäº‹æƒ…ã€‚&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; ç¥å¥½ï¼Œ&#013;&#010;&gt; &gt;&gt; Leonard Xu&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt; [1]&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-107%3A+Reading+table+columns+from+different+parts+of+source+records&#013;&#010;&gt; &gt;&gt; &lt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-107:+Reading+table+columns+from+different+parts+of+source+records&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt; åœ¨ 2020å¹´7æœˆ7æ—¥ï¼Œ17:12ï¼ŒDream-åº•é™ &lt;zhangyu@akulaku.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt;&gt;&gt; kafkaå…ƒæ•°æ®&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt; &gt;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "4",
        "reply": "<CAEZk042PA6UGmd-gt9Cj2NH04h=xZPboj=+x3e5P8tu0M7WG=A@mail.gmail.com>"
    },
    {
        "id": "<CAELO933frvH5eUuztm-MnEqh7uiEChx4mnbsDEACWQgBERZ-qg@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 10:14:35 GMT",
        "subject": "Re: flink kafka connectorä¸­è·å–kafkaå…ƒæ•°æ®",
        "content": "Hi,&#013;&#010;&#013;&#010;ç¤¾åŒºå¯èƒ½æ‰“ç®—å…ˆæ”¯æŒ timestamp å’Œ key çš„è¯»å†™ï¼Œå…¶ä»– meta ä¿¡æ¯ï¼ˆtopic, partition,&#010;etc..ï¼‰å¯èƒ½ä¼šä»¥åå†æ”¯æŒã€‚&#013;&#010;ä½ å¯¹å…¶ä»– meta ä¿¡æ¯çš„è¯»å–éœ€æ±‚å¤§å—ï¼Ÿ èƒ½å…·ä½“è¯´è¯´ä½ çš„ä¸šåŠ¡åœºæ™¯ä¸ï¼Ÿæ„Ÿè°¢ï¼&#013;&#010;&#013;&#010;Best,&#013;&#010;Jark&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;On Tue, 7 Jul 2020 at 17:42, Dream-åº•é™ &lt;zhangyu@akulaku.com&gt; wrote:&#013;&#010;&#013;&#010;&gt; å¥½çš„&#013;&#010;&gt;&#013;&#010;&gt; On Tue, Jul 7, 2020 at 5:30 PM Leonard Xu &lt;xbjtdcq@gmail.com&gt; wrote:&#013;&#010;&gt;&#013;&#010;&gt; &gt; å—¯ï¼Œè¿™ä¸ªåœ¨FLIP-107é‡Œä¼šæ”¯æŒï¼Œç›®å‰æ²¡æ³•æ‹¿åˆ°è¿™äº›metaæ•°æ®ï¼Œå¯ä»¥å…³æ³¨ä¸‹FLIP-107çš„è¿›å±•ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Best,&#013;&#010;&gt; &gt; Leonard Xu&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; &gt; åœ¨ 2020å¹´7æœˆ7æ—¥ï¼Œ17:26ï¼ŒDream-åº•é™ &lt;zhangyu@akulaku.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; hi&#013;&#010;&gt; &gt; &gt; æ˜¯çš„ï¼Œæƒ³ä»¥ä¸‹é¢è¿™ç§æ–¹å¼è·å–&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; CREATE TABLE MyUserTable (key string,topic string,....,ä»¥åŠå…¶ä»–çš„æ•°æ®å­—æ®µ)&#010;WITH&#013;&#010;&gt; &gt; &gt; ('connector.type' = 'kafka','connector.version' = '0.11' ,...)&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; On Tue, Jul 7, 2020 at 5:19 PM Leonard Xu &lt;xbjtdcq@gmail.com&gt; wrote:&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&gt; Hi,&#013;&#010;&gt; &gt; &gt;&gt; kafkaå…ƒæ•°æ® æ˜¯æŒ‡kafkaè®°å½•é‡Œçš„ metaæ•°æ®å—ï¼Ÿ æ¯”å¦‚kafkaè‡ªå¸¦çš„timestampï¼Œkafkaçš„keyä¿¡æ¯ã€‚&#013;&#010;&gt; &gt; &gt;&gt; å¦‚æœæ˜¯è¿™äº›ä¿¡æ¯çš„è¯ï¼Œ Table/SQL API ç›®å‰è¿˜æ²¡åŠæ³•æ‹¿åˆ°ï¼Œ&#010;FLIP-107[1] ä¼šæ”¯æŒè¿™ä¸ªäº‹æƒ…ã€‚&#013;&#010;&gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt; &gt;&gt; ç¥å¥½ï¼Œ&#013;&#010;&gt; &gt; &gt;&gt; Leonard Xu&#013;&#010;&gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt; &gt;&gt; [1]&#013;&#010;&gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-107%3A+Reading+table+columns+from+different+parts+of+source+records&#013;&#010;&gt; &gt; &gt;&gt; &lt;&#013;&#010;&gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-107:+Reading+table+columns+from+different+parts+of+source+records&#013;&#010;&gt; &gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt; &gt;&gt;&gt; åœ¨ 2020å¹´7æœˆ7æ—¥ï¼Œ17:12ï¼ŒDream-åº•é™ &lt;zhangyu@akulaku.com&gt;&#010;å†™é“ï¼š&#013;&#010;&gt; &gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt; &gt;&gt;&gt; kafkaå…ƒæ•°æ®&#013;&#010;&gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "5",
        "reply": "<CAEZk042PA6UGmd-gt9Cj2NH04h=xZPboj=+x3e5P8tu0M7WG=A@mail.gmail.com>"
    },
    {
        "id": "<CAEZk042JS9RQuTjrECwL5Y39U3e=0mXPMy7Vx6OhLGCR1-1NVA@mail.gmail.com>",
        "from": "Dream-åº•é™ &lt;zhan...@akulaku.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 10:31:47 GMT",
        "subject": "Re: flink kafka connectorä¸­è·å–kafkaå…ƒæ•°æ®",
        "content": "hiã€&#013;&#010;å…¶å®æˆ‘è¿™é¢å¯¹keyå’Œtimestampéœ€æ±‚ä¸å¤§ï¼Œè€Œå¯¹topicã€partitionã€offsetéœ€æ±‚å¤§ä¸€ç‚¹ï¼Œä¸»è¦æœ‰ä¸¤ç§åœºæ™¯ï¼š&#013;&#010;1ã€æ ¹æ®offsetç­›é€‰å‡ºä¸€ç»„æ•°æ®çš„æœ€æ–°å€¼ï¼Œè¿™ä¸ªä¹‹æ‰€ä»¥ä¸ç”¨æ—¶é—´æˆ³æ¥ç­›é€‰æ˜¯å› ä¸ºåŒä¸€ä¸ªæ—¶é—´æˆ³å¯èƒ½å¯¹åº”å¤šæ¡æ•°æ®&#013;&#010;2ã€è¿™ä¸ªåœºæ™¯æœ‰ç‚¹åƒkafkaæ•°æ®çš„å¤‡ä»½ï¼Œåœ¨å­˜å‚¨ç«¯è¦å­˜å‚¨topicã€partitionã€offsetå…ƒæ•°æ®ä¿¡æ¯&#013;&#010;&#013;&#010;On Tue, Jul 7, 2020 at 6:14 PM Jark Wu &lt;imjark@gmail.com&gt; wrote:&#013;&#010;&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt; ç¤¾åŒºå¯èƒ½æ‰“ç®—å…ˆæ”¯æŒ timestamp å’Œ key çš„è¯»å†™ï¼Œå…¶ä»– meta ä¿¡æ¯ï¼ˆtopic,&#010;partition, etc..ï¼‰å¯èƒ½ä¼šä»¥åå†æ”¯æŒã€‚&#013;&#010;&gt; ä½ å¯¹å…¶ä»– meta ä¿¡æ¯çš„è¯»å–éœ€æ±‚å¤§å—ï¼Ÿ èƒ½å…·ä½“è¯´è¯´ä½ çš„ä¸šåŠ¡åœºæ™¯ä¸ï¼Ÿæ„Ÿè°¢ï¼&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Jark&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; On Tue, 7 Jul 2020 at 17:42, Dream-åº•é™ &lt;zhangyu@akulaku.com&gt; wrote:&#013;&#010;&gt;&#013;&#010;&gt; &gt; å¥½çš„&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; On Tue, Jul 7, 2020 at 5:30 PM Leonard Xu &lt;xbjtdcq@gmail.com&gt; wrote:&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; &gt; å—¯ï¼Œè¿™ä¸ªåœ¨FLIP-107é‡Œä¼šæ”¯æŒï¼Œç›®å‰æ²¡æ³•æ‹¿åˆ°è¿™äº›metaæ•°æ®ï¼Œå¯ä»¥å…³æ³¨ä¸‹FLIP-107çš„è¿›å±•ã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; Best,&#013;&#010;&gt; &gt; &gt; Leonard Xu&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; åœ¨ 2020å¹´7æœˆ7æ—¥ï¼Œ17:26ï¼ŒDream-åº•é™ &lt;zhangyu@akulaku.com&gt;&#010;å†™é“ï¼š&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; hi&#013;&#010;&gt; &gt; &gt; &gt; æ˜¯çš„ï¼Œæƒ³ä»¥ä¸‹é¢è¿™ç§æ–¹å¼è·å–&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; CREATE TABLE MyUserTable (key string,topic string,....,ä»¥åŠå…¶ä»–çš„æ•°æ®å­—æ®µ)&#013;&#010;&gt; WITH&#013;&#010;&gt; &gt; &gt; &gt; ('connector.type' = 'kafka','connector.version' = '0.11' ,...)&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; On Tue, Jul 7, 2020 at 5:19 PM Leonard Xu &lt;xbjtdcq@gmail.com&gt; wrote:&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&gt; Hi,&#013;&#010;&gt; &gt; &gt; &gt;&gt; kafkaå…ƒæ•°æ® æ˜¯æŒ‡kafkaè®°å½•é‡Œçš„ metaæ•°æ®å—ï¼Ÿ æ¯”å¦‚kafkaè‡ªå¸¦çš„timestampï¼Œkafkaçš„keyä¿¡æ¯ã€‚&#013;&#010;&gt; &gt; &gt; &gt;&gt; å¦‚æœæ˜¯è¿™äº›ä¿¡æ¯çš„è¯ï¼Œ Table/SQL API ç›®å‰è¿˜æ²¡åŠæ³•æ‹¿åˆ°ï¼Œ&#010;FLIP-107[1] ä¼šæ”¯æŒè¿™ä¸ªäº‹æƒ…ã€‚&#013;&#010;&gt; &gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt; &gt; &gt;&gt; ç¥å¥½ï¼Œ&#013;&#010;&gt; &gt; &gt; &gt;&gt; Leonard Xu&#013;&#010;&gt; &gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt; &gt; &gt;&gt; [1]&#013;&#010;&gt; &gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-107%3A+Reading+table+columns+from+different+parts+of+source+records&#013;&#010;&gt; &gt; &gt; &gt;&gt; &lt;&#013;&#010;&gt; &gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-107:+Reading+table+columns+from+different+parts+of+source+records&#013;&#010;&gt; &gt; &gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt; &gt; &gt;&gt;&gt; åœ¨ 2020å¹´7æœˆ7æ—¥ï¼Œ17:12ï¼ŒDream-åº•é™ &lt;zhangyu@akulaku.com&gt;&#010;å†™é“ï¼š&#013;&#010;&gt; &gt; &gt; &gt;&gt;&gt;&#013;&#010;&gt; &gt; &gt; &gt;&gt;&gt; kafkaå…ƒæ•°æ®&#013;&#010;&gt; &gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt; &gt; &gt;&gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "6",
        "reply": "<CAEZk042PA6UGmd-gt9Cj2NH04h=xZPboj=+x3e5P8tu0M7WG=A@mail.gmail.com>"
    },
    {
        "id": "<1594113600748-0.post@n8.nabble.com>",
        "from": "lgs &lt;9925...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 09:20:00 GMT",
        "subject": "ä¸€ä¸ªsourceå¤šä¸ªsinkçš„åŒæ­¥é—®é¢˜",
        "content": "sourceæ˜¯kafkaï¼Œæœ‰ä¸€ä¸ªrowtimeå®šä¹‰ï¼š&#010;&#010;            .field(\"rowtime\", DataTypes.TIMESTAMP(0))&#010;            .rowtime(Rowtime()&#010;                .timestamps_from_field(\"actionTime\")&#010;                .watermarks_periodic_bounded(60000)&#010;            )&#010;&#010;æœ‰ä¸¤ä¸ªsinkï¼Œç¬¬ä¸€ä¸ªsinkæ˜¯ç›´æ¥æŠŠkafaçš„æ•°æ®ä¿å­˜åˆ°postgresã€‚&#010;ç¬¬äºŒä¸ªsinkæ˜¯å®šä¹‰ä¸€ä¸ª1å°æ—¶çš„tumble windowï¼Œç„¶åå®šä¹‰äº†ä¸€ä¸ªudfï¼Œudfé‡Œé¢å»æŸ¥è¯¢ç¬¬ä¸€ä¸ªsinkä¿å­˜çš„æ•°æ®ã€‚&#010;    st_env.scan(\"source\") \\&#010;         .window(Tumble.over(\"1.hour\").on(\"rowtime\").alias(\"hourlywindow\"))&#010;\\&#010;         .group_by(\"hourlywindow\") \\&#010;         .select(\"udf(...)\")&#010;         ...&#010;&#010;&#010;ç°åœ¨çš„é—®é¢˜æ˜¯ï¼šç¬¬äºŒä¸ªsinkçš„tumble windowè§¦å‘çš„æ—¶å€™ï¼Œæ•°æ®åº“é‡Œé¢çš„æ•°æ®å·²ç»ä¿å­˜äº†ä¸‹ä¸€ä¸ªå°æ—¶çš„æ•°æ®äº†ã€‚&#010;&#010;æœ‰ä»€ä¹ˆåŠæ³•è®©tumble windowåœ¨ä¸€ä¸ªå°æ—¶ç»“æŸåé©¬ä¸Šè§¦å‘ï¼Ÿç°åœ¨è§‚å¯Ÿçš„æ˜¯éœ€è¦ä¸‹ä¸€ä¸ªå°æ—¶çš„æ•°æ®æ¥äº†ï¼Œæ‰èƒ½è§¦å‘ä¸Šä¸€ä¸ªå°æ—¶çš„çª—å£ã€‚&#010;&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "0",
        "reply": "<1594113600748-0.post@n8.nabble.com>"
    },
    {
        "id": "<CAELO932RoJgak0m6Tcgifq8guE6RBaAr8eXA787CpSxYfZ-q=A@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 10:08:13 GMT",
        "subject": "Re: ä¸€ä¸ªsourceå¤šä¸ªsinkçš„åŒæ­¥é—®é¢˜",
        "content": "watermark çš„è®¡ç®—æ˜¯è·Ÿæ•°æ®ä¸Šçš„ event-time ç›¸å…³çš„ã€‚ä½ çš„æ•°æ®æ˜¯ä¸æ˜¯é—´éš”ä¸€å°æ—¶æ¥ä¸€æ³¢çš„å‘¢ï¼Ÿ&#013;&#010;æ¯”å¦‚ 10:00 çš„æ•°æ®ä¹‹åï¼Œå°±æ˜¯ 11:00 çš„æ•°æ®ï¼Œä½†æ˜¯è¦1å°æ—¶åæ‰åˆ°æ¥ï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;Jark&#013;&#010;&#013;&#010;On Tue, 7 Jul 2020 at 17:20, lgs &lt;9925174@qq.com&gt; wrote:&#013;&#010;&#013;&#010;&gt; sourceæ˜¯kafkaï¼Œæœ‰ä¸€ä¸ªrowtimeå®šä¹‰ï¼š&#013;&#010;&gt;&#013;&#010;&gt;             .field(\"rowtime\", DataTypes.TIMESTAMP(0))&#013;&#010;&gt;             .rowtime(Rowtime()&#013;&#010;&gt;                 .timestamps_from_field(\"actionTime\")&#013;&#010;&gt;                 .watermarks_periodic_bounded(60000)&#013;&#010;&gt;             )&#013;&#010;&gt;&#013;&#010;&gt; æœ‰ä¸¤ä¸ªsinkï¼Œç¬¬ä¸€ä¸ªsinkæ˜¯ç›´æ¥æŠŠkafaçš„æ•°æ®ä¿å­˜åˆ°postgresã€‚&#013;&#010;&gt; ç¬¬äºŒä¸ªsinkæ˜¯å®šä¹‰ä¸€ä¸ª1å°æ—¶çš„tumble windowï¼Œç„¶åå®šä¹‰äº†ä¸€ä¸ªudfï¼Œudfé‡Œé¢å»æŸ¥è¯¢ç¬¬ä¸€ä¸ªsinkä¿å­˜çš„æ•°æ®ã€‚&#013;&#010;&gt;     st_env.scan(\"source\") \\&#013;&#010;&gt;          .window(Tumble.over(\"1.hour\").on(\"rowtime\").alias(\"hourlywindow\"))&#013;&#010;&gt; \\&#013;&#010;&gt;          .group_by(\"hourlywindow\") \\&#013;&#010;&gt;          .select(\"udf(...)\")&#013;&#010;&gt;          ...&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç°åœ¨çš„é—®é¢˜æ˜¯ï¼šç¬¬äºŒä¸ªsinkçš„tumble windowè§¦å‘çš„æ—¶å€™ï¼Œæ•°æ®åº“é‡Œé¢çš„æ•°æ®å·²ç»ä¿å­˜äº†ä¸‹ä¸€ä¸ªå°æ—¶çš„æ•°æ®äº†ã€‚&#013;&#010;&gt;&#013;&#010;&gt; æœ‰ä»€ä¹ˆåŠæ³•è®©tumble windowåœ¨ä¸€ä¸ªå°æ—¶ç»“æŸåé©¬ä¸Šè§¦å‘ï¼Ÿç°åœ¨è§‚å¯Ÿçš„æ˜¯éœ€è¦ä¸‹ä¸€ä¸ªå°æ—¶çš„æ•°æ®æ¥äº†ï¼Œæ‰èƒ½è§¦å‘ä¸Šä¸€ä¸ªå°æ—¶çš„çª—å£ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt;&#013;&#010;",
        "depth": "1",
        "reply": "<1594113600748-0.post@n8.nabble.com>"
    },
    {
        "id": "<1594118663805-0.post@n8.nabble.com>",
        "from": "lgs &lt;9925...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 10:44:23 GMT",
        "subject": "Re: ä¸€ä¸ªsourceå¤šä¸ªsinkçš„åŒæ­¥é—®é¢˜",
        "content": "æ˜¯1ä¸ªå°æ—¶æ‰åˆ°æ¥ã€‚10ï¼š00- 11ï¼š00çš„æ•°æ®ï¼Œ11ï¼š01åˆ†åˆ°æ¥ã€‚&#013;&#010;&#013;&#010;ä½†æ˜¯ç°åœ¨çš„é—®é¢˜æ˜¯è¿™ä¸ªæ•°æ®æ¥äº†ï¼Œæˆ‘çš„ç¬¬ä¸€ä¸ªsinké©¬ä¸Šå°±ä¿å­˜åˆ°æ•°æ®åº“äº†ï¼Œ&#010;11ï¼š02è¿›æ•°æ®åº“ã€‚ä½†æ˜¯ç¬¬äºŒä¸ªsinkï¼Œå› ä¸ºæœ‰tumble&#010;windowï¼Œæ‰€ä»¥10ï¼š00- 11ï¼š00çš„æ•°æ®ï¼Œéœ€è¦åˆ°12ï¼š01ï¼Œæ‰ä¼šè§¦å‘è¿™ä¸ªçª—å£ã€‚&#010;&#010;&#010;&#013;&#010;--&#013;&#010;Sent from: http://apache-flink.147419.n8.nabble.com/",
        "depth": "2",
        "reply": "<1594113600748-0.post@n8.nabble.com>"
    },
    {
        "id": "<20bb3b.ab1e.1732f516ef6.Coremail.17626017841@163.com>",
        "from": "&quot;Sun.Zhu&quot; &lt;17626017...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 16:45:32 GMT",
        "subject": "å›å¤ï¼š ä¸€ä¸ªsourceå¤šä¸ªsinkçš„åŒæ­¥é—®é¢˜",
        "content": "&#010;&#010;çª—å£çš„è§¦å‘é€»è¾‘å°±æ˜¯è¿™æ ·çš„ï¼Œå¿…é¡»watermarkè¾¾åˆ°äº†çª—å£ç»“æŸæ—¶é—´æ‰ä¼šè§¦å‘ï¼Œå¯èƒ½10-11ç‚¹çš„çª—å£ä¸­çš„æ•°æ®æœ€å¤§åªæœ‰10ï¼š59å‘¢&#010;| |&#010;Sun.Zhu&#010;|&#010;|&#010;17626017841@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;&#010;&#010;åœ¨2020å¹´07æœˆ7æ—¥ 18:44ï¼Œlgs&lt;9925174@qq.com&gt; å†™é“ï¼š&#010;æ˜¯1ä¸ªå°æ—¶æ‰åˆ°æ¥ã€‚10ï¼š00- 11ï¼š00çš„æ•°æ®ï¼Œ11ï¼š01åˆ†åˆ°æ¥ã€‚&#010;&#010;ä½†æ˜¯ç°åœ¨çš„é—®é¢˜æ˜¯è¿™ä¸ªæ•°æ®æ¥äº†ï¼Œæˆ‘çš„ç¬¬ä¸€ä¸ªsinké©¬ä¸Šå°±ä¿å­˜åˆ°æ•°æ®åº“äº†ï¼Œ&#010;11ï¼š02è¿›æ•°æ®åº“ã€‚ä½†æ˜¯ç¬¬äºŒä¸ªsinkï¼Œå› ä¸ºæœ‰tumble&#010;windowï¼Œæ‰€ä»¥10ï¼š00- 11ï¼š00çš„æ•°æ®ï¼Œéœ€è¦åˆ°12ï¼š01ï¼Œæ‰ä¼šè§¦å‘è¿™ä¸ªçª—å£ã€‚&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/",
        "depth": "3",
        "reply": "<1594113600748-0.post@n8.nabble.com>"
    },
    {
        "id": "<tencent_4DBA987E9CE70279AFA7976F@qq.com>",
        "from": "&quot;noake&quot;&lt;no...@sina.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 09:25:45 GMT",
        "subject": "å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?",
        "content": "Dear Allï¼š&#010;&#010;&#010;å¤§ä½¬ä»¬ï¼Œ è¯·æ•™ä¸‹å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§çš„æ°´å°ã€‚&#010;æˆ‘ä»¬åœ¨æ¶ˆè´¹kafkaæ—¶ï¼Œ æƒ³è®¾ç½®åœ¨æ²¡æœ‰æ•°æ®æ—¶æ°´å°æ—¶é—´ä¹Ÿèƒ½ç»§ç»­å‘å‰èµ°ï¼Œ&#010;ç”¨çš„æ˜¯Flink SQLã€‚",
        "depth": "0",
        "reply": "<tencent_4DBA987E9CE70279AFA7976F@qq.com>"
    },
    {
        "id": "<CAELO9322_vWqyq5nwSN5evuZ+qTXuU-EHtseio1NpBnBJVR80A@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 10:09:38 GMT",
        "subject": "Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?",
        "content": "Hi,&#013;&#010;&#013;&#010;è¿™ä¸ªé—®é¢˜æˆ‘ç†è§£å…¶å®å’Œå‘¨æœŸæ€§æ°´å°æ²¡æœ‰å…³ç³»ï¼Œæ˜¯å±äº idle source&#013;&#010;çš„é—®é¢˜ï¼Œä½ å¯ä»¥å°è¯•ä¸‹åŠ ä¸Šé…ç½® table.exec.source.idle-timeout = 10s èƒ½ä¸èƒ½è§£å†³ä½ çš„é—®é¢˜ã€‚[1]&#013;&#010;&#013;&#010;Best,&#013;&#010;Jark&#013;&#010;&#013;&#010;[1]:&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-master/dev/table/config.html#table-exec-source-idle-timeout&#013;&#010;&#013;&#010;On Tue, 7 Jul 2020 at 17:35, noake &lt;noake@sina.cn&gt; wrote:&#013;&#010;&#013;&#010;&gt; Dear Allï¼š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¤§ä½¬ä»¬ï¼Œ è¯·æ•™ä¸‹å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§çš„æ°´å°ã€‚&#013;&#010;&gt; æˆ‘ä»¬åœ¨æ¶ˆè´¹kafkaæ—¶ï¼Œ æƒ³è®¾ç½®åœ¨æ²¡æœ‰æ•°æ®æ—¶æ°´å°æ—¶é—´ä¹Ÿèƒ½ç»§ç»­å‘å‰èµ°ï¼Œ&#010;ç”¨çš„æ˜¯Flink SQLã€‚&#013;&#010;",
        "depth": "1",
        "reply": "<tencent_4DBA987E9CE70279AFA7976F@qq.com>"
    },
    {
        "id": "<tencent_26DEC0719116734BB6076DCABE875C693907@qq.com>",
        "from": "&quot;1193216154&quot; &lt;1193216...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 03:08:08 GMT",
        "subject": "å›å¤ï¼š å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?",
        "content": "hi Jark Wu.&#013;&#010;æˆ‘çš„ç†è§£æ˜¯table.exec.source.idle-timeoutåªèƒ½è§£å†³watermarkå¯¹é½çš„æ—¶å€™å»å¿½ç•¥æŸä¸ªæ²¡æœ‰watermarkçš„å¹¶è¡Œåº¦ã€‚ä½†æ˜¯åœ¨æ¯ä¸ªå¹¶è¡Œåº¦éƒ½æ²¡æœ‰watermarkçš„æ—¶å€™ï¼Œè¿˜æ˜¯æ— æ³•æ›´æ–°watermarkã€‚&#013;&#010;æˆ‘è§‰å¾—é¢˜ä¸»çš„æ„æ€åº”è¯¥æ˜¯ï¼Œåœ¨kafkaçš„æ‰€æœ‰åˆ†åŒºéƒ½æ²¡æœ‰æ•°æ®çš„æ—¶å€™ï¼Œæœ€åä¸€ä¸ªçª—å£æ— æ³•è§¦å‘ï¼ˆå› ä¸ºæ²¡æœ‰watermarkå¤§äºæœ€åé‚£ä¸ªçª—å£ç»“æŸæ—¶é—´äº†ï¼‰ã€‚&#013;&#010;æœ‰æ²¡æœ‰å¯ä»¥è®¾ç½®åœ¨eventTimeæƒ…å†µä¸‹ï¼Œå‘¨æœŸæ€§ç”Ÿæˆå½“å‰æ—¶é—´çš„ä¸€ä¸ªwaterMark(å’Œæ•°æ®æ— å…³),å› ä¸ºå¯èƒ½æ²¡æœ‰æ–°æ•°æ®åˆ°æ¥äº†ã€‚&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"Jark Wu\"&lt;imjark@gmail.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ7æ—¥(æ˜ŸæœŸäºŒ) æ™šä¸Š6:09&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;Hi,&#013;&#010;&#013;&#010;è¿™ä¸ªé—®é¢˜æˆ‘ç†è§£å…¶å®å’Œå‘¨æœŸæ€§æ°´å°æ²¡æœ‰å…³ç³»ï¼Œæ˜¯å±äº idle source&#013;&#010;çš„é—®é¢˜ï¼Œä½ å¯ä»¥å°è¯•ä¸‹åŠ ä¸Šé…ç½® table.exec.source.idle-timeout = 10s èƒ½ä¸èƒ½è§£å†³ä½ çš„é—®é¢˜ã€‚[1]&#013;&#010;&#013;&#010;Best,&#013;&#010;Jark&#013;&#010;&#013;&#010;[1]:&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-master/dev/table/config.html#table-exec-source-idle-timeout&#013;&#010;&#013;&#010;On Tue, 7 Jul 2020 at 17:35, noake &lt;noake@sina.cn&amp;gt; wrote:&#013;&#010;&#013;&#010;&amp;gt; Dear Allï¼š&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; å¤§ä½¬ä»¬ï¼Œ è¯·æ•™ä¸‹å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§çš„æ°´å°ã€‚&#013;&#010;&amp;gt; æˆ‘ä»¬åœ¨æ¶ˆè´¹kafkaæ—¶ï¼Œ æƒ³è®¾ç½®åœ¨æ²¡æœ‰æ•°æ®æ—¶æ°´å°æ—¶é—´ä¹Ÿèƒ½ç»§ç»­å‘å‰èµ°ï¼Œ&#010;ç”¨çš„æ˜¯Flink SQLã€‚",
        "depth": "2",
        "reply": "<tencent_4DBA987E9CE70279AFA7976F@qq.com>"
    },
    {
        "id": "<CAELO932h_uK4R+NiFOmFc3ucSxzfp_K5SyDWvui1dUc=2VXcSA@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 03:48:35 GMT",
        "subject": "Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?",
        "content": "å¦‚æœæ‰€æœ‰ partition éƒ½æ²¡æœ‰æ•°æ®ï¼Œè¿˜å¸Œæœ› watermark å¾€å‰èµ°ï¼Œé‚£ idle source ç¡®å®è§£å†³ä¸äº†è¿™ä¸ªé—®é¢˜ã€‚&#013;&#010;ç›®å‰ç¡®å®æ²¡æœ‰å¤ªå¥½çš„è§£å†³åŠæ³•ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Jark&#013;&#010;&#013;&#010;On Wed, 8 Jul 2020 at 11:08, 1193216154 &lt;1193216154@qq.com&gt; wrote:&#013;&#010;&#013;&#010;&gt; hi Jark Wu.&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘çš„ç†è§£æ˜¯table.exec.source.idle-timeoutåªèƒ½è§£å†³watermarkå¯¹é½çš„æ—¶å€™å»å¿½ç•¥æŸä¸ªæ²¡æœ‰watermarkçš„å¹¶è¡Œåº¦ã€‚ä½†æ˜¯åœ¨æ¯ä¸ªå¹¶è¡Œåº¦éƒ½æ²¡æœ‰watermarkçš„æ—¶å€™ï¼Œè¿˜æ˜¯æ— æ³•æ›´æ–°watermarkã€‚&#013;&#010;&gt; æˆ‘è§‰å¾—é¢˜ä¸»çš„æ„æ€åº”è¯¥æ˜¯ï¼Œåœ¨kafkaçš„æ‰€æœ‰åˆ†åŒºéƒ½æ²¡æœ‰æ•°æ®çš„æ—¶å€™ï¼Œæœ€åä¸€ä¸ªçª—å£æ— æ³•è§¦å‘ï¼ˆå› ä¸ºæ²¡æœ‰watermarkå¤§äºæœ€åé‚£ä¸ªçª—å£ç»“æŸæ—¶é—´äº†ï¼‰ã€‚&#013;&#010;&gt; æœ‰æ²¡æœ‰å¯ä»¥è®¾ç½®åœ¨eventTimeæƒ…å†µä¸‹ï¼Œå‘¨æœŸæ€§ç”Ÿæˆå½“å‰æ—¶é—´çš„ä¸€ä¸ªwaterMark(å’Œæ•°æ®æ— å…³),å› ä¸ºå¯èƒ½æ²¡æœ‰æ–°æ•°æ®åˆ°æ¥äº†ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;&gt; å‘ä»¶äºº:&amp;nbsp;\"Jark Wu\"&lt;imjark@gmail.com&amp;gt;;&#013;&#010;&gt; å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ7æ—¥(æ˜ŸæœŸäºŒ) æ™šä¸Š6:09&#013;&#010;&gt; æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&gt;&#013;&#010;&gt; ä¸»é¢˜:&amp;nbsp;Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt; è¿™ä¸ªé—®é¢˜æˆ‘ç†è§£å…¶å®å’Œå‘¨æœŸæ€§æ°´å°æ²¡æœ‰å…³ç³»ï¼Œæ˜¯å±äº idle source&#013;&#010;&gt; çš„é—®é¢˜ï¼Œä½ å¯ä»¥å°è¯•ä¸‹åŠ ä¸Šé…ç½® table.exec.source.idle-timeout = 10s èƒ½ä¸èƒ½è§£å†³ä½ çš„é—®é¢˜ã€‚[1]&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Jark&#013;&#010;&gt;&#013;&#010;&gt; [1]:&#013;&#010;&gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/dev/table/config.html#table-exec-source-idle-timeout&#013;&#010;&gt;&#013;&#010;&gt; On Tue, 7 Jul 2020 at 17:35, noake &lt;noake@sina.cn&amp;gt; wrote:&#013;&#010;&gt;&#013;&#010;&gt; &amp;gt; Dear Allï¼š&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; å¤§ä½¬ä»¬ï¼Œ è¯·æ•™ä¸‹å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§çš„æ°´å°ã€‚&#013;&#010;&gt; &amp;gt; æˆ‘ä»¬åœ¨æ¶ˆè´¹kafkaæ—¶ï¼Œ æƒ³è®¾ç½®åœ¨æ²¡æœ‰æ•°æ®æ—¶æ°´å°æ—¶é—´ä¹Ÿèƒ½ç»§ç»­å‘å‰èµ°ï¼Œ&#010;ç”¨çš„æ˜¯Flink SQLã€‚&#013;&#010;",
        "depth": "3",
        "reply": "<tencent_4DBA987E9CE70279AFA7976F@qq.com>"
    },
    {
        "id": "<tencent_2B7C8D8D503BB5EF2657564E2D5052A4C905@qq.com>",
        "from": "&quot;1193216154&quot; &lt;1193216...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 04:01:00 GMT",
        "subject": "å›å¤ï¼š å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?",
        "content": "&amp;nbsp; &amp;nbsp;Jarkï¼Œflinkæœ‰æ²¡æœ‰å¿…è¦å»æ”¯æŒè¿™ä¸ªç‰¹æ€§ï¼Ÿæˆ‘æ„Ÿè§‰è¿˜æ˜¯æœ‰ä¸€äº›åº”ç”¨åœºæ™¯&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"Jark Wu\"&lt;imjark@gmail.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸­åˆ11:48&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;å¦‚æœæ‰€æœ‰ partition éƒ½æ²¡æœ‰æ•°æ®ï¼Œè¿˜å¸Œæœ› watermark å¾€å‰èµ°ï¼Œé‚£ idle source ç¡®å®è§£å†³ä¸äº†è¿™ä¸ªé—®é¢˜ã€‚&#013;&#010;ç›®å‰ç¡®å®æ²¡æœ‰å¤ªå¥½çš„è§£å†³åŠæ³•ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Jark&#013;&#010;&#013;&#010;On Wed, 8 Jul 2020 at 11:08, 1193216154 &lt;1193216154@qq.com&amp;gt; wrote:&#013;&#010;&#013;&#010;&amp;gt; hi Jark Wu.&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; æˆ‘çš„ç†è§£æ˜¯table.exec.source.idle-timeoutåªèƒ½è§£å†³watermarkå¯¹é½çš„æ—¶å€™å»å¿½ç•¥æŸä¸ªæ²¡æœ‰watermarkçš„å¹¶è¡Œåº¦ã€‚ä½†æ˜¯åœ¨æ¯ä¸ªå¹¶è¡Œåº¦éƒ½æ²¡æœ‰watermarkçš„æ—¶å€™ï¼Œè¿˜æ˜¯æ— æ³•æ›´æ–°watermarkã€‚&#013;&#010;&amp;gt; æˆ‘è§‰å¾—é¢˜ä¸»çš„æ„æ€åº”è¯¥æ˜¯ï¼Œåœ¨kafkaçš„æ‰€æœ‰åˆ†åŒºéƒ½æ²¡æœ‰æ•°æ®çš„æ—¶å€™ï¼Œæœ€åä¸€ä¸ªçª—å£æ— æ³•è§¦å‘ï¼ˆå› ä¸ºæ²¡æœ‰watermarkå¤§äºæœ€åé‚£ä¸ªçª—å£ç»“æŸæ—¶é—´äº†ï¼‰ã€‚&#013;&#010;&amp;gt; æœ‰æ²¡æœ‰å¯ä»¥è®¾ç½®åœ¨eventTimeæƒ…å†µä¸‹ï¼Œå‘¨æœŸæ€§ç”Ÿæˆå½“å‰æ—¶é—´çš„ä¸€ä¸ªwaterMark(å’Œæ•°æ®æ— å…³),å› ä¸ºå¯èƒ½æ²¡æœ‰æ–°æ•°æ®åˆ°æ¥äº†ã€‚&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; ------------------&amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;nbsp;------------------&#013;&#010;&amp;gt; å‘ä»¶äºº:&amp;amp;nbsp;\"Jark Wu\"&lt;imjark@gmail.com&amp;amp;gt;;&#013;&#010;&amp;gt; å‘é€æ—¶é—´:&amp;amp;nbsp;2020å¹´7æœˆ7æ—¥(æ˜ŸæœŸäºŒ) æ™šä¸Š6:09&#013;&#010;&amp;gt; æ”¶ä»¶äºº:&amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;gt;;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; ä¸»é¢˜:&amp;amp;nbsp;Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; Hi,&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; è¿™ä¸ªé—®é¢˜æˆ‘ç†è§£å…¶å®å’Œå‘¨æœŸæ€§æ°´å°æ²¡æœ‰å…³ç³»ï¼Œæ˜¯å±äº idle source&#013;&#010;&amp;gt; çš„é—®é¢˜ï¼Œä½ å¯ä»¥å°è¯•ä¸‹åŠ ä¸Šé…ç½® table.exec.source.idle-timeout = 10s èƒ½ä¸èƒ½è§£å†³ä½ çš„é—®é¢˜ã€‚[1]&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; Best,&#013;&#010;&amp;gt; Jark&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; [1]:&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; https://ci.apache.org/projects/flink/flink-docs-master/dev/table/config.html#table-exec-source-idle-timeout&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; On Tue, 7 Jul 2020 at 17:35, noake &lt;noake@sina.cn&amp;amp;gt; wrote:&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; Dear Allï¼š&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; å¤§ä½¬ä»¬ï¼Œ è¯·æ•™ä¸‹å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§çš„æ°´å°ã€‚&#013;&#010;&amp;gt; &amp;amp;gt; æˆ‘ä»¬åœ¨æ¶ˆè´¹kafkaæ—¶ï¼Œ æƒ³è®¾ç½®åœ¨æ²¡æœ‰æ•°æ®æ—¶æ°´å°æ—¶é—´ä¹Ÿèƒ½ç»§ç»­å‘å‰èµ°ï¼Œ&#010;ç”¨çš„æ˜¯Flink SQLã€‚",
        "depth": "4",
        "reply": "<tencent_4DBA987E9CE70279AFA7976F@qq.com>"
    },
    {
        "id": "<CAELO932qAKjudOHQFxzxW26DO5KqTneMfzvP-GvapCxJKGZoXQ@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 05:26:53 GMT",
        "subject": "Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?",
        "content": "å—¯ï¼Œ å¯ä»¥åœ¨ JIRA ä¸­å¼€ä¸ª issue æè¿°ä¸‹ä½ çš„éœ€æ±‚~&#013;&#010;&#013;&#010;On Wed, 8 Jul 2020 at 12:01, 1193216154 &lt;1193216154@qq.com&gt; wrote:&#013;&#010;&#013;&#010;&gt; &amp;nbsp; &amp;nbsp;Jarkï¼Œflinkæœ‰æ²¡æœ‰å¿…è¦å»æ”¯æŒè¿™ä¸ªç‰¹æ€§ï¼Ÿæˆ‘æ„Ÿè§‰è¿˜æ˜¯æœ‰ä¸€äº›åº”ç”¨åœºæ™¯&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;&gt; å‘ä»¶äºº:&amp;nbsp;\"Jark Wu\"&lt;imjark@gmail.com&amp;gt;;&#013;&#010;&gt; å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸­åˆ11:48&#013;&#010;&gt; æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&gt;&#013;&#010;&gt; ä¸»é¢˜:&amp;nbsp;Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¦‚æœæ‰€æœ‰ partition éƒ½æ²¡æœ‰æ•°æ®ï¼Œè¿˜å¸Œæœ› watermark å¾€å‰èµ°ï¼Œé‚£ idle source&#010;ç¡®å®è§£å†³ä¸äº†è¿™ä¸ªé—®é¢˜ã€‚&#013;&#010;&gt; ç›®å‰ç¡®å®æ²¡æœ‰å¤ªå¥½çš„è§£å†³åŠæ³•ã€‚&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Jark&#013;&#010;&gt;&#013;&#010;&gt; On Wed, 8 Jul 2020 at 11:08, 1193216154 &lt;1193216154@qq.com&amp;gt; wrote:&#013;&#010;&gt;&#013;&#010;&gt; &amp;gt; hi Jark Wu.&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; æˆ‘çš„ç†è§£æ˜¯table.exec.source.idle-timeoutåªèƒ½è§£å†³watermarkå¯¹é½çš„æ—¶å€™å»å¿½ç•¥æŸä¸ªæ²¡æœ‰watermarkçš„å¹¶è¡Œåº¦ã€‚ä½†æ˜¯åœ¨æ¯ä¸ªå¹¶è¡Œåº¦éƒ½æ²¡æœ‰watermarkçš„æ—¶å€™ï¼Œè¿˜æ˜¯æ— æ³•æ›´æ–°watermarkã€‚&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; æˆ‘è§‰å¾—é¢˜ä¸»çš„æ„æ€åº”è¯¥æ˜¯ï¼Œåœ¨kafkaçš„æ‰€æœ‰åˆ†åŒºéƒ½æ²¡æœ‰æ•°æ®çš„æ—¶å€™ï¼Œæœ€åä¸€ä¸ªçª—å£æ— æ³•è§¦å‘ï¼ˆå› ä¸ºæ²¡æœ‰watermarkå¤§äºæœ€åé‚£ä¸ªçª—å£ç»“æŸæ—¶é—´äº†ï¼‰ã€‚&#013;&#010;&gt; &amp;gt; æœ‰æ²¡æœ‰å¯ä»¥è®¾ç½®åœ¨eventTimeæƒ…å†µä¸‹ï¼Œå‘¨æœŸæ€§ç”Ÿæˆå½“å‰æ—¶é—´çš„ä¸€ä¸ªwaterMark(å’Œæ•°æ®æ— å…³),å› ä¸ºå¯èƒ½æ²¡æœ‰æ–°æ•°æ®åˆ°æ¥äº†ã€‚&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; ------------------&amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;nbsp;------------------&#013;&#010;&gt; &amp;gt; å‘ä»¶äºº:&amp;amp;nbsp;\"Jark Wu\"&lt;imjark@gmail.com&amp;amp;gt;;&#013;&#010;&gt; &amp;gt; å‘é€æ—¶é—´:&amp;amp;nbsp;2020å¹´7æœˆ7æ—¥(æ˜ŸæœŸäºŒ) æ™šä¸Š6:09&#013;&#010;&gt; &amp;gt; æ”¶ä»¶äºº:&amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;gt;;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; ä¸»é¢˜:&amp;amp;nbsp;Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; Hi,&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; è¿™ä¸ªé—®é¢˜æˆ‘ç†è§£å…¶å®å’Œå‘¨æœŸæ€§æ°´å°æ²¡æœ‰å…³ç³»ï¼Œæ˜¯å±äº idle source&#013;&#010;&gt; &amp;gt; çš„é—®é¢˜ï¼Œä½ å¯ä»¥å°è¯•ä¸‹åŠ ä¸Šé…ç½® table.exec.source.idle-timeout =&#010;10s èƒ½ä¸èƒ½è§£å†³ä½ çš„é—®é¢˜ã€‚[1]&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; Best,&#013;&#010;&gt; &amp;gt; Jark&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; [1]:&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/dev/table/config.html#table-exec-source-idle-timeout&#013;&#010;&gt; &amp;gt&#013;&#010;&gt; &lt;https://ci.apache.org/projects/flink/flink-docs-master/dev/table/config.html#table-exec-source-idle-timeout&amp;gt&gt;&#013;&#010;&gt; ;&#013;&#010;&gt; &amp;gt; On Tue, 7 Jul 2020 at 17:35, noake &lt;noake@sina.cn&amp;amp;gt; wrote:&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; &amp;amp;gt; Dear Allï¼š&#013;&#010;&gt; &amp;gt; &amp;amp;gt;&#013;&#010;&gt; &amp;gt; &amp;amp;gt;&#013;&#010;&gt; &amp;gt; &amp;amp;gt; å¤§ä½¬ä»¬ï¼Œ è¯·æ•™ä¸‹å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§çš„æ°´å°ã€‚&#013;&#010;&gt; &amp;gt; &amp;amp;gt; æˆ‘ä»¬åœ¨æ¶ˆè´¹kafkaæ—¶ï¼Œ æƒ³è®¾ç½®åœ¨æ²¡æœ‰æ•°æ®æ—¶æ°´å°æ—¶é—´ä¹Ÿèƒ½ç»§ç»­å‘å‰èµ°ï¼Œ&#010;ç”¨çš„æ˜¯Flink SQLã€‚&#013;&#010;",
        "depth": "5",
        "reply": "<tencent_4DBA987E9CE70279AFA7976F@qq.com>"
    },
    {
        "id": "<tencent_884C04C55C8A6D473BA90F2D174C2E259005@qq.com>",
        "from": "&quot;1193216154&quot; &lt;1193216...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 08:08:18 GMT",
        "subject": "å›å¤ï¼š å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?",
        "content": "æ¬¢è¿åŠ å…¥è®¨è®º&amp;nbsp; https://issues.apache.org/jira/browse/FLINK-18523&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"Jark Wu\"&lt;imjark@gmail.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸­åˆ1:26&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;å—¯ï¼Œ å¯ä»¥åœ¨ JIRA ä¸­å¼€ä¸ª issue æè¿°ä¸‹ä½ çš„éœ€æ±‚~&#013;&#010;&#013;&#010;On Wed, 8 Jul 2020 at 12:01, 1193216154 &lt;1193216154@qq.com&amp;gt; wrote:&#013;&#010;&#013;&#010;&amp;gt; &amp;amp;nbsp; &amp;amp;nbsp;Jarkï¼Œflinkæœ‰æ²¡æœ‰å¿…è¦å»æ”¯æŒè¿™ä¸ªç‰¹æ€§ï¼Ÿæˆ‘æ„Ÿè§‰è¿˜æ˜¯æœ‰ä¸€äº›åº”ç”¨åœºæ™¯&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; ------------------&amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;nbsp;------------------&#013;&#010;&amp;gt; å‘ä»¶äºº:&amp;amp;nbsp;\"Jark Wu\"&lt;imjark@gmail.com&amp;amp;gt;;&#013;&#010;&amp;gt; å‘é€æ—¶é—´:&amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸­åˆ11:48&#013;&#010;&amp;gt; æ”¶ä»¶äºº:&amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;gt;;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; ä¸»é¢˜:&amp;amp;nbsp;Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; å¦‚æœæ‰€æœ‰ partition éƒ½æ²¡æœ‰æ•°æ®ï¼Œè¿˜å¸Œæœ› watermark å¾€å‰èµ°ï¼Œé‚£ idle&#010;source ç¡®å®è§£å†³ä¸äº†è¿™ä¸ªé—®é¢˜ã€‚&#013;&#010;&amp;gt; ç›®å‰ç¡®å®æ²¡æœ‰å¤ªå¥½çš„è§£å†³åŠæ³•ã€‚&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; Best,&#013;&#010;&amp;gt; Jark&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; On Wed, 8 Jul 2020 at 11:08, 1193216154 &lt;1193216154@qq.com&amp;amp;gt; wrote:&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; hi Jark Wu.&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; æˆ‘çš„ç†è§£æ˜¯table.exec.source.idle-timeoutåªèƒ½è§£å†³watermarkå¯¹é½çš„æ—¶å€™å»å¿½ç•¥æŸä¸ªæ²¡æœ‰watermarkçš„å¹¶è¡Œåº¦ã€‚ä½†æ˜¯åœ¨æ¯ä¸ªå¹¶è¡Œåº¦éƒ½æ²¡æœ‰watermarkçš„æ—¶å€™ï¼Œè¿˜æ˜¯æ— æ³•æ›´æ–°watermarkã€‚&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; æˆ‘è§‰å¾—é¢˜ä¸»çš„æ„æ€åº”è¯¥æ˜¯ï¼Œåœ¨kafkaçš„æ‰€æœ‰åˆ†åŒºéƒ½æ²¡æœ‰æ•°æ®çš„æ—¶å€™ï¼Œæœ€åä¸€ä¸ªçª—å£æ— æ³•è§¦å‘ï¼ˆå› ä¸ºæ²¡æœ‰watermarkå¤§äºæœ€åé‚£ä¸ªçª—å£ç»“æŸæ—¶é—´äº†ï¼‰ã€‚&#013;&#010;&amp;gt; &amp;amp;gt; æœ‰æ²¡æœ‰å¯ä»¥è®¾ç½®åœ¨eventTimeæƒ…å†µä¸‹ï¼Œå‘¨æœŸæ€§ç”Ÿæˆå½“å‰æ—¶é—´çš„ä¸€ä¸ªwaterMark(å’Œæ•°æ®æ— å…³),å› ä¸ºå¯èƒ½æ²¡æœ‰æ–°æ•°æ®åˆ°æ¥äº†ã€‚&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; ------------------&amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;amp;nbsp;------------------&#013;&#010;&amp;gt; &amp;amp;gt; å‘ä»¶äºº:&amp;amp;amp;nbsp;\"Jark Wu\"&lt;imjark@gmail.com&amp;amp;amp;gt;;&#013;&#010;&amp;gt; &amp;amp;gt; å‘é€æ—¶é—´:&amp;amp;amp;nbsp;2020å¹´7æœˆ7æ—¥(æ˜ŸæœŸäºŒ) æ™šä¸Š6:09&#013;&#010;&amp;gt; &amp;amp;gt; æ”¶ä»¶äºº:&amp;amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;amp;gt;;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; ä¸»é¢˜:&amp;amp;amp;nbsp;Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; Hi,&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; è¿™ä¸ªé—®é¢˜æˆ‘ç†è§£å…¶å®å’Œå‘¨æœŸæ€§æ°´å°æ²¡æœ‰å…³ç³»ï¼Œæ˜¯å±äº&#010;idle source&#013;&#010;&amp;gt; &amp;amp;gt; çš„é—®é¢˜ï¼Œä½ å¯ä»¥å°è¯•ä¸‹åŠ ä¸Šé…ç½® table.exec.source.idle-timeout&#010;= 10s èƒ½ä¸èƒ½è§£å†³ä½ çš„é—®é¢˜ã€‚[1]&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; Best,&#013;&#010;&amp;gt; &amp;amp;gt; Jark&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; [1]:&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; https://ci.apache.org/projects/flink/flink-docs-master/dev/table/config.html#table-exec-source-idle-timeout&#013;&#010;&amp;gt; &amp;amp;gt&#013;&#010;&amp;gt; &lt;https://ci.apache.org/projects/flink/flink-docs-master/dev/table/config.html#table-exec-source-idle-timeout&amp;amp;gt&amp;gt;&#013;&#010;&amp;gt; ;&#013;&#010;&amp;gt; &amp;amp;gt; On Tue, 7 Jul 2020 at 17:35, noake &lt;noake@sina.cn&amp;amp;amp;gt;&#010;wrote:&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; &amp;amp;amp;gt; Dear Allï¼š&#013;&#010;&amp;gt; &amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; &amp;amp;amp;gt; å¤§ä½¬ä»¬ï¼Œ è¯·æ•™ä¸‹å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§çš„æ°´å°ã€‚&#013;&#010;&amp;gt; &amp;amp;gt; &amp;amp;amp;gt; æˆ‘ä»¬åœ¨æ¶ˆè´¹kafkaæ—¶ï¼Œ æƒ³è®¾ç½®åœ¨æ²¡æœ‰æ•°æ®æ—¶æ°´å°æ—¶é—´ä¹Ÿèƒ½ç»§ç»­å‘å‰èµ°ï¼Œ&#010;ç”¨çš„æ˜¯Flink SQLã€‚",
        "depth": "6",
        "reply": "<tencent_4DBA987E9CE70279AFA7976F@qq.com>"
    },
    {
        "id": "<CANYrj=LNkKyv96BKXK4rd9eym2yjjtUGZcmb+jsTvX4XRe3BDQ@mail.gmail.com>",
        "from": "Jun Zou &lt;nianjun...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 09:37:59 GMT",
        "subject": "åµŒå¥— json ä¸­string æ•°ç»„çš„è§£æå¼‚å¸¸",
        "content": "Hi allï¼š&#013;&#010;æˆ‘ä½¿ç”¨ flink 1.9 å¤„ç†åµŒå¥— jsonï¼Œ å®ƒåµŒå¥—äº†ä¸€ä¸ªstringæ•°ç»„ï¼Œæ„é€ å‡ºçš„ table&#010;schemaç»“æ„ä¸ºï¼š&#013;&#010;Row(parsedResponse: BasicArrayTypeInfo&lt;String&gt;, timestamp: Long)&#013;&#010;æ‰§è¡Œä½œä¸šåä¼šå‘ç”ŸæŠ¥é”™å¦‚ä¸‹ï¼Œå‡ºç° object ç±»å‹å’Œstring ç±»å‹çš„è½¬æ¢é”™è¯¯&#013;&#010;Caused by: java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast&#013;&#010;to [Ljava.lang.String;&#013;&#010;at&#013;&#010;org.apache.flink.api.common.typeutils.base.array.StringArraySerializer.copy(StringArraySerializer.java:35)&#013;&#010;at&#013;&#010;org.apache.flink.api.java.typeutils.runtime.RowSerializer.copy(RowSerializer.java:93)&#013;&#010;at&#013;&#010;org.apache.flink.api.java.typeutils.runtime.RowSerializer.copy(RowSerializer.java:44)&#013;&#010;&#013;&#010;å¤§ä½¬ä»¬çŸ¥é“è¯¥æ€ä¹ˆä¿®æ”¹ä¹ˆï¼Ÿ&#013;&#010;&#013;&#010;æˆ‘çš„json çš„ç»“æ„å¦‚ä¸‹ï¼š&#013;&#010;{\"parsedResponse\":[\"apple\", \"banana\", \"orange\"], \"timestamp\": \"1522253345\"}&#013;&#010; P.S:&#013;&#010;å¦‚æœæŠŠ string æ•°ç»„æ”¹ä¸º long æ•°ç»„æˆ–è€… double æ•°ç»„æ‰§è¡Œå¯¹åº”çš„æ“ä½œå¯ä»¥æ­£ç¡®è¿è¡Œï¼Œç›®å‰æ¥çœ‹åªæœ‰&#010;string æ•°ç»„å‡ºç°é—®é¢˜ã€‚&#013;&#010;",
        "depth": "0",
        "reply": "<CANYrj=LNkKyv96BKXK4rd9eym2yjjtUGZcmb+jsTvX4XRe3BDQ@mail.gmail.com>"
    },
    {
        "id": "<111AECEC-239B-43D6-AE3D-113F4CFB8769@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 09:48:16 GMT",
        "subject": "Re: åµŒå¥— json ä¸­string æ•°ç»„çš„è§£æå¼‚å¸¸",
        "content": "Hi,&#013;&#010;&#013;&#010;æ–¹ä¾¿æŠŠ SQL ä¹Ÿè´´ä¸‹å—ï¼Ÿçœ‹èµ·æ¥åƒä¸ªbugã€‚&#013;&#010;&#013;&#010;ç¥å¥½ï¼Œ&#013;&#010;Leonard Xu&#013;&#010;&#013;&#010;",
        "depth": "1",
        "reply": "<CANYrj=LNkKyv96BKXK4rd9eym2yjjtUGZcmb+jsTvX4XRe3BDQ@mail.gmail.com>"
    },
    {
        "id": "<CANYrj=+0bvFwFGsmaHgeQ3+qdFw6pJrMWn95UfzaTA1=FhwMcQ@mail.gmail.com>",
        "from": "Jun Zou &lt;nianjun...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 11:30:11 GMT",
        "subject": "Re: åµŒå¥— json ä¸­string æ•°ç»„çš„è§£æå¼‚å¸¸",
        "content": "Hi, Leonard Xu:&#010;&#010;æˆ‘ä½¿ç”¨çš„ sql å¦‚ä¸‹ï¼Œ&#010;&#010;&gt; SELECT TUMBLE_START(rowtime, INTERVAL '30' SECOND) AS ts, fruit,&#010;&gt; COUNT(`fruit`) AS `cnt`&#010;&gt; FROM mysource, UNNEST(mysource.parsedResponse) AS A(fruit)&#010;&gt; GROUP BY TUMBLE(rowtime, INTERVAL '30' SECOND), fruit&#010;&#010;&#010;ä»è°ƒè¯•æ—¥å¿—æ¥çœ‹ï¼Œåº”è¯¥æ˜¯ä¸€å¼€å§‹å°±æŒ‚æ‰äº†ï¼Œæˆ‘è´´ä¸€ä¸‹ç›¸å…³çš„æ—¥å¿—&#010;&#010;INFO - Initializing heap keyed state backend with stream factory.&#010;&#010;INFO - Source: Custom Source -&gt; Timestamps/Watermarks -&gt; from:&#010;&gt; (parsedResponse, rowtime) -&gt; correlate:&#010;&gt; table(explode($cor0.parsedResponse)), select: parsedResponse, rowtime, f0&#010;&gt; -&gt; select: (rowtime, fruit) -&gt; time attribute: (rowtime) (1/1)&#010;&gt; (d8c5f92b850811595dbdc130c04f9e58) switched from RUNNING to FAILED.&#010;&gt; java.lang.Exception:&#010;&gt; org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException:&#010;&gt; Could not forward element to next operator&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.SourceStreamTask$LegacySourceFunctionThread.checkThrowSourceExecutionException(SourceStreamTask.java:212)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.SourceStreamTask.performDefaultAction(SourceStreamTask.java:132)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.StreamTask.run(StreamTask.java:298)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:403)&#010;&gt; at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:705)&#010;&gt; at org.apache.flink.runtime.taskmanager.Task.run(Task.java:530)&#010;&gt; at java.lang.Thread.run(Thread.java:748)&#010;&gt; Caused by:&#010;&gt; org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException:&#010;&gt; Could not forward element to next operator&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.pushToOperator(OperatorChain.java:651)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.collect(OperatorChain.java:612)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.collect(OperatorChain.java:592)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.AbstractStreamOperator$CountingOutput.collect(AbstractStreamOperator.java:727)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.AbstractStreamOperator$CountingOutput.collect(AbstractStreamOperator.java:705)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.StreamSourceContexts$ManualWatermarkContext.processAndCollectWithTimestamp(StreamSourceContexts.java:310)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.StreamSourceContexts$WatermarkContext.collectWithTimestamp(StreamSourceContexts.java:409)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.connectors.CommonConsumer.run(CommonConsumer.java:49)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:100)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:63)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.SourceStreamTask$LegacySourceFunctionThread.run(SourceStreamTask.java:202)&#010;&gt; Caused by: java.lang.ClassCastException: [Ljava.lang.Object; cannot be&#010;&gt; cast to [Ljava.lang.String;&#010;&gt; at&#010;&gt; org.apache.flink.api.common.typeutils.base.array.StringArraySerializer.copy(StringArraySerializer.java:35)&#010;&gt; at&#010;&gt; org.apache.flink.api.java.typeutils.runtime.RowSerializer.copy(RowSerializer.java:93)&#010;&gt; at&#010;&gt; org.apache.flink.api.java.typeutils.runtime.RowSerializer.copy(RowSerializer.java:44)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.pushToOperator(OperatorChain.java:635)&#010;&gt; ... 10 more&#010;&gt;&#010;&#010;å¦å¤–ï¼Œå¦‚æœæˆ‘æŠŠstring æ•°ç»„çš„ç±»å‹ä»  BasicArrayTypeInfo.STRING_ARRAY_TYPE_INFO&#010;æ”¹ä¸º ObjectArrayTypeInfo.getInfoFor(Types.STRING)ï¼Œ å³schema ä»&#010;&#010;&gt; root&#010;&gt;  |-- parsedResponse: LEGACY(BasicArrayTypeInfo&lt;String&gt;)&#010;&gt;  |-- rowtime: TIMESTAMP(3) *ROWTIME*&#010;&gt;&#010;å˜ä¸º&#010;&#010;&gt; root&#010;&gt;  |-- parsedResponse: ARRAY&lt;STRING&gt;&#010;&gt;  |-- rowtime: TIMESTAMP(3) *ROWTIME*&#010;&gt;&#010;&#010;ä¹Ÿä»ç„¶ä¼šå‘ç”Ÿç›¸åŒçš„é”™è¯¯ï¼Œä½†æ—¥å¿—æ‰§è¡Œæœ‰äº›ä¸åŒ&#010;&#010;&gt; INFO - Source: Custom Source -&gt; Timestamps/Watermarks -&gt; from:&#010;&gt; (parsedResponse, rowtime) -&gt; correlate:&#010;&gt; table(explode($cor0.parsedResponse)), select: parsedResponse, rowtime, f0&#010;&gt; -&gt; select: (rowtime, fruit) -&gt; time attribute: (rowtime) (1/1)&#010;&gt; (36b79032354b9e9ab70a30d98b1de903) switched from RUNNING to FAILED.&#010;&gt; java.lang.Exception:&#010;&gt; org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException:&#010;&gt; Could not forward element to next operator&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.SourceStreamTask$LegacySourceFunctionThread.checkThrowSourceExecutionException(SourceStreamTask.java:212)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.SourceStreamTask.performDefaultAction(SourceStreamTask.java:132)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.StreamTask.run(StreamTask.java:298)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:403)&#010;&gt; at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:705)&#010;&gt; at org.apache.flink.runtime.taskmanager.Task.run(Task.java:530)&#010;&gt; at java.lang.Thread.run(Thread.java:748)&#010;&gt; Caused by:&#010;&gt; org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException:&#010;&gt; Could not forward element to next operator&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.pushToOperator(OperatorChain.java:654)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.collect(OperatorChain.java:612)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.collect(OperatorChain.java:592)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.AbstractStreamOperator$CountingOutput.collect(AbstractStreamOperator.java:727)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.AbstractStreamOperator$CountingOutput.collect(AbstractStreamOperator.java:705)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.StreamSourceContexts$ManualWatermarkContext.processAndCollectWithTimestamp(StreamSourceContexts.java:310)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.StreamSourceContexts$WatermarkContext.collectWithTimestamp(StreamSourceContexts.java:409)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.connectors.CommonConsumer.run(CommonConsumer.java:49)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:100)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:63)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.SourceStreamTask$LegacySourceFunctionThread.run(SourceStreamTask.java:202)&#010;&gt; Caused by:&#010;&gt; org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException:&#010;&gt; Could not forward element to next operator&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.pushToOperator(OperatorChain.java:651)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.collect(OperatorChain.java:612)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.collect(OperatorChain.java:592)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.AbstractStreamOperator$CountingOutput.collect(AbstractStreamOperator.java:727)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.AbstractStreamOperator$CountingOutput.collect(AbstractStreamOperator.java:705)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.operators.TimestampsAndPeriodicWatermarksOperator.processElement(TimestampsAndPeriodicWatermarksOperator.java:67)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.pushToOperator(OperatorChain.java:637)&#010;&gt; ... 10 more&#010;&gt; Caused by: java.lang.ClassCastException: [Ljava.lang.Object; cannot be&#010;&gt; cast to [Ljava.lang.String;&#010;&gt; at DataStreamSourceConversion$5.processElement(Unknown Source)&#010;&gt; at&#010;&gt; org.apache.flink.table.runtime.CRowOutputProcessRunner.processElement(CRowOutputProcessRunner.scala:70)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.api.operators.ProcessOperator.processElement(ProcessOperator.java:66)&#010;&gt; at&#010;&gt; org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.pushToOperator(OperatorChain.java:637)&#010;&gt; ... 16 more&#010;&gt;&#010;&#010;æˆ‘å°è¯•ä½¿ç”¨ JsonRowSchemaConverterå¯¹ schema è¿›è¡Œè½¬æ¢ï¼Œå¾—åˆ°çš„schemaå’Œä¸Šä¸€å°é‚®ä»¶é‡Œé¢æ˜¯ä¸€è‡´çš„ï¼Œå³ï¼š&#010;&#010;&gt; Row(parsedResponse: BasicArrayTypeInfo&lt;String&gt;, timestamp: Timestamp)&#010;&gt;&#010;æ‰€ä»¥æ˜¯æˆ‘çš„æ“ä½œåœ¨å“ªé‡Œå‡ºç°äº†é—®é¢˜å‘¢ï¼Ÿ&#010;&#010;æ„Ÿè°¢æ‚¨çš„å›å¤ï¼&#010;&#010;ç¥å¥½ï¼&#010;&#010;&#010;Leonard Xu &lt;xbjtdcq@gmail.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸‹åˆ5:48å†™é“ï¼š&#010;&#010;&gt; Hi,&#010;&gt;&#010;&gt; æ–¹ä¾¿æŠŠ SQL ä¹Ÿè´´ä¸‹å—ï¼Ÿçœ‹èµ·æ¥åƒä¸ªbugã€‚&#010;&gt;&#010;&gt; ç¥å¥½ï¼Œ&#010;&gt; Leonard Xu&#010;&gt;&#010;&gt;&#010;&#010;",
        "depth": "2",
        "reply": "<CANYrj=LNkKyv96BKXK4rd9eym2yjjtUGZcmb+jsTvX4XRe3BDQ@mail.gmail.com>"
    },
    {
        "id": "<51BC620D-ACFE-4FC6-9AE5-541B815DD6B5@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 13:48:57 GMT",
        "subject": "Re: åµŒå¥— json ä¸­string æ•°ç»„çš„è§£æå¼‚å¸¸",
        "content": "Hi, &#010;&#010;çœ‹äº†ä¸‹ä»£ç ï¼Œè¿™ç¡®å®æ˜¯Flink 1.9é‡Œé¢çš„ä¸€ä¸ªbug[1], åŸå› æ²¡æœ‰ source æ²¡æœ‰æ­£ç¡®å¤„ç†legacy&#010;type å’Œæ–°çš„ typeï¼Œè¿™ä¸ªissueæ²¡æœ‰åœ¨1.9çš„åˆ†æ”¯ä¸Šä¿®å¤ï¼Œå¯ä»¥å‡çº§åˆ°1.10.1è¯•ä¸‹ã€‚&#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;[1]https://issues.apache.org/jira/browse/FLINK-16622 &lt;https://issues.apache.org/jira/browse/FLINK-16622?focusedCommentId=17061790&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17061790&gt;&#010;&#010;&#010;",
        "depth": "3",
        "reply": "<CANYrj=LNkKyv96BKXK4rd9eym2yjjtUGZcmb+jsTvX4XRe3BDQ@mail.gmail.com>"
    },
    {
        "id": "<CANYrj=JpEJaaSgdkp42tMtEAUVSdwCD9sdopK5960ekfagZpnw@mail.gmail.com>",
        "from": "Jun Zou &lt;nianjun...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 02:31:41 GMT",
        "subject": "Re: åµŒå¥— json ä¸­string æ•°ç»„çš„è§£æå¼‚å¸¸",
        "content": "Hiï¼Œ&#013;&#010;æ„Ÿè°¢æ‚¨çš„æŒ‡å¯¼ï¼&#013;&#010;&#013;&#010;ç¥å¥½ï¼&#013;&#010;&#013;&#010;Leonard Xu &lt;xbjtdcq@gmail.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸‹åˆ9:49å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi,&#013;&#010;&gt;&#013;&#010;&gt; çœ‹äº†ä¸‹ä»£ç ï¼Œè¿™ç¡®å®æ˜¯Flink 1.9é‡Œé¢çš„ä¸€ä¸ªbug[1], åŸå› æ²¡æœ‰ source æ²¡æœ‰æ­£ç¡®å¤„ç†legacy&#010;type å’Œæ–°çš„&#013;&#010;&gt; typeï¼Œè¿™ä¸ªissueæ²¡æœ‰åœ¨1.9çš„åˆ†æ”¯ä¸Šä¿®å¤ï¼Œå¯ä»¥å‡çº§åˆ°1.10.1è¯•ä¸‹ã€‚&#013;&#010;&gt;&#013;&#010;&gt; ç¥å¥½ï¼Œ&#013;&#010;&gt; Leonard Xu&#013;&#010;&gt; [1]https://issues.apache.org/jira/browse/FLINK-16622 &lt;&#013;&#010;&gt; https://issues.apache.org/jira/browse/FLINK-16622?focusedCommentId=17061790&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17061790&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "4",
        "reply": "<CANYrj=LNkKyv96BKXK4rd9eym2yjjtUGZcmb+jsTvX4XRe3BDQ@mail.gmail.com>"
    },
    {
        "id": "<5037bd09.29c3.17329847305.Coremail.kevinyunhe@163.com>",
        "from": "é‚¹äº‘é¹¤ &lt;kevinyu...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 13:43:32 GMT",
        "subject": "Flink 1.11 SQLä½œä¸šä¸­è°ƒç”¨UDTF å‡ºç°â€œNo match found for function signature â€å¼‚å¸¸",
        "content": "&#010;&#010;hi all&#010;æœ¬äººåŸºäºFlink 1.11 SNAPSHOT åœ¨ Flink sql ä½œä¸šä¸­ä½¿ç”¨ UDTF, UDTF çš„å®šä¹‰å¦‚ä¸‹ï¼š&#010;&#010;&#010;@FunctionHint(&#010;        input = {@DataTypeHint(\"STRING\"), @DataTypeHint(\"STRING\")},&#010;        output = @DataTypeHint(\"STRING\")&#010;)&#010;public class Split extends TableFunction&lt;String&gt; {&#010;  public Split(){}&#010;  public void eval(String str, String ch) {&#010;    if (str == null || str.isEmpty()) {&#010;      return;&#010;    } else {&#010;      String[] ss = str.split(ch);&#010;      for (String s : ss) {&#010;        collect(s);&#010;      }&#010;    }&#010;  }&#010;} &#010;&#010;&#010;åœ¨flink sqlä¸­é€šè¿‡ create function splitByChar as '**.**.Split' æ¥åˆ›å»ºè¿™ä¸ªfunctionï¼Œåœ¨tableEnv&#010;ä¸­è°ƒç”¨executeSql(....) æ¥å®Œæˆå¯¹è¿™ä¸ª functionçš„æ³¨å†Œï¼Œåœ¨sql åé¢çš„è®¡ç®—é€»è¾‘ä¸­&#010;é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥è°ƒç”¨è¿™ä¸ªUDTF &#010;create view view_source_1 as select `dateTimeï¼Œ`itime`,  lng,lat,net,event_info, cast(split_index(T.s,&#010;'_', 0) as int) as time_page from view_source as a left join LATERAL TABLE (splitByChar('a,b,c',','))&#010;as T(s) on true;&#010;&#010;&#010;ç»“æœä¸€ç›´å‡ºç°ä»¥ä¸‹é”™è¯¯ä¿¡æ¯ï¼š&#010;org.apache.flink.table.api.ValidationException: SQL validation failed. From line 3, column&#010;25 to line 3, column 47: No match found for function signature splitByChar(&lt;CHARACTER&gt;,&#010;&lt;CHARACTER&gt;)&#010;at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.org$apache$flink$table$planner$calcite$FlinkPlannerImpl$$validate(FlinkPlannerImpl.scala:146)&#010;at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.validate(FlinkPlannerImpl.scala:108)&#010;at org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:187)&#010;at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:66)&#010;at org.apache.flink.table.api.internal.TableEnvironmentImpl.sqlQuery(TableEnvironmentImpl.java:629)&#010;....................&#010;Caused by: org.apache.calcite.runtime.CalciteContextException: From line 3, column 25 to line&#010;3, column 47: r(&lt;CHARACTER&gt;, &lt;CHARACTER&gt;)&#010;at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&#010;at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)&#010;at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&#010;at java.lang.reflect.Constructor.newInstance(Constructor.java:423)&#010;at org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:457)&#010;at org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:839)&#010;at org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:824)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.newValidationError(SqlValidatorImpl.java:5089)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.handleUnresolvedFunction(SqlValidatorImpl.java:1882)&#010;at org.apache.calcite.sql.SqlFunction.deriveType(SqlFunction.java:305)&#010;at org.apache.calcite.sql.SqlFunction.deriveType(SqlFunction.java:218)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5858)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5845)&#010;at org.apache.calcite.sql.SqlCall.accept(SqlCall.java:139)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.deriveTypeImpl(SqlValidatorImpl.java:1800)&#010;at org.apache.calcite.sql.validate.ProcedureNamespace.validateImpl(ProcedureNamespace.java:57)&#010;at org.apache.calcite.sql.validate.AbstractNamespace.validate(AbstractNamespace.java:84)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.validateNamespace(SqlValidatorImpl.java:1110)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.validateQuery(SqlValidatorImpl.java:1084)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.validateFrom(SqlValidatorImpl.java:3256)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.validateFrom(SqlValidatorImpl.java:3238)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.validateJoin(SqlValidatorImpl.java:3303)&#010;at org.apache.flink.table.planner.calcite.FlinkCalciteSqlValidator.validateJoin(FlinkCalciteSqlValidator.java:86)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.validateFrom(SqlValidatorImpl.java:3247)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.validateSelect(SqlValidatorImpl.java:3510)&#010;at org.apache.calcite.sql.validate.SelectNamespace.validateImpl(SelectNamespace.java:60)&#010;at org.apache.calcite.sql.validate.AbstractNamespace.validate(AbstractNamespace.java:84)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.validateNamespace(SqlValidatorImpl.java:1110)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.validateQuery(SqlValidatorImpl.java:1084)&#010;at org.apache.calcite.sql.SqlSelect.validate(SqlSelect.java:232)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.validateScopedExpression(SqlValidatorImpl.java:1059)&#010;at org.apache.calcite.sql.validate.SqlValidatorImpl.validate(SqlValidatorImpl.java:766)&#010;at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.org$apache$flink$table$planner$calcite$FlinkPlannerImpl$$validate(FlinkPlannerImpl.scala:141)&#010;... 8 more&#010;Caused by: org.apache.calcite.sql.validate.SqlValidatorException: No match found for function&#010;signature splitByChar(&lt;CHARACTER&gt;, &lt;CHARACTER&gt;)&#010;at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&#010;at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)&#010;at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&#010;at java.lang.reflect.Constructor.newInstance(Constructor.java:423)&#010;at org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:457)&#010;at org.apache.calcite.runtime.Resources$ExInst.ex(Resources.java:550)&#010;&#010;&#010;ä¹‹å‰åœ¨flink 1.10 é‡Œé¢ä½¿ç”¨æ˜¯æ­£å¸¸çš„ï¼Œ é—®ä¸‹å„ä½å¤§ä½¬æœ‰æ²¡æœ‰åœ¨flink 1.11 é‡åˆ°è¿‡è¿™ä¸ªé”™è¯¯ï¼Œ&#010;éº»çƒ¦æä¾›ä¸€ä¸‹å¸®åŠ©ã€‚&#010;| |&#010;é‚¹äº‘é¹¤&#010;|&#010;|&#010;kevinyunhe@163.com&#010;|&#010;ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶",
        "depth": "0",
        "reply": "<5037bd09.29c3.17329847305.Coremail.kevinyunhe@163.com>"
    },
    {
        "id": "<CABKuJ_SmTKfpmYrwL91Mdzi_f2+KWJQ2RXr_G6xgq5bA0FwLpA@mail.gmail.com>",
        "from": "Benchao Li &lt;libenc...@apache.org&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 15:27:51 GMT",
        "subject": "Re: Flink 1.11 SQLä½œä¸šä¸­è°ƒç”¨UDTF å‡ºç°â€œNo match found for function signature â€å¼‚å¸¸",
        "content": "æˆ‘æ„Ÿè§‰è¿™åº”è¯¥æ˜¯æ–°ç‰ˆæœ¬çš„udfçš„bugï¼Œæˆ‘åœ¨æœ¬åœ°ä¹Ÿå¯ä»¥å¤ç°ã€‚&#010;å·²ç»å»ºäº†ä¸€ä¸ªissue[1] æ¥è·Ÿè¿›ã€‚&#010;&#010;[1] https://issues.apache.org/jira/browse/FLINK-18520&#010;&#010;é‚¹äº‘é¹¤ &lt;kevinyunhe@163.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸‹åˆ9:43å†™é“ï¼š&#010;&#010;&gt;&#010;&gt;&#010;&gt; hi all&#010;&gt; æœ¬äººåŸºäºFlink 1.11 SNAPSHOT åœ¨ Flink sql ä½œä¸šä¸­ä½¿ç”¨ UDTF, UDTF çš„å®šä¹‰å¦‚ä¸‹ï¼š&#010;&gt;&#010;&gt;&#010;&gt; @FunctionHint(&#010;&gt;         input = {@DataTypeHint(\"STRING\"), @DataTypeHint(\"STRING\")},&#010;&gt;         output = @DataTypeHint(\"STRING\")&#010;&gt; )&#010;&gt; public class Split extends TableFunction&lt;String&gt; {&#010;&gt;   public Split(){}&#010;&gt;   public void eval(String str, String ch) {&#010;&gt;     if (str == null || str.isEmpty()) {&#010;&gt;       return;&#010;&gt;     } else {&#010;&gt;       String[] ss = str.split(ch);&#010;&gt;       for (String s : ss) {&#010;&gt;         collect(s);&#010;&gt;       }&#010;&gt;     }&#010;&gt;   }&#010;&gt; }&#010;&gt;&#010;&gt;&#010;&gt; åœ¨flink sqlä¸­é€šè¿‡ create function splitByChar as '**.**.Split'&#010;&gt; æ¥åˆ›å»ºè¿™ä¸ªfunctionï¼Œåœ¨tableEnv ä¸­è°ƒç”¨executeSql(....) æ¥å®Œæˆå¯¹è¿™ä¸ª functionçš„æ³¨å†Œï¼Œåœ¨sql&#010;&gt; åé¢çš„è®¡ç®—é€»è¾‘ä¸­ é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥è°ƒç”¨è¿™ä¸ªUDTF&#010;&gt; create view view_source_1 as select `dateTimeï¼Œ`itime`,&#010;&gt; lng,lat,net,event_info, cast(split_index(T.s, '_', 0) as int) as time_page&#010;&gt; from view_source as a left join LATERAL TABLE (splitByChar('a,b,c',',')) as&#010;&gt; T(s) on true;&#010;&gt;&#010;&gt;&#010;&gt; ç»“æœä¸€ç›´å‡ºç°ä»¥ä¸‹é”™è¯¯ä¿¡æ¯ï¼š&#010;&gt; org.apache.flink.table.api.ValidationException: SQL validation failed.&#010;&gt; From line 3, column 25 to line 3, column 47: No match found for function&#010;&gt; signature splitByChar(&lt;CHARACTER&gt;, &lt;CHARACTER&gt;)&#010;&gt; at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.org&#010;&gt; $apache$flink$table$planner$calcite$FlinkPlannerImpl$$validate(FlinkPlannerImpl.scala:146)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.calcite.FlinkPlannerImpl.validate(FlinkPlannerImpl.scala:108)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:187)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:66)&#010;&gt; at&#010;&gt; org.apache.flink.table.api.internal.TableEnvironmentImpl.sqlQuery(TableEnvironmentImpl.java:629)&#010;&gt; ....................&#010;&gt; Caused by: org.apache.calcite.runtime.CalciteContextException: From line&#010;&gt; 3, column 25 to line 3, column 47: r(&lt;CHARACTER&gt;, &lt;CHARACTER&gt;)&#010;&gt; at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&#010;&gt; at&#010;&gt; sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)&#010;&gt; at&#010;&gt; sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&#010;&gt; at java.lang.reflect.Constructor.newInstance(Constructor.java:423)&#010;&gt; at&#010;&gt; org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:457)&#010;&gt; at org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:839)&#010;&gt; at org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:824)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.newValidationError(SqlValidatorImpl.java:5089)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.handleUnresolvedFunction(SqlValidatorImpl.java:1882)&#010;&gt; at org.apache.calcite.sql.SqlFunction.deriveType(SqlFunction.java:305)&#010;&gt; at org.apache.calcite.sql.SqlFunction.deriveType(SqlFunction.java:218)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5858)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5845)&#010;&gt; at org.apache.calcite.sql.SqlCall.accept(SqlCall.java:139)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.deriveTypeImpl(SqlValidatorImpl.java:1800)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.ProcedureNamespace.validateImpl(ProcedureNamespace.java:57)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.AbstractNamespace.validate(AbstractNamespace.java:84)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateNamespace(SqlValidatorImpl.java:1110)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateQuery(SqlValidatorImpl.java:1084)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateFrom(SqlValidatorImpl.java:3256)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateFrom(SqlValidatorImpl.java:3238)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateJoin(SqlValidatorImpl.java:3303)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.calcite.FlinkCalciteSqlValidator.validateJoin(FlinkCalciteSqlValidator.java:86)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateFrom(SqlValidatorImpl.java:3247)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateSelect(SqlValidatorImpl.java:3510)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SelectNamespace.validateImpl(SelectNamespace.java:60)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.AbstractNamespace.validate(AbstractNamespace.java:84)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateNamespace(SqlValidatorImpl.java:1110)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateQuery(SqlValidatorImpl.java:1084)&#010;&gt; at org.apache.calcite.sql.SqlSelect.validate(SqlSelect.java:232)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateScopedExpression(SqlValidatorImpl.java:1059)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validate(SqlValidatorImpl.java:766)&#010;&gt; at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.org&#010;&gt; $apache$flink$table$planner$calcite$FlinkPlannerImpl$$validate(FlinkPlannerImpl.scala:141)&#010;&gt; ... 8 more&#010;&gt; Caused by: org.apache.calcite.sql.validate.SqlValidatorException: No match&#010;&gt; found for function signature splitByChar(&lt;CHARACTER&gt;, &lt;CHARACTER&gt;)&#010;&gt; at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&#010;&gt; at&#010;&gt; sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)&#010;&gt; at&#010;&gt; sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&#010;&gt; at java.lang.reflect.Constructor.newInstance(Constructor.java:423)&#010;&gt; at&#010;&gt; org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:457)&#010;&gt; at org.apache.calcite.runtime.Resources$ExInst.ex(Resources.java:550)&#010;&gt;&#010;&gt;&#010;&gt; ä¹‹å‰åœ¨flink 1.10 é‡Œé¢ä½¿ç”¨æ˜¯æ­£å¸¸çš„ï¼Œ é—®ä¸‹å„ä½å¤§ä½¬æœ‰æ²¡æœ‰åœ¨flink 1.11&#010;é‡åˆ°è¿‡è¿™ä¸ªé”™è¯¯ï¼Œ éº»çƒ¦æä¾›ä¸€ä¸‹å¸®åŠ©ã€‚&#010;&gt; | |&#010;&gt; é‚¹äº‘é¹¤&#010;&gt; |&#010;&gt; |&#010;&gt; kevinyunhe@163.com&#010;&gt; |&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;&#010;&#010;&#010;-- &#010;&#010;Best,&#010;Benchao Li&#010;&#010;",
        "depth": "1",
        "reply": "<5037bd09.29c3.17329847305.Coremail.kevinyunhe@163.com>"
    },
    {
        "id": "<65f1fde1.2c05.17329f2c8db.Coremail.kevinyunhe@163.com>",
        "from": "é‚¹äº‘é¹¤ &lt;kevinyu...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 15:44:03 GMT",
        "subject": "å›å¤ï¼šFlink 1.11 SQLä½œä¸šä¸­è°ƒç”¨UDTF å‡ºç°â€œNo match found for function signature â€å¼‚å¸¸",
        "content": "å¥½çš„&#010;&#010;&#010;&#010;&#010;| |&#010;é‚¹äº‘é¹¤&#010;|&#010;|&#010;é‚®ç®±ï¼škevinyunhe@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;åœ¨2020å¹´07æœˆ07æ—¥ 23:27ï¼ŒBenchao Li å†™é“ï¼š&#010;æˆ‘æ„Ÿè§‰è¿™åº”è¯¥æ˜¯æ–°ç‰ˆæœ¬çš„udfçš„bugï¼Œæˆ‘åœ¨æœ¬åœ°ä¹Ÿå¯ä»¥å¤ç°ã€‚&#010;å·²ç»å»ºäº†ä¸€ä¸ªissue[1] æ¥è·Ÿè¿›ã€‚&#010;&#010;[1] https://issues.apache.org/jira/browse/FLINK-18520&#010;&#010;é‚¹äº‘é¹¤ &lt;kevinyunhe@163.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸‹åˆ9:43å†™é“ï¼š&#010;&#010;&gt;&#010;&gt;&#010;&gt; hi all&#010;&gt; æœ¬äººåŸºäºFlink 1.11 SNAPSHOT åœ¨ Flink sql ä½œä¸šä¸­ä½¿ç”¨ UDTF, UDTF çš„å®šä¹‰å¦‚ä¸‹ï¼š&#010;&gt;&#010;&gt;&#010;&gt; @FunctionHint(&#010;&gt;         input = {@DataTypeHint(\"STRING\"), @DataTypeHint(\"STRING\")},&#010;&gt;         output = @DataTypeHint(\"STRING\")&#010;&gt; )&#010;&gt; public class Split extends TableFunction&lt;String&gt; {&#010;&gt;   public Split(){}&#010;&gt;   public void eval(String str, String ch) {&#010;&gt;     if (str == null || str.isEmpty()) {&#010;&gt;       return;&#010;&gt;     } else {&#010;&gt;       String[] ss = str.split(ch);&#010;&gt;       for (String s : ss) {&#010;&gt;         collect(s);&#010;&gt;       }&#010;&gt;     }&#010;&gt;   }&#010;&gt; }&#010;&gt;&#010;&gt;&#010;&gt; åœ¨flink sqlä¸­é€šè¿‡ create function splitByChar as '**.**.Split'&#010;&gt; æ¥åˆ›å»ºè¿™ä¸ªfunctionï¼Œåœ¨tableEnv ä¸­è°ƒç”¨executeSql(....) æ¥å®Œæˆå¯¹è¿™ä¸ª functionçš„æ³¨å†Œï¼Œåœ¨sql&#010;&gt; åé¢çš„è®¡ç®—é€»è¾‘ä¸­ é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥è°ƒç”¨è¿™ä¸ªUDTF&#010;&gt; create view view_source_1 as select `dateTimeï¼Œ`itime`,&#010;&gt; lng,lat,net,event_info, cast(split_index(T.s, '_', 0) as int) as time_page&#010;&gt; from view_source as a left join LATERAL TABLE (splitByChar('a,b,c',',')) as&#010;&gt; T(s) on true;&#010;&gt;&#010;&gt;&#010;&gt; ç»“æœä¸€ç›´å‡ºç°ä»¥ä¸‹é”™è¯¯ä¿¡æ¯ï¼š&#010;&gt; org.apache.flink.table.api.ValidationException: SQL validation failed.&#010;&gt; From line 3, column 25 to line 3, column 47: No match found for function&#010;&gt; signature splitByChar(&lt;CHARACTER&gt;, &lt;CHARACTER&gt;)&#010;&gt; at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.org&#010;&gt; $apache$flink$table$planner$calcite$FlinkPlannerImpl$$validate(FlinkPlannerImpl.scala:146)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.calcite.FlinkPlannerImpl.validate(FlinkPlannerImpl.scala:108)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:187)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:66)&#010;&gt; at&#010;&gt; org.apache.flink.table.api.internal.TableEnvironmentImpl.sqlQuery(TableEnvironmentImpl.java:629)&#010;&gt; ....................&#010;&gt; Caused by: org.apache.calcite.runtime.CalciteContextException: From line&#010;&gt; 3, column 25 to line 3, column 47: r(&lt;CHARACTER&gt;, &lt;CHARACTER&gt;)&#010;&gt; at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&#010;&gt; at&#010;&gt; sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)&#010;&gt; at&#010;&gt; sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&#010;&gt; at java.lang.reflect.Constructor.newInstance(Constructor.java:423)&#010;&gt; at&#010;&gt; org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:457)&#010;&gt; at org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:839)&#010;&gt; at org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:824)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.newValidationError(SqlValidatorImpl.java:5089)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.handleUnresolvedFunction(SqlValidatorImpl.java:1882)&#010;&gt; at org.apache.calcite.sql.SqlFunction.deriveType(SqlFunction.java:305)&#010;&gt; at org.apache.calcite.sql.SqlFunction.deriveType(SqlFunction.java:218)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5858)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5845)&#010;&gt; at org.apache.calcite.sql.SqlCall.accept(SqlCall.java:139)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.deriveTypeImpl(SqlValidatorImpl.java:1800)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.ProcedureNamespace.validateImpl(ProcedureNamespace.java:57)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.AbstractNamespace.validate(AbstractNamespace.java:84)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateNamespace(SqlValidatorImpl.java:1110)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateQuery(SqlValidatorImpl.java:1084)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateFrom(SqlValidatorImpl.java:3256)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateFrom(SqlValidatorImpl.java:3238)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateJoin(SqlValidatorImpl.java:3303)&#010;&gt; at&#010;&gt; org.apache.flink.table.planner.calcite.FlinkCalciteSqlValidator.validateJoin(FlinkCalciteSqlValidator.java:86)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateFrom(SqlValidatorImpl.java:3247)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateSelect(SqlValidatorImpl.java:3510)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SelectNamespace.validateImpl(SelectNamespace.java:60)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.AbstractNamespace.validate(AbstractNamespace.java:84)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateNamespace(SqlValidatorImpl.java:1110)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateQuery(SqlValidatorImpl.java:1084)&#010;&gt; at org.apache.calcite.sql.SqlSelect.validate(SqlSelect.java:232)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validateScopedExpression(SqlValidatorImpl.java:1059)&#010;&gt; at&#010;&gt; org.apache.calcite.sql.validate.SqlValidatorImpl.validate(SqlValidatorImpl.java:766)&#010;&gt; at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.org&#010;&gt; $apache$flink$table$planner$calcite$FlinkPlannerImpl$$validate(FlinkPlannerImpl.scala:141)&#010;&gt; ... 8 more&#010;&gt; Caused by: org.apache.calcite.sql.validate.SqlValidatorException: No match&#010;&gt; found for function signature splitByChar(&lt;CHARACTER&gt;, &lt;CHARACTER&gt;)&#010;&gt; at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&#010;&gt; at&#010;&gt; sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)&#010;&gt; at&#010;&gt; sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&#010;&gt; at java.lang.reflect.Constructor.newInstance(Constructor.java:423)&#010;&gt; at&#010;&gt; org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:457)&#010;&gt; at org.apache.calcite.runtime.Resources$ExInst.ex(Resources.java:550)&#010;&gt;&#010;&gt;&#010;&gt; ä¹‹å‰åœ¨flink 1.10 é‡Œé¢ä½¿ç”¨æ˜¯æ­£å¸¸çš„ï¼Œ é—®ä¸‹å„ä½å¤§ä½¬æœ‰æ²¡æœ‰åœ¨flink 1.11&#010;é‡åˆ°è¿‡è¿™ä¸ªé”™è¯¯ï¼Œ éº»çƒ¦æä¾›ä¸€ä¸‹å¸®åŠ©ã€‚&#010;&gt; | |&#010;&gt; é‚¹äº‘é¹¤&#010;&gt; |&#010;&gt; |&#010;&gt; kevinyunhe@163.com&#010;&gt; |&#010;&gt; ç­¾åç”±ç½‘æ˜“é‚®ç®±å¤§å¸ˆå®šåˆ¶&#010;&#010;&#010;&#010;--&#010;&#010;Best,&#010;Benchao Li&#010;",
        "depth": "2",
        "reply": "<5037bd09.29c3.17329847305.Coremail.kevinyunhe@163.com>"
    },
    {
        "id": "<tencent_68BDB727BB29BA3D474A361C@qq.com>",
        "from": "&quot;noake&quot;&lt;no...@sina.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 14:15:05 GMT",
        "subject": "Re: Re: Re: Re: flink 1.11 ä½œä¸šæ‰§è¡Œå¼‚å¸¸",
        "content": "æˆ‘åœ¨1.11.0ä¸­é‡åˆ°äº†åŒæ ·çš„é—®é¢˜ï¼Œ pomä¸­åŠ äº†ä¸‹é¢çš„ä¾èµ–å°±æ²¡è§£å†³äº†&#010;dependency&#010; groupIdorg.apache.flink/groupId&#010; artifactIdflink-clients_${scala.binary.version}/artifactId&#010; version${flink.version}/version&#010;/dependency&#010;&#010;&#010;åŸå§‹é‚®ä»¶&#010;å‘ä»¶äºº:Congxian Qiuqcx978132955@gmail.com&#010;æ”¶ä»¶äºº:user-zhuser-zh@flink.apache.org&#010;æŠ„é€:Jark Wuimjark@gmail.com; Jun Zhangzhangjunemail100@gmail.com&#010;å‘é€æ—¶é—´:2020å¹´7æœˆ7æ—¥(å‘¨äºŒ)â€‡19:35&#010;ä¸»é¢˜:Re: Re: Re: Re: flink 1.11 ä½œä¸šæ‰§è¡Œå¼‚å¸¸&#010;&#010;&#010;Hi ä»è¿™ä¸ªæŠ¥é”™çœ‹ä¸Šå»æ˜¯å°è¯•é€šè¿‡ serviceLoader åŠ è½½ä¸€äº› factory çš„æ—¶å€™å‡ºé”™äº†ï¼ˆæ‰¾ä¸åˆ°ï¼‰ï¼Œå¯ä»¥çœ‹çœ‹å¯¹åº”çš„&#010;module çš„ resources æ–‡ä»¶ä¸‹æ˜¯å¦æœ‰å¯¹åº”çš„ resource æ–‡ä»¶ Best, Congxian sunfulin sunfulin0321@163.com&#010;äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸‹åˆ6:29å†™é“ï¼š     hi,  æˆ‘çš„pomæ–‡ä»¶æœ¬åœ°æ‰§è¡Œæ—¶ï¼Œscopeçš„providedéƒ½æ˜¯å»æ‰çš„ã€‚&#010; dependency  groupIdorg.apache.flink/groupId   artifactIdflink-table-planner-blink_${scala.binary.version}/artifactId&#010; version${flink.version}/version  /dependency    ç¡®å®æ¯”è¾ƒè¯¡å¼‚ã€‚org.apache.flink.core.execution.DefaultExecutorServiceLoader.getExecutorFactory(DefaultExecutorServiceLoader.java:84)&#010; è¿™ä¸ªå¼‚å¸¸åœ¨å•¥æƒ…å†µä¸‹ä¼šè§¦å‘åˆ°ã€‚                åœ¨ 2020-07-07 18:10:58ï¼Œ\"Jark&#010;Wu\" imjark@gmail.com å†™é“ï¼š  å¦‚æœæ˜¯åœ¨ IDEA ä¸­è¿è¡Œçš„è¯ï¼Œä½ çœ‹çœ‹ blink planner&#010;è¿™ä¸ªä¾èµ–çš„ scope æ˜¯ä¸æ˜¯è¢« provided æ‰äº†ï¼Ÿ å»æ‰  provided  å†è¯•è¯•çœ‹ï¼Ÿ  &#010; Best,  Jark    On Tue, 7 Jul 2020 at 18:01, sunfulin sunfulin0321@163.com wrote:     hi,&#010;  @Jun Zhang æˆ‘ä¸€ç›´ä½¿ç”¨çš„å°±æ˜¯blink plannerï¼Œè¿™ä¸ªjaråŒ…ä¸€ç›´éƒ½æœ‰çš„ã€‚     @Jark&#010;Wu æˆ‘æ˜¯åœ¨æœ¬åœ°ideaä¸­ç›´æ¥è¿è¡Œçš„ï¼Œè¿˜æ²¡æœ‰æ‰“åŒ…åˆ°é›†ç¾¤è·‘ã€‚è·Ÿè¿™ä¸ªæœ‰å…³ç³»ä¹ˆï¼Ÿ&#010;                                      åœ¨ 2020-07-07 15:40:17ï¼Œ\"Jark Wu\" imjark@gmail.com&#010;å†™é“ï¼š   Hi,      ä½ æ˜¯ä½œä¸šæ‰“åŒ…ååœ¨é›†ç¾¤æ‰§è¡Œçš„ï¼Œè¿˜æ˜¯åœ¨ IDEA ä¸­è¿è¡Œçš„å‘¢ï¼Ÿ&#010;     Best,   Jark      On Tue, 7 Jul 2020 at 15:31, Jun Zhang zhangjunemail100@gmail.com &#010; wrote:       hi.sunfulin    ä½ æœ‰æ²¡æœ‰å¯¼å…¥blinkçš„plannerå‘¢ï¼ŒåŠ å…¥è¿™ä¸ªè¯•è¯•   &#010;   dependency    groupIdorg.apache.flink/groupId       artifactIdflink-table-planner-blink_${scala.binary.version}/artifactId&#010;   version${flink.version}/version    /dependency          sunfulin sunfulin0321@163.com äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ&#010;ä¸‹åˆ3:21å†™é“ï¼š                hi, jark    æˆ‘çš„æ‰§è¡Œä»£ç å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸‹é¢çš„æ‰§è¡Œé€»è¾‘ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘ç¼ºäº†ä»€ä¹ˆä¾èµ–é…ç½®ã€‚æˆ‘debugçœ‹äº†ä¸‹å¼‚å¸¸æ‰§è¡Œï¼Œæ˜¯è¯´Flink&#010;   configurationé‡Œçš„DeployOptions.TARGET    ï¼ˆexecution.targetï¼‰æ²¡æœ‰åŒ¹é…åˆ°é…ç½®ï¼Ÿä¹‹å‰è²Œä¼¼ä»æ²¡æœ‰å…³æ³¨è¿‡è¿™ä¸ªé…ç½®ã€‚&#010;         //æ„å»ºStreamExecutionEnvironment    public static final StreamExecutionEnvironment&#010;env =    StreamExecutionEnvironment.getExecutionEnvironment();       //æ„å»ºEnvironmentSettings&#010;å¹¶æŒ‡å®šBlink Planner    private static final EnvironmentSettings bsSettings =       EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build();&#010;      //æ„å»ºStreamTableEnvironment    public static final StreamTableEnvironment tEnv =&#010;   StreamTableEnvironment.create(env, bsSettings);                   tEnv.executeSql(â€œddl&#010;sqlâ€);                //sourceæ³¨å†Œæˆè¡¨       tEnv.createTemporaryView(\"test\", ds, $(\"f0\").as(\"id\"),&#010;   $(\"f1\").as(\"first\"), $(\"p\").proctime());                //joinè¯­å¥       Table table&#010;= tEnv.sqlQuery(\"select b.* from test a left  join    my_dim FOR SYSTEM_TIME AS OF a.p AS&#010;b on a.first = b.userId\");                //è¾“å‡º       tEnv.toAppendStream(table,  Row.class).print(\"LookUpJoinJob\");&#010;               env.execute(\"LookUpJoinJob\");                            åœ¨ 2020-07-06 14:59:17ï¼Œ\"Jark&#010;Wu\" imjark@gmail.com å†™é“ï¼š    èƒ½åˆ†äº«ä¸‹å¤ç°çš„ä½œä¸šä»£ç ä¸ï¼Ÿ        Best,   &#010;Jark        On Mon, 6 Jul 2020 at 11:00, sunfulin sunfulin0321@163.com  wrote:         Hiï¼Œ&#010;    æˆ‘ä½¿ç”¨ç›®å‰æœ€æ–°çš„Flink 1.11 rc4æ¥æµ‹è¯•æˆ‘çš„ä½œä¸šã€‚æŠ¥äº†å¦‚ä¸‹å¼‚å¸¸ï¼š  &#010;  org.apache.flink.table.api.TableExecution: Failed to execute sql             caused by :&#010;java.lang.IlleagalStateException: No ExecutorFactory   found    to     execute the application.&#010;    at           org.apache.flink.core.execution.DefaultExecutorServiceLoader.getExecutorFactory(DefaultExecutorServiceLoader.java:84)&#010;            æƒ³è¯·æ•™ä¸‹è¿™ä¸ªå¼‚å¸¸æ˜¯å•¥åŸå› ï¼Ÿæˆ‘ä½¿ç”¨1.10.1è·‘åŒæ ·çš„é€»è¾‘ï¼Œæ˜¯æ²¡æœ‰å¼‚å¸¸çš„ã€‚",
        "depth": "0",
        "reply": "<tencent_68BDB727BB29BA3D474A361C@qq.com>"
    },
    {
        "id": "<2b4deb27.1765.1732c02ffb8.Coremail.sunfulin0321@163.com>",
        "from": "sunfulin  &lt;sunfulin0...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 01:21:00 GMT",
        "subject": "Re:Re: Re: Re: Re: flink 1.11 ä½œä¸šæ‰§è¡Œå¼‚å¸¸",
        "content": "hi, noake&#010;æ„Ÿè°¢åˆ†äº«ã€‚æˆ‘åŠ äº†è¿™ä¸ªä¾èµ–åä¹ŸOKäº†ã€‚å‘¨çŸ¥ä¸‹å¤§å®¶ã€‚&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-07 22:15:05ï¼Œ\"noake\" &lt;noake@sina.cn&gt; å†™é“ï¼š&#010;&gt;æˆ‘åœ¨1.11.0ä¸­é‡åˆ°äº†åŒæ ·çš„é—®é¢˜ï¼Œ pomä¸­åŠ äº†ä¸‹é¢çš„ä¾èµ–å°±æ²¡è§£å†³äº†&#010;&gt;dependency&#010;&gt; groupIdorg.apache.flink/groupId&#010;&gt; artifactIdflink-clients_${scala.binary.version}/artifactId&#010;&gt; version${flink.version}/version&#010;&gt;/dependency&#010;&gt;&#010;&gt;&#010;&gt;åŸå§‹é‚®ä»¶&#010;&gt;å‘ä»¶äºº:Congxian Qiuqcx978132955@gmail.com&#010;&gt;æ”¶ä»¶äºº:user-zhuser-zh@flink.apache.org&#010;&gt;æŠ„é€:Jark Wuimjark@gmail.com; Jun Zhangzhangjunemail100@gmail.com&#010;&gt;å‘é€æ—¶é—´:2020å¹´7æœˆ7æ—¥(å‘¨äºŒ)â€‡19:35&#010;&gt;ä¸»é¢˜:Re: Re: Re: Re: flink 1.11 ä½œä¸šæ‰§è¡Œå¼‚å¸¸&#010;&gt;&#010;&gt;&#010;&gt;Hi ä»è¿™ä¸ªæŠ¥é”™çœ‹ä¸Šå»æ˜¯å°è¯•é€šè¿‡ serviceLoader åŠ è½½ä¸€äº› factory çš„æ—¶å€™å‡ºé”™äº†ï¼ˆæ‰¾ä¸åˆ°ï¼‰ï¼Œå¯ä»¥çœ‹çœ‹å¯¹åº”çš„&#010;module çš„ resources æ–‡ä»¶ä¸‹æ˜¯å¦æœ‰å¯¹åº”çš„ resource æ–‡ä»¶ Best, Congxian sunfulin sunfulin0321@163.com&#010;äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸‹åˆ6:29å†™é“ï¼š     hi,  æˆ‘çš„pomæ–‡ä»¶æœ¬åœ°æ‰§è¡Œæ—¶ï¼Œscopeçš„providedéƒ½æ˜¯å»æ‰çš„ã€‚&#010; dependency  groupIdorg.apache.flink/groupId   artifactIdflink-table-planner-blink_${scala.binary.version}/artifactId&#010; version${flink.version}/version  /dependency    ç¡®å®æ¯”è¾ƒè¯¡å¼‚ã€‚org.apache.flink.core.execution.DefaultExecutorServiceLoader.getExecutorFactory(DefaultExecutorServiceLoader.java:84)&#010; è¿™ä¸ªå¼‚å¸¸åœ¨å•¥æƒ…å†µä¸‹ä¼šè§¦å‘åˆ°ã€‚                åœ¨ 2020-07-07 18:10:58ï¼Œ\"Jark&#010;Wu\" imjark@gmail.com å†™é“ï¼š  å¦‚æœæ˜¯åœ¨ IDEA ä¸­è¿è¡Œçš„è¯ï¼Œä½ çœ‹çœ‹ blink planner&#010;è¿™ä¸ªä¾èµ–çš„ scope æ˜¯ä¸æ˜¯è¢« provided æ‰äº†ï¼Ÿ å»æ‰  provided  å†è¯•è¯•çœ‹ï¼Ÿ  &#010; Best,  Jark    On Tue, 7 Jul 2020 at 18:01, sunfulin sunfulin0321@163.com wrote:     hi,&#010;  @Jun Zhang æˆ‘ä¸€ç›´ä½¿ç”¨çš„å°±æ˜¯blink plannerï¼Œè¿™ä¸ªjaråŒ…ä¸€ç›´éƒ½æœ‰çš„ã€‚     @Jark&#010;Wu æˆ‘æ˜¯åœ¨æœ¬åœ°ideaä¸­ç›´æ¥è¿è¡Œçš„ï¼Œè¿˜æ²¡æœ‰æ‰“åŒ…åˆ°é›†ç¾¤è·‘ã€‚è·Ÿè¿™ä¸ªæœ‰å…³ç³»ä¹ˆï¼Ÿ&#010;                                      åœ¨ 2020-07-07 15:40:17ï¼Œ\"Jark Wu\" imjark@gmail.com&#010;å†™é“ï¼š   Hi,      ä½ æ˜¯ä½œä¸šæ‰“åŒ…ååœ¨é›†ç¾¤æ‰§è¡Œçš„ï¼Œè¿˜æ˜¯åœ¨ IDEA ä¸­è¿è¡Œçš„å‘¢ï¼Ÿ&#010;     Best,   Jark      On Tue, 7 Jul 2020 at 15:31, Jun Zhang zhangjunemail100@gmail.com &#010; wrote:       hi.sunfulin    ä½ æœ‰æ²¡æœ‰å¯¼å…¥blinkçš„plannerå‘¢ï¼ŒåŠ å…¥è¿™ä¸ªè¯•è¯•   &#010;   dependency    groupIdorg.apache.flink/groupId       artifactIdflink-table-planner-blink_${scala.binary.version}/artifactId&#010;   version${flink.version}/version    /dependency          sunfulin sunfulin0321@163.com äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ&#010;ä¸‹åˆ3:21å†™é“ï¼š                hi, jark    æˆ‘çš„æ‰§è¡Œä»£ç å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸‹é¢çš„æ‰§è¡Œé€»è¾‘ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘ç¼ºäº†ä»€ä¹ˆä¾èµ–é…ç½®ã€‚æˆ‘debugçœ‹äº†ä¸‹å¼‚å¸¸æ‰§è¡Œï¼Œæ˜¯è¯´Flink&#010;   configurationé‡Œçš„DeployOptions.TARGET    ï¼ˆexecution.targetï¼‰æ²¡æœ‰åŒ¹é…åˆ°é…ç½®ï¼Ÿä¹‹å‰è²Œä¼¼ä»æ²¡æœ‰å…³æ³¨è¿‡è¿™ä¸ªé…ç½®ã€‚&#010;         //æ„å»ºStreamExecutionEnvironment    public static final StreamExecutionEnvironment&#010;env =    StreamExecutionEnvironment.getExecutionEnvironment();       //æ„å»ºEnvironmentSettings&#010;å¹¶æŒ‡å®šBlink Planner    private static final EnvironmentSettings bsSettings =       EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build();&#010;      //æ„å»ºStreamTableEnvironment    public static final StreamTableEnvironment tEnv =&#010;   StreamTableEnvironment.create(env, bsSettings);                   tEnv.executeSql(â€œddl&#010;sqlâ€);                //sourceæ³¨å†Œæˆè¡¨       tEnv.createTemporaryView(\"test\", ds, $(\"f0\").as(\"id\"),&#010;   $(\"f1\").as(\"first\"), $(\"p\").proctime());                //joinè¯­å¥       Table table&#010;= tEnv.sqlQuery(\"select b.* from test a left  join    my_dim FOR SYSTEM_TIME AS OF a.p AS&#010;b on a.first = b.userId\");                //è¾“å‡º       tEnv.toAppendStream(table,  Row.class).print(\"LookUpJoinJob\");&#010;               env.execute(\"LookUpJoinJob\");                            åœ¨ 2020-07-06 14:59:17ï¼Œ\"Jark&#010;Wu\" imjark@gmail.com å†™é“ï¼š    èƒ½åˆ†äº«ä¸‹å¤ç°çš„ä½œä¸šä»£ç ä¸ï¼Ÿ        Best,   &#010;Jark        On Mon, 6 Jul 2020 at 11:00, sunfulin sunfulin0321@163.com  wrote:         Hiï¼Œ&#010;    æˆ‘ä½¿ç”¨ç›®å‰æœ€æ–°çš„Flink 1.11 rc4æ¥æµ‹è¯•æˆ‘çš„ä½œä¸šã€‚æŠ¥äº†å¦‚ä¸‹å¼‚å¸¸ï¼š  &#010;  org.apache.flink.table.api.TableExecution: Failed to execute sql             caused by :&#010;java.lang.IlleagalStateException: No ExecutorFactory   found    to     execute the application.&#010;    at           org.apache.flink.core.execution.DefaultExecutorServiceLoader.getExecutorFactory(DefaultExecutorServiceLoader.java:84)&#010;            æƒ³è¯·æ•™ä¸‹è¿™ä¸ªå¼‚å¸¸æ˜¯å•¥åŸå› ï¼Ÿæˆ‘ä½¿ç”¨1.10.1è·‘åŒæ ·çš„é€»è¾‘ï¼Œæ˜¯æ²¡æœ‰å¼‚å¸¸çš„ã€‚&#010;",
        "depth": "1",
        "reply": "<tencent_68BDB727BB29BA3D474A361C@qq.com>"
    },
    {
        "id": "<CAELO930S1rXyfKZyHxUDHLSX0iu4xn_KgkYkQuZYh=ksNnJScA@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 04:04:09 GMT",
        "subject": "Re: Re: Re: Re: Re: flink 1.11 ä½œä¸šæ‰§è¡Œå¼‚å¸¸",
        "content": "ä¼°è®¡æ˜¯è¿™ä¸ªå¯¼è‡´çš„ï¼š&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-master/release-notes/flink-1.11.html#reversed-dependency-from-flink-streaming-java-to-flink-client-flink-15090&#013;&#010;&#013;&#010;On Wed, 8 Jul 2020 at 09:21, sunfulin &lt;sunfulin0321@163.com&gt; wrote:&#013;&#010;&#013;&#010;&gt; hi, noake&#013;&#010;&gt; æ„Ÿè°¢åˆ†äº«ã€‚æˆ‘åŠ äº†è¿™ä¸ªä¾èµ–åä¹ŸOKäº†ã€‚å‘¨çŸ¥ä¸‹å¤§å®¶ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; åœ¨ 2020-07-07 22:15:05ï¼Œ\"noake\" &lt;noake@sina.cn&gt; å†™é“ï¼š&#013;&#010;&gt; &gt;æˆ‘åœ¨1.11.0ä¸­é‡åˆ°äº†åŒæ ·çš„é—®é¢˜ï¼Œ pomä¸­åŠ äº†ä¸‹é¢çš„ä¾èµ–å°±æ²¡è§£å†³äº†&#013;&#010;&gt; &gt;dependency&#013;&#010;&gt; &gt; groupIdorg.apache.flink/groupId&#013;&#010;&gt; &gt; artifactIdflink-clients_${scala.binary.version}/artifactId&#013;&#010;&gt; &gt; version${flink.version}/version&#013;&#010;&gt; &gt;/dependency&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;åŸå§‹é‚®ä»¶&#013;&#010;&gt; &gt;å‘ä»¶äºº:Congxian Qiuqcx978132955@gmail.com&#013;&#010;&gt; &gt;æ”¶ä»¶äºº:user-zhuser-zh@flink.apache.org&#013;&#010;&gt; &gt;æŠ„é€:Jark Wuimjark@gmail.com; Jun Zhangzhangjunemail100@gmail.com&#013;&#010;&gt; &gt;å‘é€æ—¶é—´:2020å¹´7æœˆ7æ—¥(å‘¨äºŒ)â€‡19:35&#013;&#010;&gt; &gt;ä¸»é¢˜:Re: Re: Re: Re: flink 1.11 ä½œä¸šæ‰§è¡Œå¼‚å¸¸&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;Hi ä»è¿™ä¸ªæŠ¥é”™çœ‹ä¸Šå»æ˜¯å°è¯•é€šè¿‡ serviceLoader åŠ è½½ä¸€äº› factory çš„æ—¶å€™å‡ºé”™äº†ï¼ˆæ‰¾ä¸åˆ°ï¼‰ï¼Œå¯ä»¥çœ‹çœ‹å¯¹åº”çš„&#010;module çš„&#013;&#010;&gt; resources æ–‡ä»¶ä¸‹æ˜¯å¦æœ‰å¯¹åº”çš„ resource æ–‡ä»¶ Best, Congxian sunfulin&#013;&#010;&gt; sunfulin0321@163.com äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸‹åˆ6:29å†™é“ï¼š     hi,&#013;&#010;&gt; æˆ‘çš„pomæ–‡ä»¶æœ¬åœ°æ‰§è¡Œæ—¶ï¼Œscopeçš„providedéƒ½æ˜¯å»æ‰çš„ã€‚  dependency&#013;&#010;&gt; groupIdorg.apache.flink/groupId&#013;&#010;&gt;  artifactIdflink-table-planner-blink_${scala.binary.version}/artifactId&#013;&#010;&gt; version${flink.version}/version  /dependency&#013;&#010;&gt; ç¡®å®æ¯”è¾ƒè¯¡å¼‚ã€‚org.apache.flink.core.execution.DefaultExecutorServiceLoader.getExecutorFactory(DefaultExecutorServiceLoader.java:84)&#013;&#010;&gt; è¿™ä¸ªå¼‚å¸¸åœ¨å•¥æƒ…å†µä¸‹ä¼šè§¦å‘åˆ°ã€‚                åœ¨ 2020-07-07 18:10:58ï¼Œ\"Jark&#010;Wu\"&#013;&#010;&gt; imjark@gmail.com å†™é“ï¼š  å¦‚æœæ˜¯åœ¨ IDEA ä¸­è¿è¡Œçš„è¯ï¼Œä½ çœ‹çœ‹ blink planner&#010;è¿™ä¸ªä¾èµ–çš„ scope æ˜¯ä¸æ˜¯è¢«&#013;&#010;&gt; provided æ‰äº†ï¼Ÿ å»æ‰  provided  å†è¯•è¯•çœ‹ï¼Ÿ    Best,  Jark    On Tue, 7 Jul&#010;2020 at&#013;&#010;&gt; 18:01, sunfulin sunfulin0321@163.com wrote:     hi,   @Jun Zhang&#013;&#010;&gt; æˆ‘ä¸€ç›´ä½¿ç”¨çš„å°±æ˜¯blink plannerï¼Œè¿™ä¸ªjaråŒ…ä¸€ç›´éƒ½æœ‰çš„ã€‚     @Jark Wu&#013;&#010;&gt; æˆ‘æ˜¯åœ¨æœ¬åœ°ideaä¸­ç›´æ¥è¿è¡Œçš„ï¼Œè¿˜æ²¡æœ‰æ‰“åŒ…åˆ°é›†ç¾¤è·‘ã€‚è·Ÿè¿™ä¸ªæœ‰å…³ç³»ä¹ˆï¼Ÿ&#010;                                      åœ¨&#013;&#010;&gt; 2020-07-07 15:40:17ï¼Œ\"Jark Wu\" imjark@gmail.com å†™é“ï¼š   Hi,&#013;&#010;&gt; ä½ æ˜¯ä½œä¸šæ‰“åŒ…ååœ¨é›†ç¾¤æ‰§è¡Œçš„ï¼Œè¿˜æ˜¯åœ¨ IDEA ä¸­è¿è¡Œçš„å‘¢ï¼Ÿ      Best,&#010;  Jark      On Tue, 7 Jul 2020 at&#013;&#010;&gt; 15:31, Jun Zhang zhangjunemail100@gmail.com   wrote:       hi.sunfulin&#013;&#010;&gt; ä½ æœ‰æ²¡æœ‰å¯¼å…¥blinkçš„plannerå‘¢ï¼ŒåŠ å…¥è¿™ä¸ªè¯•è¯•       dependency&#013;&#010;&gt; groupIdorg.apache.flink/groupId&#013;&#010;&gt;  artifactIdflink-table-planner-blink_${scala.binary.version}/artifactId&#013;&#010;&gt; version${flink.version}/version    /dependency          sunfulin&#013;&#010;&gt; sunfulin0321@163.com äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸‹åˆ3:21å†™é“ï¼š                hi,&#010;jark&#013;&#010;&gt; æˆ‘çš„æ‰§è¡Œä»£ç å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸‹é¢çš„æ‰§è¡Œé€»è¾‘ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘ç¼ºäº†ä»€ä¹ˆä¾èµ–é…ç½®ã€‚æˆ‘debugçœ‹äº†ä¸‹å¼‚å¸¸æ‰§è¡Œï¼Œæ˜¯è¯´Flink&#013;&#010;&gt; configurationé‡Œçš„DeployOptions.TARGET&#013;&#010;&gt; ï¼ˆexecution.targetï¼‰æ²¡æœ‰åŒ¹é…åˆ°é…ç½®ï¼Ÿä¹‹å‰è²Œä¼¼ä»æ²¡æœ‰å…³æ³¨è¿‡è¿™ä¸ªé…ç½®ã€‚&#013;&#010;&gt; //æ„å»ºStreamExecutionEnvironment    public static final&#013;&#010;&gt; StreamExecutionEnvironment env =&#013;&#010;&gt; StreamExecutionEnvironment.getExecutionEnvironment();&#013;&#010;&gt;  //æ„å»ºEnvironmentSettings å¹¶æŒ‡å®šBlink Planner    private static final&#013;&#010;&gt; EnvironmentSettings bsSettings =&#013;&#010;&gt;  EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build();&#013;&#010;&gt;      //æ„å»ºStreamTableEnvironment    public static final&#013;&#010;&gt; StreamTableEnvironment tEnv =    StreamTableEnvironment.create(env,&#013;&#010;&gt; bsSettings);                   tEnv.executeSql(â€œddl sqlâ€);&#013;&#010;&gt; //sourceæ³¨å†Œæˆè¡¨       tEnv.createTemporaryView(\"test\", ds, $(\"f0\").as(\"id\"),&#013;&#010;&gt;   $(\"f1\").as(\"first\"), $(\"p\").proctime());                //joinè¯­å¥&#013;&#010;&gt;  Table table = tEnv.sqlQuery(\"select b.* from test a left  join    my_dim&#013;&#010;&gt; FOR SYSTEM_TIME AS OF a.p AS b on a.first = b.userId\");&#013;&#010;&gt; //è¾“å‡º       tEnv.toAppendStream(table,  Row.class).print(\"LookUpJoinJob\");&#013;&#010;&gt;               env.execute(\"LookUpJoinJob\");                            åœ¨&#013;&#010;&gt; 2020-07-06 14:59:17ï¼Œ\"Jark Wu\" imjark@gmail.com å†™é“ï¼š    èƒ½åˆ†äº«ä¸‹å¤ç°çš„ä½œä¸šä»£ç ä¸ï¼Ÿ&#013;&#010;&gt;   Best,    Jark        On Mon, 6 Jul 2020 at 11:00, sunfulin&#013;&#010;&gt; sunfulin0321@163.com  wrote:         Hiï¼Œ     æˆ‘ä½¿ç”¨ç›®å‰æœ€æ–°çš„Flink 1.11&#013;&#010;&gt; rc4æ¥æµ‹è¯•æˆ‘çš„ä½œä¸šã€‚æŠ¥äº†å¦‚ä¸‹å¼‚å¸¸ï¼š     org.apache.flink.table.api.TableExecution:&#010;Failed to&#013;&#010;&gt; execute sql             caused by : java.lang.IlleagalStateException: No&#013;&#010;&gt; ExecutorFactory   found    to     execute the application.     at&#013;&#010;&gt;  org.apache.flink.core.execution.DefaultExecutorServiceLoader.getExecutorFactory(DefaultExecutorServiceLoader.java:84)&#013;&#010;&gt;            æƒ³è¯·æ•™ä¸‹è¿™ä¸ªå¼‚å¸¸æ˜¯å•¥åŸå› ï¼Ÿæˆ‘ä½¿ç”¨1.10.1è·‘åŒæ ·çš„é€»è¾‘ï¼Œæ˜¯æ²¡æœ‰å¼‚å¸¸çš„ã€‚&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<tencent_68BDB727BB29BA3D474A361C@qq.com>"
    },
    {
        "id": "<tencent_5654DD5C3ED3B2458E8899B17E67443CD206@qq.com>",
        "from": "&quot;ã‚é‡è »éŠæˆ²Ï‡&quot; &lt;zhoujiazhi1...@vip.qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 14:27:35 GMT",
        "subject": "Flink DataStream ç»Ÿè®¡UVé—®é¢˜",
        "content": "å¤§å®¶å¥½ï¼&#013;&#010;&#013;&#010;&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp;æƒ³é—®ä¸‹ï¼Œç°åœ¨åœ¨ç”¨DataStreamçš„apiæ¥ç»Ÿè®¡æ¯å¤©çš„UVï¼Œä»£ç å¦‚ä¸‹ï¼Œæœ‰2ä¸ªä½¿ç”¨é—®é¢˜ï¼š&#013;&#010;1ã€åœ¨ä½¿ç”¨Tumblingçª—å£çš„æ—¶å€™ï¼Œç”±äºä½¿ç”¨çª—å£è·¨åº¦æ˜¯1å¤©ï¼ˆTime.days(1)ï¼‰ï¼Œåªæœ‰ä»¥ä¸€å¤©ç»“æŸçš„æ—¶å€™ï¼Œæ‰èƒ½è¾“å‡ºä¸€ä¸ªuvå€¼ï¼Œ&#013;&#010;è¿™æ ·æ—¶é—´ç­‰å¾…å¤ªé•¿äº†ï¼Œæ‰€ä»¥åŠ äº†ä¸€ä¸ªtriggerï¼Œæ¯æ¥ä¸€æ¡éƒ½è§¦å‘ä¸€æ¬¡çª—å£ï¼Œä¸çŸ¥é“è¿™æ ·çš„ç”¨æ³•æ²¡æœ‰é—®é¢˜ã€‚&#013;&#010;2ã€è¿˜æœ‰æƒ³é—®ä¸‹åœ¨çª—å£ç»“æŸåï¼Œé‡Œé¢çš„stateçŠ¶æ€ä¼šè‡ªåŠ¨é‡Šæ”¾å—ï¼Ÿè¿˜æ˜¯è¦è‡ªå·±æ‰‹åŠ¨è®¾ç½®TTLçš„ã€‚&#013;&#010;&#013;&#010;&amp;nbsp; &amp;nbsp;&amp;nbsp;&#013;&#010;è°¢è°¢ï¼&#013;&#010;Jiazhi",
        "depth": "0",
        "reply": "<tencent_5654DD5C3ED3B2458E8899B17E67443CD206@qq.com>"
    },
    {
        "id": "<CAOMLN=Zv-JKKw_jADNmR3QHbN7Cfi2AW05AdFY9DSayq=Dj0HA@mail.gmail.com>",
        "from": "shizk233 &lt;wangwangdaxian...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 10 Jul 2020 02:22:59 GMT",
        "subject": "Re: Flink DataStream ç»Ÿè®¡UVé—®é¢˜",
        "content": "Hi Jiazhi,&#013;&#010;&#013;&#010;1.å¦‚æœæ•°æ®æµé‡ä¸æ˜¯å¾ˆå¤§çš„è¯ï¼ŒæŒ‰æ¯æ¡æ•°æ®è§¦å‘ä¹Ÿæ²¡é—®é¢˜ã€‚å¦å¤–ï¼ŒåŸºäºäº‹ä»¶æ—¶é—´çš„æƒ…å†µï¼Œæå‰è§¦å‘å¯ä»¥é€‰æ‹©ContinuousEventTimeTriggerï¼Œå¯ä»¥æŸ¥çœ‹Triggeræ¥å£çš„å®ç°æ‰¾åˆ°ä½ æƒ³è¦çš„triggerã€‚&#013;&#010;2.çª—å£ç»“æŸåä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚ä¸€èˆ¬å¯¹äºGlobalçª—å£éœ€è¦æ‰‹åŠ¨è®¾ç½®TTL&#013;&#010;&#013;&#010;Best,&#013;&#010;shizk233&#013;&#010;&#013;&#010;ã‚é‡è »éŠæˆ²Ï‡ &lt;zhoujiazhi1985@vip.qq.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸‹åˆ10:27å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; å¤§å®¶å¥½ï¼&#013;&#010;&gt;&#013;&#010;&gt;      æƒ³é—®ä¸‹ï¼Œç°åœ¨åœ¨ç”¨DataStreamçš„apiæ¥ç»Ÿè®¡æ¯å¤©çš„UVï¼Œä»£ç å¦‚ä¸‹ï¼Œæœ‰2ä¸ªä½¿ç”¨é—®é¢˜ï¼š&#013;&#010;&gt; 1ã€åœ¨ä½¿ç”¨Tumblingçª—å£çš„æ—¶å€™ï¼Œç”±äºä½¿ç”¨çª—å£è·¨åº¦æ˜¯1å¤©ï¼ˆTime.days(1)ï¼‰ï¼Œåªæœ‰ä»¥ä¸€å¤©ç»“æŸçš„æ—¶å€™ï¼Œæ‰èƒ½è¾“å‡ºä¸€ä¸ªuvå€¼ï¼Œ&#013;&#010;&gt; è¿™æ ·æ—¶é—´ç­‰å¾…å¤ªé•¿äº†ï¼Œæ‰€ä»¥åŠ äº†ä¸€ä¸ªtriggerï¼Œæ¯æ¥ä¸€æ¡éƒ½è§¦å‘ä¸€æ¬¡çª—å£ï¼Œä¸çŸ¥é“è¿™æ ·çš„ç”¨æ³•æ²¡æœ‰é—®é¢˜ã€‚&#013;&#010;&gt; 2ã€è¿˜æœ‰æƒ³é—®ä¸‹åœ¨çª—å£ç»“æŸåï¼Œé‡Œé¢çš„stateçŠ¶æ€ä¼šè‡ªåŠ¨é‡Šæ”¾å—ï¼Ÿè¿˜æ˜¯è¦è‡ªå·±æ‰‹åŠ¨è®¾ç½®TTLçš„ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; è°¢è°¢ï¼&#013;&#010;&gt; Jiazhi&#013;&#010;&gt;&#013;&#010;",
        "depth": "1",
        "reply": "<tencent_5654DD5C3ED3B2458E8899B17E67443CD206@qq.com>"
    },
    {
        "id": "<CALL9TYKHPcNREvK+WmP-Y9Qprqi55k8EMEvD4Pm8_BdzZjTWgw@mail.gmail.com>",
        "from": "tison &lt;wander4...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 10 Jul 2020 04:30:32 GMT",
        "subject": "Re: Flink DataStream ç»Ÿè®¡UVé—®é¢˜",
        "content": "ä½ è¿™ä¸ªéœ€æ±‚è²Œä¼¼æ˜¯è¦çœ‹ä¸€å¤©çš„ UV çš„å®æ—¶æ›´æ–°é‡ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ sliding windowã€‚å¦‚æœæ˜¯æ¯å¤©&#010;0 ç‚¹æ¸…é›¶ï¼Œå®æ—¶çœ‹ä»Šå¤©çš„&#013;&#010;UVï¼Œé‚£å°±æ˜¯å¦ä¸€ä¸ªé—®é¢˜äº†ï¼Œåº”è¯¥éœ€è¦è‡ªå·±å®šä¹‰ trigger &amp; evictor&#013;&#010;&#013;&#010;æ¯æ¡è§¦å‘ä¸€æ¬¡ window...çœ‹ä½ æ•°æ®é‡å§&#013;&#010;&#013;&#010;Best,&#013;&#010;tison.&#013;&#010;&#013;&#010;&#013;&#010;shizk233 &lt;wangwangdaxian233@gmail.com&gt; äº2020å¹´7æœˆ10æ—¥å‘¨äº” ä¸Šåˆ10:23å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Jiazhi,&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; 1.å¦‚æœæ•°æ®æµé‡ä¸æ˜¯å¾ˆå¤§çš„è¯ï¼ŒæŒ‰æ¯æ¡æ•°æ®è§¦å‘ä¹Ÿæ²¡é—®é¢˜ã€‚å¦å¤–ï¼ŒåŸºäºäº‹ä»¶æ—¶é—´çš„æƒ…å†µï¼Œæå‰è§¦å‘å¯ä»¥é€‰æ‹©ContinuousEventTimeTriggerï¼Œå¯ä»¥æŸ¥çœ‹Triggeræ¥å£çš„å®ç°æ‰¾åˆ°ä½ æƒ³è¦çš„triggerã€‚&#013;&#010;&gt; 2.çª—å£ç»“æŸåä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚ä¸€èˆ¬å¯¹äºGlobalçª—å£éœ€è¦æ‰‹åŠ¨è®¾ç½®TTL&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; shizk233&#013;&#010;&gt;&#013;&#010;&gt; ã‚é‡è »éŠæˆ²Ï‡ &lt;zhoujiazhi1985@vip.qq.com&gt; äº2020å¹´7æœˆ7æ—¥å‘¨äºŒ ä¸‹åˆ10:27å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; å¤§å®¶å¥½ï¼&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;      æƒ³é—®ä¸‹ï¼Œç°åœ¨åœ¨ç”¨DataStreamçš„apiæ¥ç»Ÿè®¡æ¯å¤©çš„UVï¼Œä»£ç å¦‚ä¸‹ï¼Œæœ‰2ä¸ªä½¿ç”¨é—®é¢˜ï¼š&#013;&#010;&gt; &gt; 1ã€åœ¨ä½¿ç”¨Tumblingçª—å£çš„æ—¶å€™ï¼Œç”±äºä½¿ç”¨çª—å£è·¨åº¦æ˜¯1å¤©ï¼ˆTime.days(1)ï¼‰ï¼Œåªæœ‰ä»¥ä¸€å¤©ç»“æŸçš„æ—¶å€™ï¼Œæ‰èƒ½è¾“å‡ºä¸€ä¸ªuvå€¼ï¼Œ&#013;&#010;&gt; &gt; è¿™æ ·æ—¶é—´ç­‰å¾…å¤ªé•¿äº†ï¼Œæ‰€ä»¥åŠ äº†ä¸€ä¸ªtriggerï¼Œæ¯æ¥ä¸€æ¡éƒ½è§¦å‘ä¸€æ¬¡çª—å£ï¼Œä¸çŸ¥é“è¿™æ ·çš„ç”¨æ³•æ²¡æœ‰é—®é¢˜ã€‚&#013;&#010;&gt; &gt; 2ã€è¿˜æœ‰æƒ³é—®ä¸‹åœ¨çª—å£ç»“æŸåï¼Œé‡Œé¢çš„stateçŠ¶æ€ä¼šè‡ªåŠ¨é‡Šæ”¾å—ï¼Ÿè¿˜æ˜¯è¦è‡ªå·±æ‰‹åŠ¨è®¾ç½®TTLçš„ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; è°¢è°¢ï¼&#013;&#010;&gt; &gt; Jiazhi&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<tencent_5654DD5C3ED3B2458E8899B17E67443CD206@qq.com>"
    },
    {
        "id": "<tencent_A118AE33345E756A7A0E8749D52249E4C005@qq.com>",
        "from": "&quot;ã‚é‡è »éŠæˆ²Ï‡&quot; &lt;zhoujiazhi1...@vip.qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 07 Jul 2020 14:32:51 GMT",
        "subject": "DataStreamç»Ÿè®¡uvé—®é¢˜",
        "content": "å¤§å®¶å¥½ï¼&#013;&#010;&#013;&#010;&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp;æƒ³é—®ä¸‹ï¼Œç°åœ¨åœ¨ç”¨DataStreamçš„apiæ¥ç»Ÿè®¡æ¯å¤©çš„UVï¼Œä»£ç å¦‚ä¸‹ï¼Œæœ‰2ä¸ªä½¿ç”¨é—®é¢˜ï¼š&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp;1ã€åœ¨ä½¿ç”¨Tumblingçª—å£çš„æ—¶å€™ï¼Œç”±äºä½¿ç”¨çª—å£è·¨åº¦æ˜¯1å¤©ï¼ˆTime.days(1)ï¼‰ï¼Œåªæœ‰ä»¥ä¸€å¤©ç»“æŸçš„æ—¶å€™ï¼Œæ‰èƒ½è¾“å‡ºä¸€ä¸ªuvå€¼ï¼Œ&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; è¿™æ ·æ—¶é—´ç­‰å¾…å¤ªé•¿äº†ï¼Œæ‰€ä»¥åŠ äº†ä¸€ä¸ªtriggerï¼Œæ¯æ¥ä¸€æ¡éƒ½è§¦å‘ä¸€æ¬¡çª—å£ï¼Œä¸çŸ¥é“è¿™æ ·çš„ç”¨æ³•æ²¡æœ‰é—®é¢˜ã€‚&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp;2ã€è¿˜æœ‰æƒ³é—®ä¸‹åœ¨çª—å£ç»“æŸåï¼Œé‡Œé¢çš„stateçŠ¶æ€ä¼šè‡ªåŠ¨é‡Šæ”¾å—ï¼Ÿè¿˜æ˜¯è¦è‡ªå·±æ‰‹åŠ¨è®¾ç½®TTLçš„ã€‚&#013;&#010;&#013;&#010;&#013;&#010;DataStream&lt;UvPer10Min&amp;gt; uvPer10MinDataStream = userBehaviorSource&#013;&#010;.windowAll(TumblingProcessingTimeWindows.of(Time.days(1L)))&#013;&#010;.trigger(CountTrigger.of(1L))&#013;&#010;.evictor(CountEvictor.of(0L, true))&#013;&#010;.process(new ProcessAllWindowFunction&lt;UserBehavior, UvPer10Min, TimeWindow&amp;gt;() {&#013;&#010;private transient MapState&lt;String, String&amp;gt; userIdState;&#013;&#010;private transient ValueState&lt;Long&amp;gt; uvCountState;&#013;&#010;&amp;nbsp; &amp;nbsp;&#013;&#010;è°¢è°¢ï¼&#013;&#010;Jiazhi",
        "depth": "0",
        "reply": "<tencent_A118AE33345E756A7A0E8749D52249E4C005@qq.com>"
    },
    {
        "id": "<63f455cf-6012-48ff-9011-6db556ea66e5.yungao.gy@aliyun.com>",
        "from": "&quot;Yun Gao&quot; &lt;yungao...@aliyun.com.INVALID&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 02:07:55 GMT",
        "subject": "Re: DataStreamç»Ÿè®¡uvé—®é¢˜",
        "content": "&#010;æ‚¨å¥½ï¼š&#010;   1. è¿™ä¸ªåº”è¯¥æ˜¯é¢„æœŸå†…çš„ç”¨æ³•ï¼Œå¦‚æœæ‰§è¡Œèµ·æ¥æ²¡æœ‰é‡åˆ°é—®é¢˜åº”è¯¥æ˜¯Okçš„ã€‚&#010;   2. çª—å£çš„çŠ¶æ€ä¼šåœ¨è¶…è¿‡æœ€å¤§æ—¶é—´+æœ€å¤§å…è®¸çš„å»¶è¿Ÿæ—¶é—´ä¹‹åè¢«æ¸…ç†ã€‚------------------------------------------------------------------&#010;Sender:ã‚é‡è »éŠæˆ²Ï‡&lt;zhoujiazhi1985@vip.qq.com&gt;&#010;Date:2020/07/07 22:32:51&#010;Recipient:user-zh&lt;user-zh@flink.apache.org&gt;&#010;Theme:DataStreamç»Ÿè®¡uvé—®é¢˜&#010;&#010;å¤§å®¶å¥½ï¼&#010;&#010;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp;æƒ³é—®ä¸‹ï¼Œç°åœ¨åœ¨ç”¨DataStreamçš„apiæ¥ç»Ÿè®¡æ¯å¤©çš„UVï¼Œä»£ç å¦‚ä¸‹ï¼Œæœ‰2ä¸ªä½¿ç”¨é—®é¢˜ï¼š&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp;1ã€åœ¨ä½¿ç”¨Tumblingçª—å£çš„æ—¶å€™ï¼Œç”±äºä½¿ç”¨çª—å£è·¨åº¦æ˜¯1å¤©ï¼ˆTime.days(1)ï¼‰ï¼Œåªæœ‰ä»¥ä¸€å¤©ç»“æŸçš„æ—¶å€™ï¼Œæ‰èƒ½è¾“å‡ºä¸€ä¸ªuvå€¼ï¼Œ&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; è¿™æ ·æ—¶é—´ç­‰å¾…å¤ªé•¿äº†ï¼Œæ‰€ä»¥åŠ äº†ä¸€ä¸ªtriggerï¼Œæ¯æ¥ä¸€æ¡éƒ½è§¦å‘ä¸€æ¬¡çª—å£ï¼Œä¸çŸ¥é“è¿™æ ·çš„ç”¨æ³•æ²¡æœ‰é—®é¢˜ã€‚&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp;2ã€è¿˜æœ‰æƒ³é—®ä¸‹åœ¨çª—å£ç»“æŸåï¼Œé‡Œé¢çš„stateçŠ¶æ€ä¼šè‡ªåŠ¨é‡Šæ”¾å—ï¼Ÿè¿˜æ˜¯è¦è‡ªå·±æ‰‹åŠ¨è®¾ç½®TTLçš„ã€‚&#010;&#010;&#010;DataStream&lt;UvPer10Min&amp;gt; uvPer10MinDataStream = userBehaviorSource&#010;.windowAll(TumblingProcessingTimeWindows.of(Time.days(1L)))&#010;.trigger(CountTrigger.of(1L))&#010;.evictor(CountEvictor.of(0L, true))&#010;.process(new ProcessAllWindowFunction&lt;UserBehavior, UvPer10Min, TimeWindow&amp;gt;() {&#010;private transient MapState&lt;String, String&amp;gt; userIdState;&#010;private transient ValueState&lt;Long&amp;gt; uvCountState;&#010;&amp;nbsp; &amp;nbsp;&#010;è°¢è°¢ï¼&#010;Jiazhi&#010;",
        "depth": "1",
        "reply": "<tencent_A118AE33345E756A7A0E8749D52249E4C005@qq.com>"
    },
    {
        "id": "<tencent_ECC0024DC4C1F8B4B32F9E688A7BCE876905@qq.com>",
        "from": "&quot;ã‚é‡è »éŠæˆ²Ï‡&quot; &lt;zhoujiazhi1...@vip.qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 02:15:48 GMT",
        "subject": "å›å¤ï¼š DataStreamç»Ÿè®¡uvé—®é¢˜",
        "content": "æ„æ€æ˜¯å½“æˆ‘ä½¿ç”¨æ»šåŠ¨çª—å£ä¹‹åï¼Œåœ¨ç¬¬ä¸€ä¸ªæ»šåŠ¨çª—å£ä¸­çš„stateè‡ªåŠ¨ä¼šè¢«æ¸…é™¤ï¼Œç¬¬äºŒä¸ªæ»šåŠ¨çª—å£è¿›æ¥ä¹‹åï¼Œè·å–ç›¸åŒçš„Descriptorï¼Œé‡Œé¢çš„å€¼æ˜¯nullï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"Yun Gao\"&lt;yungao.gy@aliyun.com.INVALID&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ9æ—¥(æ˜ŸæœŸå››) ä¸Šåˆ10:07&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"ã‚é‡è »éŠæˆ²Ï‡\"&lt;zhoujiazhi1985@vip.qq.com&amp;gt;;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;Re: DataStreamç»Ÿè®¡uvé—®é¢˜&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;æ‚¨å¥½ï¼š&#013;&#010;&amp;nbsp;&amp;nbsp; 1. è¿™ä¸ªåº”è¯¥æ˜¯é¢„æœŸå†…çš„ç”¨æ³•ï¼Œå¦‚æœæ‰§è¡Œèµ·æ¥æ²¡æœ‰é‡åˆ°é—®é¢˜åº”è¯¥æ˜¯Okçš„ã€‚&#013;&#010;&amp;nbsp;&amp;nbsp; 2. çª—å£çš„çŠ¶æ€ä¼šåœ¨è¶…è¿‡æœ€å¤§æ—¶é—´+æœ€å¤§å…è®¸çš„å»¶è¿Ÿæ—¶é—´ä¹‹åè¢«æ¸…ç†ã€‚------------------------------------------------------------------&#013;&#010;Sender:ã‚é‡è »éŠæˆ²Ï‡&lt;zhoujiazhi1985@vip.qq.com&amp;gt;&#013;&#010;Date:2020/07/07 22:32:51&#013;&#010;Recipient:user-zh&lt;user-zh@flink.apache.org&amp;gt;&#013;&#010;Theme:DataStreamç»Ÿè®¡uvé—®é¢˜&#013;&#010;&#013;&#010;å¤§å®¶å¥½ï¼&#013;&#010;&#013;&#010;&#013;&#010;&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;æƒ³é—®ä¸‹ï¼Œç°åœ¨åœ¨ç”¨DataStreamçš„apiæ¥ç»Ÿè®¡æ¯å¤©çš„UVï¼Œä»£ç å¦‚ä¸‹ï¼Œæœ‰2ä¸ªä½¿ç”¨é—®é¢˜ï¼š&#013;&#010;&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;1ã€åœ¨ä½¿ç”¨Tumblingçª—å£çš„æ—¶å€™ï¼Œç”±äºä½¿ç”¨çª—å£è·¨åº¦æ˜¯1å¤©ï¼ˆTime.days(1)ï¼‰ï¼Œåªæœ‰ä»¥ä¸€å¤©ç»“æŸçš„æ—¶å€™ï¼Œæ‰èƒ½è¾“å‡ºä¸€ä¸ªuvå€¼ï¼Œ&#013;&#010;&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; è¿™æ ·æ—¶é—´ç­‰å¾…å¤ªé•¿äº†ï¼Œæ‰€ä»¥åŠ äº†ä¸€ä¸ªtriggerï¼Œæ¯æ¥ä¸€æ¡éƒ½è§¦å‘ä¸€æ¬¡çª—å£ï¼Œä¸çŸ¥é“è¿™æ ·çš„ç”¨æ³•æ²¡æœ‰é—®é¢˜ã€‚&#013;&#010;&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;2ã€è¿˜æœ‰æƒ³é—®ä¸‹åœ¨çª—å£ç»“æŸåï¼Œé‡Œé¢çš„stateçŠ¶æ€ä¼šè‡ªåŠ¨é‡Šæ”¾å—ï¼Ÿè¿˜æ˜¯è¦è‡ªå·±æ‰‹åŠ¨è®¾ç½®TTLçš„ã€‚&#013;&#010;&#013;&#010;&#013;&#010;DataStream&lt;UvPer10Min&amp;amp;gt; uvPer10MinDataStream = userBehaviorSource&#013;&#010;.windowAll(TumblingProcessingTimeWindows.of(Time.days(1L)))&#013;&#010;.trigger(CountTrigger.of(1L))&#013;&#010;.evictor(CountEvictor.of(0L, true))&#013;&#010;.process(new ProcessAllWindowFunction&lt;UserBehavior, UvPer10Min, TimeWindow&amp;amp;gt;()&#010;{&#013;&#010;private transient MapState&lt;String, String&amp;amp;gt; userIdState;&#013;&#010;private transient ValueState&lt;Long&amp;amp;gt; uvCountState;&#013;&#010;&amp;amp;nbsp; &amp;amp;nbsp;&#013;&#010;è°¢è°¢ï¼&#013;&#010;Jiazhi",
        "depth": "2",
        "reply": "<tencent_A118AE33345E756A7A0E8749D52249E4C005@qq.com>"
    },
    {
        "id": "<77dae4ed-fe00-4080-9713-0883e9a293aa.yungao.gy@aliyun.com>",
        "from": "&quot;Yun Gao&quot; &lt;yungao...@aliyun.com.INVALID&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 02:18:21 GMT",
        "subject": "Re: å›å¤ï¼š DataStreamç»Ÿè®¡uvé—®é¢˜",
        "content": "é€»è¾‘ä¸Šè¿™ä¹ˆè¯´ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼›å¯ä»¥è®¤ä¸ºå®ƒæ˜¯å…ˆæŠŠæ”¶åˆ°çš„è®°å½•ï¼ˆæ ¹æ®keyå’Œtimeï¼‰åˆ†é…åˆ°ç‰¹å®šçš„çª—å£ä¸­ï¼Œç„¶åä¸åŒçš„çª—å£çš„çŠ¶æ€å’Œè®¡ç®—éƒ½æ˜¯ç‹¬ç«‹çš„&#010;&#010;&#010;&#010; ------------------Original Mail ------------------&#010;Sender:ã‚é‡è »éŠæˆ²Ï‡ &lt;zhoujiazhi1985@vip.qq.com&gt;&#010;Send Date:Thu Jul 9 10:16:06 2020&#010;Recipients:user-zh &lt;user-zh@flink.apache.org&gt;&#010;Subject:å›å¤ï¼š DataStreamç»Ÿè®¡uvé—®é¢˜&#010;æ„æ€æ˜¯å½“æˆ‘ä½¿ç”¨æ»šåŠ¨çª—å£ä¹‹åï¼Œåœ¨ç¬¬ä¸€ä¸ªæ»šåŠ¨çª—å£ä¸­çš„stateè‡ªåŠ¨ä¼šè¢«æ¸…é™¤ï¼Œç¬¬äºŒä¸ªæ»šåŠ¨çª—å£è¿›æ¥ä¹‹åï¼Œè·å–ç›¸åŒçš„Descriptorï¼Œé‡Œé¢çš„å€¼æ˜¯nullï¼Ÿ&#010;&#010;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#010;å‘ä»¶äºº:&amp;nbsp;\"Yun Gao\"&lt;yungao.gy@aliyun.com.INVALID&amp;gt;;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ9æ—¥(æ˜ŸæœŸå››) ä¸Šåˆ10:07&#010;æ”¶ä»¶äºº:&amp;nbsp;\"ã‚é‡è »éŠæˆ²Ï‡\"&lt;zhoujiazhi1985@vip.qq.com&amp;gt;;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#010;&#010;ä¸»é¢˜:&amp;nbsp;Re: DataStreamç»Ÿè®¡uvé—®é¢˜&#010;&#010;&#010;&#010;&#010;æ‚¨å¥½ï¼š&#010;&amp;nbsp;&amp;nbsp; 1. è¿™ä¸ªåº”è¯¥æ˜¯é¢„æœŸå†…çš„ç”¨æ³•ï¼Œå¦‚æœæ‰§è¡Œèµ·æ¥æ²¡æœ‰é‡åˆ°é—®é¢˜åº”è¯¥æ˜¯Okçš„ã€‚&#010;&amp;nbsp;&amp;nbsp; 2. çª—å£çš„çŠ¶æ€ä¼šåœ¨è¶…è¿‡æœ€å¤§æ—¶é—´+æœ€å¤§å…è®¸çš„å»¶è¿Ÿæ—¶é—´ä¹‹åè¢«æ¸…ç†ã€‚------------------------------------------------------------------&#010;Sender:ã‚é‡è »éŠæˆ²Ï‡&lt;zhoujiazhi1985@vip.qq.com&amp;gt;&#010;Date:2020/07/07 22:32:51&#010;Recipient:user-zh&lt;user-zh@flink.apache.org&amp;gt;&#010;Theme:DataStreamç»Ÿè®¡uvé—®é¢˜&#010;&#010;å¤§å®¶å¥½ï¼&#010;&#010;&#010;&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;æƒ³é—®ä¸‹ï¼Œç°åœ¨åœ¨ç”¨DataStreamçš„apiæ¥ç»Ÿè®¡æ¯å¤©çš„UVï¼Œä»£ç å¦‚ä¸‹ï¼Œæœ‰2ä¸ªä½¿ç”¨é—®é¢˜ï¼š&#010;&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;1ã€åœ¨ä½¿ç”¨Tumblingçª—å£çš„æ—¶å€™ï¼Œç”±äºä½¿ç”¨çª—å£è·¨åº¦æ˜¯1å¤©ï¼ˆTime.days(1)ï¼‰ï¼Œåªæœ‰ä»¥ä¸€å¤©ç»“æŸçš„æ—¶å€™ï¼Œæ‰èƒ½è¾“å‡ºä¸€ä¸ªuvå€¼ï¼Œ&#010;&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; è¿™æ ·æ—¶é—´ç­‰å¾…å¤ªé•¿äº†ï¼Œæ‰€ä»¥åŠ äº†ä¸€ä¸ªtriggerï¼Œæ¯æ¥ä¸€æ¡éƒ½è§¦å‘ä¸€æ¬¡çª—å£ï¼Œä¸çŸ¥é“è¿™æ ·çš„ç”¨æ³•æ²¡æœ‰é—®é¢˜ã€‚&#010;&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;2ã€è¿˜æœ‰æƒ³é—®ä¸‹åœ¨çª—å£ç»“æŸåï¼Œé‡Œé¢çš„stateçŠ¶æ€ä¼šè‡ªåŠ¨é‡Šæ”¾å—ï¼Ÿè¿˜æ˜¯è¦è‡ªå·±æ‰‹åŠ¨è®¾ç½®TTLçš„ã€‚&#010;&#010;&#010;DataStream&lt;UvPer10Min&amp;amp;gt; uvPer10MinDataStream = userBehaviorSource&#010;.windowAll(TumblingProcessingTimeWindows.of(Time.days(1L)))&#010;.trigger(CountTrigger.of(1L))&#010;.evictor(CountEvictor.of(0L, true))&#010;.process(new ProcessAllWindowFunction&lt;UserBehavior, UvPer10Min, TimeWindow&amp;amp;gt;()&#010;{&#010;private transient MapState&lt;String, String&amp;amp;gt; userIdState;&#010;private transient ValueState&lt;Long&amp;amp;gt; uvCountState;&#010;&amp;amp;nbsp; &amp;amp;nbsp;&#010;è°¢è°¢ï¼&#010;Jiazhi",
        "depth": "2",
        "reply": "<tencent_A118AE33345E756A7A0E8749D52249E4C005@qq.com>"
    },
    {
        "id": "<tencent_A7608F489AB90A5B80B64C9F46EEA99C4E06@qq.com>",
        "from": "&quot;1193216154&quot; &lt;1193216...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 02:25:29 GMT",
        "subject": "å›å¤ï¼š å›å¤ï¼š DataStreamç»Ÿè®¡uvé—®é¢˜",
        "content": "æˆ‘å»ºè®®ä½ ç”¨ContinuousEventTimeTriggerï¼Œå¯ä»¥åœ¨çª—å£èŒƒå›´å†…ï¼Œè¿ç»­è§¦å‘ã€‚&#013;&#010;ä½ è¿™ä¸ªcountTriggerï¼Œä¿ƒå‘æ¬¡æ•°å¤ªå¤šäº†ï¼Œè€Œä¸”ä½ åé¢æ˜¯processWindowFunctionï¼Œå¯¼è‡´è®¡ç®—å‹åŠ›æ¯”è¾ƒå¤§ã€‚&#013;&#010;å»ºè®®ä½ ç”¨aggregateWindowFuntion&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"Yun Gao\"&lt;yungao.gy@aliyun.com.INVALID&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ9æ—¥(æ˜ŸæœŸå››) ä¸Šåˆ10:18&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"ã‚é‡è »éŠæˆ²Ï‡\"&lt;zhoujiazhi1985@vip.qq.com&amp;gt;;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;Re: å›å¤ï¼š DataStreamç»Ÿè®¡uvé—®é¢˜&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;é€»è¾‘ä¸Šè¿™ä¹ˆè¯´ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼›å¯ä»¥è®¤ä¸ºå®ƒæ˜¯å…ˆæŠŠæ”¶åˆ°çš„è®°å½•ï¼ˆæ ¹æ®keyå’Œtimeï¼‰åˆ†é…åˆ°ç‰¹å®šçš„çª—å£ä¸­ï¼Œç„¶åä¸åŒçš„çª—å£çš„çŠ¶æ€å’Œè®¡ç®—éƒ½æ˜¯ç‹¬ç«‹çš„&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&amp;nbsp;------------------Original Mail ------------------&#013;&#010;Sender:ã‚é‡è »éŠæˆ²Ï‡ &lt;zhoujiazhi1985@vip.qq.com&amp;gt;&#013;&#010;Send Date:Thu Jul 9 10:16:06 2020&#013;&#010;Recipients:user-zh &lt;user-zh@flink.apache.org&amp;gt;&#013;&#010;Subject:å›å¤ï¼š DataStreamç»Ÿè®¡uvé—®é¢˜&#013;&#010;æ„æ€æ˜¯å½“æˆ‘ä½¿ç”¨æ»šåŠ¨çª—å£ä¹‹åï¼Œåœ¨ç¬¬ä¸€ä¸ªæ»šåŠ¨çª—å£ä¸­çš„stateè‡ªåŠ¨ä¼šè¢«æ¸…é™¤ï¼Œç¬¬äºŒä¸ªæ»šåŠ¨çª—å£è¿›æ¥ä¹‹åï¼Œè·å–ç›¸åŒçš„Descriptorï¼Œé‡Œé¢çš„å€¼æ˜¯nullï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;amp;nbsp;\"Yun Gao\"&lt;yungao.gy@aliyun.com.INVALID&amp;amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;amp;nbsp;2020å¹´7æœˆ9æ—¥(æ˜ŸæœŸå››) ä¸Šåˆ10:07&#013;&#010;æ”¶ä»¶äºº:&amp;amp;nbsp;\"ã‚é‡è »éŠæˆ²Ï‡\"&lt;zhoujiazhi1985@vip.qq.com&amp;amp;gt;;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;amp;nbsp;Re: DataStreamç»Ÿè®¡uvé—®é¢˜&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;æ‚¨å¥½ï¼š&#013;&#010;&amp;amp;nbsp;&amp;amp;nbsp; 1. è¿™ä¸ªåº”è¯¥æ˜¯é¢„æœŸå†…çš„ç”¨æ³•ï¼Œå¦‚æœæ‰§è¡Œèµ·æ¥æ²¡æœ‰é‡åˆ°é—®é¢˜åº”è¯¥æ˜¯Okçš„ã€‚&#013;&#010;&amp;amp;nbsp;&amp;amp;nbsp; 2. çª—å£çš„çŠ¶æ€ä¼šåœ¨è¶…è¿‡æœ€å¤§æ—¶é—´+æœ€å¤§å…è®¸çš„å»¶è¿Ÿæ—¶é—´ä¹‹åè¢«æ¸…ç†ã€‚------------------------------------------------------------------&#013;&#010;Sender:ã‚é‡è »éŠæˆ²Ï‡&lt;zhoujiazhi1985@vip.qq.com&amp;amp;gt;&#013;&#010;Date:2020/07/07 22:32:51&#013;&#010;Recipient:user-zh&lt;user-zh@flink.apache.org&amp;amp;gt;&#013;&#010;Theme:DataStreamç»Ÿè®¡uvé—®é¢˜&#013;&#010;&#013;&#010;å¤§å®¶å¥½ï¼&#013;&#010;&#013;&#010;&#013;&#010;&amp;amp;amp;nbsp; &amp;amp;amp;nbsp; &amp;amp;amp;nbsp;æƒ³é—®ä¸‹ï¼Œç°åœ¨åœ¨ç”¨DataStreamçš„apiæ¥ç»Ÿè®¡æ¯å¤©çš„UVï¼Œä»£ç å¦‚ä¸‹ï¼Œæœ‰2ä¸ªä½¿ç”¨é—®é¢˜ï¼š&#013;&#010;&amp;amp;amp;nbsp; &amp;amp;amp;nbsp; &amp;amp;amp;nbsp;1ã€åœ¨ä½¿ç”¨Tumblingçª—å£çš„æ—¶å€™ï¼Œç”±äºä½¿ç”¨çª—å£è·¨åº¦æ˜¯1å¤©ï¼ˆTime.days(1)ï¼‰ï¼Œåªæœ‰ä»¥ä¸€å¤©ç»“æŸçš„æ—¶å€™ï¼Œæ‰èƒ½è¾“å‡ºä¸€ä¸ªuvå€¼ï¼Œ&#013;&#010;&amp;amp;amp;nbsp; &amp;amp;amp;nbsp; &amp;amp;amp;nbsp; &amp;amp;amp;nbsp; &amp;amp;amp;nbsp;&#010;è¿™æ ·æ—¶é—´ç­‰å¾…å¤ªé•¿äº†ï¼Œæ‰€ä»¥åŠ äº†ä¸€ä¸ªtriggerï¼Œæ¯æ¥ä¸€æ¡éƒ½è§¦å‘ä¸€æ¬¡çª—å£ï¼Œä¸çŸ¥é“è¿™æ ·çš„ç”¨æ³•æ²¡æœ‰é—®é¢˜ã€‚&#013;&#010;&amp;amp;amp;nbsp; &amp;amp;amp;nbsp; &amp;amp;amp;nbsp;2ã€è¿˜æœ‰æƒ³é—®ä¸‹åœ¨çª—å£ç»“æŸåï¼Œé‡Œé¢çš„stateçŠ¶æ€ä¼šè‡ªåŠ¨é‡Šæ”¾å—ï¼Ÿè¿˜æ˜¯è¦è‡ªå·±æ‰‹åŠ¨è®¾ç½®TTLçš„ã€‚&#013;&#010;&#013;&#010;&#013;&#010;DataStream&lt;UvPer10Min&amp;amp;amp;gt; uvPer10MinDataStream = userBehaviorSource&#013;&#010;.windowAll(TumblingProcessingTimeWindows.of(Time.days(1L)))&#013;&#010;.trigger(CountTrigger.of(1L))&#013;&#010;.evictor(CountEvictor.of(0L, true))&#013;&#010;.process(new ProcessAllWindowFunction&lt;UserBehavior, UvPer10Min, TimeWindow&amp;amp;amp;gt;()&#010;{&#013;&#010;private transient MapState&lt;String, String&amp;amp;amp;gt; userIdState;&#013;&#010;private transient ValueState&lt;Long&amp;amp;amp;gt; uvCountState;&#013;&#010;&amp;amp;amp;nbsp; &amp;amp;amp;nbsp;&#013;&#010;è°¢è°¢ï¼&#013;&#010;Jiazhi",
        "depth": "3",
        "reply": "<tencent_A118AE33345E756A7A0E8749D52249E4C005@qq.com>"
    },
    {
        "id": "<tencent_624376D6C6074D19CC6932B95A2C88081A0A@qq.com>",
        "from": "&quot;ã‚é‡è »éŠæˆ²Ï‡&quot; &lt;zhoujiazhi1...@vip.qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 05:03:16 GMT",
        "subject": "å›å¤ï¼š å›å¤ï¼š DataStreamç»Ÿè®¡uvé—®é¢˜",
        "content": "ä¸é”™çš„æƒ³æ³•&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"1193216154\"&lt;1193216154@qq.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ9æ—¥(æ˜ŸæœŸå››) ä¸Šåˆ10:25&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;å›å¤ï¼š å›å¤ï¼š DataStreamç»Ÿè®¡uvé—®é¢˜&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;æˆ‘å»ºè®®ä½ ç”¨ContinuousEventTimeTriggerï¼Œå¯ä»¥åœ¨çª—å£èŒƒå›´å†…ï¼Œè¿ç»­è§¦å‘ã€‚&#013;&#010;ä½ è¿™ä¸ªcountTriggerï¼Œä¿ƒå‘æ¬¡æ•°å¤ªå¤šäº†ï¼Œè€Œä¸”ä½ åé¢æ˜¯processWindowFunctionï¼Œå¯¼è‡´è®¡ç®—å‹åŠ›æ¯”è¾ƒå¤§ã€‚&#013;&#010;å»ºè®®ä½ ç”¨aggregateWindowFuntion&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;amp;nbsp;\"Yun Gao\"&lt;yungao.gy@aliyun.com.INVALID&amp;amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;amp;nbsp;2020å¹´7æœˆ9æ—¥(æ˜ŸæœŸå››) ä¸Šåˆ10:18&#013;&#010;æ”¶ä»¶äºº:&amp;amp;nbsp;\"ã‚é‡è »éŠæˆ²Ï‡\"&lt;zhoujiazhi1985@vip.qq.com&amp;amp;gt;;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;amp;nbsp;Re: å›å¤ï¼š DataStreamç»Ÿè®¡uvé—®é¢˜&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;é€»è¾‘ä¸Šè¿™ä¹ˆè¯´ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼›å¯ä»¥è®¤ä¸ºå®ƒæ˜¯å…ˆæŠŠæ”¶åˆ°çš„è®°å½•ï¼ˆæ ¹æ®keyå’Œtimeï¼‰åˆ†é…åˆ°ç‰¹å®šçš„çª—å£ä¸­ï¼Œç„¶åä¸åŒçš„çª—å£çš„çŠ¶æ€å’Œè®¡ç®—éƒ½æ˜¯ç‹¬ç«‹çš„&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&amp;amp;nbsp;------------------Original Mail ------------------&#013;&#010;Sender:ã‚é‡è »éŠæˆ²Ï‡ &lt;zhoujiazhi1985@vip.qq.com&amp;amp;gt;&#013;&#010;Send Date:Thu Jul 9 10:16:06 2020&#013;&#010;Recipients:user-zh &lt;user-zh@flink.apache.org&amp;amp;gt;&#013;&#010;Subject:å›å¤ï¼š DataStreamç»Ÿè®¡uvé—®é¢˜&#013;&#010;æ„æ€æ˜¯å½“æˆ‘ä½¿ç”¨æ»šåŠ¨çª—å£ä¹‹åï¼Œåœ¨ç¬¬ä¸€ä¸ªæ»šåŠ¨çª—å£ä¸­çš„stateè‡ªåŠ¨ä¼šè¢«æ¸…é™¤ï¼Œç¬¬äºŒä¸ªæ»šåŠ¨çª—å£è¿›æ¥ä¹‹åï¼Œè·å–ç›¸åŒçš„Descriptorï¼Œé‡Œé¢çš„å€¼æ˜¯nullï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;amp;amp;nbsp;\"Yun Gao\"&lt;yungao.gy@aliyun.com.INVALID&amp;amp;amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;amp;amp;nbsp;2020å¹´7æœˆ9æ—¥(æ˜ŸæœŸå››) ä¸Šåˆ10:07&#013;&#010;æ”¶ä»¶äºº:&amp;amp;amp;nbsp;\"ã‚é‡è »éŠæˆ²Ï‡\"&lt;zhoujiazhi1985@vip.qq.com&amp;amp;amp;gt;;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;amp;amp;nbsp;Re: DataStreamç»Ÿè®¡uvé—®é¢˜&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;æ‚¨å¥½ï¼š&#013;&#010;&amp;amp;amp;nbsp;&amp;amp;amp;nbsp; 1. è¿™ä¸ªåº”è¯¥æ˜¯é¢„æœŸå†…çš„ç”¨æ³•ï¼Œå¦‚æœæ‰§è¡Œèµ·æ¥æ²¡æœ‰é‡åˆ°é—®é¢˜åº”è¯¥æ˜¯Okçš„ã€‚&#013;&#010;&amp;amp;amp;nbsp;&amp;amp;amp;nbsp; 2. çª—å£çš„çŠ¶æ€ä¼šåœ¨è¶…è¿‡æœ€å¤§æ—¶é—´+æœ€å¤§å…è®¸çš„å»¶è¿Ÿæ—¶é—´ä¹‹åè¢«æ¸…ç†ã€‚------------------------------------------------------------------&#013;&#010;Sender:ã‚é‡è »éŠæˆ²Ï‡&lt;zhoujiazhi1985@vip.qq.com&amp;amp;amp;gt;&#013;&#010;Date:2020/07/07 22:32:51&#013;&#010;Recipient:user-zh&lt;user-zh@flink.apache.org&amp;amp;amp;gt;&#013;&#010;Theme:DataStreamç»Ÿè®¡uvé—®é¢˜&#013;&#010;&#013;&#010;å¤§å®¶å¥½ï¼&#013;&#010;&#013;&#010;&#013;&#010;&amp;amp;amp;amp;nbsp; &amp;amp;amp;amp;nbsp; &amp;amp;amp;amp;nbsp;æƒ³é—®ä¸‹ï¼Œç°åœ¨åœ¨ç”¨DataStreamçš„apiæ¥ç»Ÿè®¡æ¯å¤©çš„UVï¼Œä»£ç å¦‚ä¸‹ï¼Œæœ‰2ä¸ªä½¿ç”¨é—®é¢˜ï¼š&#013;&#010;&amp;amp;amp;amp;nbsp; &amp;amp;amp;amp;nbsp; &amp;amp;amp;amp;nbsp;1ã€åœ¨ä½¿ç”¨Tumblingçª—å£çš„æ—¶å€™ï¼Œç”±äºä½¿ç”¨çª—å£è·¨åº¦æ˜¯1å¤©ï¼ˆTime.days(1)ï¼‰ï¼Œåªæœ‰ä»¥ä¸€å¤©ç»“æŸçš„æ—¶å€™ï¼Œæ‰èƒ½è¾“å‡ºä¸€ä¸ªuvå€¼ï¼Œ&#013;&#010;&amp;amp;amp;amp;nbsp; &amp;amp;amp;amp;nbsp; &amp;amp;amp;amp;nbsp; &amp;amp;amp;amp;nbsp;&#010;&amp;amp;amp;amp;nbsp; è¿™æ ·æ—¶é—´ç­‰å¾…å¤ªé•¿äº†ï¼Œæ‰€ä»¥åŠ äº†ä¸€ä¸ªtriggerï¼Œæ¯æ¥ä¸€æ¡éƒ½è§¦å‘ä¸€æ¬¡çª—å£ï¼Œä¸çŸ¥é“è¿™æ ·çš„ç”¨æ³•æ²¡æœ‰é—®é¢˜ã€‚&#013;&#010;&amp;amp;amp;amp;nbsp; &amp;amp;amp;amp;nbsp; &amp;amp;amp;amp;nbsp;2ã€è¿˜æœ‰æƒ³é—®ä¸‹åœ¨çª—å£ç»“æŸåï¼Œé‡Œé¢çš„stateçŠ¶æ€ä¼šè‡ªåŠ¨é‡Šæ”¾å—ï¼Ÿè¿˜æ˜¯è¦è‡ªå·±æ‰‹åŠ¨è®¾ç½®TTLçš„ã€‚&#013;&#010;&#013;&#010;&#013;&#010;DataStream&lt;UvPer10Min&amp;amp;amp;amp;gt; uvPer10MinDataStream = userBehaviorSource&#013;&#010;.windowAll(TumblingProcessingTimeWindows.of(Time.days(1L)))&#013;&#010;.trigger(CountTrigger.of(1L))&#013;&#010;.evictor(CountEvictor.of(0L, true))&#013;&#010;.process(new ProcessAllWindowFunction&lt;UserBehavior, UvPer10Min, TimeWindow&amp;amp;amp;amp;gt;()&#010;{&#013;&#010;private transient MapState&lt;String, String&amp;amp;amp;amp;gt; userIdState;&#013;&#010;private transient ValueState&lt;Long&amp;amp;amp;amp;gt; uvCountState;&#013;&#010;&amp;amp;amp;amp;nbsp; &amp;amp;amp;amp;nbsp;&#013;&#010;è°¢è°¢ï¼&#013;&#010;Jiazhi",
        "depth": "4",
        "reply": "<tencent_A118AE33345E756A7A0E8749D52249E4C005@qq.com>"
    },
    {
        "id": "<tencent_F6702D5933E1A78AEDBB2BCDA7E658B70E07@qq.com>",
        "from": "&quot;Yichao Yang&quot; &lt;1048262...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 06:18:19 GMT",
        "subject": "å›å¤ï¼šDataStreamç»Ÿè®¡uvé—®é¢˜",
        "content": "Hi,&#013;&#010;&#013;&#010;&#013;&#010;æˆ‘çœ‹äº†ä¸‹ä½ ç»Ÿè®¡uvçš„æ–¹æ³•ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥æ€è€ƒè½¬æ¢ä¸€ä¸‹è®¡ç®—uvçš„æ–¹å¼ï¼Œå¼€ä¸€å¤©çš„çª—å£å¯èƒ½ä¸æ˜¯ä¸€ä¸ªåˆé€‚çš„æ–¹æ³•ï¼Œå¯ä»¥å‚è€ƒ[1]ä¸­çš„æ–¹æ¡ˆã€‚&#013;&#010;&#013;&#010;&#013;&#010;[1]&amp;nbsp;https://lists.apache.org/thread.html/rbe00ee38e2d07310d4e3c796de86c65205d1f5deecfc1678d9ebbdea%40%3Cuser-zh.flink.apache.org%3E&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"ã‚é‡è »éŠæˆ²Ï‡\"&lt;zhoujiazhi1985@vip.qq.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ7æ—¥(æ˜ŸæœŸäºŒ) æ™šä¸Š10:32&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;DataStreamç»Ÿè®¡uvé—®é¢˜&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;å¤§å®¶å¥½ï¼&#013;&#010;&#013;&#010;&#013;&#010;&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;æƒ³é—®ä¸‹ï¼Œç°åœ¨åœ¨ç”¨DataStreamçš„apiæ¥ç»Ÿè®¡æ¯å¤©çš„UVï¼Œä»£ç å¦‚ä¸‹ï¼Œæœ‰2ä¸ªä½¿ç”¨é—®é¢˜ï¼š&#013;&#010;&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;1ã€åœ¨ä½¿ç”¨Tumblingçª—å£çš„æ—¶å€™ï¼Œç”±äºä½¿ç”¨çª—å£è·¨åº¦æ˜¯1å¤©ï¼ˆTime.days(1)ï¼‰ï¼Œåªæœ‰ä»¥ä¸€å¤©ç»“æŸçš„æ—¶å€™ï¼Œæ‰èƒ½è¾“å‡ºä¸€ä¸ªuvå€¼ï¼Œ&#013;&#010;&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; è¿™æ ·æ—¶é—´ç­‰å¾…å¤ªé•¿äº†ï¼Œæ‰€ä»¥åŠ äº†ä¸€ä¸ªtriggerï¼Œæ¯æ¥ä¸€æ¡éƒ½è§¦å‘ä¸€æ¬¡çª—å£ï¼Œä¸çŸ¥é“è¿™æ ·çš„ç”¨æ³•æ²¡æœ‰é—®é¢˜ã€‚&#013;&#010;&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;2ã€è¿˜æœ‰æƒ³é—®ä¸‹åœ¨çª—å£ç»“æŸåï¼Œé‡Œé¢çš„stateçŠ¶æ€ä¼šè‡ªåŠ¨é‡Šæ”¾å—ï¼Ÿè¿˜æ˜¯è¦è‡ªå·±æ‰‹åŠ¨è®¾ç½®TTLçš„ã€‚&#013;&#010;&#013;&#010;&#013;&#010;DataStream&lt;UvPer10Min&amp;amp;gt; uvPer10MinDataStream = userBehaviorSource&#013;&#010;.windowAll(TumblingProcessingTimeWindows.of(Time.days(1L)))&#013;&#010;.trigger(CountTrigger.of(1L))&#013;&#010;.evictor(CountEvictor.of(0L, true))&#013;&#010;.process(new ProcessAllWindowFunction&lt;UserBehavior, UvPer10Min, TimeWindow&amp;amp;gt;()&#010;{&#013;&#010;private transient MapState&lt;String, String&amp;amp;gt; userIdState;&#013;&#010;private transient ValueState&lt;Long&amp;amp;gt; uvCountState;&#013;&#010;&amp;amp;nbsp; &amp;amp;nbsp;&#013;&#010;è°¢è°¢ï¼&#013;&#010;Jiazhi",
        "depth": "1",
        "reply": "<tencent_A118AE33345E756A7A0E8749D52249E4C005@qq.com>"
    },
    {
        "id": "<5576e514.55b1.1732bc73d81.Coremail.wander669@163.com>",
        "from": "&quot;Zhou Zach&quot; &lt;wander...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 00:15:44 GMT",
        "subject": "flink 1.11 connector jdbc ä¾èµ–è§£æå¤±è´¥",
        "content": "hi allï¼Œ&#010;flinkå‡çº§åˆ°1.11ï¼Œflink-connector-jdbc ideaè§£æå¤±è´¥ï¼Œå»mavenä»“åº“æŸ¥ä¹Ÿæ²¡æŸ¥åˆ°ï¼Œè¯·é—®æ˜¯ä¸æ˜¯è¦æ‰‹åŠ¨ç¼–è¯‘1.11çš„æºç çš„æ–¹å¼å®‰è£…ä¾èµ–çš„&#010;&#010;",
        "depth": "0",
        "reply": "<5576e514.55b1.1732bc73d81.Coremail.wander669@163.com>"
    },
    {
        "id": "<917D4DEB-E37E-447A-A2CC-B7BEF97617BD@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 01:35:10 GMT",
        "subject": "Re: flink 1.11 connector jdbc ä¾èµ–è§£æå¤±è´¥",
        "content": "Hello,&#010;&#010;æˆ‘çœ‹ä¸‹äº†mavenä»“åº“é‡Œæœ‰çš„[1], å®˜ç½‘æ–‡æ¡£é‡Œä¹Ÿæœ‰ä¸‹è½½é“¾æ¥[2]ï¼Œæ˜¯ä¸æ˜¯pomé‡Œçš„ä¾èµ–æ²¡æœ‰å†™å¯¹ï¼Ÿ1.11&#010;jdbc connector çš„moduleåä» flink-jdbc è§„èŒƒåˆ°äº† flink-connector-jdbcã€‚&#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;&#010;[1] https://repo.maven.apache.org/maven2/org/apache/flink/flink-connector-jdbc_2.11/1.11.0/&#010;&lt;https://repo.maven.apache.org/maven2/org/apache/flink/flink-connector-jdbc_2.11/1.11.0/&gt;&#010;[2] https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/jdbc.html&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/jdbc.html&gt;&#010;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ8æ—¥ï¼Œ08:15ï¼ŒZhou Zach &lt;wander669@163.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; hi allï¼Œ&#010;&gt; flinkå‡çº§åˆ°1.11ï¼Œflink-connector-jdbc ideaè§£æå¤±è´¥ï¼Œå»mavenä»“åº“æŸ¥ä¹Ÿæ²¡æŸ¥åˆ°ï¼Œè¯·é—®æ˜¯ä¸æ˜¯è¦æ‰‹åŠ¨ç¼–è¯‘1.11çš„æºç çš„æ–¹å¼å®‰è£…ä¾èµ–çš„&#010;&gt; &#010;&#010;&#010;",
        "depth": "1",
        "reply": "<5576e514.55b1.1732bc73d81.Coremail.wander669@163.com>"
    },
    {
        "id": "<3b017fb2.6a5f.1732d4860f3.Coremail.wander669@163.com>",
        "from": "&quot;Zhou Zach&quot; &lt;wander...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:16:24 GMT",
        "subject": "Re:Re: flink 1.11 connector jdbc ä¾èµ–è§£æå¤±è´¥",
        "content": "æ„Ÿè°¢æé†’ï¼Œ&#010;&#010;&#010;&#010;&#010;æˆ‘æ˜¯åœ¨https://mvnrepository.com/è¿™ä¸ªä¸Šé¢æœæ²¡æœåˆ°å¯¹åº”çš„åŒ…çš„ï¼Œä¸è¿‡ï¼Œmoduleåæ”¹æˆflink-connector-jdbcï¼Œå¯ä»¥äº†ï¼Œæ„Ÿè°¢æé†’&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-08 09:35:10ï¼Œ\"Leonard Xu\" &lt;xbjtdcq@gmail.com&gt; å†™é“ï¼š&#010;&gt;Hello,&#010;&gt;&#010;&gt;æˆ‘çœ‹ä¸‹äº†mavenä»“åº“é‡Œæœ‰çš„[1], å®˜ç½‘æ–‡æ¡£é‡Œä¹Ÿæœ‰ä¸‹è½½é“¾æ¥[2]ï¼Œæ˜¯ä¸æ˜¯pomé‡Œçš„ä¾èµ–æ²¡æœ‰å†™å¯¹ï¼Ÿ1.11&#010;jdbc connector çš„moduleåä» flink-jdbc è§„èŒƒåˆ°äº† flink-connector-jdbcã€‚&#010;&gt;&#010;&gt;ç¥å¥½ï¼Œ&#010;&gt;Leonard Xu&#010;&gt;&#010;&gt;[1] https://repo.maven.apache.org/maven2/org/apache/flink/flink-connector-jdbc_2.11/1.11.0/&#010;&lt;https://repo.maven.apache.org/maven2/org/apache/flink/flink-connector-jdbc_2.11/1.11.0/&gt;&#010;&gt;[2] https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/jdbc.html&#010;&lt;https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/table/connectors/jdbc.html&gt;&#010;&gt;&#010;&gt;&#010;&gt;&gt; åœ¨ 2020å¹´7æœˆ8æ—¥ï¼Œ08:15ï¼ŒZhou Zach &lt;wander669@163.com&gt; å†™é“ï¼š&#010;&gt;&gt; &#010;&gt;&gt; hi allï¼Œ&#010;&gt;&gt; flinkå‡çº§åˆ°1.11ï¼Œflink-connector-jdbc ideaè§£æå¤±è´¥ï¼Œå»mavenä»“åº“æŸ¥ä¹Ÿæ²¡æŸ¥åˆ°ï¼Œè¯·é—®æ˜¯ä¸æ˜¯è¦æ‰‹åŠ¨ç¼–è¯‘1.11çš„æºç çš„æ–¹å¼å®‰è£…ä¾èµ–çš„&#010;&gt;&gt; &#010;&gt;&#010;",
        "depth": "2",
        "reply": "<5576e514.55b1.1732bc73d81.Coremail.wander669@163.com>"
    },
    {
        "id": "<CAFTKPZpeVB8NGE0sw_r4UeqrTrHG36rueTcaspOV=kULZ4wemQ@mail.gmail.com>",
        "from": "Yangze Guo &lt;karma...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 02:18:36 GMT",
        "subject": "Re: [Third-party Tool] Flink memory calculator",
        "content": "Hi, there,&#010;&#010;As Flink 1.11.0 released, we provide a new calculator[1] for this&#010;version. Feel free to try it and any feedback or suggestion is&#010;welcomed!&#010;&#010;[1] https://github.com/KarmaGYZ/flink-memory-calculator/blob/master/calculator-1.11.sh&#010;&#010;Best,&#010;Yangze Guo&#010;&#010;On Wed, Apr 1, 2020 at 9:45 PM Yangze Guo &lt;karmagyz@gmail.com&gt; wrote:&#010;&gt;&#010;&gt; @Marta&#010;&gt; Thanks for the tip! I'll do that.&#010;&gt;&#010;&gt; Best,&#010;&gt; Yangze Guo&#010;&gt;&#010;&gt; On Wed, Apr 1, 2020 at 8:05 PM Marta Paes Moreira &lt;marta@ververica.com&gt; wrote:&#010;&gt; &gt;&#010;&gt; &gt; Hey, Yangze.&#010;&gt; &gt;&#010;&gt; &gt; I'd like to suggest that you submit this tool to Flink Community Pages [1]. That&#010;way it can get more exposure and it'll be easier for users to find it.&#010;&gt; &gt;&#010;&gt; &gt; Thanks for your contribution!&#010;&gt; &gt;&#010;&gt; &gt; [1] https://flink-packages.org/&#010;&gt; &gt;&#010;&gt; &gt; On Tue, Mar 31, 2020 at 9:09 AM Yangze Guo &lt;karmagyz@gmail.com&gt; wrote:&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; Hi, there.&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; In the latest version, the calculator supports dynamic options. You&#010;&gt; &gt;&gt; could append all your dynamic options to the end of \"bin/calculator.sh&#010;&gt; &gt;&gt; [-h]\".&#010;&gt; &gt;&gt; Since \"-tm\" will be deprecated eventually, please replace it with&#010;&gt; &gt;&gt; \"-Dtaskmanager.memory.process.size=\".&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; Best,&#010;&gt; &gt;&gt; Yangze Guo&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; On Mon, Mar 30, 2020 at 12:57 PM Xintong Song &lt;tonysong820@gmail.com&gt;&#010;wrote:&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt; Hi Jeff,&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt; I think the purpose of this tool it to allow users play with the memory&#010;configurations without needing to actually deploy the Flink cluster or even have a job. For&#010;sanity checks, we currently have them in the start-up scripts (for standalone clusters) and&#010;resource managers (on K8s/Yarn/Mesos).&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt; I think it makes sense do the checks earlier, i.e. on the client side.&#010;But I'm not sure if JobListener is the right place. IIUC, JobListener is invoked before submitting&#010;a specific job, while the mentioned checks validate Flink's cluster level configurations.&#010;It might be okay for a job cluster, but does not cover the scenarios of session clusters.&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt; Thank you~&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt; Xintong Song&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt; On Mon, Mar 30, 2020 at 12:03 PM Yangze Guo &lt;karmagyz@gmail.com&gt;&#010;wrote:&#010;&gt; &gt;&gt; &gt;&gt;&#010;&gt; &gt;&gt; &gt;&gt; Thanks for your feedbacks, @Xintong and @Jeff.&#010;&gt; &gt;&gt; &gt;&gt;&#010;&gt; &gt;&gt; &gt;&gt; @Jeff&#010;&gt; &gt;&gt; &gt;&gt; I think it would always be good to leverage exist logic in Flink, such&#010;&gt; &gt;&gt; &gt;&gt; as JobListener. However, this calculator does not only target to check&#010;&gt; &gt;&gt; &gt;&gt; the conflict, it also targets to provide the calculating result to&#010;&gt; &gt;&gt; &gt;&gt; user before the job is actually deployed in case there is any&#010;&gt; &gt;&gt; &gt;&gt; unexpected configuration. It's a good point that we need to parse the&#010;&gt; &gt;&gt; &gt;&gt; dynamic configs. I prefer to parse the dynamic configs and cli&#010;&gt; &gt;&gt; &gt;&gt; commands in bash instead of adding hook in JobListener.&#010;&gt; &gt;&gt; &gt;&gt;&#010;&gt; &gt;&gt; &gt;&gt; Best,&#010;&gt; &gt;&gt; &gt;&gt; Yangze Guo&#010;&gt; &gt;&gt; &gt;&gt;&#010;&gt; &gt;&gt; &gt;&gt; On Mon, Mar 30, 2020 at 10:32 AM Jeff Zhang &lt;zjffdu@gmail.com&gt;&#010;wrote:&#010;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt; Hi Yangze,&#010;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt; Does this tool just parse the configuration in flink-conf.yaml&#010;?  Maybe it could be done in JobListener [1] (we should enhance it via adding hook before&#010;job submission), so that it could all the cases (e.g. parameters coming from command line)&#010;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt; [1] https://github.com/apache/flink/blob/master/flink-core/src/main/java/org/apache/flink/core/execution/JobListener.java#L35&#010;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt; Yangze Guo &lt;karmagyz@gmail.com&gt; äº2020å¹´3æœˆ30æ—¥å‘¨ä¸€&#010;ä¸Šåˆ9:40å†™é“ï¼š&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; Hi, Yun,&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; I'm sorry that it currently could not handle it. But I think&#010;it is a&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; really good idea and that feature would be added to the next&#010;version.&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; Best,&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; Yangze Guo&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; On Mon, Mar 30, 2020 at 12:21 AM Yun Tang &lt;myasuka@live.com&gt;&#010;wrote:&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; Very interesting and convenient tool, just a quick question:&#010;could this tool also handle deployment cluster commands like \"-tm\" mixed with configuration&#010;in `flink-conf.yaml` ?&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; Best&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; Yun Tang&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; ________________________________&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; From: Yangze Guo &lt;karmagyz@gmail.com&gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; Sent: Friday, March 27, 2020 18:00&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; To: user &lt;user@flink.apache.org&gt;; user-zh@flink.apache.org&#010;&lt;user-zh@flink.apache.org&gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; Subject: [Third-party Tool] Flink memory calculator&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; Hi, there.&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; In release-1.10, the memory setup of task managers has&#010;changed a lot.&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; I would like to provide here a third-party tool to simulate&#010;and get&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; the calculation result of Flink's memory configuration.&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;  Although there is already a detailed setup guide[1]&#010;and migration&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; guide[2] officially, the calculator could further allow&#010;users to:&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; - Verify if there is any conflict in their configuration.&#010;The&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; calculator is more lightweight than starting a Flink&#010;cluster,&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; especially when running Flink on Yarn/Kubernetes. User&#010;could make sure&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; their configuration is correct locally before deploying&#010;it to external&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; resource managers.&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; - Get all of the memory configurations before deploying.&#010;User may set&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; taskmanager.memory.task.heap.size and taskmanager.memory.managed.size.&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; But they also want to know the total memory consumption&#010;of Flink. With&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; this tool, users could get all of the memory configurations&#010;they are&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; interested in. If anything is unexpected, they would&#010;not need to&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; re-deploy a Flink cluster.&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; The repo link of this tool is&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; https://github.com/KarmaGYZ/flink-memory-calculator.&#010;It reuses the&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; BashJavaUtils.jar of Flink and ensures the calculation&#010;result is&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; exactly the same as your Flink dist. For more details,&#010;please take a&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; look at the README.&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; Any feedback or suggestion is welcomed!&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; [1] https://ci.apache.org/projects/flink/flink-docs-master/ops/memory/mem_setup.html&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; [2] https://ci.apache.org/projects/flink/flink-docs-master/ops/memory/mem_migration.html&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; Best,&#010;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; Yangze Guo&#010;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt; --&#010;&gt; &gt;&gt; &gt;&gt; &gt; Best Regards&#010;&gt; &gt;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&gt; &gt; Jeff Zhang&#010;&#010;",
        "depth": "1",
        "reply": "<CAFTKPZpeVB8NGE0sw_r4UeqrTrHG36rueTcaspOV=kULZ4wemQ@mail.gmail.com>"
    },
    {
        "id": "<1594175446740-0.post@n8.nabble.com>",
        "from": "jindy_liu &lt;286729...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 02:30:46 GMT",
        "subject": "flink 1.11 ä¸­cdcåŠŸèƒ½ä¸­ï¼Œä½¿ç”¨flink sqlæ¥æ“ä½œä¸€ä¸ªkafka topicä¸­çš„å¤šå¼ è¡¨ï¼Œå¹¶ä¿è¯æœ‰åºï¼Ÿ",
        "content": "åœºæ™¯ï¼š    canalè§£æbinlogåï¼Œå°†db1å®ä¾‹å†…çš„å¤šå¼ è¡¨ï¼ˆè¡¨æ•°æ®æœ‰å…³è”ï¼‰çš„å˜åŒ–å‘é€åˆ°kafkaçš„å•topicï¼Œå•åˆ†åŒºä¸­ï¼Œä»è€Œä¿è¯æœ‰åºï¼›&#010;  &#010;è‹¥æˆ‘æƒ³åšæ•°æ®åŒæ­¥è‡³å¦ä¸€ä¸ªmysqlå®ä¾‹db2ä¸­ï¼Œæ€ä¹ˆç”¨flink sqlæ“ä½œå¤šå¼ è¡¨ï¼ŒåŒæ—¶ä¿è¯è¡¨ä¸è¡¨ä¹‹é—´æœ‰åºå‘¢ï¼Ÿ&#010; &#010;ä¾‹å¦‚mysqlå®ä¾‹db1ä¸­æœ‰è¡¨test, statusCREATE TABLE `test` (  `id` int(11) NOT NULL, &#010;`name` varchar(255) NOT NULL,  `time` datetime NOT NULL,  `status` int(11)&#010;NOT NULL,  PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8CREATE&#010;TABLE `status` (  `status` int(11) NOT NULL,  `name` varchar(255) NOT NULL, &#010;PRIMARY KEY (`status`)) ENGINE=InnoDB DEFAULT CHARSET=utf8æ¯”å¦‚ï¼Œæˆ‘ç”¨flink&#010;sqlï¼Œå¯ä»¥è®¾ç½®å¯¹åº”çš„ä¸€å¼ testè¡¨ï¼Œç„¶åsinkåˆ°mysqlé•œåƒå®ä¾‹db2çš„é•œåƒè¡¨testï¼Œå’Œè¡¨statusåšåŒæ­¥ï¼Œä½†statusè¡¨è¦æ€ä¹ˆæ“ä½œå‘¢ï¼Ÿå¦‚ä½•ä¿è¯æœ‰åºï¼Ÿæˆ‘ç›®å‰èƒ½å®ç°å•è¡¨ï¼Œç¡®å®æ–¹ä¾¿ï¼Œæ±‚åŠ©ï¼Œå¤šè¡¨çš„æ€ä¹ˆåšæœ‰åºåŒæ­¥ï¼ŸCREATE&#010;TABLE test (`id` INT,`name` VARCHAR(255),`time` TIMESTAMP(3),`status`&#010;INT,PRIMARY KEY(id) NOT ENFORCED ) WITH ( 'connector'='kafka',&#010;'topic'='test', 'properties.group.id'='c_mysql_binlog_postgres',&#010;'properties.bootstrap.servers'='localhost:9092',&#010;'scan.startup.mode'='earliest-offset', 'format'='canal-json',&#010;'canal-json.ignore-parse-errors'='true');CREATE TABLE status (`status`&#010;INT,`name` VARCHAR(255),PRIMARY KEY(name) NOT ENFORCED ) WITH (&#010;'connector'='kafka', 'topic'='test',&#010;'properties.group.id'='c_mysql_binlog_postgres',&#010;'properties.bootstrap.servers'='localhost:9092',&#010;'scan.startup.mode'='earliest-offset', 'format'='canal-json',&#010;'canal-json.ignore-parse-errors'='true');&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;",
        "depth": "0",
        "reply": "<1594175446740-0.post@n8.nabble.com>"
    },
    {
        "id": "<CAELO933pJ8kUD4aYAcapqhfJHzwikoq8NSHvJeQ5_mAO8Sd_yA@mail.gmail.com>",
        "from": "Jark Wu &lt;imj...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 03:59:06 GMT",
        "subject": "Re: flink 1.11 ä¸­cdcåŠŸèƒ½ä¸­ï¼Œä½¿ç”¨flink sqlæ¥æ“ä½œä¸€ä¸ªkafka topicä¸­çš„å¤šå¼ è¡¨ï¼Œå¹¶ä¿è¯æœ‰åºï¼Ÿ",
        "content": "Hi,&#013;&#010;&#013;&#010;æˆ‘æƒ³å…ˆé—®ä¸€ä¸‹ä½ ä½¿ç”¨çš„æ˜¯åˆšå‘å¸ƒçš„ 1.11.0 ç‰ˆæœ¬å—ï¼Ÿ è¿˜æ˜¯è‡ªå·± build çš„ release-1.11&#010;åˆ†æ”¯å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;å¦å¤–ï¼Œæˆ‘ç†è§£ä¸‹ä½ çš„éœ€æ±‚æ˜¯  db1.test åŒæ­¥åˆ° db2.test,  db1.status åŒæ­¥åˆ° db2.statusï¼Ÿ&#013;&#010;å¤šè¡¨çš„*æœ‰åº*åŒæ­¥æ˜¯æŒ‡ï¼Ÿ&#013;&#010;æˆ‘ç†è§£ä½ åªéœ€è¦åƒå®šä¹‰ db1.test -&gt; db2.test ä¸€æ ·ï¼Œå®šä¹‰å¥½ db1.status binlog&#010;table ç„¶å insert&#013;&#010;into åˆ° db2.status mysql tableå°±è¡Œäº†ã€‚&#013;&#010;&#013;&#010;æ„Ÿè°¢åé¦ˆä½¿ç”¨ä½“éªŒã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Jark&#013;&#010;&#013;&#010;&#013;&#010;On Wed, 8 Jul 2020 at 10:30, jindy_liu &lt;286729788@qq.com&gt; wrote:&#013;&#010;&#013;&#010;&gt; åœºæ™¯ï¼š    canalè§£æbinlogåï¼Œå°†db1å®ä¾‹å†…çš„å¤šå¼ è¡¨ï¼ˆè¡¨æ•°æ®æœ‰å…³è”ï¼‰çš„å˜åŒ–å‘é€åˆ°kafkaçš„å•topicï¼Œå•åˆ†åŒºä¸­ï¼Œä»è€Œä¿è¯æœ‰åºï¼›&#013;&#010;&gt; è‹¥æˆ‘æƒ³åšæ•°æ®åŒæ­¥è‡³å¦ä¸€ä¸ªmysqlå®ä¾‹db2ä¸­ï¼Œæ€ä¹ˆç”¨flink sqlæ“ä½œå¤šå¼ è¡¨ï¼ŒåŒæ—¶ä¿è¯è¡¨ä¸è¡¨ä¹‹é—´æœ‰åºå‘¢ï¼Ÿ&#013;&#010;&gt; ä¾‹å¦‚mysqlå®ä¾‹db1ä¸­æœ‰è¡¨test, statusCREATE TABLE `test` (  `id` int(11) NOT NULL,&#013;&#010;&gt; `name` varchar(255) NOT NULL,  `time` datetime NOT NULL,  `status` int(11)&#013;&#010;&gt; NOT NULL,  PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8CREATE&#013;&#010;&gt; TABLE `status` (  `status` int(11) NOT NULL,  `name` varchar(255) NOT&#013;&#010;&gt; NULL,&#013;&#010;&gt; PRIMARY KEY (`status`)) ENGINE=InnoDB DEFAULT CHARSET=utf8æ¯”å¦‚ï¼Œæˆ‘ç”¨flink&#013;&#010;&gt;&#013;&#010;&gt; sqlï¼Œå¯ä»¥è®¾ç½®å¯¹åº”çš„ä¸€å¼ testè¡¨ï¼Œç„¶åsinkåˆ°mysqlé•œåƒå®ä¾‹db2çš„é•œåƒè¡¨testï¼Œå’Œè¡¨statusåšåŒæ­¥ï¼Œä½†statusè¡¨è¦æ€ä¹ˆæ“ä½œå‘¢ï¼Ÿå¦‚ä½•ä¿è¯æœ‰åºï¼Ÿæˆ‘ç›®å‰èƒ½å®ç°å•è¡¨ï¼Œç¡®å®æ–¹ä¾¿ï¼Œæ±‚åŠ©ï¼Œå¤šè¡¨çš„æ€ä¹ˆåšæœ‰åºåŒæ­¥ï¼ŸCREATE&#013;&#010;&gt; TABLE test (`id` INT,`name` VARCHAR(255),`time` TIMESTAMP(3),`status`&#013;&#010;&gt; INT,PRIMARY KEY(id) NOT ENFORCED ) WITH ( 'connector'='kafka',&#013;&#010;&gt; 'topic'='test', 'properties.group.id'='c_mysql_binlog_postgres',&#013;&#010;&gt; 'properties.bootstrap.servers'='localhost:9092',&#013;&#010;&gt; 'scan.startup.mode'='earliest-offset', 'format'='canal-json',&#013;&#010;&gt; 'canal-json.ignore-parse-errors'='true');CREATE TABLE status (`status`&#013;&#010;&gt; INT,`name` VARCHAR(255),PRIMARY KEY(name) NOT ENFORCED ) WITH (&#013;&#010;&gt; 'connector'='kafka', 'topic'='test',&#013;&#010;&gt; 'properties.group.id'='c_mysql_binlog_postgres',&#013;&#010;&gt; 'properties.bootstrap.servers'='localhost:9092',&#013;&#010;&gt; 'scan.startup.mode'='earliest-offset', 'format'='canal-json',&#013;&#010;&gt; 'canal-json.ignore-parse-errors'='true');&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;",
        "depth": "1",
        "reply": "<1594175446740-0.post@n8.nabble.com>"
    },
    {
        "id": "<BAA21305-DBB4-42E0-82F7-5B9DE883BA21@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 04:20:37 GMT",
        "subject": "Re: flink 1.11 ä¸­cdcåŠŸèƒ½ä¸­ï¼Œä½¿ç”¨flink sqlæ¥æ“ä½œä¸€ä¸ªkafka topicä¸­çš„å¤šå¼ è¡¨ï¼Œå¹¶ä¿è¯æœ‰åºï¼Ÿ",
        "content": "Hello,&#010;æˆ‘ç†è§£ä¸‹ä½ åœºæ™¯ï¼šd1çš„ test è¡¨ å’Œ status è¡¨ä¸¤è€…ä¹‹é—´æœ‰å…³è”ï¼Œæ¯”å¦‚å¤–é”®ï¼Œæ¯”å¦‚&#010;test æ›´æ–°ä¸€æ¡æ•°æ®å statusä¹Ÿéœ€è¦çº§è”åœ°æ›´æ–°ä¸€æ¡æ•°æ®ã€‚&#010;å¸Œæœ›é€šè¿‡ Flink çš„CDCåŠŸèƒ½åŒæ­¥è¿™ä¸¤å¼ è¡¨åˆ°db2åï¼Œä»»æ„æ—¶åˆ»ï¼Œè¿™ä¸¤å¼ è¡¨çš„çŠ¶æ€æ˜¯åŸå­çš„ï¼ˆä¸¤å¼ è¡¨å¯¹åº”&#010;d1ä¸­ä¸¤å¼ è¡¨çš„ä¸€ä¸ªå¿«ç…§ç‰ˆæœ¬ï¼‰ï¼Œ æ˜¯è¿™ç§åœºæ™¯å—ï¼Ÿ&#010;&#010;å¦‚æœæ˜¯è¿™ç§åœºæ™¯ï¼Œç°åœ¨æ˜¯è¿˜æ²¡æœ‰æ”¯æŒçš„ã€‚&#010;&#010;Best,&#010;Leonard Xu&#010;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ8æ—¥ï¼Œ11:59ï¼ŒJark Wu &lt;imjark@gmail.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; Hi,&#010;&gt; &#010;&gt; æˆ‘æƒ³å…ˆé—®ä¸€ä¸‹ä½ ä½¿ç”¨çš„æ˜¯åˆšå‘å¸ƒçš„ 1.11.0 ç‰ˆæœ¬å—ï¼Ÿ è¿˜æ˜¯è‡ªå·± build&#010;çš„ release-1.11 åˆ†æ”¯å‘¢ï¼Ÿ&#010;&gt; &#010;&gt; å¦å¤–ï¼Œæˆ‘ç†è§£ä¸‹ä½ çš„éœ€æ±‚æ˜¯  db1.test åŒæ­¥åˆ° db2.test,  db1.status åŒæ­¥åˆ°&#010;db2.statusï¼Ÿ&#010;&gt; å¤šè¡¨çš„*æœ‰åº*åŒæ­¥æ˜¯æŒ‡ï¼Ÿ&#010;&gt; æˆ‘ç†è§£ä½ åªéœ€è¦åƒå®šä¹‰ db1.test -&gt; db2.test ä¸€æ ·ï¼Œå®šä¹‰å¥½ db1.status&#010;binlog table ç„¶å insert&#010;&gt; into åˆ° db2.status mysql tableå°±è¡Œäº†ã€‚&#010;&gt; &#010;&gt; æ„Ÿè°¢åé¦ˆä½¿ç”¨ä½“éªŒã€‚&#010;&gt; &#010;&gt; Best,&#010;&gt; Jark&#010;&gt; &#010;&gt; &#010;&gt; On Wed, 8 Jul 2020 at 10:30, jindy_liu &lt;286729788@qq.com&gt; wrote:&#010;&gt; &#010;&gt;&gt; åœºæ™¯ï¼š    canalè§£æbinlogåï¼Œå°†db1å®ä¾‹å†…çš„å¤šå¼ è¡¨ï¼ˆè¡¨æ•°æ®æœ‰å…³è”ï¼‰çš„å˜åŒ–å‘é€åˆ°kafkaçš„å•topicï¼Œå•åˆ†åŒºä¸­ï¼Œä»è€Œä¿è¯æœ‰åºï¼›&#010;&gt;&gt; è‹¥æˆ‘æƒ³åšæ•°æ®åŒæ­¥è‡³å¦ä¸€ä¸ªmysqlå®ä¾‹db2ä¸­ï¼Œæ€ä¹ˆç”¨flink sqlæ“ä½œå¤šå¼ è¡¨ï¼ŒåŒæ—¶ä¿è¯è¡¨ä¸è¡¨ä¹‹é—´æœ‰åºå‘¢ï¼Ÿ&#010;&gt;&gt; ä¾‹å¦‚mysqlå®ä¾‹db1ä¸­æœ‰è¡¨test, statusCREATE TABLE `test` (  `id` int(11) NOT&#010;NULL,&#010;&gt;&gt; `name` varchar(255) NOT NULL,  `time` datetime NOT NULL,  `status` int(11)&#010;&gt;&gt; NOT NULL,  PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8CREATE&#010;&gt;&gt; TABLE `status` (  `status` int(11) NOT NULL,  `name` varchar(255) NOT&#010;&gt;&gt; NULL,&#010;&gt;&gt; PRIMARY KEY (`status`)) ENGINE=InnoDB DEFAULT CHARSET=utf8æ¯”å¦‚ï¼Œæˆ‘ç”¨flink&#010;&gt;&gt; &#010;&gt;&gt; sqlï¼Œå¯ä»¥è®¾ç½®å¯¹åº”çš„ä¸€å¼ testè¡¨ï¼Œç„¶åsinkåˆ°mysqlé•œåƒå®ä¾‹db2çš„é•œåƒè¡¨testï¼Œå’Œè¡¨statusåšåŒæ­¥ï¼Œä½†statusè¡¨è¦æ€ä¹ˆæ“ä½œå‘¢ï¼Ÿå¦‚ä½•ä¿è¯æœ‰åºï¼Ÿæˆ‘ç›®å‰èƒ½å®ç°å•è¡¨ï¼Œç¡®å®æ–¹ä¾¿ï¼Œæ±‚åŠ©ï¼Œå¤šè¡¨çš„æ€ä¹ˆåšæœ‰åºåŒæ­¥ï¼ŸCREATE&#010;&gt;&gt; TABLE test (`id` INT,`name` VARCHAR(255),`time` TIMESTAMP(3),`status`&#010;&gt;&gt; INT,PRIMARY KEY(id) NOT ENFORCED ) WITH ( 'connector'='kafka',&#010;&gt;&gt; 'topic'='test', 'properties.group.id'='c_mysql_binlog_postgres',&#010;&gt;&gt; 'properties.bootstrap.servers'='localhost:9092',&#010;&gt;&gt; 'scan.startup.mode'='earliest-offset', 'format'='canal-json',&#010;&gt;&gt; 'canal-json.ignore-parse-errors'='true');CREATE TABLE status (`status`&#010;&gt;&gt; INT,`name` VARCHAR(255),PRIMARY KEY(name) NOT ENFORCED ) WITH (&#010;&gt;&gt; 'connector'='kafka', 'topic'='test',&#010;&gt;&gt; 'properties.group.id'='c_mysql_binlog_postgres',&#010;&gt;&gt; 'properties.bootstrap.servers'='localhost:9092',&#010;&gt;&gt; 'scan.startup.mode'='earliest-offset', 'format'='canal-json',&#010;&gt;&gt; 'canal-json.ignore-parse-errors'='true');&#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; &#010;&gt;&gt; --&#010;&gt;&gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;&#010;",
        "depth": "2",
        "reply": "<1594175446740-0.post@n8.nabble.com>"
    },
    {
        "id": "<1594185497781-0.post@n8.nabble.com>",
        "from": "jindy_liu &lt;286729...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 05:18:17 GMT",
        "subject": "Re: flink 1.11 ä¸­cdcåŠŸèƒ½ä¸­ï¼Œä½¿ç”¨flink sqlæ¥æ“ä½œä¸€ä¸ªkafka topicä¸­çš„å¤šå¼ è¡¨ï¼Œå¹¶ä¿è¯æœ‰åºï¼Ÿ",
        "content": "å¯¹çš„ï¼Œåªä¸è¿‡ç”Ÿäº§ä¸­ï¼Œæœ‰äº›è®¾è®¡çš„æ—¶å€™å¤–é”®æ²¡æœ‰æ˜¾ç¤ºå£°æ˜ï¼Œéƒ½æ˜¯ç”¨æµç¨‹ä¿è¯æ›´æ–°è¡¨çš„é¡ºåºã€‚&#013;&#010;æ‰€ä»¥æ¶ˆè´¹æ•°æ®å˜åŒ–çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯è¦æŒ‰é¡ºåºæ¶ˆè´¹ã€‚ä¸ç„¶ä½¿ç”¨é•œåƒæ•°æ®çš„äººï¼Œå¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚&#013;&#010;&#013;&#010;æ±‚æ•™ï¼šé™¤flink sql çš„cdcåŠŸèƒ½å¤–ï¼Œflinkçš„å…¶å®ƒç‰¹æ€§èƒ½å¦è¾ƒå¥½çš„æ”¯æŒè¿™ç§åœºæ™¯å‘¢ï¼Ÿ&#010; éœ€è¦å†™å†åº•å±‚ç‚¹çš„apiå—ï¼Ÿ&#010;&#010;&#010;&#013;&#010;--&#013;&#010;Sent from: http://apache-flink.147419.n8.nabble.com/",
        "depth": "3",
        "reply": "<1594175446740-0.post@n8.nabble.com>"
    },
    {
        "id": "<7B6ABA1E-508C-452B-807A-0DC7F101913F@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 05:35:00 GMT",
        "subject": "Re: flink 1.11 ä¸­cdcåŠŸèƒ½ä¸­ï¼Œä½¿ç”¨flink sqlæ¥æ“ä½œä¸€ä¸ªkafka topicä¸­çš„å¤šå¼ è¡¨ï¼Œå¹¶ä¿è¯æœ‰åºï¼Ÿ",
        "content": "Hello,&#013;&#010; &#013;&#010;å¾ˆæœ‰æ„æ€çš„è¯é¢˜ï¼Œæˆ‘ç†è§£è¿™éœ€è¦ä¿è¯å¤šä¸ªCDCæ•°æ®æº çš„å…¨å±€ä¸€è‡´æ€§ï¼Œ å¤šä¸ªä¸šåŠ¡è¡¨çš„&#010;bin-log é€šè¿‡ cdcæ¥å…¥flinkåï¼Œå¾—ä¿è¯ æ¯ä¸ªæ•°æ®æºçš„å†™å…¥ç›®æ ‡åº“çš„æ—¶å€™æœ‰ä¸€ä¸ªå…¨å±€ä¸€è‡´æ€§çš„ä¿è¯ï¼Œè¿™ä¸ªåº•å±‚çš„APiåº”è¯¥ä¹Ÿæ”¯æŒä¸äº†çš„ã€‚&#013;&#010;ä¸€ç§å¯èƒ½çš„æ€è·¯æ˜¯ æŠ½å–cdc è®°å½• çš„metadataé‡Œçš„ committed ts (åŸå§‹æ•°æ®åº“ä¸­æ¯æ¬¡å˜æ›´çš„æ—¶é—´ï¼Œ&#010;debezuim çš„source.ts_mså­—æ®µï¼Œ canalçš„es å­—æ®µ)ï¼Œé€šè¿‡è¿™ä¸ªæ—¶é—´æ¥åè°ƒ å¤šä¸ª&#010;CDC æ•°æ®æºçš„å¤„ç†é€Ÿåº¦ï¼Œè¿™åªæ˜¯æˆ‘çš„ä¸€ä¸ªæƒ³æ³•ã€‚&#013;&#010;&#013;&#010;ä¸è¿‡å¯ä»¥ç¡®å®šçš„æ˜¯ï¼Œç›®å‰çš„APIåº”è¯¥æ‹¿ä¸åˆ°è¿™ä¸ªä¿¡æ¯ï¼Œç°åœ¨çš„ Flink æ¡†æ¶æ²¡æ³•å¤„ç†è¿™ä¸ªæ•°æ®,&#010;å¯ä»¥çœ‹ä¸‹ ä¸€äº›CDCæ¡†æ¶æ˜¯å¦èƒ½åšè¿™ä¸ªäº‹æƒ…ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Leonard Xu&#013;&#010;&#013;&#010;&#013;&#010;&gt; åœ¨ 2020å¹´7æœˆ8æ—¥ï¼Œ13:18ï¼Œjindy_liu &lt;286729788@qq.com&gt; å†™é“ï¼š&#013;&#010;&gt; &#013;&#010;&gt; å¯¹çš„ï¼Œåªä¸è¿‡ç”Ÿäº§ä¸­ï¼Œæœ‰äº›è®¾è®¡çš„æ—¶å€™å¤–é”®æ²¡æœ‰æ˜¾ç¤ºå£°æ˜ï¼Œéƒ½æ˜¯ç”¨æµç¨‹ä¿è¯æ›´æ–°è¡¨çš„é¡ºåºã€‚&#013;&#010;&gt; æ‰€ä»¥æ¶ˆè´¹æ•°æ®å˜åŒ–çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯è¦æŒ‰é¡ºåºæ¶ˆè´¹ã€‚ä¸ç„¶ä½¿ç”¨é•œåƒæ•°æ®çš„äººï¼Œå¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚&#013;&#010;&gt; &#013;&#010;&gt; æ±‚æ•™ï¼šé™¤flink sql çš„cdcåŠŸèƒ½å¤–ï¼Œflinkçš„å…¶å®ƒç‰¹æ€§èƒ½å¦è¾ƒå¥½çš„æ”¯æŒè¿™ç§åœºæ™¯å‘¢ï¼Ÿ&#010; éœ€è¦å†™å†åº•å±‚ç‚¹çš„apiå—ï¼Ÿ&#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; --&#013;&#010;&gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&#013;&#010;",
        "depth": "4",
        "reply": "<1594175446740-0.post@n8.nabble.com>"
    },
    {
        "id": "<1594192233206-0.post@n8.nabble.com>",
        "from": "jindy_liu &lt;286729...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:10:33 GMT",
        "subject": "Re: flink 1.11 ä¸­cdcåŠŸèƒ½ä¸­ï¼Œä½¿ç”¨flink sqlæ¥æ“ä½œä¸€ä¸ªkafka topicä¸­çš„å¤šå¼ è¡¨ï¼Œå¹¶ä¿è¯æœ‰åºï¼Ÿ",
        "content": "æ©ï¼Œä¸»è¦æ˜¯çœ‹flink çš„å‘å¸ƒé‡Œè¯´flink&#010;æ”¯æŒcdcäº†ï¼Œæ„Ÿè§‰è¿™ä¸ªåŠŸèƒ½å¥½åƒæ˜¯æˆ‘è¦çš„ï¼Œæ„Ÿè§‰å¥½åƒæˆ‘è¦åšçš„äº‹æƒ…èƒ½ç”¨flinkéƒ½æå®šã€‚å°±ä¸ç”¨å¤šä¸ªå¼€æºå¹³å°åˆ‡æ¢ä¸ç»´æŠ¤å¤šä¸ªç»„ä»¶äº†ã€‚&#013;&#010;&#013;&#010;æˆ‘åŸæœ¬è¿˜æƒ³å…ˆåŸºäºflink sql å°†æ•°æ®å­˜é‡æ•°æ®å…ˆå…¨é‡å¯¼ä¸€æ¬¡å¼‚æ„å­˜å‚¨ï¼ˆå¦‚hbase,&#010;pgsqlç­‰ï¼‰ï¼ˆæ‰¹é‡ï¼‰ï¼Œç„¶åå†flink cdc&#010;æŠŠmysqlçš„bin-logå˜åŒ–æ•°æ®æ¬è¿åˆ°å¼‚æ„å­˜å‚¨(å¦‚hbase,&#010;pgsqlç­‰)åï¼ˆå¢é‡ï¼‰ï¼ŒåŒæ—¶å†é•œåƒä¸€ä»½cdcåçš„kafkaé‡Œçš„jsonæ•°æ®åˆ°ä¸‹æ¸¸ï¼ˆå˜åŒ–é€šçŸ¥ï¼‰ã€‚&#013;&#010;&#013;&#010;é‚£ä¹ˆä¸‹æ¸¸å†åŸºäºé•œåƒçš„kafkaé‡Œçš„æ•°æ®ï¼ˆå˜åŒ–ï¼‰+å¼‚æ„çš„é•œåƒæ•°æ®ï¼Œå†åŸºäºflinkå»åšä¸€äº›å®æ—¶è®¡ç®—çš„åœºæ™¯éœ€æ±‚ï¼ˆæ¯”å¦‚æœ€è¿‘ä¸€ä¸ªæœˆå†…çš„å‰å¤šå°‘åçš„æ•°æ®ç­‰ï¼‰ï¼Œä¸ç”¨éƒ½æŒ¤åœ¨mysqlçš„ä»åº“åœ¨åšä¸€äº›åˆ†æäº†ï¼Œå¹¶ä¸”æœ‰äº›åˆ†æä¹Ÿä¸é€‚åˆåœ¨mysqlä¸Šæï¼Œä¸€äº›olapç±»çš„ã€‚&#013;&#010;&#013;&#010;ä½†å®é™…demoäº†å§ï¼Œå…‰ä¸€ä¸ªæ•°æ®çš„å®æ—¶æ¬è¿é‡Œï¼Œè¦è§£å†³çš„é—®é¢˜è¿˜æŒºå¤šçš„ï¼Œå…‰flinkå¥½åƒä¸å¤ªè¡Œï¼ˆå¯èƒ½æ˜¯æˆ‘ä¸å¤ªç†Ÿæ‚‰ï¼Œæˆ‘æ¥è§¦flinkæ—¶é—´è¾ƒçŸ­ï¼‰&#013;&#010;é—®é¢˜ï¼š&#013;&#010;1ã€å­˜é‡+å®æ—¶æ•°æ®æ€ä¹ˆç»“åˆèµ·æ¥ï¼Œç›®å‰è¯­ä¹‰ä¸Šåªèƒ½åšåˆ°â€œè‡³å°‘ä¸€æ¬¡â€ï¼Œå…ˆå­˜é‡æ¬è¿ï¼Œå†binlogå®æ—¶è¿ç§»ï¼Œä½†éš¾ä»¥å®šä½å­˜é‡æ¬è¿å®Œåå¯¹åº”çš„kafkaçš„èµ·å§‹æ¶ˆè´¹ä½ç½®ã€‚ï¼ˆä½†ä¸šåŠ¡åœºæ™¯å¦‚æœåªéœ€è¦â€œè‡³å°‘ä¸€æ¬¡â€ï¼Œè¿˜æ˜¯å¯ä»¥ç”¨çš„ï¼Œä¸šåŠ¡å¤§éƒ¨åˆ†æ˜¯åªéœ€â€œè‡³å°‘ä¸€æ¬¡â€ï¼‰&#013;&#010;&#013;&#010;2ã€dbé‡Œå¤šè¡¨æœ‰åºï¼šè¿™é‡Œæœ‰kafkaæ€§èƒ½é—®é¢˜å’Œæœ‰åºä¿è¯é—®é¢˜ï¼›ç›®å‰ä¸šåŠ¡åœºæ™¯dbè¡¨å˜åŒ–ä¸å¤ªå¿«ï¼Œä¸€å¤©1ç™¾wè¡Œæ•°æ®çš„å˜æ›´ï¼Œå¯ä»¥æå®šï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æŒ‰éœ€çš„Nå¼ è¡¨æœ‰åºï¼Œä¸ç”¨æ•´ä¸ªdbå®ä¾‹é‡Œçš„å…¨éƒ¨è¡¨ã€‚ä½†è¿™ä¸ªæœ‰åºæ„Ÿè§‰ç”¨flink&#010;sql cdcè¿˜ä¸å¤ªå¥½æå¤šè¡¨ã€‚å¦‚æœç›´æ¥å†™ç¨‹åºå»æ¶ˆè´¹&#013;&#010;&#013;&#010;3ã€å¤šsinkæ€ä¹ˆä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼šå…·ä½“æ¥è¯´ï¼Œåœ¨å¢é‡åŒæ­¥çš„æ—¶å€™ï¼Œflinkéœ€è¦å…ˆsink&#010;å¼‚æ„å­˜å‚¨ï¼ˆå…ˆï¼‰ï¼Œåè¦sink&#010;kafkaï¼ˆåï¼‰ï¼Œæ€ä¹ˆä¿è¯ä¸¤ä¸ªsinkçš„å…ˆåæ¬¡åºä¸åŸå­æ€§ï¼Ÿ&#013;&#010;&#013;&#010;ç°è¯·é—®ä¸‹ï¼Œflink çš„sinkèƒ½å®šä¹‰å…ˆåå—?&#010;å¦‚ä¸Šé¢çš„ï¼Œå°†kafkaé‡Œçš„canal-jsonæ•°æ®å–å‡ºåï¼Œèƒ½å…ˆå†™pgsqlæˆåŠŸï¼Œå†æŠŠjsonæ•°æ®åŸå°ä¸åŠ¨å†™kafkaå—ï¼Ÿå¦‚æœç›®å‰ä¸æ”¯æŒï¼Œå¯å¦è‡ªå·±æ”¹é€ ä¸‹æ”¯æŒï¼Ÿ&#013;&#010;&#013;&#010;&#010;&#010;&#010;&#013;&#010;--&#013;&#010;Sent from: http://apache-flink.147419.n8.nabble.com/",
        "depth": "5",
        "reply": "<1594175446740-0.post@n8.nabble.com>"
    },
    {
        "id": "<1594193562718-0.post@n8.nabble.com>",
        "from": "jindy_liu &lt;286729...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:32:42 GMT",
        "subject": "Re: flink 1.11 ä¸­cdcåŠŸèƒ½ä¸­ï¼Œä½¿ç”¨flink sqlæ¥æ“ä½œä¸€ä¸ªkafka topicä¸­çš„å¤šå¼ è¡¨ï¼Œå¹¶ä¿è¯æœ‰åºï¼Ÿ",
        "content": "å¦‚æœç”¨å˜æ›´æ—¶é—´æ¥æœ‰åºï¼Œå¯èƒ½ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ˜¯å¦‚æœæ•°æ®å˜æ›´å¤ªå¿«äº†ï¼Œä¸¤æ¡å…ˆåæ•°æ®çš„æ—¶é—´å¯èƒ½æ˜¯ä¸€æ ·çš„ï¼Ÿ&#013;&#010;&#013;&#010;è¿™ä¸ªé—®é¢˜ä¸çŸ¥é“æ˜¯ä¸æ˜¯å¯ä»¥ç”¨bin-logçš„gtidæ¥æï¼Ÿè‡³å°‘æ˜¯é€’å¢çš„?&#010;&#010;&#010;&#013;&#010;--&#013;&#010;Sent from: http://apache-flink.147419.n8.nabble.com/",
        "depth": "5",
        "reply": "<1594175446740-0.post@n8.nabble.com>"
    },
    {
        "id": "<C3BF7C0B-40EE-4747-82FC-3228ACCF7681@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:43:12 GMT",
        "subject": "Re: flink 1.11 ä¸­cdcåŠŸèƒ½ä¸­ï¼Œä½¿ç”¨flink sqlæ¥æ“ä½œä¸€ä¸ªkafka topicä¸­çš„å¤šå¼ è¡¨ï¼Œå¹¶ä¿è¯æœ‰åºï¼Ÿ",
        "content": "&#013;&#010;å¦‚æœæ˜¯åŒä¸€ä¸ªæ•°æ®åº“ï¼ˆé›†ç¾¤ï¼‰çš„è¡¨ï¼Œgtidåº”è¯¥æ˜¯å…¨å±€å”¯ä¸€ä¸”é€’å¢çš„ï¼Œç”¨gtidæ˜¯æ›´å¥½çš„ï¼Œå¼‚æ„çš„æ•°æ®æºå°±æ²¡æœ‰ä¸€ä¸ªå…¨å±€çš„idäº†ï¼Œä½ å¯ä»¥è¯•ä¸‹.&#010;^_^&#013;&#010;&#013;&#010;ç¥å¥½&#013;&#010;&#013;&#010;&gt; åœ¨ 2020å¹´7æœˆ8æ—¥ï¼Œ15:32ï¼Œjindy_liu &lt;286729788@qq.com&gt; å†™é“ï¼š&#013;&#010;&gt; &#013;&#010;&gt; å¦‚æœç”¨å˜æ›´æ—¶é—´æ¥æœ‰åºï¼Œå¯èƒ½ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ˜¯å¦‚æœæ•°æ®å˜æ›´å¤ªå¿«äº†ï¼Œä¸¤æ¡å…ˆåæ•°æ®çš„æ—¶é—´å¯èƒ½æ˜¯ä¸€æ ·çš„ï¼Ÿ&#013;&#010;&gt; &#013;&#010;&gt; è¿™ä¸ªé—®é¢˜ä¸çŸ¥é“æ˜¯ä¸æ˜¯å¯ä»¥ç”¨bin-logçš„gtidæ¥æï¼Ÿè‡³å°‘æ˜¯é€’å¢çš„?&#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; &#013;&#010;&gt; --&#013;&#010;&gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&#013;&#010;",
        "depth": "6",
        "reply": "<1594175446740-0.post@n8.nabble.com>"
    },
    {
        "id": "<1594185129706-0.post@n8.nabble.com>",
        "from": "jindy_liu &lt;286729...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 05:12:09 GMT",
        "subject": "Re: flink 1.11 ä¸­cdcåŠŸèƒ½ä¸­ï¼Œä½¿ç”¨flink sqlæ¥æ“ä½œä¸€ä¸ªkafka topicä¸­çš„å¤šå¼ è¡¨ï¼Œå¹¶ä¿è¯æœ‰åºï¼Ÿ",
        "content": "https://github.com/apache/flink/tree/release-1.11.0æˆ‘çœ‹githubä¸Štagä¸‹å·²ç»å‘å¸ƒäº†release-1.11.0ï¼Œæˆ‘å°±ç¼–äº†ä¸‹tagä¸‹çš„release-1.11.0ã€‚æœ€è¿‘åœ¨åšå®æ—¶è®¡ç®—çš„ä¸€äº›è°ƒç ”ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ­¥å°±æ˜¯è¦åšæ•°æ®çš„å®æ—¶æ¬è¿ï¼ˆå¼‚æ„å­˜å‚¨ï¼‰ï¼Œçœ‹flink&#010;1.11æœ‰cdcåŠŸèƒ½ï¼Œæˆ‘å…³æ³¨äº†ä¸‹ã€‚çœ‹å‘å¸ƒäº†å°±ç«‹å³è¯•ç”¨äº†ä¸‹ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½ç”¨ä½ ä»¬è¿™ä¸ªåšå˜åŒ–æ•°æ®çš„å®æ—¶åŒæ­¥ã€‚1ã€ä½“éªŒäº†ä¸‹ï¼Œè‹¥mysqlçš„binlogæŒ‰å•è¡¨æœ‰åºåˆ°kafkaï¼Œå•topic,å•åˆ†åŒºï¼Œflink&#010;cdcçš„åŒæ­¥ç¡®å®å¾ˆæ–¹ä¾¿ï¼Œå‡ æ¡sqlè¯­å¥å°±æå®šäº†ã€‚2ã€è‹¥mysql binlogæŒ‰dbå®ä¾‹ï¼Œå¤šè¡¨æœ‰åºåˆ°kafka&#010;å•topic,å•åˆ†åŒºï¼Œæ„Ÿè§‰ä¸çŸ¥é“è¦æ€ä¹ˆæ ·å®šä¹‰è¿™ä¸ªddl,&#010;åŒæ—¶æ€ä¹ˆä¿è¯æŒ‰åºåŒæ­¥ã€‚ï¼ˆæ¯”å¦‚è¡¨ä¸è¡¨ä¹‹å‰çš„æ•°æ®å­˜åœ¨é€»è¾‘ä¸Šçš„å¤–é”®çº¦æŸç­‰ç­‰ï¼Œå…·ä½“æ¥è¯´testè¡¨çš„statuså­—ç«¯å°±æ˜¯ä¸ªå¤–é”®ï¼Œå¦‚æœå…³è”è®°å½•éƒ½æœ‰æ›´æ–°ï¼Œé‚£æ›´æ–°é¡ºåºå°±æ¯”è¾ƒé‡è¦äº†ï¼Œè¦ä¸¥æ ¼æŒ‰binlogé¡ºåºæ¥ï¼‰ã€‚ä»Šå¤©çœ‹äº†ä¸‹ï¼Œæºç é‡Œcanal-jsonçš„è§£æï¼Œå¥½åƒåªè§£æåˆ°äº†jsoné‡Œçš„feild&#010;å’Œ operate ç±»å‹ã€‚æ„Ÿè§‰è¿™ä¸ªå¤šè¡¨æœ‰åºçš„åœºæ™¯åº”è¯¥ä¹Ÿæ˜¯æ¯”è¾ƒå¤šçš„éœ€æ±‚çš„ã€‚&#010;&#010;&#010;&#013;&#010;--&#013;&#010;Sent from: http://apache-flink.147419.n8.nabble.com/",
        "depth": "2",
        "reply": "<1594175446740-0.post@n8.nabble.com>"
    },
    {
        "id": "<tencent_2A9172A5C442986C89B32C41E29A4128AD07@qq.com>",
        "from": "&quot;op&quot; &lt;520075...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 02:30:52 GMT",
        "subject": "Stateé‡Œé¢ç”¨guava Cache",
        "content": "å¤§å®¶å¥½ï¼Œæˆ‘æƒ³ä½¿ç”¨ä¸€ä¸ª ValueState[Cache]çš„çŠ¶æ€ï¼Œä½†æ˜¯å‘ç°è¿™ä¸ªçŠ¶æ€çš„value&#010;æ²¡åŠæ³•æ›´æ–°ï¼Œ&#013;&#010;&#013;&#010;&#013;&#010;æ¯”å¦‚æˆ‘åœ¨mapé‡Œé¢æ¯æ¬¡å¾€cacheé‡Œé¢putä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åupdateè¿™ä¸ªstateï¼Œè¾“å‡ºcacheçš„é•¿åº¦ï¼Œä¸ºä»€ä¹ˆæ¯æ¬¡è¾“å‡ºé•¿åº¦éƒ½æ˜¯1",
        "depth": "0",
        "reply": "<tencent_2A9172A5C442986C89B32C41E29A4128AD07@qq.com>"
    },
    {
        "id": "<CAA8tFvs2U3PduojeV=F=xsDk=HACfPVx=4qhhXbeJ54SxXyg2w@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:50:49 GMT",
        "subject": "Re: Stateé‡Œé¢ç”¨guava Cache",
        "content": "ä½ å¥½ï¼Œä¸ºä»€ä¹ˆéœ€è¦åœ¨ State é‡Œé¢å†ç”¨ cache å‘¢ï¼Ÿå•çº¯çš„ State ä¸èƒ½æ»¡è¶³éœ€æ±‚å—ï¼Ÿéœ€æ±‚æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&#013;&#010;å¦å¤–ï¼Œé™¤äº† ValueStateï¼Œå…¶ä»–çš„ ListState/MapState èƒ½å¦æ»¡è¶³ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;op &lt;520075694@qq.com&gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸Šåˆ10:31å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; å¤§å®¶å¥½ï¼Œæˆ‘æƒ³ä½¿ç”¨ä¸€ä¸ª ValueState[Cache]çš„çŠ¶æ€ï¼Œä½†æ˜¯å‘ç°è¿™ä¸ªçŠ¶æ€çš„value&#010;æ²¡åŠæ³•æ›´æ–°ï¼Œ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æ¯”å¦‚æˆ‘åœ¨mapé‡Œé¢æ¯æ¬¡å¾€cacheé‡Œé¢putä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åupdateè¿™ä¸ªstateï¼Œè¾“å‡ºcacheçš„é•¿åº¦ï¼Œä¸ºä»€ä¹ˆæ¯æ¬¡è¾“å‡ºé•¿åº¦éƒ½æ˜¯1&#013;&#010;",
        "depth": "1",
        "reply": "<tencent_2A9172A5C442986C89B32C41E29A4128AD07@qq.com>"
    },
    {
        "id": "<tencent_2C79132B61562496B24489F30661B43ACA09@qq.com>",
        "from": "&quot;op&quot; &lt;520075...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:52:45 GMT",
        "subject": "å›å¤ï¼š Stateé‡Œé¢ç”¨guava Cache",
        "content": "æ‚¨å¥½ï¼Œæˆ‘ä¸»è¦æ˜¯è§‰å¾—Cacheçš„è‡ªåŠ¨è¿‡æœŸæ¯”è¾ƒå¥½ç”¨&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ3:50&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;ä½ å¥½ï¼Œä¸ºä»€ä¹ˆéœ€è¦åœ¨ State é‡Œé¢å†ç”¨ cache å‘¢ï¼Ÿå•çº¯çš„ State ä¸èƒ½æ»¡è¶³éœ€æ±‚å—ï¼Ÿéœ€æ±‚æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&#013;&#010;å¦å¤–ï¼Œé™¤äº† ValueStateï¼Œå…¶ä»–çš„ ListState/MapState èƒ½å¦æ»¡è¶³ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;op &lt;520075694@qq.com&amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸Šåˆ10:31å†™é“ï¼š&#013;&#010;&#013;&#010;&amp;gt; å¤§å®¶å¥½ï¼Œæˆ‘æƒ³ä½¿ç”¨ä¸€ä¸ª ValueState[Cache]çš„çŠ¶æ€ï¼Œä½†æ˜¯å‘ç°è¿™ä¸ªçŠ¶æ€çš„value&#010;æ²¡åŠæ³•æ›´æ–°ï¼Œ&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; æ¯”å¦‚æˆ‘åœ¨mapé‡Œé¢æ¯æ¬¡å¾€cacheé‡Œé¢putä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åupdateè¿™ä¸ªstateï¼Œè¾“å‡ºcacheçš„é•¿åº¦ï¼Œä¸ºä»€ä¹ˆæ¯æ¬¡è¾“å‡ºé•¿åº¦éƒ½æ˜¯1",
        "depth": "2",
        "reply": "<tencent_2A9172A5C442986C89B32C41E29A4128AD07@qq.com>"
    },
    {
        "id": "<CAA8tFvuFJ6W3QXb-mjcmGp=r-nZBvm-KZdKMT+LJrL6_CQ+BVg@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:56:00 GMT",
        "subject": "Re: Stateé‡Œé¢ç”¨guava Cache",
        "content": "TTL state[1] æ»¡è¶³ä½ çš„éœ€æ±‚å—? å¦‚æœä¸æ»¡è¶³çš„è¯ï¼Œèƒ½å¦æè¿°ä¸‹ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;[1]&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/stream/state/state.html#%E7%8A%B6%E6%80%81%E6%9C%89%E6%95%88%E6%9C%9F-ttl&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;op &lt;520075694@qq.com&gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ3:53å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; æ‚¨å¥½ï¼Œæˆ‘ä¸»è¦æ˜¯è§‰å¾—Cacheçš„è‡ªåŠ¨è¿‡æœŸæ¯”è¾ƒå¥½ç”¨&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;&gt; å‘ä»¶äºº:&amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;gt;;&#013;&#010;&gt; å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ3:50&#013;&#010;&gt; æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&gt;&#013;&#010;&gt; ä¸»é¢˜:&amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ä½ å¥½ï¼Œä¸ºä»€ä¹ˆéœ€è¦åœ¨ State é‡Œé¢å†ç”¨ cache å‘¢ï¼Ÿå•çº¯çš„ State ä¸èƒ½æ»¡è¶³éœ€æ±‚å—ï¼Ÿéœ€æ±‚æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&#013;&#010;&gt; å¦å¤–ï¼Œé™¤äº† ValueStateï¼Œå…¶ä»–çš„ ListState/MapState èƒ½å¦æ»¡è¶³ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; op &lt;520075694@qq.com&amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸Šåˆ10:31å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &amp;gt; å¤§å®¶å¥½ï¼Œæˆ‘æƒ³ä½¿ç”¨ä¸€ä¸ª ValueState[Cache]çš„çŠ¶æ€ï¼Œä½†æ˜¯å‘ç°è¿™ä¸ªçŠ¶æ€çš„value&#010;æ²¡åŠæ³•æ›´æ–°ï¼Œ&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; æ¯”å¦‚æˆ‘åœ¨mapé‡Œé¢æ¯æ¬¡å¾€cacheé‡Œé¢putä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åupdateè¿™ä¸ªstateï¼Œè¾“å‡ºcacheçš„é•¿åº¦ï¼Œä¸ºä»€ä¹ˆæ¯æ¬¡è¾“å‡ºé•¿åº¦éƒ½æ˜¯1&#013;&#010;",
        "depth": "3",
        "reply": "<tencent_2A9172A5C442986C89B32C41E29A4128AD07@qq.com>"
    },
    {
        "id": "<tencent_D8689197E724B6C1344970676910FB0CA20A@qq.com>",
        "from": "&quot;op&quot; &lt;520075...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 08:07:17 GMT",
        "subject": "å›å¤ï¼š Stateé‡Œé¢ç”¨guava Cache",
        "content": "æ‚¨å¥½ï¼Œæ˜¯è¿™æ ·çš„ï¼Œæˆ‘æƒ³å†ç¨‹åºé‡Œé¢å…³è”ä¸€äº›ç”¨æˆ·idï¼Œä½¿ç”¨cacheç¼“å­˜ä¸€äº›çƒ­æ•°æ®ï¼Œè®¾ç½®æ¯ä¸ªidå†™å…¥å¤šä¹…åè‡ªåŠ¨æ¸…ç†æ‰ï¼Œå…³è”çš„æ—¶å€™é¦–å…ˆè®¿é—®ç¼“å­˜ï¼Œè®¿é—®ä¸åˆ°å†å»è®¿é—®å¤–éƒ¨å­˜å‚¨ï¼›&#013;&#010;ä¸šåŠ¡ä¸­çš„keyä¼šä¸€ç›´å‡ºç°ï¼Œä¹Ÿå°±æ˜¯è¯´ttlå¯èƒ½ä¸ä¼šç”Ÿæ•ˆï¼Œè¿™æ ·æ²¡åŠæ³•ä½¿ç”¨state&#010;ttlå¯¹å§ï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ3:56&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;TTL state[1] æ»¡è¶³ä½ çš„éœ€æ±‚å—? å¦‚æœä¸æ»¡è¶³çš„è¯ï¼Œèƒ½å¦æè¿°ä¸‹ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;[1]&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/stream/state/state.html#%E7%8A%B6%E6%80%81%E6%9C%89%E6%95%88%E6%9C%9F-ttl&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;op &lt;520075694@qq.com&amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ3:53å†™é“ï¼š&#013;&#010;&#013;&#010;&amp;gt; æ‚¨å¥½ï¼Œæˆ‘ä¸»è¦æ˜¯è§‰å¾—Cacheçš„è‡ªåŠ¨è¿‡æœŸæ¯”è¾ƒå¥½ç”¨&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; ------------------&amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;nbsp;------------------&#013;&#010;&amp;gt; å‘ä»¶äºº:&amp;amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;amp;gt;;&#013;&#010;&amp;gt; å‘é€æ—¶é—´:&amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ3:50&#013;&#010;&amp;gt; æ”¶ä»¶äºº:&amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;gt;;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; ä¸»é¢˜:&amp;amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; ä½ å¥½ï¼Œä¸ºä»€ä¹ˆéœ€è¦åœ¨ State é‡Œé¢å†ç”¨ cache å‘¢ï¼Ÿå•çº¯çš„ State ä¸èƒ½æ»¡è¶³éœ€æ±‚å—ï¼Ÿéœ€æ±‚æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&#013;&#010;&amp;gt; å¦å¤–ï¼Œé™¤äº† ValueStateï¼Œå…¶ä»–çš„ ListState/MapState èƒ½å¦æ»¡è¶³ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; Best,&#013;&#010;&amp;gt; Congxian&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; op &lt;520075694@qq.com&amp;amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸Šåˆ10:31å†™é“ï¼š&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; å¤§å®¶å¥½ï¼Œæˆ‘æƒ³ä½¿ç”¨ä¸€ä¸ª ValueState[Cache]çš„çŠ¶æ€ï¼Œä½†æ˜¯å‘ç°è¿™ä¸ªçŠ¶æ€çš„value&#010;æ²¡åŠæ³•æ›´æ–°ï¼Œ&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; æ¯”å¦‚æˆ‘åœ¨mapé‡Œé¢æ¯æ¬¡å¾€cacheé‡Œé¢putä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åupdateè¿™ä¸ªstateï¼Œè¾“å‡ºcacheçš„é•¿åº¦ï¼Œä¸ºä»€ä¹ˆæ¯æ¬¡è¾“å‡ºé•¿åº¦éƒ½æ˜¯1",
        "depth": "4",
        "reply": "<tencent_2A9172A5C442986C89B32C41E29A4128AD07@qq.com>"
    },
    {
        "id": "<CAA8tFvsYR7Xr63qmkC_BdSgfa1KofnBAV5pDxCevx0nKd67goQ@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 09:52:13 GMT",
        "subject": "Re: Stateé‡Œé¢ç”¨guava Cache",
        "content": "æˆ‘å°è¯•ç†è§£ä¸€ä¸‹ä½ çš„éœ€æ±‚ï¼š&#013;&#010;ä½ å¸Œæœ›ä»å¤–éƒ¨å­˜å‚¨åŒæ­¥ä¸€äº›ä¿¡æ¯ï¼Œç”±äºè®¿é—®å¤–éƒ¨å­˜å‚¨æ•ˆç‡ä¸é«˜ï¼Œæ‰€ä»¥å¸Œæœ›åŠ ä¸€ä¸ª&#010;cacheï¼Œç„¶å cache&#013;&#010;ä¸­çš„æ•°æ®å¸Œæœ›åœ¨ä¸€å®šæ—¶é—´åè¿‡æœŸï¼Œè¿‡æœŸåé‡æ–°å»å¤–éƒ¨å­˜å‚¨åŒæ­¥ä¸€æ¬¡ä¿¡æ¯ã€‚&#013;&#010;&#013;&#010;ä½†æ˜¯è¿˜æœ‰ä¸€äº›ä¿¡æ¯ä¸å¤ªæ˜ç™½ï¼Œé‚£è¿™é‡Œä½ æ‰“ç®—åœ¨ä»€ä¹ˆåœ°æ–¹ä½¿ç”¨ state å‘¢ï¼Ÿstate&#010;å­˜æ”¾ä»€ä¹ˆæ•°æ®å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œä½ è‡ªå·±ç»´æŠ¤è¿™ä¸ªçŠ¶æ€ä¹‹åï¼Œä¸ºä»€ä¹ˆè¿˜æœ‰ä½¿ç”¨&#013;&#010;state å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;ä¸ç®¡æ€ä¹ˆè¯´ä½¿ç”¨ Flink ä¹‹åï¼Œè¿˜æ˜¯å»ºè®®å°½é‡ä½¿ç”¨ stateï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¤–å­˜ï¼Œflink&#010;æä¾›çš„ state æ–¹ä¾¿åšä¸€äº›å®¹é”™å¤„ç†ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;op &lt;520075694@qq.com&gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ4:07å†™é“ï¼š&#013;&#010;&#013;&#010;&gt;&#013;&#010;&gt; æ‚¨å¥½ï¼Œæ˜¯è¿™æ ·çš„ï¼Œæˆ‘æƒ³å†ç¨‹åºé‡Œé¢å…³è”ä¸€äº›ç”¨æˆ·idï¼Œä½¿ç”¨cacheç¼“å­˜ä¸€äº›çƒ­æ•°æ®ï¼Œè®¾ç½®æ¯ä¸ªidå†™å…¥å¤šä¹…åè‡ªåŠ¨æ¸…ç†æ‰ï¼Œå…³è”çš„æ—¶å€™é¦–å…ˆè®¿é—®ç¼“å­˜ï¼Œè®¿é—®ä¸åˆ°å†å»è®¿é—®å¤–éƒ¨å­˜å‚¨ï¼›&#013;&#010;&gt; ä¸šåŠ¡ä¸­çš„keyä¼šä¸€ç›´å‡ºç°ï¼Œä¹Ÿå°±æ˜¯è¯´ttlå¯èƒ½ä¸ä¼šç”Ÿæ•ˆï¼Œè¿™æ ·æ²¡åŠæ³•ä½¿ç”¨state&#010;ttlå¯¹å§ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;&gt; å‘ä»¶äºº:&amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;gt;;&#013;&#010;&gt; å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ3:56&#013;&#010;&gt; æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&gt;&#013;&#010;&gt; ä¸»é¢˜:&amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; TTL state[1] æ»¡è¶³ä½ çš„éœ€æ±‚å—? å¦‚æœä¸æ»¡è¶³çš„è¯ï¼Œèƒ½å¦æè¿°ä¸‹ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/stream/state/state.html#%E7%8A%B6%E6%80%81%E6%9C%89%E6%95%88%E6%9C%9F-ttl&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; op &lt;520075694@qq.com&amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ3:53å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &amp;gt; æ‚¨å¥½ï¼Œæˆ‘ä¸»è¦æ˜¯è§‰å¾—Cacheçš„è‡ªåŠ¨è¿‡æœŸæ¯”è¾ƒå¥½ç”¨&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; ------------------&amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;nbsp;------------------&#013;&#010;&gt; &amp;gt; å‘ä»¶äºº:&amp;amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;amp;gt;;&#013;&#010;&gt; &amp;gt; å‘é€æ—¶é—´:&amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ3:50&#013;&#010;&gt; &amp;gt; æ”¶ä»¶äºº:&amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;gt;;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; ä¸»é¢˜:&amp;amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; ä½ å¥½ï¼Œä¸ºä»€ä¹ˆéœ€è¦åœ¨ State é‡Œé¢å†ç”¨ cache å‘¢ï¼Ÿå•çº¯çš„ State ä¸èƒ½æ»¡è¶³éœ€æ±‚å—ï¼Ÿéœ€æ±‚æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&#013;&#010;&gt; &amp;gt; å¦å¤–ï¼Œé™¤äº† ValueStateï¼Œå…¶ä»–çš„ ListState/MapState èƒ½å¦æ»¡è¶³ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; Best,&#013;&#010;&gt; &amp;gt; Congxian&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; op &lt;520075694@qq.com&amp;amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸Šåˆ10:31å†™é“ï¼š&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; &amp;amp;gt; å¤§å®¶å¥½ï¼Œæˆ‘æƒ³ä½¿ç”¨ä¸€ä¸ª ValueState[Cache]çš„çŠ¶æ€ï¼Œä½†æ˜¯å‘ç°è¿™ä¸ªçŠ¶æ€çš„value&#010;æ²¡åŠæ³•æ›´æ–°ï¼Œ&#013;&#010;&gt; &amp;gt; &amp;amp;gt;&#013;&#010;&gt; &amp;gt; &amp;amp;gt;&#013;&#010;&gt; &amp;gt; &amp;amp;gt;&#013;&#010;&gt; æ¯”å¦‚æˆ‘åœ¨mapé‡Œé¢æ¯æ¬¡å¾€cacheé‡Œé¢putä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åupdateè¿™ä¸ªstateï¼Œè¾“å‡ºcacheçš„é•¿åº¦ï¼Œä¸ºä»€ä¹ˆæ¯æ¬¡è¾“å‡ºé•¿åº¦éƒ½æ˜¯1&#013;&#010;",
        "depth": "5",
        "reply": "<tencent_2A9172A5C442986C89B32C41E29A4128AD07@qq.com>"
    },
    {
        "id": "<tencent_DC62154C83845C160C71C820A79664394B06@qq.com>",
        "from": "&quot;op&quot; &lt;520075...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 09:59:28 GMT",
        "subject": "å›å¤ï¼š Stateé‡Œé¢ç”¨guava Cache",
        "content": "æ¯”å¦‚æ•°æ®é‡Œæ¥äº†ä¸€ä¸ªidæˆ‘éœ€è¦å»åˆ¤æ–­è¿™ä¸ªidæ˜¯æ–°çš„è¿˜æ˜¯å·²ç»å­˜åœ¨çš„ï¼Œç”±äºå†å²æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥æ”¾å…¨éƒ¨stateé‡Œé¢ä¸å¤ªå¥½ã€‚&#013;&#010;æŠŠæœ€è¿‘æ´»è·ƒçš„idæ”¾åˆ°ValueState[Cache]é‡Œé¢ï¼Œå¯ä»¥åœ¨å†…å­˜é‡Œå…³è”åˆ°ç»å¤§éƒ¨åˆ†çš„idï¼Œé¿å…é¢‘ç¹è®¿é—®å¤–éƒ¨å­˜å‚¨ã€‚&#013;&#010;å¦‚æœä¸ä½¿ç”¨stateä¿å­˜çš„çš„è¯ï¼Œé‡å¯ä½œä¸šåcacheä¼šé‡ç½®ï¼Œè¿™æ®µæ—¶é—´é€šè¿‡å¤–éƒ¨å­˜å‚¨å»å…³è”idä¼šå¾ˆæ…¢&#013;&#010;&amp;nbsp;è°¢è°¢&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ5:52&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;æˆ‘å°è¯•ç†è§£ä¸€ä¸‹ä½ çš„éœ€æ±‚ï¼š&#013;&#010;ä½ å¸Œæœ›ä»å¤–éƒ¨å­˜å‚¨åŒæ­¥ä¸€äº›ä¿¡æ¯ï¼Œç”±äºè®¿é—®å¤–éƒ¨å­˜å‚¨æ•ˆç‡ä¸é«˜ï¼Œæ‰€ä»¥å¸Œæœ›åŠ ä¸€ä¸ª&#010;cacheï¼Œç„¶å cache&#013;&#010;ä¸­çš„æ•°æ®å¸Œæœ›åœ¨ä¸€å®šæ—¶é—´åè¿‡æœŸï¼Œè¿‡æœŸåé‡æ–°å»å¤–éƒ¨å­˜å‚¨åŒæ­¥ä¸€æ¬¡ä¿¡æ¯ã€‚&#013;&#010;&#013;&#010;ä½†æ˜¯è¿˜æœ‰ä¸€äº›ä¿¡æ¯ä¸å¤ªæ˜ç™½ï¼Œé‚£è¿™é‡Œä½ æ‰“ç®—åœ¨ä»€ä¹ˆåœ°æ–¹ä½¿ç”¨ state å‘¢ï¼Ÿstate&#010;å­˜æ”¾ä»€ä¹ˆæ•°æ®å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œä½ è‡ªå·±ç»´æŠ¤è¿™ä¸ªçŠ¶æ€ä¹‹åï¼Œä¸ºä»€ä¹ˆè¿˜æœ‰ä½¿ç”¨&#013;&#010;state å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;ä¸ç®¡æ€ä¹ˆè¯´ä½¿ç”¨ Flink ä¹‹åï¼Œè¿˜æ˜¯å»ºè®®å°½é‡ä½¿ç”¨ stateï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¤–å­˜ï¼Œflink&#010;æä¾›çš„ state æ–¹ä¾¿åšä¸€äº›å®¹é”™å¤„ç†ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;op &lt;520075694@qq.com&amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ4:07å†™é“ï¼š&#013;&#010;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; æ‚¨å¥½ï¼Œæ˜¯è¿™æ ·çš„ï¼Œæˆ‘æƒ³å†ç¨‹åºé‡Œé¢å…³è”ä¸€äº›ç”¨æˆ·idï¼Œä½¿ç”¨cacheç¼“å­˜ä¸€äº›çƒ­æ•°æ®ï¼Œè®¾ç½®æ¯ä¸ªidå†™å…¥å¤šä¹…åè‡ªåŠ¨æ¸…ç†æ‰ï¼Œå…³è”çš„æ—¶å€™é¦–å…ˆè®¿é—®ç¼“å­˜ï¼Œè®¿é—®ä¸åˆ°å†å»è®¿é—®å¤–éƒ¨å­˜å‚¨ï¼›&#013;&#010;&amp;gt; ä¸šåŠ¡ä¸­çš„keyä¼šä¸€ç›´å‡ºç°ï¼Œä¹Ÿå°±æ˜¯è¯´ttlå¯èƒ½ä¸ä¼šç”Ÿæ•ˆï¼Œè¿™æ ·æ²¡åŠæ³•ä½¿ç”¨state&#010;ttlå¯¹å§ï¼Ÿ&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; ------------------&amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;nbsp;------------------&#013;&#010;&amp;gt; å‘ä»¶äºº:&amp;amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;amp;gt;;&#013;&#010;&amp;gt; å‘é€æ—¶é—´:&amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ3:56&#013;&#010;&amp;gt; æ”¶ä»¶äºº:&amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;gt;;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; ä¸»é¢˜:&amp;amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; TTL state[1] æ»¡è¶³ä½ çš„éœ€æ±‚å—? å¦‚æœä¸æ»¡è¶³çš„è¯ï¼Œèƒ½å¦æè¿°ä¸‹ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; [1]&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/stream/state/state.html#%E7%8A%B6%E6%80%81%E6%9C%89%E6%95%88%E6%9C%9F-ttl&#013;&#010;&amp;gt; Best,&#013;&#010;&amp;gt; Congxian&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; op &lt;520075694@qq.com&amp;amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ3:53å†™é“ï¼š&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; æ‚¨å¥½ï¼Œæˆ‘ä¸»è¦æ˜¯è§‰å¾—Cacheçš„è‡ªåŠ¨è¿‡æœŸæ¯”è¾ƒå¥½ç”¨&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; ------------------&amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;amp;nbsp;------------------&#013;&#010;&amp;gt; &amp;amp;gt; å‘ä»¶äºº:&amp;amp;amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;amp;amp;gt;;&#013;&#010;&amp;gt; &amp;amp;gt; å‘é€æ—¶é—´:&amp;amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ3:50&#013;&#010;&amp;gt; &amp;amp;gt; æ”¶ä»¶äºº:&amp;amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;amp;gt;;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; ä¸»é¢˜:&amp;amp;amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; ä½ å¥½ï¼Œä¸ºä»€ä¹ˆéœ€è¦åœ¨ State é‡Œé¢å†ç”¨ cache å‘¢ï¼Ÿå•çº¯çš„&#010;State ä¸èƒ½æ»¡è¶³éœ€æ±‚å—ï¼Ÿéœ€æ±‚æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&#013;&#010;&amp;gt; &amp;amp;gt; å¦å¤–ï¼Œé™¤äº† ValueStateï¼Œå…¶ä»–çš„ ListState/MapState èƒ½å¦æ»¡è¶³ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; Best,&#013;&#010;&amp;gt; &amp;amp;gt; Congxian&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; op &lt;520075694@qq.com&amp;amp;amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸Šåˆ10:31å†™é“ï¼š&#013;&#010;&amp;gt; &amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; &amp;amp;amp;gt; å¤§å®¶å¥½ï¼Œæˆ‘æƒ³ä½¿ç”¨ä¸€ä¸ª ValueState[Cache]çš„çŠ¶æ€ï¼Œä½†æ˜¯å‘ç°è¿™ä¸ªçŠ¶æ€çš„value&#010;æ²¡åŠæ³•æ›´æ–°ï¼Œ&#013;&#010;&amp;gt; &amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;gt; &amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;gt; æ¯”å¦‚æˆ‘åœ¨mapé‡Œé¢æ¯æ¬¡å¾€cacheé‡Œé¢putä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åupdateè¿™ä¸ªstateï¼Œè¾“å‡ºcacheçš„é•¿åº¦ï¼Œä¸ºä»€ä¹ˆæ¯æ¬¡è¾“å‡ºé•¿åº¦éƒ½æ˜¯1",
        "depth": "6",
        "reply": "<tencent_2A9172A5C442986C89B32C41E29A4128AD07@qq.com>"
    },
    {
        "id": "<202007081059058293894@163.com>",
        "from": "&quot;18579099920@163.com&quot; &lt;18579099...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 02:59:06 GMT",
        "subject": "FlinkKafkaProduceræ²¡æœ‰å†™å…¥å¤šä¸ªtopicçš„åŠŸèƒ½",
        "content": "æˆ‘æœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯é€šè¿‡è¯»å–ä¸€ä¸ªkafkaçš„ä¸»é¢˜çš„æ•°æ®ç»è¿‡flinkå¤„ç†å†å†™å…¥åˆ°å¤šä¸ªkafkaçš„ä¸»é¢˜ä¸­ï¼ˆå†™å…¥çš„ä¸»é¢˜æ˜¯åŠ¨æ€çš„ï¼Œæ•°æ®ä¸­èƒ½è§£æåˆ°éœ€è¦å†™å…¥åˆ°çš„ç›®çš„åœ°ä¸»é¢˜ï¼‰ï¼Œ&#013;&#010;ä½†æ˜¯FlinkKafkaProducerå¥½åƒåªèƒ½å†™å…¥ä¸€ä¸ªä¸»é¢˜é‡Œé¢ï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;18579099920@163.com&#013;&#010;",
        "depth": "0",
        "reply": "<202007081059058293894@163.com>"
    },
    {
        "id": "<95958487-4196-4b6b-be1f-fdc887dc3f75.jkillers@dingtalk.com>",
        "from": "&quot;å¤å¸…&quot; &lt;jkill...@dingtalk.com.INVALID&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 03:04:40 GMT",
        "subject": "å›å¤ï¼šFlinkKafkaProduceræ²¡æœ‰å†™å…¥å¤šä¸ªtopicçš„åŠŸèƒ½",
        "content": "ä½ å¥½,å¯ä»¥å°è¯•è‡ªå®šä¹‰KafkaSerializationSchemaæ¥å®ç°ä½ çš„ä¸šåŠ¡åœºæ™¯&#010;class DemoSerializationSchema extends KafkaSerializationSchema[DemoBean] {&#010;  override def serialize(element: DemoBean, timestamp: lang.Long): ProducerRecord[Array[Byte],&#010;Array[Byte",
        "depth": "1",
        "reply": "<202007081059058293894@163.com>"
    },
    {
        "id": "<63de103c.3069.1732c657a44.Coremail.18579099920@163.com>",
        "from": "flinkå°çŒª &lt;18579099...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 03:08:34 GMT",
        "subject": "Re:å›å¤ï¼šFlinkKafkaProduceræ²¡æœ‰å†™å…¥å¤šä¸ªtopicçš„åŠŸèƒ½",
        "content": "å…„å¼Ÿï¼Œæ„Ÿè°¢&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-08 11:04:40ï¼Œ\"å¤å¸…\" &lt;jkillers@dingtalk.com&gt; å†™é“ï¼š&#010;&#010;ä½ å¥½,å¯ä»¥å°è¯•è‡ªå®šä¹‰KafkaSerializationSchemaæ¥å®ç°ä½ çš„ä¸šåŠ¡åœºæ™¯&#010;class DemoSerializationSchema extends KafkaSerializationSchema[DemoBean] {&#010;override def serialize(element: DemoBean, timestamp: lang.Long): ProducerRecord[Array[Byte],&#010;Array[Byte",
        "depth": "2",
        "reply": "<202007081059058293894@163.com>"
    },
    {
        "id": "<78E20179-D2BF-4A70-9251-294AF977651F@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 03:38:42 GMT",
        "subject": "Re: FlinkKafkaProduceræ²¡æœ‰å†™å…¥å¤šä¸ªtopicçš„åŠŸèƒ½",
        "content": "Hi,&#010;&#010;å¤å¸…çš„æ–¹æ¡ˆæ˜¯okçš„ï¼Œå› ä¸ºKafka é»˜è®¤æ”¯æŒå†™å…¥topicä¸å­˜åœ¨æ—¶è‡ªåŠ¨åˆ›å»º[1],&#010;è¿™ä¸ªé…ç½®æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œæ‰€ä»¥åªç”¨å®ç°ä¸‹è‡ªå®šä¹‰KafkaSerializationSchemaå°±å¯ä»¥æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚&#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;&#010;[1] https://docs.confluent.io/current/installation/configuration/broker-configs.html#auto.create.topics.enable&#010;&lt;https://docs.confluent.io/current/installation/configuration/broker-configs.html#auto.create.topics.enable&gt;&#010;&#010;&gt; åœ¨ 2020å¹´7æœˆ8æ—¥ï¼Œ11:08ï¼Œflinkå°çŒª &lt;18579099920@163.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; å…„å¼Ÿï¼Œæ„Ÿè°¢&#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; &#010;&gt; åœ¨ 2020-07-08 11:04:40ï¼Œ\"å¤å¸…\" &lt;jkillers@dingtalk.com&gt; å†™é“ï¼š&#010;&gt; &#010;&gt; ä½ å¥½,å¯ä»¥å°è¯•è‡ªå®šä¹‰KafkaSerializationSchemaæ¥å®ç°ä½ çš„ä¸šåŠ¡åœºæ™¯&#010;&gt; class DemoSerializationSchema extends KafkaSerializationSchema[DemoBean] {&#010;&gt; override def serialize(element: DemoBean, timestamp: lang.Long): ProducerRecord[Array[Byte],&#010;Array[Byte",
        "depth": "3",
        "reply": "<202007081059058293894@163.com>"
    },
    {
        "id": "<tencent_41001E7D789D74FD27D690D534222179E508@qq.com>",
        "from": "&quot;Z-Z&quot; &lt;zz9876543...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 02:59:20 GMT",
        "subject": "Flink Hadoopä¾èµ–",
        "content": "Hiï¼Œ å„ä½å¤§ä½¬ä»¬ï¼Œæœ‰ä¸ªé—®é¢˜ï¼ŒFlink 1.10.0ç‰ˆæœ¬ä¸­ï¼Œå·²ç»åœ¨jobmanagerçš„libæ–‡ä»¶å¤¹æ·»åŠ äº†flink-shaded-hadoop-2-uber-2.7.5-10.0.jaræ–‡ä»¶ï¼Œé€šè¿‡webuiä¸Šä¼ å¯ä»¥æ­£å¸¸è¿è¡Œä»»åŠ¡ï¼Œä½†é€šè¿‡cliå‘½ä»¤ï¼Œæäº¤ä»»åŠ¡åæŠ¥Could&#010;not find a file system implementation for scheme 'hdfs'. The scheme is not directly supported&#010;by Flink and no Hadoop file system to support this scheme could be loaded.æœ‰è°çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹å—ï¼Ÿ",
        "depth": "0",
        "reply": "<tencent_41001E7D789D74FD27D690D534222179E508@qq.com>"
    },
    {
        "id": "<CAHsnkPuuEVO9xTSFh+eMr_TB+g+3=bZj-9gT9wG8q6i83Zcsew@mail.gmail.com>",
        "from": "Xintong Song &lt;tonysong...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:09:21 GMT",
        "subject": "Re: Flink Hadoopä¾èµ–",
        "content": "ä½ è¯´çš„ â€œjobmanagerçš„libæ–‡ä»¶å¤¹â€ æ˜¯æŒ‡å“ªé‡Œï¼ŸFlink çš„éƒ¨ç½²æ–¹å¼æ˜¯æ€æ ·çš„ï¼ŸCLI&#010;è¿è¡Œåœ¨å“ªé‡Œï¼Ÿ&#013;&#010;&#013;&#010;Thank you~&#013;&#010;&#013;&#010;Xintong Song&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;On Wed, Jul 8, 2020 at 10:59 AM Z-Z &lt;zz9876543210@qq.com&gt; wrote:&#013;&#010;&#013;&#010;&gt; Hiï¼Œ å„ä½å¤§ä½¬ä»¬ï¼Œæœ‰ä¸ªé—®é¢˜ï¼ŒFlink&#013;&#010;&gt; 1.10.0ç‰ˆæœ¬ä¸­ï¼Œå·²ç»åœ¨jobmanagerçš„libæ–‡ä»¶å¤¹æ·»åŠ äº†flink-shaded-hadoop-2-uber-2.7.5-10.0.jaræ–‡ä»¶ï¼Œé€šè¿‡webuiä¸Šä¼ å¯ä»¥æ­£å¸¸è¿è¡Œä»»åŠ¡ï¼Œä½†é€šè¿‡cliå‘½ä»¤ï¼Œæäº¤ä»»åŠ¡åæŠ¥Could&#013;&#010;&gt; not find a file system implementation for scheme 'hdfs'. The scheme is not&#013;&#010;&gt; directly supported by Flink and no Hadoop file system to support this&#013;&#010;&gt; scheme could be loaded.æœ‰è°çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹å—ï¼Ÿ&#013;&#010;",
        "depth": "1",
        "reply": "<tencent_41001E7D789D74FD27D690D534222179E508@qq.com>"
    },
    {
        "id": "<64a1ede.78a7.1732c766320.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 03:27:02 GMT",
        "subject": "ä½œä¸šå‡çº§åˆ°flink1.11ï¼Œideaè¿è¡Œå¤±è´¥",
        "content": "&#010;hi&#010;&#010;ä½œä¸šçš„ä¾èµ–ä»1.10.1å‡çº§åˆ°1.11.0ï¼Œåœ¨ideaè¿è¡Œçš„æ—¶å€™æŠ¥é”™&#010;&#010;Exception in thread \"main\" java.lang.IllegalStateException: No ExecutorFactory found to execute&#010;the application.&#010;     at org.apache.flink.core.execution.DefaultExecutorServiceLoader.getExecutorFactory(DefaultExecutorServiceLoader.java:84)&#010;     at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.executeAsync(StreamExecutionEnvironment.java:1803)&#010;     at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1713)&#010;     at org.apache.flink.streaming.api.environment.LocalStreamEnvironment.execute(LocalStreamEnvironmentï¼ˆï¼‰&#010;&#010;æ˜¯å“ªé‡Œå‡ºé—®é¢˜äº†å‘¢&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶",
        "depth": "0",
        "reply": "<64a1ede.78a7.1732c766320.Coremail.a511955993@163.com>"
    },
    {
        "id": "<CAFTKPZp2xUPqkEcPSgYh7mT8yEZs2QCQBq-cL0t=hGJ=TVqm5Q@mail.gmail.com>",
        "from": "Yangze Guo &lt;karma...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 03:30:49 GMT",
        "subject": "Re: ä½œä¸šå‡çº§åˆ°flink1.11ï¼Œideaè¿è¡Œå¤±è´¥",
        "content": "å°è¯•åŠ ä¸€ä¸‹è¿™ä¸ªä¾èµ–&#010;groupId: org.apache.flink&#010;artifactId: flink-clients_${scala.binary.version}&#010;&#010;Best,&#010;Yangze Guo&#010;&#010;On Wed, Jul 8, 2020 at 11:27 AM SmileSmile &lt;a511955993@163.com&gt; wrote:&#010;&gt;&#010;&gt;&#010;&gt; hi&#010;&gt;&#010;&gt; ä½œä¸šçš„ä¾èµ–ä»1.10.1å‡çº§åˆ°1.11.0ï¼Œåœ¨ideaè¿è¡Œçš„æ—¶å€™æŠ¥é”™&#010;&gt;&#010;&gt; Exception in thread \"main\" java.lang.IllegalStateException: No ExecutorFactory found&#010;to execute the application.&#010;&gt;      at org.apache.flink.core.execution.DefaultExecutorServiceLoader.getExecutorFactory(DefaultExecutorServiceLoader.java:84)&#010;&gt;      at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.executeAsync(StreamExecutionEnvironment.java:1803)&#010;&gt;      at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1713)&#010;&gt;      at org.apache.flink.streaming.api.environment.LocalStreamEnvironment.execute(LocalStreamEnvironmentï¼ˆï¼‰&#010;&gt;&#010;&gt; æ˜¯å“ªé‡Œå‡ºé—®é¢˜äº†å‘¢&#010;&gt; | |&#010;&gt; a511955993&#010;&gt; |&#010;&gt; |&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; |&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;",
        "depth": "1",
        "reply": "<64a1ede.78a7.1732c766320.Coremail.a511955993@163.com>"
    },
    {
        "id": "<6a4b0e5f.7f6f.1732cb5944e.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 04:36:04 GMT",
        "subject": "å›å¤ï¼šä½œä¸šå‡çº§åˆ°flink1.11ï¼Œideaè¿è¡Œå¤±è´¥",
        "content": "æ·»åŠ ä¾èµ–åæ­£å¸¸äº†ã€‚åº”è¯¥æ˜¯è¿™ä¸ªå¯¼è‡´çš„&#010;&#010;https://ci.apache.org/projects/flink/flink-docs-master/release-notes/flink-1.11.html#reversed-dependency-from-flink-streaming-java-to-flink-client-flink-15090&#010;&#010;thanks&#010;&#010;&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;åœ¨2020å¹´07æœˆ08æ—¥ 11:30ï¼ŒYangze Guo å†™é“ï¼š&#010;å°è¯•åŠ ä¸€ä¸‹è¿™ä¸ªä¾èµ–&#010;groupId: org.apache.flink&#010;artifactId: flink-clients_${scala.binary.version}&#010;&#010;Best,&#010;Yangze Guo&#010;&#010;On Wed, Jul 8, 2020 at 11:27 AM SmileSmile &lt;a511955993@163.com&gt; wrote:&#010;&gt;&#010;&gt;&#010;&gt; hi&#010;&gt;&#010;&gt; ä½œä¸šçš„ä¾èµ–ä»1.10.1å‡çº§åˆ°1.11.0ï¼Œåœ¨ideaè¿è¡Œçš„æ—¶å€™æŠ¥é”™&#010;&gt;&#010;&gt; Exception in thread \"main\" java.lang.IllegalStateException: No ExecutorFactory found&#010;to execute the application.&#010;&gt;      at org.apache.flink.core.execution.DefaultExecutorServiceLoader.getExecutorFactory(DefaultExecutorServiceLoader.java:84)&#010;&gt;      at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.executeAsync(StreamExecutionEnvironment.java:1803)&#010;&gt;      at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1713)&#010;&gt;      at org.apache.flink.streaming.api.environment.LocalStreamEnvironment.execute(LocalStreamEnvironmentï¼ˆï¼‰&#010;&gt;&#010;&gt; æ˜¯å“ªé‡Œå‡ºé—®é¢˜äº†å‘¢&#010;&gt; | |&#010;&gt; a511955993&#010;&gt; |&#010;&gt; |&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; |&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;",
        "depth": "2",
        "reply": "<64a1ede.78a7.1732c766320.Coremail.a511955993@163.com>"
    },
    {
        "id": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 05:03:16 GMT",
        "subject": "flink 1.11  on kubernetes æ„å»ºå¤±è´¥ ",
        "content": "hi&#010;&#010;æŒ‰ç…§æ–‡æ¡£[1]çš„æ–¹æ³•éƒ¨ç½²session cluster on kubernetesï¼Œé›†ç¾¤æ„å»ºçš„æ—¶å€™å‡ºç°äº†å¦‚ä¸‹æŠ¥é”™&#010;&#010;&#010;Starting Task Manager&#010;sed: couldn't open temporary file /opt/flink/conf/sedVdyy6Q: Read-only file system&#010;sed: couldn't open temporary file /opt/flink/conf/sedcj5VKQ: Read-only file system&#010;/docker-entrypoint.sh: 72: /docker-entrypoint.sh: cannot create /opt/flink/conf/flink-conf.yaml:&#010;Permission denied&#010;sed: couldn't open temporary file /opt/flink/conf/sedB5eynR: Read-only file system&#010;/docker-entrypoint.sh: 120: /docker-entrypoint.sh: cannot create /opt/flink/conf/flink-conf.yaml.tmp:&#010;Read-only file system&#010;[ERROR] The execution result is empty.&#010;[ERROR] Could not get JVM parameters and dynamic configurations properly.&#010;&#010;&#010;æ˜¯å¦æœ‰é‡åˆ°åŒæ ·çš„é—®é¢˜ï¼Œæ”¯ä¸ªæ‹›&#010;&#010;&#010;&#010;[1] https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/kubernetes.html#session-cluster-resource-definitions&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶",
        "depth": "0",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<CY4PR20MB122109ACE0384FD22E13D376DA670@CY4PR20MB1221.namprd20.prod.outlook.com>",
        "from": "Yun Tang &lt;myas...@live.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 08:29:57 GMT",
        "subject": "Re: flink 1.11  on kubernetes æ„å»ºå¤±è´¥ ",
        "content": "Hi&#013;&#010;&#013;&#010;ä½ æ˜¯ä¸æ˜¯å¯¹ /opt/flink/conf ç›®å½•ä¸‹çš„æ–‡ä»¶è¿›è¡Œäº†sedç›¸å…³å†™æ“ä½œï¼Ÿç¤¾åŒºæ–‡æ¡£ä¸­ä½¿ç”¨çš„æ–¹æ³•æ˜¯å°†configmapæŒ‚è½½æˆæœ¬åœ°çš„flink-conf.yaml&#010;ç­‰æ–‡ä»¶ï¼Œè€Œè¿™ä¸ªæŒ‚è½½çš„ç›®å½•å…¶å®æ˜¯ä¸å¯å†™çš„ã€‚&#013;&#010;ç›´æ¥ä¿®æ”¹configmapé‡Œé¢çš„å†…å®¹ï¼Œè¿™æ ·æŒ‚è½½æ—¶å€™å°±ä¼šè‡ªåŠ¨æ›´æ–°äº†ã€‚&#013;&#010;&#013;&#010;ç¥å¥½&#013;&#010;å”äº‘&#013;&#010;________________________________&#013;&#010;From: SmileSmile &lt;a511955993@163.com&gt;&#013;&#010;Sent: Wednesday, July 8, 2020 13:03&#013;&#010;To: Flink user-zh mailing list &lt;user-zh@flink.apache.org&gt;&#013;&#010;Subject: flink 1.11 on kubernetes æ„å»ºå¤±è´¥&#013;&#010;&#013;&#010;hi&#013;&#010;&#013;&#010;æŒ‰ç…§æ–‡æ¡£[1]çš„æ–¹æ³•éƒ¨ç½²session cluster on kubernetesï¼Œé›†ç¾¤æ„å»ºçš„æ—¶å€™å‡ºç°äº†å¦‚ä¸‹æŠ¥é”™&#013;&#010;&#013;&#010;&#013;&#010;Starting Task Manager&#013;&#010;sed: couldn't open temporary file /opt/flink/conf/sedVdyy6Q: Read-only file system&#013;&#010;sed: couldn't open temporary file /opt/flink/conf/sedcj5VKQ: Read-only file system&#013;&#010;/docker-entrypoint.sh: 72: /docker-entrypoint.sh: cannot create /opt/flink/conf/flink-conf.yaml:&#010;Permission denied&#013;&#010;sed: couldn't open temporary file /opt/flink/conf/sedB5eynR: Read-only file system&#013;&#010;/docker-entrypoint.sh: 120: /docker-entrypoint.sh: cannot create /opt/flink/conf/flink-conf.yaml.tmp:&#010;Read-only file system&#013;&#010;[ERROR] The execution result is empty.&#013;&#010;[ERROR] Could not get JVM parameters and dynamic configurations properly.&#013;&#010;&#013;&#010;&#013;&#010;æ˜¯å¦æœ‰é‡åˆ°åŒæ ·çš„é—®é¢˜ï¼Œæ”¯ä¸ªæ‹›&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;[1] https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/kubernetes.html#session-cluster-resource-definitions&#013;&#010;&#013;&#010;&#013;&#010;| |&#013;&#010;a511955993&#013;&#010;|&#013;&#010;|&#013;&#010;é‚®ç®±ï¼ša511955993@163.com&#013;&#010;|&#013;&#010;&#013;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;",
        "depth": "1",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<534765f0.9a25.1732d937575.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 08:38:25 GMT",
        "subject": "å›å¤ï¼šflink 1.11  on kubernetes æ„å»ºå¤±è´¥",
        "content": "hi yun tangï¼&#010;&#010;æ²¡æœ‰å¯¹ /opt/flink/config ç›®å½•ä¸‹çš„æ–‡ä»¶åšå†™æ“ä½œã€‚ åªæ˜¯æŒ‰ç…§å®˜ç½‘ä¸Šçš„é…ç½®æ–‡ä»¶è¿›è¡Œéƒ¨ç½²ï¼Œé•œåƒç”¨çš„ä¹Ÿæ˜¯ç¤¾åŒºçš„é•œåƒã€‚&#010;bestï¼&#010;&#010;&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;åœ¨2020å¹´07æœˆ08æ—¥ 16:29ï¼ŒYun Tang å†™é“ï¼š&#010;Hi&#010;&#010;ä½ æ˜¯ä¸æ˜¯å¯¹ /opt/flink/conf ç›®å½•ä¸‹çš„æ–‡ä»¶è¿›è¡Œäº†sedç›¸å…³å†™æ“ä½œï¼Ÿç¤¾åŒºæ–‡æ¡£ä¸­ä½¿ç”¨çš„æ–¹æ³•æ˜¯å°†configmapæŒ‚è½½æˆæœ¬åœ°çš„flink-conf.yaml&#010;ç­‰æ–‡ä»¶ï¼Œè€Œè¿™ä¸ªæŒ‚è½½çš„ç›®å½•å…¶å®æ˜¯ä¸å¯å†™çš„ã€‚&#010;ç›´æ¥ä¿®æ”¹configmapé‡Œé¢çš„å†…å®¹ï¼Œè¿™æ ·æŒ‚è½½æ—¶å€™å°±ä¼šè‡ªåŠ¨æ›´æ–°äº†ã€‚&#010;&#010;ç¥å¥½&#010;å”äº‘&#010;________________________________&#010;From: SmileSmile &lt;a511955993@163.com&gt;&#010;Sent: Wednesday, July 8, 2020 13:03&#010;To: Flink user-zh mailing list &lt;user-zh@flink.apache.org&gt;&#010;Subject: flink 1.11 on kubernetes æ„å»ºå¤±è´¥&#010;&#010;hi&#010;&#010;æŒ‰ç…§æ–‡æ¡£[1]çš„æ–¹æ³•éƒ¨ç½²session cluster on kubernetesï¼Œé›†ç¾¤æ„å»ºçš„æ—¶å€™å‡ºç°äº†å¦‚ä¸‹æŠ¥é”™&#010;&#010;&#010;Starting Task Manager&#010;sed: couldn't open temporary file /opt/flink/conf/sedVdyy6Q: Read-only file system&#010;sed: couldn't open temporary file /opt/flink/conf/sedcj5VKQ: Read-only file system&#010;/docker-entrypoint.sh: 72: /docker-entrypoint.sh: cannot create /opt/flink/conf/flink-conf.yaml:&#010;Permission denied&#010;sed: couldn't open temporary file /opt/flink/conf/sedB5eynR: Read-only file system&#010;/docker-entrypoint.sh: 120: /docker-entrypoint.sh: cannot create /opt/flink/conf/flink-conf.yaml.tmp:&#010;Read-only file system&#010;[ERROR] The execution result is empty.&#010;[ERROR] Could not get JVM parameters and dynamic configurations properly.&#010;&#010;&#010;æ˜¯å¦æœ‰é‡åˆ°åŒæ ·çš„é—®é¢˜ï¼Œæ”¯ä¸ªæ‹›&#010;&#010;&#010;&#010;[1] https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/kubernetes.html#session-cluster-resource-definitions&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;",
        "depth": "2",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<67dc0480.d9e5.1733216b21e.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 05:40:15 GMT",
        "subject": "å›å¤ï¼šflink 1.11  on kubernetes æ„å»ºå¤±è´¥",
        "content": "hi&#010;&#010;æŒ‰ç…§æ–°ç‰ˆæœ¬çš„éƒ¨ç½²æ–‡ä»¶[1]ï¼Œä¼šéƒ¨ç½²å¤±è´¥.å¦‚æœå°†éƒ¨ç½²æ–‡ä»¶æ”¹ç”¨1.10ç‰ˆæœ¬ï¼Œåªæ˜¯ä¿®æ”¹é•œåƒæ–‡ä»¶å’Œlog4jæ–‡ä»¶ï¼Œå¯ä»¥æˆåŠŸæ„å»º[2]ã€‚&#010;&#010;&#010;ç›®å‰çœ‹å·®åˆ«åœ¨äº1.11å¯åŠ¨jmå’Œtmæ˜¯é€šè¿‡args: [\"jobmanager\"]çš„æ–¹æ³•ï¼Œé€šè¿‡docker-entrypoint.sh[3]çœ‹åˆ°è°ƒç”¨set_common_optionsæ–¹æ³•çš„æ—¶å€™ä¼šsed&#010;æœ¬åœ°æŒ‚è½½çš„flink-configuration-configmap.yamlå¯¼è‡´å¤±è´¥ã€‚&#010;&#010;&#010;1.10 ç‰ˆæœ¬æ˜¯é€šè¿‡$FLINK_HOME/bin/jobmanager.shå¯åŠ¨ã€‚&#010;&#010;command: [\"/bin/bash\", \"-c\", \"$FLINK_HOME/bin/jobmanager.sh start;\\&#010;         while :;&#010;         do&#010;           if [[ -f $(find log -name '*jobmanager*.log' -print -quit) ",
        "depth": "3",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<CAP+gf36Po1gDLCdRcqqagrwQ5sSiz0hjweG+1H4TOt0cuvz_Dw@mail.gmail.com>",
        "from": "Yang Wang &lt;danrtsey...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 12:02:03 GMT",
        "subject": "Re: flink 1.11 on kubernetes æ„å»ºå¤±è´¥",
        "content": "sedæ›¿æ¢æŠ¥é”™åº”è¯¥ä¸æ˜¯Podå¯åŠ¨å¤±è´¥çš„æ ¹æœ¬åŸå› ï¼Œå› ä¸ºç›®å‰çš„docker-entrypoint.shåšäº†ä¿®æ”¹&#013;&#010;æ‰ä¼šè¿™æ ·[1]&#013;&#010;&#013;&#010;ä½ è¿™ä¸ªæŠ¥é”™çœ‹ç€æ˜¯æ‰§è¡Œbash-java-utils.jaræŠ¥çš„é”™ï¼Œç¡®è®¤ä½ ç”¨çš„æ˜¯ç¤¾åŒºçš„yamlæ–‡ä»¶[2]ï¼Œæˆ‘è¿è¡Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#013;&#010;å¦‚æœä¸æ˜¯ï¼Œéœ€è¦ä½ æŠŠä½ çš„yamlå‘å‡ºæ¥&#013;&#010;&#013;&#010;&#013;&#010;[1].&#013;&#010;https://github.com/apache/flink-docker/blob/dev-master/docker-entrypoint.sh&#013;&#010;[2].&#013;&#010;https://ci.apache.org/projects/flink/flink-docs-master/ops/deployment/kubernetes.html&#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;Yang&#013;&#010;&#013;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸‹åˆ1:40å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; hi&#013;&#010;&gt;&#013;&#010;&gt; æŒ‰ç…§æ–°ç‰ˆæœ¬çš„éƒ¨ç½²æ–‡ä»¶[1]ï¼Œä¼šéƒ¨ç½²å¤±è´¥.å¦‚æœå°†éƒ¨ç½²æ–‡ä»¶æ”¹ç”¨1.10ç‰ˆæœ¬ï¼Œåªæ˜¯ä¿®æ”¹é•œåƒæ–‡ä»¶å’Œlog4jæ–‡ä»¶ï¼Œå¯ä»¥æˆåŠŸæ„å»º[2]ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç›®å‰çœ‹å·®åˆ«åœ¨äº1.11å¯åŠ¨jmå’Œtmæ˜¯é€šè¿‡args:&#013;&#010;&gt; [\"jobmanager\"]çš„æ–¹æ³•ï¼Œé€šè¿‡docker-entrypoint.sh[3]çœ‹åˆ°è°ƒç”¨set_common_optionsæ–¹æ³•çš„æ—¶å€™ä¼šsed&#013;&#010;&gt; æœ¬åœ°æŒ‚è½½çš„flink-configuration-configmap.yamlå¯¼è‡´å¤±è´¥ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; 1.10 ç‰ˆæœ¬æ˜¯é€šè¿‡$FLINK_HOME/bin/jobmanager.shå¯åŠ¨ã€‚&#013;&#010;&gt;&#013;&#010;&gt; command: [\"/bin/bash\", \"-c\", \"$FLINK_HOME/bin/jobmanager.sh start;\\&#013;&#010;&gt;          while :;&#013;&#010;&gt;          do&#013;&#010;&gt;            if [[ -f $(find log -name '*jobmanager*.log' -print -quit) ",
        "depth": "4",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<674a83da.13d6.173369a38fa.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 10 Jul 2020 02:42:23 GMT",
        "subject": "å›å¤ï¼šflink 1.11 on kubernetes æ„å»ºå¤±è´¥",
        "content": "hi yang wang&#010;&#010;1.11ç‰ˆæœ¬çš„on kubernetesåœ¨hostnameä¸Šæœ‰åšä»€ä¹ˆå˜åŒ–å—ï¼Ÿ&#010;&#010;ä½œä¸šè¿è¡Œçš„æ—¶å€™ flink uiä¸Š tmå˜æˆipï¼šç«¯å£&#010;ï¼Œåœ¨1.10ç‰ˆæœ¬ï¼Œuiä¸Šæ˜¯ podnameï¼šç«¯å£ã€‚&#010;&#010;ä½œä¸šå¯åŠ¨çš„æ—¶å€™ï¼Œjmæ—¥å¿—ä¸€ç›´åœ¨åˆ·&#010;&#010;No hostname could be resolved for the IP address 10.35.160.5, using IP address as host name.&#010;Local input split assignment (such as for HDFS files) may be impacted&#010;&#010;&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;åœ¨2020å¹´07æœˆ09æ—¥ 20:02ï¼ŒYang Wang å†™é“ï¼š&#010;sedæ›¿æ¢æŠ¥é”™åº”è¯¥ä¸æ˜¯Podå¯åŠ¨å¤±è´¥çš„æ ¹æœ¬åŸå› ï¼Œå› ä¸ºç›®å‰çš„docker-entrypoint.shåšäº†ä¿®æ”¹&#010;æ‰ä¼šè¿™æ ·[1]&#010;&#010;ä½ è¿™ä¸ªæŠ¥é”™çœ‹ç€æ˜¯æ‰§è¡Œbash-java-utils.jaræŠ¥çš„é”™ï¼Œç¡®è®¤ä½ ç”¨çš„æ˜¯ç¤¾åŒºçš„yamlæ–‡ä»¶[2]ï¼Œæˆ‘è¿è¡Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#010;å¦‚æœä¸æ˜¯ï¼Œéœ€è¦ä½ æŠŠä½ çš„yamlå‘å‡ºæ¥&#010;&#010;&#010;[1].&#010;https://github.com/apache/flink-docker/blob/dev-master/docker-entrypoint.sh&#010;[2].&#010;https://ci.apache.org/projects/flink/flink-docs-master/ops/deployment/kubernetes.html&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸‹åˆ1:40å†™é“ï¼š&#010;&#010;&gt; hi&#010;&gt;&#010;&gt; æŒ‰ç…§æ–°ç‰ˆæœ¬çš„éƒ¨ç½²æ–‡ä»¶[1]ï¼Œä¼šéƒ¨ç½²å¤±è´¥.å¦‚æœå°†éƒ¨ç½²æ–‡ä»¶æ”¹ç”¨1.10ç‰ˆæœ¬ï¼Œåªæ˜¯ä¿®æ”¹é•œåƒæ–‡ä»¶å’Œlog4jæ–‡ä»¶ï¼Œå¯ä»¥æˆåŠŸæ„å»º[2]ã€‚&#010;&gt;&#010;&gt;&#010;&gt; ç›®å‰çœ‹å·®åˆ«åœ¨äº1.11å¯åŠ¨jmå’Œtmæ˜¯é€šè¿‡args:&#010;&gt; [\"jobmanager\"]çš„æ–¹æ³•ï¼Œé€šè¿‡docker-entrypoint.sh[3]çœ‹åˆ°è°ƒç”¨set_common_optionsæ–¹æ³•çš„æ—¶å€™ä¼šsed&#010;&gt; æœ¬åœ°æŒ‚è½½çš„flink-configuration-configmap.yamlå¯¼è‡´å¤±è´¥ã€‚&#010;&gt;&#010;&gt;&#010;&gt; 1.10 ç‰ˆæœ¬æ˜¯é€šè¿‡$FLINK_HOME/bin/jobmanager.shå¯åŠ¨ã€‚&#010;&gt;&#010;&gt; command: [\"/bin/bash\", \"-c\", \"$FLINK_HOME/bin/jobmanager.sh start;\\&#010;&gt;          while :;&#010;&gt;          do&#010;&gt;            if [[ -f $(find log -name '*jobmanager*.log' -print -quit) ",
        "depth": "5",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<CAP+gf36_5-VQwgBdaDcUjziJGZyJfvELkdyed_h82aetTWKz2w@mail.gmail.com>",
        "from": "Yang Wang &lt;danrtsey...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 10 Jul 2020 04:13:08 GMT",
        "subject": "Re: flink 1.11 on kubernetes æ„å»ºå¤±è´¥",
        "content": "æˆ‘è®°å¾—1.11é‡Œé¢å¯¹hostè¿™ä¸ªåœ°æ–¹åº”è¯¥æ˜¯æ²¡æœ‰æ”¹åŠ¨ï¼Œtaskmanager.network.bind-policyçš„&#013;&#010;é»˜è®¤å€¼ä¸€ä¼šéƒ½æ˜¯ipã€‚æ‰€ä»¥ä½ è¯´çš„UIä¸Šæ˜¯podnameï¼Œè¿™ä¸ªæ˜¯å“ªé‡Œçš„ï¼Ÿæ­£å¸¸TMåˆ—è¡¨akkaåœ°å€&#013;&#010;éƒ½æ˜¯ipåœ°å€çš„&#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;Yang&#013;&#010;&#013;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ10æ—¥å‘¨äº” ä¸Šåˆ10:42å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; hi yang wang&#013;&#010;&gt;&#013;&#010;&gt; 1.11ç‰ˆæœ¬çš„on kubernetesåœ¨hostnameä¸Šæœ‰åšä»€ä¹ˆå˜åŒ–å—ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; ä½œä¸šè¿è¡Œçš„æ—¶å€™ flink uiä¸Š tmå˜æˆipï¼šç«¯å£&#013;&#010;&gt; ï¼Œåœ¨1.10ç‰ˆæœ¬ï¼Œuiä¸Šæ˜¯ podnameï¼šç«¯å£ã€‚&#013;&#010;&gt;&#013;&#010;&gt; ä½œä¸šå¯åŠ¨çš„æ—¶å€™ï¼Œjmæ—¥å¿—ä¸€ç›´åœ¨åˆ·&#013;&#010;&gt;&#013;&#010;&gt; No hostname could be resolved for the IP address 10.35.160.5, using IP&#013;&#010;&gt; address as host name. Local input split assignment (such as for HDFS files)&#013;&#010;&gt; may be impacted&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; a511955993&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; åœ¨2020å¹´07æœˆ09æ—¥ 20:02ï¼ŒYang Wang å†™é“ï¼š&#013;&#010;&gt; sedæ›¿æ¢æŠ¥é”™åº”è¯¥ä¸æ˜¯Podå¯åŠ¨å¤±è´¥çš„æ ¹æœ¬åŸå› ï¼Œå› ä¸ºç›®å‰çš„docker-entrypoint.shåšäº†ä¿®æ”¹&#013;&#010;&gt; æ‰ä¼šè¿™æ ·[1]&#013;&#010;&gt;&#013;&#010;&gt; ä½ è¿™ä¸ªæŠ¥é”™çœ‹ç€æ˜¯æ‰§è¡Œbash-java-utils.jaræŠ¥çš„é”™ï¼Œç¡®è®¤ä½ ç”¨çš„æ˜¯ç¤¾åŒºçš„yamlæ–‡ä»¶[2]ï¼Œæˆ‘è¿è¡Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#013;&#010;&gt; å¦‚æœä¸æ˜¯ï¼Œéœ€è¦ä½ æŠŠä½ çš„yamlå‘å‡ºæ¥&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; [1].&#013;&#010;&gt; https://github.com/apache/flink-docker/blob/dev-master/docker-entrypoint.sh&#013;&#010;&gt; [2].&#013;&#010;&gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/ops/deployment/kubernetes.html&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Yang&#013;&#010;&gt;&#013;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸‹åˆ1:40å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; hi&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; æŒ‰ç…§æ–°ç‰ˆæœ¬çš„éƒ¨ç½²æ–‡ä»¶[1]ï¼Œä¼šéƒ¨ç½²å¤±è´¥.å¦‚æœå°†éƒ¨ç½²æ–‡ä»¶æ”¹ç”¨1.10ç‰ˆæœ¬ï¼Œåªæ˜¯ä¿®æ”¹é•œåƒæ–‡ä»¶å’Œlog4jæ–‡ä»¶ï¼Œå¯ä»¥æˆåŠŸæ„å»º[2]ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ç›®å‰çœ‹å·®åˆ«åœ¨äº1.11å¯åŠ¨jmå’Œtmæ˜¯é€šè¿‡args:&#013;&#010;&gt; &gt;&#013;&#010;&gt; [\"jobmanager\"]çš„æ–¹æ³•ï¼Œé€šè¿‡docker-entrypoint.sh[3]çœ‹åˆ°è°ƒç”¨set_common_optionsæ–¹æ³•çš„æ—¶å€™ä¼šsed&#013;&#010;&gt; &gt; æœ¬åœ°æŒ‚è½½çš„flink-configuration-configmap.yamlå¯¼è‡´å¤±è´¥ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; 1.10 ç‰ˆæœ¬æ˜¯é€šè¿‡$FLINK_HOME/bin/jobmanager.shå¯åŠ¨ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; command: [\"/bin/bash\", \"-c\", \"$FLINK_HOME/bin/jobmanager.sh start;\\&#013;&#010;&gt; &gt;          while :;&#013;&#010;&gt; &gt;          do&#013;&#010;&gt; &gt;            if [[ -f $(find log -name '*jobmanager*.log' -print -quit) ",
        "depth": "6",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<4e18b58.2141.1733721493c.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 10 Jul 2020 05:09:55 GMT",
        "subject": "å›å¤ï¼šflink 1.11 on kubernetes æ„å»ºå¤±è´¥",
        "content": "hi Yang&#010;&#010;åœ¨1.10ç‰ˆæœ¬ï¼Œrunningçš„ä½œä¸šç‚¹å‡»æ‹“æ™®å›¾ä¸­éšä¾¿ä¸€ä¸ªoperationï¼Œæœ‰detail subtasks&#010;taskmanagers xxx x è¿™è¡Œï¼Œtaskmanagersè¿™æ é‡Œçš„hostï¼Œæ˜¾ç¤ºçš„æ˜¯ podnameï¼šç«¯å£&#010;&#010;åœ¨1.11å˜æˆipï¼šç«¯å£&#010;&#010;ç›®å‰æˆ‘è¿™è¾¹é‡åˆ°çš„æƒ…å†µæ˜¯ï¼Œæ„å»ºäº†ä¸€ä¸ªæœ‰120slotçš„é›†ç¾¤ï¼Œä½œä¸šå¹¶è¡Œåº¦æ˜¯120ã€‚&#010;æäº¤åˆ°jmåjmå°±å¤±è”äº†ï¼Œjm timeoutã€‚è§‚å¯Ÿjmæ—¥å¿—ï¼Œç–¯ç‹‚åœ¨åˆ·&#010;&#010;&#010;No hostname could be resolved for the IP address 10.35.160.5, using IP address as host name.&#010;Local input split assignment (such as for HDFS files) may be impacted&#010;&#010;&#010;ç›®å‰è§‚å¯Ÿåˆ°çš„æ”¹å˜ä¸»è¦æ˜¯è¿™å—podnameå’Œipçš„åŒºåˆ«ï¼Œå…¶ä»–ä¸ç¡®å®š&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;åœ¨2020å¹´07æœˆ10æ—¥ 12:13ï¼ŒYang Wang å†™é“ï¼š&#010;æˆ‘è®°å¾—1.11é‡Œé¢å¯¹hostè¿™ä¸ªåœ°æ–¹åº”è¯¥æ˜¯æ²¡æœ‰æ”¹åŠ¨ï¼Œtaskmanager.network.bind-policyçš„&#010;é»˜è®¤å€¼ä¸€ä¼šéƒ½æ˜¯ipã€‚æ‰€ä»¥ä½ è¯´çš„UIä¸Šæ˜¯podnameï¼Œè¿™ä¸ªæ˜¯å“ªé‡Œçš„ï¼Ÿæ­£å¸¸TMåˆ—è¡¨akkaåœ°å€&#010;éƒ½æ˜¯ipåœ°å€çš„&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ10æ—¥å‘¨äº” ä¸Šåˆ10:42å†™é“ï¼š&#010;&#010;&gt; hi yang wang&#010;&gt;&#010;&gt; 1.11ç‰ˆæœ¬çš„on kubernetesåœ¨hostnameä¸Šæœ‰åšä»€ä¹ˆå˜åŒ–å—ï¼Ÿ&#010;&gt;&#010;&gt; ä½œä¸šè¿è¡Œçš„æ—¶å€™ flink uiä¸Š tmå˜æˆipï¼šç«¯å£&#010;&gt; ï¼Œåœ¨1.10ç‰ˆæœ¬ï¼Œuiä¸Šæ˜¯ podnameï¼šç«¯å£ã€‚&#010;&gt;&#010;&gt; ä½œä¸šå¯åŠ¨çš„æ—¶å€™ï¼Œjmæ—¥å¿—ä¸€ç›´åœ¨åˆ·&#010;&gt;&#010;&gt; No hostname could be resolved for the IP address 10.35.160.5, using IP&#010;&gt; address as host name. Local input split assignment (such as for HDFS files)&#010;&gt; may be impacted&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; | |&#010;&gt; a511955993&#010;&gt; |&#010;&gt; |&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; |&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt;&#010;&gt; åœ¨2020å¹´07æœˆ09æ—¥ 20:02ï¼ŒYang Wang å†™é“ï¼š&#010;&gt; sedæ›¿æ¢æŠ¥é”™åº”è¯¥ä¸æ˜¯Podå¯åŠ¨å¤±è´¥çš„æ ¹æœ¬åŸå› ï¼Œå› ä¸ºç›®å‰çš„docker-entrypoint.shåšäº†ä¿®æ”¹&#010;&gt; æ‰ä¼šè¿™æ ·[1]&#010;&gt;&#010;&gt; ä½ è¿™ä¸ªæŠ¥é”™çœ‹ç€æ˜¯æ‰§è¡Œbash-java-utils.jaræŠ¥çš„é”™ï¼Œç¡®è®¤ä½ ç”¨çš„æ˜¯ç¤¾åŒºçš„yamlæ–‡ä»¶[2]ï¼Œæˆ‘è¿è¡Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#010;&gt; å¦‚æœä¸æ˜¯ï¼Œéœ€è¦ä½ æŠŠä½ çš„yamlå‘å‡ºæ¥&#010;&gt;&#010;&gt;&#010;&gt; [1].&#010;&gt; https://github.com/apache/flink-docker/blob/dev-master/docker-entrypoint.sh&#010;&gt; [2].&#010;&gt;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/ops/deployment/kubernetes.html&#010;&gt;&#010;&gt;&#010;&gt; Best,&#010;&gt; Yang&#010;&gt;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸‹åˆ1:40å†™é“ï¼š&#010;&gt;&#010;&gt; &gt; hi&#010;&gt; &gt;&#010;&gt; &gt; æŒ‰ç…§æ–°ç‰ˆæœ¬çš„éƒ¨ç½²æ–‡ä»¶[1]ï¼Œä¼šéƒ¨ç½²å¤±è´¥.å¦‚æœå°†éƒ¨ç½²æ–‡ä»¶æ”¹ç”¨1.10ç‰ˆæœ¬ï¼Œåªæ˜¯ä¿®æ”¹é•œåƒæ–‡ä»¶å’Œlog4jæ–‡ä»¶ï¼Œå¯ä»¥æˆåŠŸæ„å»º[2]ã€‚&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; ç›®å‰çœ‹å·®åˆ«åœ¨äº1.11å¯åŠ¨jmå’Œtmæ˜¯é€šè¿‡args:&#010;&gt; &gt;&#010;&gt; [\"jobmanager\"]çš„æ–¹æ³•ï¼Œé€šè¿‡docker-entrypoint.sh[3]çœ‹åˆ°è°ƒç”¨set_common_optionsæ–¹æ³•çš„æ—¶å€™ä¼šsed&#010;&gt; &gt; æœ¬åœ°æŒ‚è½½çš„flink-configuration-configmap.yamlå¯¼è‡´å¤±è´¥ã€‚&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; 1.10 ç‰ˆæœ¬æ˜¯é€šè¿‡$FLINK_HOME/bin/jobmanager.shå¯åŠ¨ã€‚&#010;&gt; &gt;&#010;&gt; &gt; command: [\"/bin/bash\", \"-c\", \"$FLINK_HOME/bin/jobmanager.sh start;\\&#010;&gt; &gt;          while :;&#010;&gt; &gt;          do&#010;&gt; &gt;            if [[ -f $(find log -name '*jobmanager*.log' -print -quit) ",
        "depth": "7",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<CAP+gf34Zo28SectRuBqnJ7OCekovWCgzKr0cjH1A=h6OH+VWvQ@mail.gmail.com>",
        "from": "Yang Wang &lt;danrtsey...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 22 Jul 2020 10:18:04 GMT",
        "subject": "Re: flink 1.11 on kubernetes æ„å»ºå¤±è´¥",
        "content": "æŠ±æ­‰å›å¤æ™šäº†&#013;&#010;&#013;&#010;æˆ‘è¿™è¾¹ä¹ŸéªŒè¯äº†ä¸€ä¸‹ï¼Œåœ¨ä½ æ‰€è¯´çš„åœ°æ–¹ç¡®å®æ˜¯ip:portï¼Œä½†æ˜¯æäº¤ä»»åŠ¡éƒ½æ˜¯æ­£å¸¸çš„&#013;&#010;&#013;&#010;å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#013;&#010;æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#013;&#010;å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#013;&#010;&#013;&#010;&#013;&#010;Flinké‡Œé¢ç”¨çš„æ˜¯InetAddress#getHostFromNameServiceæ¥è·Ÿè¿›IPåœ°å€è·å–FQDNçš„&#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;Yang&#013;&#010;&#013;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ10æ—¥å‘¨äº” ä¸‹åˆ1:10å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; hi Yang&#013;&#010;&gt;&#013;&#010;&gt; åœ¨1.10ç‰ˆæœ¬ï¼Œrunningçš„ä½œä¸šç‚¹å‡»æ‹“æ™®å›¾ä¸­éšä¾¿ä¸€ä¸ªoperationï¼Œæœ‰detail subtasks&#010;taskmanagers xxx x&#013;&#010;&gt; è¿™è¡Œï¼Œtaskmanagersè¿™æ é‡Œçš„hostï¼Œæ˜¾ç¤ºçš„æ˜¯ podnameï¼šç«¯å£&#013;&#010;&gt;&#013;&#010;&gt; åœ¨1.11å˜æˆipï¼šç«¯å£&#013;&#010;&gt;&#013;&#010;&gt; ç›®å‰æˆ‘è¿™è¾¹é‡åˆ°çš„æƒ…å†µæ˜¯ï¼Œæ„å»ºäº†ä¸€ä¸ªæœ‰120slotçš„é›†ç¾¤ï¼Œä½œä¸šå¹¶è¡Œåº¦æ˜¯120ã€‚&#010;æäº¤åˆ°jmåjmå°±å¤±è”äº†ï¼Œjm timeoutã€‚è§‚å¯Ÿjmæ—¥å¿—ï¼Œç–¯ç‹‚åœ¨åˆ·&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; No hostname could be resolved for the IP address 10.35.160.5, using IP&#013;&#010;&gt; address as host name. Local input split assignment (such as for HDFS files)&#013;&#010;&gt; may be impacted&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç›®å‰è§‚å¯Ÿåˆ°çš„æ”¹å˜ä¸»è¦æ˜¯è¿™å—podnameå’Œipçš„åŒºåˆ«ï¼Œå…¶ä»–ä¸ç¡®å®š&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; a511955993&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; åœ¨2020å¹´07æœˆ10æ—¥ 12:13ï¼ŒYang Wang å†™é“ï¼š&#013;&#010;&gt; æˆ‘è®°å¾—1.11é‡Œé¢å¯¹hostè¿™ä¸ªåœ°æ–¹åº”è¯¥æ˜¯æ²¡æœ‰æ”¹åŠ¨ï¼Œtaskmanager.network.bind-policyçš„&#013;&#010;&gt; é»˜è®¤å€¼ä¸€ä¼šéƒ½æ˜¯ipã€‚æ‰€ä»¥ä½ è¯´çš„UIä¸Šæ˜¯podnameï¼Œè¿™ä¸ªæ˜¯å“ªé‡Œçš„ï¼Ÿæ­£å¸¸TMåˆ—è¡¨akkaåœ°å€&#013;&#010;&gt; éƒ½æ˜¯ipåœ°å€çš„&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Yang&#013;&#010;&gt;&#013;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ10æ—¥å‘¨äº” ä¸Šåˆ10:42å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; hi yang wang&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; 1.11ç‰ˆæœ¬çš„on kubernetesåœ¨hostnameä¸Šæœ‰åšä»€ä¹ˆå˜åŒ–å—ï¼Ÿ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ä½œä¸šè¿è¡Œçš„æ—¶å€™ flink uiä¸Š tmå˜æˆipï¼šç«¯å£&#013;&#010;&gt; &gt; ï¼Œåœ¨1.10ç‰ˆæœ¬ï¼Œuiä¸Šæ˜¯ podnameï¼šç«¯å£ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ä½œä¸šå¯åŠ¨çš„æ—¶å€™ï¼Œjmæ—¥å¿—ä¸€ç›´åœ¨åˆ·&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; No hostname could be resolved for the IP address 10.35.160.5, using IP&#013;&#010;&gt; &gt; address as host name. Local input split assignment (such as for HDFS&#013;&#010;&gt; files)&#013;&#010;&gt; &gt; may be impacted&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; | |&#013;&#010;&gt; &gt; a511955993&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; åœ¨2020å¹´07æœˆ09æ—¥ 20:02ï¼ŒYang Wang å†™é“ï¼š&#013;&#010;&gt; &gt; sedæ›¿æ¢æŠ¥é”™åº”è¯¥ä¸æ˜¯Podå¯åŠ¨å¤±è´¥çš„æ ¹æœ¬åŸå› ï¼Œå› ä¸ºç›®å‰çš„docker-entrypoint.shåšäº†ä¿®æ”¹&#013;&#010;&gt; &gt; æ‰ä¼šè¿™æ ·[1]&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ä½ è¿™ä¸ªæŠ¥é”™çœ‹ç€æ˜¯æ‰§è¡Œbash-java-utils.jaræŠ¥çš„é”™ï¼Œç¡®è®¤ä½ ç”¨çš„æ˜¯ç¤¾åŒºçš„yamlæ–‡ä»¶[2]ï¼Œæˆ‘è¿è¡Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#013;&#010;&gt; &gt; å¦‚æœä¸æ˜¯ï¼Œéœ€è¦ä½ æŠŠä½ çš„yamlå‘å‡ºæ¥&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; [1].&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://github.com/apache/flink-docker/blob/dev-master/docker-entrypoint.sh&#013;&#010;&gt; &gt; [2].&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/ops/deployment/kubernetes.html&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Best,&#013;&#010;&gt; &gt; Yang&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸‹åˆ1:40å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; &gt; hi&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; æŒ‰ç…§æ–°ç‰ˆæœ¬çš„éƒ¨ç½²æ–‡ä»¶[1]ï¼Œä¼šéƒ¨ç½²å¤±è´¥.å¦‚æœå°†éƒ¨ç½²æ–‡ä»¶æ”¹ç”¨1.10ç‰ˆæœ¬ï¼Œåªæ˜¯ä¿®æ”¹é•œåƒæ–‡ä»¶å’Œlog4jæ–‡ä»¶ï¼Œå¯ä»¥æˆåŠŸæ„å»º[2]ã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; ç›®å‰çœ‹å·®åˆ«åœ¨äº1.11å¯åŠ¨jmå’Œtmæ˜¯é€šè¿‡args:&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; [\"jobmanager\"]çš„æ–¹æ³•ï¼Œé€šè¿‡docker-entrypoint.sh[3]çœ‹åˆ°è°ƒç”¨set_common_optionsæ–¹æ³•çš„æ—¶å€™ä¼šsed&#013;&#010;&gt; &gt; &gt; æœ¬åœ°æŒ‚è½½çš„flink-configuration-configmap.yamlå¯¼è‡´å¤±è´¥ã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; 1.10 ç‰ˆæœ¬æ˜¯é€šè¿‡$FLINK_HOME/bin/jobmanager.shå¯åŠ¨ã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; command: [\"/bin/bash\", \"-c\", \"$FLINK_HOME/bin/jobmanager.sh start;\\&#013;&#010;&gt; &gt; &gt;          while :;&#013;&#010;&gt; &gt; &gt;          do&#013;&#010;&gt; &gt; &gt;            if [[ -f $(find log -name '*jobmanager*.log' -print -quit)&#013;&#010;&gt; ",
        "depth": "8",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<1e1a61b6.442e.173765efa2a.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 22 Jul 2020 11:53:22 GMT",
        "subject": "å›å¤ï¼šflink 1.11 on kubernetes æ„å»ºå¤±è´¥",
        "content": "&#010;Hiï¼ŒYang Wangï¼&#010;&#010;å¾ˆå¼€å¿ƒå¯ä»¥æ”¶åˆ°ä½ çš„å›å¤ï¼Œä½ çš„å›å¤å¸®åŠ©å¾ˆå¤§ï¼Œè®©æˆ‘çŸ¥é“äº†é—®é¢˜çš„æ–¹å‘ã€‚æˆ‘å†è¡¥å……äº›ä¿¡æ¯ï¼Œå¸Œæœ›å¯ä»¥å¸®æˆ‘è¿›ä¸€æ­¥åˆ¤æ–­ä¸€ä¸‹é—®é¢˜æ ¹æºã€‚&#010;&#010;åœ¨JMæŠ¥é”™çš„åœ°æ–¹ï¼ŒNo hostname could be resolved for ip address xxxxx ï¼ŒæŠ¥å‡ºæ¥çš„ipæ˜¯k8såˆ†é…ç»™flink&#010;podçš„å†…ç½‘ipï¼Œä¸æ˜¯å®¿ä¸»æœºçš„ipã€‚è¯·é—®è¿™ä¸ªé—®é¢˜æ˜¯å‡ºåœ¨å“ªé‡Œå‘¢&#010;&#010;Bestï¼&#010;&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;åœ¨2020å¹´07æœˆ22æ—¥ 18:18ï¼ŒYang Wang å†™é“ï¼š&#010;æŠ±æ­‰å›å¤æ™šäº†&#010;&#010;æˆ‘è¿™è¾¹ä¹ŸéªŒè¯äº†ä¸€ä¸‹ï¼Œåœ¨ä½ æ‰€è¯´çš„åœ°æ–¹ç¡®å®æ˜¯ip:portï¼Œä½†æ˜¯æäº¤ä»»åŠ¡éƒ½æ˜¯æ­£å¸¸çš„&#010;&#010;å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#010;æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#010;å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#010;&#010;&#010;Flinké‡Œé¢ç”¨çš„æ˜¯InetAddress#getHostFromNameServiceæ¥è·Ÿè¿›IPåœ°å€è·å–FQDNçš„&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ10æ—¥å‘¨äº” ä¸‹åˆ1:10å†™é“ï¼š&#010;&#010;&gt; hi Yang&#010;&gt;&#010;&gt; åœ¨1.10ç‰ˆæœ¬ï¼Œrunningçš„ä½œä¸šç‚¹å‡»æ‹“æ™®å›¾ä¸­éšä¾¿ä¸€ä¸ªoperationï¼Œæœ‰detail subtasks&#010;taskmanagers xxx x&#010;&gt; è¿™è¡Œï¼Œtaskmanagersè¿™æ é‡Œçš„hostï¼Œæ˜¾ç¤ºçš„æ˜¯ podnameï¼šç«¯å£&#010;&gt;&#010;&gt; åœ¨1.11å˜æˆipï¼šç«¯å£&#010;&gt;&#010;&gt; ç›®å‰æˆ‘è¿™è¾¹é‡åˆ°çš„æƒ…å†µæ˜¯ï¼Œæ„å»ºäº†ä¸€ä¸ªæœ‰120slotçš„é›†ç¾¤ï¼Œä½œä¸šå¹¶è¡Œåº¦æ˜¯120ã€‚&#010;æäº¤åˆ°jmåjmå°±å¤±è”äº†ï¼Œjm timeoutã€‚è§‚å¯Ÿjmæ—¥å¿—ï¼Œç–¯ç‹‚åœ¨åˆ·&#010;&gt;&#010;&gt;&#010;&gt; No hostname could be resolved for the IP address 10.35.160.5, using IP&#010;&gt; address as host name. Local input split assignment (such as for HDFS files)&#010;&gt; may be impacted&#010;&gt;&#010;&gt;&#010;&gt; ç›®å‰è§‚å¯Ÿåˆ°çš„æ”¹å˜ä¸»è¦æ˜¯è¿™å—podnameå’Œipçš„åŒºåˆ«ï¼Œå…¶ä»–ä¸ç¡®å®š&#010;&gt;&#010;&gt;&#010;&gt; | |&#010;&gt; a511955993&#010;&gt; |&#010;&gt; |&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; |&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt;&#010;&gt; åœ¨2020å¹´07æœˆ10æ—¥ 12:13ï¼ŒYang Wang å†™é“ï¼š&#010;&gt; æˆ‘è®°å¾—1.11é‡Œé¢å¯¹hostè¿™ä¸ªåœ°æ–¹åº”è¯¥æ˜¯æ²¡æœ‰æ”¹åŠ¨ï¼Œtaskmanager.network.bind-policyçš„&#010;&gt; é»˜è®¤å€¼ä¸€ä¼šéƒ½æ˜¯ipã€‚æ‰€ä»¥ä½ è¯´çš„UIä¸Šæ˜¯podnameï¼Œè¿™ä¸ªæ˜¯å“ªé‡Œçš„ï¼Ÿæ­£å¸¸TMåˆ—è¡¨akkaåœ°å€&#010;&gt; éƒ½æ˜¯ipåœ°å€çš„&#010;&gt;&#010;&gt;&#010;&gt; Best,&#010;&gt; Yang&#010;&gt;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ10æ—¥å‘¨äº” ä¸Šåˆ10:42å†™é“ï¼š&#010;&gt;&#010;&gt; &gt; hi yang wang&#010;&gt; &gt;&#010;&gt; &gt; 1.11ç‰ˆæœ¬çš„on kubernetesåœ¨hostnameä¸Šæœ‰åšä»€ä¹ˆå˜åŒ–å—ï¼Ÿ&#010;&gt; &gt;&#010;&gt; &gt; ä½œä¸šè¿è¡Œçš„æ—¶å€™ flink uiä¸Š tmå˜æˆipï¼šç«¯å£&#010;&gt; &gt; ï¼Œåœ¨1.10ç‰ˆæœ¬ï¼Œuiä¸Šæ˜¯ podnameï¼šç«¯å£ã€‚&#010;&gt; &gt;&#010;&gt; &gt; ä½œä¸šå¯åŠ¨çš„æ—¶å€™ï¼Œjmæ—¥å¿—ä¸€ç›´åœ¨åˆ·&#010;&gt; &gt;&#010;&gt; &gt; No hostname could be resolved for the IP address 10.35.160.5, using IP&#010;&gt; &gt; address as host name. Local input split assignment (such as for HDFS&#010;&gt; files)&#010;&gt; &gt; may be impacted&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; | |&#010;&gt; &gt; a511955993&#010;&gt; &gt; |&#010;&gt; &gt; |&#010;&gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; |&#010;&gt; &gt;&#010;&gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt;&#010;&gt; &gt; åœ¨2020å¹´07æœˆ09æ—¥ 20:02ï¼ŒYang Wang å†™é“ï¼š&#010;&gt; &gt; sedæ›¿æ¢æŠ¥é”™åº”è¯¥ä¸æ˜¯Podå¯åŠ¨å¤±è´¥çš„æ ¹æœ¬åŸå› ï¼Œå› ä¸ºç›®å‰çš„docker-entrypoint.shåšäº†ä¿®æ”¹&#010;&gt; &gt; æ‰ä¼šè¿™æ ·[1]&#010;&gt; &gt;&#010;&gt; &gt; ä½ è¿™ä¸ªæŠ¥é”™çœ‹ç€æ˜¯æ‰§è¡Œbash-java-utils.jaræŠ¥çš„é”™ï¼Œç¡®è®¤ä½ ç”¨çš„æ˜¯ç¤¾åŒºçš„yamlæ–‡ä»¶[2]ï¼Œæˆ‘è¿è¡Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#010;&gt; &gt; å¦‚æœä¸æ˜¯ï¼Œéœ€è¦ä½ æŠŠä½ çš„yamlå‘å‡ºæ¥&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; [1].&#010;&gt; &gt;&#010;&gt; https://github.com/apache/flink-docker/blob/dev-master/docker-entrypoint.sh&#010;&gt; &gt; [2].&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/ops/deployment/kubernetes.html&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; Best,&#010;&gt; &gt; Yang&#010;&gt; &gt;&#010;&gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸‹åˆ1:40å†™é“ï¼š&#010;&gt; &gt;&#010;&gt; &gt; &gt; hi&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; æŒ‰ç…§æ–°ç‰ˆæœ¬çš„éƒ¨ç½²æ–‡ä»¶[1]ï¼Œä¼šéƒ¨ç½²å¤±è´¥.å¦‚æœå°†éƒ¨ç½²æ–‡ä»¶æ”¹ç”¨1.10ç‰ˆæœ¬ï¼Œåªæ˜¯ä¿®æ”¹é•œåƒæ–‡ä»¶å’Œlog4jæ–‡ä»¶ï¼Œå¯ä»¥æˆåŠŸæ„å»º[2]ã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; ç›®å‰çœ‹å·®åˆ«åœ¨äº1.11å¯åŠ¨jmå’Œtmæ˜¯é€šè¿‡args:&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; [\"jobmanager\"]çš„æ–¹æ³•ï¼Œé€šè¿‡docker-entrypoint.sh[3]çœ‹åˆ°è°ƒç”¨set_common_optionsæ–¹æ³•çš„æ—¶å€™ä¼šsed&#010;&gt; &gt; &gt; æœ¬åœ°æŒ‚è½½çš„flink-configuration-configmap.yamlå¯¼è‡´å¤±è´¥ã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; 1.10 ç‰ˆæœ¬æ˜¯é€šè¿‡$FLINK_HOME/bin/jobmanager.shå¯åŠ¨ã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; command: [\"/bin/bash\", \"-c\", \"$FLINK_HOME/bin/jobmanager.sh start;\\&#010;&gt; &gt; &gt;          while :;&#010;&gt; &gt; &gt;          do&#010;&gt; &gt; &gt;            if [[ -f $(find log -name '*jobmanager*.log' -print -quit)&#010;&gt; ",
        "depth": "9",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<2fde7b1d.446d.17376644e0a.Coremail.a511955993@163.com>",
        "from": "SmileSmile &lt;a511955...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 22 Jul 2020 11:59:11 GMT",
        "subject": "å›å¤ï¼šflink 1.11 on kubernetes æ„å»ºå¤±è´¥",
        "content": "Hi Yang Wangï¼&#010;&#010;ä½ æåˆ°äº†Flinké‡Œé¢ç”¨çš„æ˜¯InetAddress#getHostFromNameServiceæ¥è·Ÿè¿›IPåœ°å€è·å–FQDNçš„ã€‚&#010;&#010;è¿™ä¸ªåœ¨1.10å’Œ1.11ç‰ˆæœ¬æ˜¯å¦æœ‰å‘ç”Ÿå˜åŒ–ï¼Ÿè¿™æ®µæŠ¥é”™åªåœ¨1.11æ‰å‡ºç°ï¼Œ1.10ä¸å­˜åœ¨ã€‚å¦‚æœcore&#010;dnsæœ‰é—®é¢˜ï¼Œåº”è¯¥ä¸¤ä¸ªç‰ˆæœ¬éƒ½æœ‰æœ‰å¼‚å¸¸&#010;&#010;Bestï¼&#010;&#010;&#010;&#010;| |&#010;a511955993&#010;|&#010;|&#010;é‚®ç®±ï¼ša511955993@163.com&#010;|&#010;&#010;ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&#010;åœ¨2020å¹´07æœˆ22æ—¥ 18:18ï¼ŒYang Wang å†™é“ï¼š&#010;æŠ±æ­‰å›å¤æ™šäº†&#010;&#010;æˆ‘è¿™è¾¹ä¹ŸéªŒè¯äº†ä¸€ä¸‹ï¼Œåœ¨ä½ æ‰€è¯´çš„åœ°æ–¹ç¡®å®æ˜¯ip:portï¼Œä½†æ˜¯æäº¤ä»»åŠ¡éƒ½æ˜¯æ­£å¸¸çš„&#010;&#010;å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#010;æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#010;å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#010;&#010;&#010;Flinké‡Œé¢ç”¨çš„æ˜¯InetAddress#getHostFromNameServiceæ¥è·Ÿè¿›IPåœ°å€è·å–FQDNçš„&#010;&#010;&#010;Best,&#010;Yang&#010;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ10æ—¥å‘¨äº” ä¸‹åˆ1:10å†™é“ï¼š&#010;&#010;&gt; hi Yang&#010;&gt;&#010;&gt; åœ¨1.10ç‰ˆæœ¬ï¼Œrunningçš„ä½œä¸šç‚¹å‡»æ‹“æ™®å›¾ä¸­éšä¾¿ä¸€ä¸ªoperationï¼Œæœ‰detail subtasks&#010;taskmanagers xxx x&#010;&gt; è¿™è¡Œï¼Œtaskmanagersè¿™æ é‡Œçš„hostï¼Œæ˜¾ç¤ºçš„æ˜¯ podnameï¼šç«¯å£&#010;&gt;&#010;&gt; åœ¨1.11å˜æˆipï¼šç«¯å£&#010;&gt;&#010;&gt; ç›®å‰æˆ‘è¿™è¾¹é‡åˆ°çš„æƒ…å†µæ˜¯ï¼Œæ„å»ºäº†ä¸€ä¸ªæœ‰120slotçš„é›†ç¾¤ï¼Œä½œä¸šå¹¶è¡Œåº¦æ˜¯120ã€‚&#010;æäº¤åˆ°jmåjmå°±å¤±è”äº†ï¼Œjm timeoutã€‚è§‚å¯Ÿjmæ—¥å¿—ï¼Œç–¯ç‹‚åœ¨åˆ·&#010;&gt;&#010;&gt;&#010;&gt; No hostname could be resolved for the IP address 10.35.160.5, using IP&#010;&gt; address as host name. Local input split assignment (such as for HDFS files)&#010;&gt; may be impacted&#010;&gt;&#010;&gt;&#010;&gt; ç›®å‰è§‚å¯Ÿåˆ°çš„æ”¹å˜ä¸»è¦æ˜¯è¿™å—podnameå’Œipçš„åŒºåˆ«ï¼Œå…¶ä»–ä¸ç¡®å®š&#010;&gt;&#010;&gt;&#010;&gt; | |&#010;&gt; a511955993&#010;&gt; |&#010;&gt; |&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; |&#010;&gt;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt;&#010;&gt; åœ¨2020å¹´07æœˆ10æ—¥ 12:13ï¼ŒYang Wang å†™é“ï¼š&#010;&gt; æˆ‘è®°å¾—1.11é‡Œé¢å¯¹hostè¿™ä¸ªåœ°æ–¹åº”è¯¥æ˜¯æ²¡æœ‰æ”¹åŠ¨ï¼Œtaskmanager.network.bind-policyçš„&#010;&gt; é»˜è®¤å€¼ä¸€ä¼šéƒ½æ˜¯ipã€‚æ‰€ä»¥ä½ è¯´çš„UIä¸Šæ˜¯podnameï¼Œè¿™ä¸ªæ˜¯å“ªé‡Œçš„ï¼Ÿæ­£å¸¸TMåˆ—è¡¨akkaåœ°å€&#010;&gt; éƒ½æ˜¯ipåœ°å€çš„&#010;&gt;&#010;&gt;&#010;&gt; Best,&#010;&gt; Yang&#010;&gt;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ10æ—¥å‘¨äº” ä¸Šåˆ10:42å†™é“ï¼š&#010;&gt;&#010;&gt; &gt; hi yang wang&#010;&gt; &gt;&#010;&gt; &gt; 1.11ç‰ˆæœ¬çš„on kubernetesåœ¨hostnameä¸Šæœ‰åšä»€ä¹ˆå˜åŒ–å—ï¼Ÿ&#010;&gt; &gt;&#010;&gt; &gt; ä½œä¸šè¿è¡Œçš„æ—¶å€™ flink uiä¸Š tmå˜æˆipï¼šç«¯å£&#010;&gt; &gt; ï¼Œåœ¨1.10ç‰ˆæœ¬ï¼Œuiä¸Šæ˜¯ podnameï¼šç«¯å£ã€‚&#010;&gt; &gt;&#010;&gt; &gt; ä½œä¸šå¯åŠ¨çš„æ—¶å€™ï¼Œjmæ—¥å¿—ä¸€ç›´åœ¨åˆ·&#010;&gt; &gt;&#010;&gt; &gt; No hostname could be resolved for the IP address 10.35.160.5, using IP&#010;&gt; &gt; address as host name. Local input split assignment (such as for HDFS&#010;&gt; files)&#010;&gt; &gt; may be impacted&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; | |&#010;&gt; &gt; a511955993&#010;&gt; &gt; |&#010;&gt; &gt; |&#010;&gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#010;&gt; &gt; |&#010;&gt; &gt;&#010;&gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#010;&gt; &gt;&#010;&gt; &gt; åœ¨2020å¹´07æœˆ09æ—¥ 20:02ï¼ŒYang Wang å†™é“ï¼š&#010;&gt; &gt; sedæ›¿æ¢æŠ¥é”™åº”è¯¥ä¸æ˜¯Podå¯åŠ¨å¤±è´¥çš„æ ¹æœ¬åŸå› ï¼Œå› ä¸ºç›®å‰çš„docker-entrypoint.shåšäº†ä¿®æ”¹&#010;&gt; &gt; æ‰ä¼šè¿™æ ·[1]&#010;&gt; &gt;&#010;&gt; &gt; ä½ è¿™ä¸ªæŠ¥é”™çœ‹ç€æ˜¯æ‰§è¡Œbash-java-utils.jaræŠ¥çš„é”™ï¼Œç¡®è®¤ä½ ç”¨çš„æ˜¯ç¤¾åŒºçš„yamlæ–‡ä»¶[2]ï¼Œæˆ‘è¿è¡Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#010;&gt; &gt; å¦‚æœä¸æ˜¯ï¼Œéœ€è¦ä½ æŠŠä½ çš„yamlå‘å‡ºæ¥&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; [1].&#010;&gt; &gt;&#010;&gt; https://github.com/apache/flink-docker/blob/dev-master/docker-entrypoint.sh&#010;&gt; &gt; [2].&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/ops/deployment/kubernetes.html&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt; Best,&#010;&gt; &gt; Yang&#010;&gt; &gt;&#010;&gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸‹åˆ1:40å†™é“ï¼š&#010;&gt; &gt;&#010;&gt; &gt; &gt; hi&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; æŒ‰ç…§æ–°ç‰ˆæœ¬çš„éƒ¨ç½²æ–‡ä»¶[1]ï¼Œä¼šéƒ¨ç½²å¤±è´¥.å¦‚æœå°†éƒ¨ç½²æ–‡ä»¶æ”¹ç”¨1.10ç‰ˆæœ¬ï¼Œåªæ˜¯ä¿®æ”¹é•œåƒæ–‡ä»¶å’Œlog4jæ–‡ä»¶ï¼Œå¯ä»¥æˆåŠŸæ„å»º[2]ã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; ç›®å‰çœ‹å·®åˆ«åœ¨äº1.11å¯åŠ¨jmå’Œtmæ˜¯é€šè¿‡args:&#010;&gt; &gt; &gt;&#010;&gt; &gt;&#010;&gt; [\"jobmanager\"]çš„æ–¹æ³•ï¼Œé€šè¿‡docker-entrypoint.sh[3]çœ‹åˆ°è°ƒç”¨set_common_optionsæ–¹æ³•çš„æ—¶å€™ä¼šsed&#010;&gt; &gt; &gt; æœ¬åœ°æŒ‚è½½çš„flink-configuration-configmap.yamlå¯¼è‡´å¤±è´¥ã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; 1.10 ç‰ˆæœ¬æ˜¯é€šè¿‡$FLINK_HOME/bin/jobmanager.shå¯åŠ¨ã€‚&#010;&gt; &gt; &gt;&#010;&gt; &gt; &gt; command: [\"/bin/bash\", \"-c\", \"$FLINK_HOME/bin/jobmanager.sh start;\\&#010;&gt; &gt; &gt;          while :;&#010;&gt; &gt; &gt;          do&#010;&gt; &gt; &gt;            if [[ -f $(find log -name '*jobmanager*.log' -print -quit)&#010;&gt; ",
        "depth": "9",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<CAP+gf35Y8_JapXqdGPA1pK8qA7ZB0aNBbvukq6B5FDiTsHZjSA@mail.gmail.com>",
        "from": "Yang Wang &lt;danrtsey...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 23 Jul 2020 02:44:43 GMT",
        "subject": "Re: flink 1.11 on kubernetes æ„å»ºå¤±è´¥",
        "content": "è¿™ä¸ªåœ°æ–¹æ˜¯æ²¡æœ‰å˜åŒ–çš„ï¼Œä½ å¯ä»¥çœ‹TaskManagerRunnerçš„ä»£ç ï¼Œä¸€ç›´æ˜¯ä½¿ç”¨ipåœ°å€æ¥å‘JMæ³¨å†Œçš„&#013;&#010;&#013;&#010;ä½ éœ€è¦ç¡®è®¤corednsè§£æè¿™ä¸ªIPåˆ°åº•æ˜¯å¦å¯ä»¥æˆåŠŸï¼Œå¦å¤–æˆ‘éªŒè¯äº†ä¸€ä¸‹ï¼Œä½ è¯´çš„detail&#010;subtasks taskmanagers xxx x è¿™è¡Œ&#013;&#010;æ˜¾ç¤ºçš„å…¶å®ç›®å‰ä¹Ÿæ˜¯hostnameï¼Œæ˜¯è§£æipä¹‹åå¾—åˆ°çš„ï¼Œä¾‹å¦‚æˆ‘è¿™è¾¹çœ‹åˆ°çš„æ˜¯172-20-0-50ï¼Œæ˜¯å› ä¸ºæˆ‘æ‰§è¡ŒnslookupæŸ¥è¯¢çš„ç»“æœæ˜¯&#013;&#010;kubectl run -i -t busybox --image=busybox --restart=Never&#013;&#010;/ # nslookup 172.20.0.50&#013;&#010;Server: 172.21.0.10&#013;&#010;Address: 172.21.0.10:53&#013;&#010;&#013;&#010;50.0.20.172.in-addr.arpa name =&#013;&#010;172-20-0-50.flink-jobmanager.default.svc.cluster.local&#013;&#010;&#013;&#010;&#013;&#010;ä½ æœ€å¥½å…ˆç¡®è®¤ä¸‹ä½ è¿™è¾¹K8sé›†ç¾¤çš„å˜æ›´ä»¥åŠcorednsçš„é—®é¢˜å§&#013;&#010;&#013;&#010;Best,&#013;&#010;Yang&#013;&#010;&#013;&#010;SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ22æ—¥å‘¨ä¸‰ ä¸‹åˆ7:59å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi Yang Wangï¼&#013;&#010;&gt;&#013;&#010;&gt; ä½ æåˆ°äº†Flinké‡Œé¢ç”¨çš„æ˜¯InetAddress#getHostFromNameServiceæ¥è·Ÿè¿›IPåœ°å€è·å–FQDNçš„ã€‚&#013;&#010;&gt;&#013;&#010;&gt; è¿™ä¸ªåœ¨1.10å’Œ1.11ç‰ˆæœ¬æ˜¯å¦æœ‰å‘ç”Ÿå˜åŒ–ï¼Ÿè¿™æ®µæŠ¥é”™åªåœ¨1.11æ‰å‡ºç°ï¼Œ1.10ä¸å­˜åœ¨ã€‚å¦‚æœcore&#010;dnsæœ‰é—®é¢˜ï¼Œåº”è¯¥ä¸¤ä¸ªç‰ˆæœ¬éƒ½æœ‰æœ‰å¼‚å¸¸&#013;&#010;&gt;&#013;&#010;&gt; Bestï¼&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; a511955993&#013;&#010;&gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt;&#013;&#010;&gt; &lt;https://maas.mail.163.com/dashi-web-extend/html/proSignature.html?ftlId=1&amp;name=a511955993&amp;uid=a511955993%40163.com&amp;iconUrl=https%3A%2F%2Fmail-online.nosdn.127.net%2Fqiyelogo%2FdefaultAvatar.png&amp;items=%5B%22%E9%82%AE%E7%AE%B1%EF%BC%9Aa511955993%40163.com%22%5D&gt;&#013;&#010;&gt;&#013;&#010;&gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ &lt;https://mail.163.com/dashi/dlpro.html?from=mail88&gt;&#010;å®šåˆ¶&#013;&#010;&gt;&#013;&#010;&gt; åœ¨2020å¹´07æœˆ22æ—¥ 18:18ï¼ŒYang Wang &lt;danrtsey.wy@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; æŠ±æ­‰å›å¤æ™šäº†&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘è¿™è¾¹ä¹ŸéªŒè¯äº†ä¸€ä¸‹ï¼Œåœ¨ä½ æ‰€è¯´çš„åœ°æ–¹ç¡®å®æ˜¯ip:portï¼Œä½†æ˜¯æäº¤ä»»åŠ¡éƒ½æ˜¯æ­£å¸¸çš„&#013;&#010;&gt;&#013;&#010;&gt; å¦‚æœä½ çš„æ—¥å¿—é‡Œé¢ä¸€ç›´åœ¨åˆ·No hostname could be resolved for the IP addressï¼Œåº”è¯¥æ˜¯é›†ç¾¤çš„coredns&#013;&#010;&gt; æœ‰é—®é¢˜ï¼Œç”±ipåœ°å€åæŸ¥hostnameæŸ¥ä¸åˆ°ã€‚ä½ å¯ä»¥èµ·ä¸€ä¸ªbusyboxéªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªipå°±è§£æä¸äº†ï¼Œæœ‰&#013;&#010;&gt; å¯èƒ½æ˜¯corednsæœ‰é—®é¢˜&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Flinké‡Œé¢ç”¨çš„æ˜¯InetAddress#getHostFromNameServiceæ¥è·Ÿè¿›IPåœ°å€è·å–FQDNçš„&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Yang&#013;&#010;&gt;&#013;&#010;&gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ10æ—¥å‘¨äº” ä¸‹åˆ1:10å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; hi Yang&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; åœ¨1.10ç‰ˆæœ¬ï¼Œrunningçš„ä½œä¸šç‚¹å‡»æ‹“æ™®å›¾ä¸­éšä¾¿ä¸€ä¸ªoperationï¼Œæœ‰detail&#010;subtasks taskmanagers xxx&#013;&#010;&gt; x&#013;&#010;&gt; &gt; è¿™è¡Œï¼Œtaskmanagersè¿™æ é‡Œçš„hostï¼Œæ˜¾ç¤ºçš„æ˜¯ podnameï¼šç«¯å£&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; åœ¨1.11å˜æˆipï¼šç«¯å£&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ç›®å‰æˆ‘è¿™è¾¹é‡åˆ°çš„æƒ…å†µæ˜¯ï¼Œæ„å»ºäº†ä¸€ä¸ªæœ‰120slotçš„é›†ç¾¤ï¼Œä½œä¸šå¹¶è¡Œåº¦æ˜¯120ã€‚&#010;æäº¤åˆ°jmåjmå°±å¤±è”äº†ï¼Œjm&#013;&#010;&gt; timeoutã€‚è§‚å¯Ÿjmæ—¥å¿—ï¼Œç–¯ç‹‚åœ¨åˆ·&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; No hostname could be resolved for the IP address 10.35.160.5, using IP&#013;&#010;&gt; &gt; address as host name. Local input split assignment (such as for HDFS&#013;&#010;&gt; files)&#013;&#010;&gt; &gt; may be impacted&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ç›®å‰è§‚å¯Ÿåˆ°çš„æ”¹å˜ä¸»è¦æ˜¯è¿™å—podnameå’Œipçš„åŒºåˆ«ï¼Œå…¶ä»–ä¸ç¡®å®š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; | |&#013;&#010;&gt; &gt; a511955993&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; åœ¨2020å¹´07æœˆ10æ—¥ 12:13ï¼ŒYang Wang å†™é“ï¼š&#013;&#010;&gt; &gt; æˆ‘è®°å¾—1.11é‡Œé¢å¯¹hostè¿™ä¸ªåœ°æ–¹åº”è¯¥æ˜¯æ²¡æœ‰æ”¹åŠ¨ï¼Œtaskmanager.network.bind-policyçš„&#013;&#010;&gt; &gt; é»˜è®¤å€¼ä¸€ä¼šéƒ½æ˜¯ipã€‚æ‰€ä»¥ä½ è¯´çš„UIä¸Šæ˜¯podnameï¼Œè¿™ä¸ªæ˜¯å“ªé‡Œçš„ï¼Ÿæ­£å¸¸TMåˆ—è¡¨akkaåœ°å€&#013;&#010;&gt; &gt; éƒ½æ˜¯ipåœ°å€çš„&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Best,&#013;&#010;&gt; &gt; Yang&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ10æ—¥å‘¨äº” ä¸Šåˆ10:42å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; &gt; hi yang wang&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; 1.11ç‰ˆæœ¬çš„on kubernetesåœ¨hostnameä¸Šæœ‰åšä»€ä¹ˆå˜åŒ–å—ï¼Ÿ&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; ä½œä¸šè¿è¡Œçš„æ—¶å€™ flink uiä¸Š tmå˜æˆipï¼šç«¯å£&#013;&#010;&gt; &gt; &gt; ï¼Œåœ¨1.10ç‰ˆæœ¬ï¼Œuiä¸Šæ˜¯ podnameï¼šç«¯å£ã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; ä½œä¸šå¯åŠ¨çš„æ—¶å€™ï¼Œjmæ—¥å¿—ä¸€ç›´åœ¨åˆ·&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; No hostname could be resolved for the IP address 10.35.160.5, using IP&#013;&#010;&gt; &gt; &gt; address as host name. Local input split assignment (such as for HDFS&#013;&#010;&gt; &gt; files)&#013;&#010;&gt; &gt; &gt; may be impacted&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; | |&#013;&#010;&gt; &gt; &gt; a511955993&#013;&#010;&gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; é‚®ç®±ï¼ša511955993@163.com&#013;&#010;&gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; ç­¾åç”± ç½‘æ˜“é‚®ç®±å¤§å¸ˆ å®šåˆ¶&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; åœ¨2020å¹´07æœˆ09æ—¥ 20:02ï¼ŒYang Wang å†™é“ï¼š&#013;&#010;&gt; &gt; &gt; sedæ›¿æ¢æŠ¥é”™åº”è¯¥ä¸æ˜¯Podå¯åŠ¨å¤±è´¥çš„æ ¹æœ¬åŸå› ï¼Œå› ä¸ºç›®å‰çš„docker-entrypoint.shåšäº†ä¿®æ”¹&#013;&#010;&gt; &gt; &gt; æ‰ä¼šè¿™æ ·[1]&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; ä½ è¿™ä¸ªæŠ¥é”™çœ‹ç€æ˜¯æ‰§è¡Œbash-java-utils.jaræŠ¥çš„é”™ï¼Œç¡®è®¤ä½ ç”¨çš„æ˜¯ç¤¾åŒºçš„yamlæ–‡ä»¶[2]ï¼Œæˆ‘è¿è¡Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&#013;&#010;&gt; &gt; &gt; å¦‚æœä¸æ˜¯ï¼Œéœ€è¦ä½ æŠŠä½ çš„yamlå‘å‡ºæ¥&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; [1].&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://github.com/apache/flink-docker/blob/dev-master/docker-entrypoint.sh&#013;&#010;&gt; &gt; &gt; [2].&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/ops/deployment/kubernetes.html&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; Best,&#013;&#010;&gt; &gt; &gt; Yang&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; SmileSmile &lt;a511955993@163.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸‹åˆ1:40å†™é“ï¼š&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; hi&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; æŒ‰ç…§æ–°ç‰ˆæœ¬çš„éƒ¨ç½²æ–‡ä»¶[1]ï¼Œä¼šéƒ¨ç½²å¤±è´¥.å¦‚æœå°†éƒ¨ç½²æ–‡ä»¶æ”¹ç”¨1.10ç‰ˆæœ¬ï¼Œåªæ˜¯ä¿®æ”¹é•œåƒæ–‡ä»¶å’Œlog4jæ–‡ä»¶ï¼Œå¯ä»¥æˆåŠŸæ„å»º[2]ã€‚&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; ç›®å‰çœ‹å·®åˆ«åœ¨äº1.11å¯åŠ¨jmå’Œtmæ˜¯é€šè¿‡args:&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; [\"jobmanager\"]çš„æ–¹æ³•ï¼Œé€šè¿‡docker-entrypoint.sh[3]çœ‹åˆ°è°ƒç”¨set_common_optionsæ–¹æ³•çš„æ—¶å€™ä¼šsed&#013;&#010;&gt; &gt; &gt; &gt; æœ¬åœ°æŒ‚è½½çš„flink-configuration-configmap.yamlå¯¼è‡´å¤±è´¥ã€‚&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; 1.10 ç‰ˆæœ¬æ˜¯é€šè¿‡$FLINK_HOME/bin/jobmanager.shå¯åŠ¨ã€‚&#013;&#010;&gt; &gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; &gt; command: [\"/bin/bash\", \"-c\", \"$FLINK_HOME/bin/jobmanager.sh start;\\&#013;&#010;&gt; &gt; &gt; &gt;          while :;&#013;&#010;&gt; &gt; &gt; &gt;          do&#013;&#010;&gt; &gt; &gt; &gt;            if [[ -f $(find log -name '*jobmanager*.log' -print&#013;&#010;&gt; -quit)&#013;&#010;&gt; &gt; ",
        "depth": "10",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<202007101433430229400@teld.cn>",
        "from": "&quot;liugh@teld.cn&quot; &lt;li...@teld.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 10 Jul 2020 06:33:43 GMT",
        "subject": "é€€è®¢",
        "content": "é€€è®¢&#013;&#010;&#013;&#010;",
        "depth": "1",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<27555EC6-4F2D-4424-9ABB-1C12D7A2B23E@gmail.com>",
        "from": "Leonard Xu &lt;xbjt...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 10 Jul 2020 06:39:14 GMT",
        "subject": "Re: é€€è®¢",
        "content": "Hello, &#010;&#010;é€€è®¢é‚®ä»¶ç»„çš„é‚®ä»¶ï¼Œå¯ä»¥å‘é€ä»»æ„å†…å®¹çš„é‚®ä»¶åˆ°  user-zh-unsubscribe@flink.apache.org&#010; å–æ¶ˆè®¢é˜…æ¥è‡ª user-zh@flink.apache.org é‚®ä»¶ç»„çš„é‚®ä»¶&#010;&#010;é‚®ä»¶ç»„çš„è®¢é˜…ç®¡ç†ï¼Œå¯ä»¥å‚è€ƒ[1]&#010;&#010;ç¥å¥½ï¼Œ&#010;Leonard Xu&#010;[1] https://flink.apache.org/community.html#how-to-subscribe-to-a-mailing-list &lt;https://flink.apache.org/community.html#how-to-subscribe-to-a-mailing-list&gt;&#010;&#010;",
        "depth": "2",
        "reply": "<317d4d4b.80f3.1732cce7caf.Coremail.a511955993@163.com>"
    },
    {
        "id": "<1b9e4bb7.6e4c.1732d54a9fe.Coremail.wander669@163.com>",
        "from": "&quot;Zhou Zach&quot; &lt;wander...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:29:50 GMT",
        "subject": "flink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology",
        "content": "ä»£ç åœ¨flink 1.10.1æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œå‡çº§åˆ°1.11.0æ—¶ï¼Œæç¤ºstreamTableEnv.sqlUpdateå¼ƒç”¨ï¼Œæ”¹æˆexecuteSqläº†ï¼Œç¨‹åºå¯åŠ¨2ç§’åï¼ŒæŠ¥å¼‚å¸¸ï¼š&#010;Exception in thread \"main\" java.lang.IllegalStateException: No operators defined in streaming&#010;topology. Cannot generate StreamGraph.&#010;at org.apache.flink.table.planner.utils.ExecutorUtils.generateStreamGraph(ExecutorUtils.java:47)&#010;at org.apache.flink.table.planner.delegation.StreamExecutor.createPipeline(StreamExecutor.java:47)&#010;at org.apache.flink.table.api.internal.TableEnvironmentImpl.execute(TableEnvironmentImpl.java:1197)&#010;at org.rabbit.sql.FromKafkaSinkHbase$.main(FromKafkaSinkHbase.scala:79)&#010;at org.rabbit.sql.FromKafkaSinkHbase.main(FromKafkaSinkHbase.scala)&#010;&#010;&#010;ä½†æ˜¯ï¼Œæ•°æ®æ˜¯æ­£å¸¸sinkåˆ°äº†hbaseï¼Œæ˜¯ä¸æ˜¯executeSqlè¯¯æŠ¥äº†ã€‚ã€‚ã€‚&#010;&#010;&#010;&#010;&#010;queryï¼š&#010;streamTableEnv.executeSql(&#010;      \"\"\"&#010;        |&#010;        |CREATE TABLE `user` (&#010;        |    uid BIGINT,&#010;        |    sex VARCHAR,&#010;        |    age INT,&#010;        |    created_time TIMESTAMP(3),&#010;        |    WATERMARK FOR created_time as created_time - INTERVAL '3' SECOND&#010;        |) WITH (&#010;        |    'connector.type' = 'kafka',&#010;        |    'connector.version' = 'universal',&#010;        |    -- 'connector.topic' = 'user',&#010;        |    'connector.topic' = 'user_long',&#010;        |    'connector.startup-mode' = 'latest-offset',&#010;        |    'connector.properties.group.id' = 'user_flink',&#010;        |    'format.type' = 'json',&#010;        |    'format.derive-schema' = 'true'&#010;        |)&#010;        |\"\"\".stripMargin)&#010;&#010;&#010;&#010;&#010;&#010;&#010;    streamTableEnv.executeSql(&#010;      \"\"\"&#010;        |&#010;        |CREATE TABLE user_hbase3(&#010;        |    rowkey BIGINT,&#010;        |    cf ROW(sex VARCHAR, age INT, created_time VARCHAR)&#010;        |) WITH (&#010;        |    'connector.type' = 'hbase',&#010;        |    'connector.version' = '2.1.0',&#010;        |    'connector.table-name' = 'user_hbase2',&#010;        |    'connector.zookeeper.znode.parent' = '/hbase',&#010;        |    'connector.write.buffer-flush.max-size' = '10mb',&#010;        |    'connector.write.buffer-flush.max-rows' = '1000',&#010;        |    'connector.write.buffer-flush.interval' = '2s'&#010;        |)&#010;        |\"\"\".stripMargin)&#010;&#010;&#010;    streamTableEnv.executeSql(&#010;      \"\"\"&#010;        |&#010;        |insert into user_hbase3&#010;        |SELECT uid,&#010;        |&#010;        |  ROW(sex, age, created_time ) as cf&#010;        |  FROM  (select uid,sex,age, cast(created_time as VARCHAR) as created_time from `user`)&#010;        |&#010;        |\"\"\".stripMargin)&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;",
        "depth": "0",
        "reply": "<1b9e4bb7.6e4c.1732d54a9fe.Coremail.wander669@163.com>"
    },
    {
        "id": "<a8ed3538-bc3b-4099-9629-7e8312d87a93.jkillers@dingtalk.com>",
        "from": "&quot;å¤å¸…&quot; &lt;jkill...@dingtalk.com.INVALID&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:40:41 GMT",
        "subject": "å›å¤ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology",
        "content": "ä½ å¥½,&#010;å¯ä»¥çœ‹çœ‹ä½ çš„ä»£ç ç»“æ„æ˜¯ä¸æ˜¯ä»¥ä¸‹è¿™ç§&#010;    val bsEnv = StreamExecutionEnvironment.getExecutionEnvironment&#010;    val bsSettings = EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build&#010;    val tableEnv = StreamTableEnvironment.create(bsEnv, bsSettings)&#010;  ......&#010;    tableEnv.execute(\"\")&#010;å¦‚æœæ˜¯çš„è¯,å¯ä»¥å°è¯•ä½¿ç”¨bsEnv.execute(\"\")&#010;1.11å¯¹äºä¸¤è€…çš„executeä»£ç å®ç°æœ‰æ”¹åŠ¨&#010;&#010;&#010;------------------------------------------------------------------&#010;å‘ä»¶äººï¼šZhou Zach &lt;wander669@163.com&gt;&#010;å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) 15:30&#010;æ”¶ä»¶äººï¼šFlink user-zh mailing list &lt;user-zh@flink.apache.org&gt;&#010;ä¸»ã€€é¢˜ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology&#010;&#010;ä»£ç åœ¨flink 1.10.1æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œå‡çº§åˆ°1.11.0æ—¶ï¼Œæç¤ºstreamTableEnv.sqlUpdateå¼ƒç”¨ï¼Œæ”¹æˆexecuteSqläº†ï¼Œç¨‹åºå¯åŠ¨2ç§’åï¼ŒæŠ¥å¼‚å¸¸ï¼š&#010;Exception in thread \"main\" java.lang.IllegalStateException: No operators defined in streaming&#010;topology. Cannot generate StreamGraph.&#010;at org.apache.flink.table.planner.utils.ExecutorUtils.generateStreamGraph(ExecutorUtils.java:47)&#010;at org.apache.flink.table.planner.delegation.StreamExecutor.createPipeline(StreamExecutor.java:47)&#010;at org.apache.flink.table.api.internal.TableEnvironmentImpl.execute(TableEnvironmentImpl.java:1197)&#010;at org.rabbit.sql.FromKafkaSinkHbase$.main(FromKafkaSinkHbase.scala:79)&#010;at org.rabbit.sql.FromKafkaSinkHbase.main(FromKafkaSinkHbase.scala)&#010;&#010;&#010;ä½†æ˜¯ï¼Œæ•°æ®æ˜¯æ­£å¸¸sinkåˆ°äº†hbaseï¼Œæ˜¯ä¸æ˜¯executeSqlè¯¯æŠ¥äº†ã€‚ã€‚ã€‚&#010;&#010;&#010;&#010;&#010;queryï¼š&#010;streamTableEnv.executeSql(&#010;      \"\"\"&#010;        |&#010;        |CREATE TABLE `user` (&#010;        |    uid BIGINT,&#010;        |    sex VARCHAR,&#010;        |    age INT,&#010;        |    created_time TIMESTAMP(3),&#010;        |    WATERMARK FOR created_time as created_time - INTERVAL '3' SECOND&#010;        |) WITH (&#010;        |    'connector.type' = 'kafka',&#010;        |    'connector.version' = 'universal',&#010;        |    -- 'connector.topic' = 'user',&#010;        |    'connector.topic' = 'user_long',&#010;        |    'connector.startup-mode' = 'latest-offset',&#010;        |    'connector.properties.group.id' = 'user_flink',&#010;        |    'format.type' = 'json',&#010;        |    'format.derive-schema' = 'true'&#010;        |)&#010;        |\"\"\".stripMargin)&#010;&#010;&#010;&#010;&#010;&#010;&#010;    streamTableEnv.executeSql(&#010;      \"\"\"&#010;        |&#010;        |CREATE TABLE user_hbase3(&#010;        |    rowkey BIGINT,&#010;        |    cf ROW(sex VARCHAR, age INT, created_time VARCHAR)&#010;        |) WITH (&#010;        |    'connector.type' = 'hbase',&#010;        |    'connector.version' = '2.1.0',&#010;        |    'connector.table-name' = 'user_hbase2',&#010;        |    'connector.zookeeper.znode.parent' = '/hbase',&#010;        |    'connector.write.buffer-flush.max-size' = '10mb',&#010;        |    'connector.write.buffer-flush.max-rows' = '1000',&#010;        |    'connector.write.buffer-flush.interval' = '2s'&#010;        |)&#010;        |\"\"\".stripMargin)&#010;&#010;&#010;    streamTableEnv.executeSql(&#010;      \"\"\"&#010;        |&#010;        |insert into user_hbase3&#010;        |SELECT uid,&#010;        |&#010;        |  ROW(sex, age, created_time ) as cf&#010;        |  FROM  (select uid,sex,age, cast(created_time as VARCHAR) as created_time from `user`)&#010;        |&#010;        |\"\"\".stripMargin)&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;",
        "depth": "1",
        "reply": "<1b9e4bb7.6e4c.1732d54a9fe.Coremail.wander669@163.com>"
    },
    {
        "id": "<6642c41d.7628.1732d6c8fc1.Coremail.wander669@163.com>",
        "from": "&quot;Zhou Zach&quot; &lt;wander...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:55:56 GMT",
        "subject": "Re:å›å¤ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology",
        "content": "&#010;&#010;&#010;ä»£ç ç»“æ„æ”¹æˆè¿™æ ·çš„äº†ï¼š&#010;&#010;&#010;&#010;&#010;val streamExecutionEnv = StreamExecutionEnvironment.getExecutionEnvironment&#010;&#010;val blinkEnvSettings = EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build()&#010;&#010;val streamTableEnv = StreamTableEnvironment.create(streamExecutionEnv, blinkEnvSettings)&#010;&#010;&#010;&#010;&#010;&#010;streamExecutionEnv.execute(\"from kafka sink hbase\")&#010;&#010;&#010;&#010;&#010;è¿˜æ˜¯æŠ¥ä¸€æ ·çš„é”™&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-08 15:40:41ï¼Œ\"å¤å¸…\" &lt;jkillers@dingtalk.com.INVALID&gt; å†™é“ï¼š&#010;&gt;ä½ å¥½,&#010;&gt;å¯ä»¥çœ‹çœ‹ä½ çš„ä»£ç ç»“æ„æ˜¯ä¸æ˜¯ä»¥ä¸‹è¿™ç§&#010;&gt;    val bsEnv = StreamExecutionEnvironment.getExecutionEnvironment&#010;&gt;    val bsSettings = EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build&#010;&gt;    val tableEnv = StreamTableEnvironment.create(bsEnv, bsSettings)&#010;&gt;  ......&#010;&gt;    tableEnv.execute(\"\")&#010;&gt;å¦‚æœæ˜¯çš„è¯,å¯ä»¥å°è¯•ä½¿ç”¨bsEnv.execute(\"\")&#010;&gt;1.11å¯¹äºä¸¤è€…çš„executeä»£ç å®ç°æœ‰æ”¹åŠ¨&#010;&gt;&#010;&gt;&#010;&gt;------------------------------------------------------------------&#010;&gt;å‘ä»¶äººï¼šZhou Zach &lt;wander669@163.com&gt;&#010;&gt;å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) 15:30&#010;&gt;æ”¶ä»¶äººï¼šFlink user-zh mailing list &lt;user-zh@flink.apache.org&gt;&#010;&gt;ä¸»ã€€é¢˜ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology&#010;&gt;&#010;&gt;ä»£ç åœ¨flink 1.10.1æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œå‡çº§åˆ°1.11.0æ—¶ï¼Œæç¤ºstreamTableEnv.sqlUpdateå¼ƒç”¨ï¼Œæ”¹æˆexecuteSqläº†ï¼Œç¨‹åºå¯åŠ¨2ç§’åï¼ŒæŠ¥å¼‚å¸¸ï¼š&#010;&gt;Exception in thread \"main\" java.lang.IllegalStateException: No operators defined in streaming&#010;topology. Cannot generate StreamGraph.&#010;&gt;at org.apache.flink.table.planner.utils.ExecutorUtils.generateStreamGraph(ExecutorUtils.java:47)&#010;&gt;at org.apache.flink.table.planner.delegation.StreamExecutor.createPipeline(StreamExecutor.java:47)&#010;&gt;at org.apache.flink.table.api.internal.TableEnvironmentImpl.execute(TableEnvironmentImpl.java:1197)&#010;&gt;at org.rabbit.sql.FromKafkaSinkHbase$.main(FromKafkaSinkHbase.scala:79)&#010;&gt;at org.rabbit.sql.FromKafkaSinkHbase.main(FromKafkaSinkHbase.scala)&#010;&gt;&#010;&gt;&#010;&gt;ä½†æ˜¯ï¼Œæ•°æ®æ˜¯æ­£å¸¸sinkåˆ°äº†hbaseï¼Œæ˜¯ä¸æ˜¯executeSqlè¯¯æŠ¥äº†ã€‚ã€‚ã€‚&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;queryï¼š&#010;&gt;streamTableEnv.executeSql(&#010;&gt;      \"\"\"&#010;&gt;        |&#010;&gt;        |CREATE TABLE `user` (&#010;&gt;        |    uid BIGINT,&#010;&gt;        |    sex VARCHAR,&#010;&gt;        |    age INT,&#010;&gt;        |    created_time TIMESTAMP(3),&#010;&gt;        |    WATERMARK FOR created_time as created_time - INTERVAL '3' SECOND&#010;&gt;        |) WITH (&#010;&gt;        |    'connector.type' = 'kafka',&#010;&gt;        |    'connector.version' = 'universal',&#010;&gt;        |    -- 'connector.topic' = 'user',&#010;&gt;        |    'connector.topic' = 'user_long',&#010;&gt;        |    'connector.startup-mode' = 'latest-offset',&#010;&gt;        |    'connector.properties.group.id' = 'user_flink',&#010;&gt;        |    'format.type' = 'json',&#010;&gt;        |    'format.derive-schema' = 'true'&#010;&gt;        |)&#010;&gt;        |\"\"\".stripMargin)&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;    streamTableEnv.executeSql(&#010;&gt;      \"\"\"&#010;&gt;        |&#010;&gt;        |CREATE TABLE user_hbase3(&#010;&gt;        |    rowkey BIGINT,&#010;&gt;        |    cf ROW(sex VARCHAR, age INT, created_time VARCHAR)&#010;&gt;        |) WITH (&#010;&gt;        |    'connector.type' = 'hbase',&#010;&gt;        |    'connector.version' = '2.1.0',&#010;&gt;        |    'connector.table-name' = 'user_hbase2',&#010;&gt;        |    'connector.zookeeper.znode.parent' = '/hbase',&#010;&gt;        |    'connector.write.buffer-flush.max-size' = '10mb',&#010;&gt;        |    'connector.write.buffer-flush.max-rows' = '1000',&#010;&gt;        |    'connector.write.buffer-flush.interval' = '2s'&#010;&gt;        |)&#010;&gt;        |\"\"\".stripMargin)&#010;&gt;&#010;&gt;&#010;&gt;    streamTableEnv.executeSql(&#010;&gt;      \"\"\"&#010;&gt;        |&#010;&gt;        |insert into user_hbase3&#010;&gt;        |SELECT uid,&#010;&gt;        |&#010;&gt;        |  ROW(sex, age, created_time ) as cf&#010;&gt;        |  FROM  (select uid,sex,age, cast(created_time as VARCHAR) as created_time from&#010;`user`)&#010;&gt;        |&#010;&gt;        |\"\"\".stripMargin)&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;",
        "depth": "2",
        "reply": "<1b9e4bb7.6e4c.1732d54a9fe.Coremail.wander669@163.com>"
    },
    {
        "id": "<CABi+2jRA3cEmAcLMhUacVJBg=_qE9Z28LpX3Ew=Pv-WzCTS=tw@mail.gmail.com>",
        "from": "Jingsong Li &lt;jingsongl...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 08:07:17 GMT",
        "subject": "Re: å›å¤ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology",
        "content": "Hi,&#010;&#010;ä½ çš„ä»£ç é‡Œï¼šstreamTableEnv.executeSqlï¼Œå®ƒçš„æ„æ€å°±æ˜¯å·²ç»æäº¤åˆ°é›†ç¾¤å¼‚æ­¥çš„å»æ‰§è¡Œäº†ã€‚&#010;&#010;æ‰€ä»¥ä½ åé¢ \"streamExecutionEnv.execute(\"from kafka sink hbase\")\"&#010;å¹¶æ²¡æœ‰çœŸæ­£çš„ç‰©ç†èŠ‚ç‚¹ã€‚ä½ ä¸ç”¨å†è°ƒç”¨äº†ã€‚&#010;&#010;Best,&#010;Jingsong&#010;&#010;On Wed, Jul 8, 2020 at 3:56 PM Zhou Zach &lt;wander669@163.com&gt; wrote:&#010;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; ä»£ç ç»“æ„æ”¹æˆè¿™æ ·çš„äº†ï¼š&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; val streamExecutionEnv = StreamExecutionEnvironment.getExecutionEnvironment&#010;&gt;&#010;&gt; val blinkEnvSettings =&#010;&gt; EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build()&#010;&gt;&#010;&gt; val streamTableEnv = StreamTableEnvironment.create(streamExecutionEnv,&#010;&gt; blinkEnvSettings)&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; streamExecutionEnv.execute(\"from kafka sink hbase\")&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; è¿˜æ˜¯æŠ¥ä¸€æ ·çš„é”™&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; åœ¨ 2020-07-08 15:40:41ï¼Œ\"å¤å¸…\" &lt;jkillers@dingtalk.com.INVALID&gt; å†™é“ï¼š&#010;&gt; &gt;ä½ å¥½,&#010;&gt; &gt;å¯ä»¥çœ‹çœ‹ä½ çš„ä»£ç ç»“æ„æ˜¯ä¸æ˜¯ä»¥ä¸‹è¿™ç§&#010;&gt; &gt;    val bsEnv = StreamExecutionEnvironment.getExecutionEnvironment&#010;&gt; &gt;    val bsSettings =&#010;&gt; EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build&#010;&gt; &gt;    val tableEnv = StreamTableEnvironment.create(bsEnv, bsSettings)&#010;&gt; &gt;  ......&#010;&gt; &gt;    tableEnv.execute(\"\")&#010;&gt; &gt;å¦‚æœæ˜¯çš„è¯,å¯ä»¥å°è¯•ä½¿ç”¨bsEnv.execute(\"\")&#010;&gt; &gt;1.11å¯¹äºä¸¤è€…çš„executeä»£ç å®ç°æœ‰æ”¹åŠ¨&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;------------------------------------------------------------------&#010;&gt; &gt;å‘ä»¶äººï¼šZhou Zach &lt;wander669@163.com&gt;&#010;&gt; &gt;å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) 15:30&#010;&gt; &gt;æ”¶ä»¶äººï¼šFlink user-zh mailing list &lt;user-zh@flink.apache.org&gt;&#010;&gt; &gt;ä¸» é¢˜ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology&#010;&gt; &gt;&#010;&gt; &gt;ä»£ç åœ¨flink&#010;&gt; 1.10.1æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œå‡çº§åˆ°1.11.0æ—¶ï¼Œæç¤ºstreamTableEnv.sqlUpdateå¼ƒç”¨ï¼Œæ”¹æˆexecuteSqläº†ï¼Œç¨‹åºå¯åŠ¨2ç§’åï¼ŒæŠ¥å¼‚å¸¸ï¼š&#010;&gt; &gt;Exception in thread \"main\" java.lang.IllegalStateException: No operators&#010;&gt; defined in streaming topology. Cannot generate StreamGraph.&#010;&gt; &gt;at&#010;&gt; org.apache.flink.table.planner.utils.ExecutorUtils.generateStreamGraph(ExecutorUtils.java:47)&#010;&gt; &gt;at&#010;&gt; org.apache.flink.table.planner.delegation.StreamExecutor.createPipeline(StreamExecutor.java:47)&#010;&gt; &gt;at&#010;&gt; org.apache.flink.table.api.internal.TableEnvironmentImpl.execute(TableEnvironmentImpl.java:1197)&#010;&gt; &gt;at org.rabbit.sql.FromKafkaSinkHbase$.main(FromKafkaSinkHbase.scala:79)&#010;&gt; &gt;at org.rabbit.sql.FromKafkaSinkHbase.main(FromKafkaSinkHbase.scala)&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;ä½†æ˜¯ï¼Œæ•°æ®æ˜¯æ­£å¸¸sinkåˆ°äº†hbaseï¼Œæ˜¯ä¸æ˜¯executeSqlè¯¯æŠ¥äº†ã€‚ã€‚ã€‚&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;queryï¼š&#010;&gt; &gt;streamTableEnv.executeSql(&#010;&gt; &gt;      \"\"\"&#010;&gt; &gt;        |&#010;&gt; &gt;        |CREATE TABLE `user` (&#010;&gt; &gt;        |    uid BIGINT,&#010;&gt; &gt;        |    sex VARCHAR,&#010;&gt; &gt;        |    age INT,&#010;&gt; &gt;        |    created_time TIMESTAMP(3),&#010;&gt; &gt;        |    WATERMARK FOR created_time as created_time - INTERVAL '3'&#010;&gt; SECOND&#010;&gt; &gt;        |) WITH (&#010;&gt; &gt;        |    'connector.type' = 'kafka',&#010;&gt; &gt;        |    'connector.version' = 'universal',&#010;&gt; &gt;        |    -- 'connector.topic' = 'user',&#010;&gt; &gt;        |    'connector.topic' = 'user_long',&#010;&gt; &gt;        |    'connector.startup-mode' = 'latest-offset',&#010;&gt; &gt;        |    'connector.properties.group.id' = 'user_flink',&#010;&gt; &gt;        |    'format.type' = 'json',&#010;&gt; &gt;        |    'format.derive-schema' = 'true'&#010;&gt; &gt;        |)&#010;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;    streamTableEnv.executeSql(&#010;&gt; &gt;      \"\"\"&#010;&gt; &gt;        |&#010;&gt; &gt;        |CREATE TABLE user_hbase3(&#010;&gt; &gt;        |    rowkey BIGINT,&#010;&gt; &gt;        |    cf ROW(sex VARCHAR, age INT, created_time VARCHAR)&#010;&gt; &gt;        |) WITH (&#010;&gt; &gt;        |    'connector.type' = 'hbase',&#010;&gt; &gt;        |    'connector.version' = '2.1.0',&#010;&gt; &gt;        |    'connector.table-name' = 'user_hbase2',&#010;&gt; &gt;        |    'connector.zookeeper.znode.parent' = '/hbase',&#010;&gt; &gt;        |    'connector.write.buffer-flush.max-size' = '10mb',&#010;&gt; &gt;        |    'connector.write.buffer-flush.max-rows' = '1000',&#010;&gt; &gt;        |    'connector.write.buffer-flush.interval' = '2s'&#010;&gt; &gt;        |)&#010;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;    streamTableEnv.executeSql(&#010;&gt; &gt;      \"\"\"&#010;&gt; &gt;        |&#010;&gt; &gt;        |insert into user_hbase3&#010;&gt; &gt;        |SELECT uid,&#010;&gt; &gt;        |&#010;&gt; &gt;        |  ROW(sex, age, created_time ) as cf&#010;&gt; &gt;        |  FROM  (select uid,sex,age, cast(created_time as VARCHAR) as&#010;&gt; created_time from `user`)&#010;&gt; &gt;        |&#010;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt;&#010;&#010;&#010;-- &#010;Best, Jingsong Lee&#010;&#010;",
        "depth": "3",
        "reply": "<1b9e4bb7.6e4c.1732d54a9fe.Coremail.wander669@163.com>"
    },
    {
        "id": "<435b4f52.7d2a.1732d81a52f.Coremail.wander669@163.com>",
        "from": "&quot;Zhou Zach&quot; &lt;wander...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 08:18:57 GMT",
        "subject": "Re:Re: å›å¤ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology",
        "content": "å»æ‰å°±å¥½äº†ï¼Œæ„Ÿè°¢è§£ç­”&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-08 16:07:17ï¼Œ\"Jingsong Li\" &lt;jingsonglee0@gmail.com&gt; å†™é“ï¼š&#010;&gt;Hi,&#010;&gt;&#010;&gt;ä½ çš„ä»£ç é‡Œï¼šstreamTableEnv.executeSqlï¼Œå®ƒçš„æ„æ€å°±æ˜¯å·²ç»æäº¤åˆ°é›†ç¾¤å¼‚æ­¥çš„å»æ‰§è¡Œäº†ã€‚&#010;&gt;&#010;&gt;æ‰€ä»¥ä½ åé¢ \"streamExecutionEnv.execute(\"from kafka sink hbase\")\"&#010;&gt;å¹¶æ²¡æœ‰çœŸæ­£çš„ç‰©ç†èŠ‚ç‚¹ã€‚ä½ ä¸ç”¨å†è°ƒç”¨äº†ã€‚&#010;&gt;&#010;&gt;Best,&#010;&gt;Jingsong&#010;&gt;&#010;&gt;On Wed, Jul 8, 2020 at 3:56 PM Zhou Zach &lt;wander669@163.com&gt; wrote:&#010;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt; ä»£ç ç»“æ„æ”¹æˆè¿™æ ·çš„äº†ï¼š&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt; val streamExecutionEnv = StreamExecutionEnvironment.getExecutionEnvironment&#010;&gt;&gt;&#010;&gt;&gt; val blinkEnvSettings =&#010;&gt;&gt; EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build()&#010;&gt;&gt;&#010;&gt;&gt; val streamTableEnv = StreamTableEnvironment.create(streamExecutionEnv,&#010;&gt;&gt; blinkEnvSettings)&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt; streamExecutionEnv.execute(\"from kafka sink hbase\")&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt; è¿˜æ˜¯æŠ¥ä¸€æ ·çš„é”™&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt; åœ¨ 2020-07-08 15:40:41ï¼Œ\"å¤å¸…\" &lt;jkillers@dingtalk.com.INVALID&gt; å†™é“ï¼š&#010;&gt;&gt; &gt;ä½ å¥½,&#010;&gt;&gt; &gt;å¯ä»¥çœ‹çœ‹ä½ çš„ä»£ç ç»“æ„æ˜¯ä¸æ˜¯ä»¥ä¸‹è¿™ç§&#010;&gt;&gt; &gt;    val bsEnv = StreamExecutionEnvironment.getExecutionEnvironment&#010;&gt;&gt; &gt;    val bsSettings =&#010;&gt;&gt; EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build&#010;&gt;&gt; &gt;    val tableEnv = StreamTableEnvironment.create(bsEnv, bsSettings)&#010;&gt;&gt; &gt;  ......&#010;&gt;&gt; &gt;    tableEnv.execute(\"\")&#010;&gt;&gt; &gt;å¦‚æœæ˜¯çš„è¯,å¯ä»¥å°è¯•ä½¿ç”¨bsEnv.execute(\"\")&#010;&gt;&gt; &gt;1.11å¯¹äºä¸¤è€…çš„executeä»£ç å®ç°æœ‰æ”¹åŠ¨&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;------------------------------------------------------------------&#010;&gt;&gt; &gt;å‘ä»¶äººï¼šZhou Zach &lt;wander669@163.com&gt;&#010;&gt;&gt; &gt;å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) 15:30&#010;&gt;&gt; &gt;æ”¶ä»¶äººï¼šFlink user-zh mailing list &lt;user-zh@flink.apache.org&gt;&#010;&gt;&gt; &gt;ä¸» é¢˜ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;ä»£ç åœ¨flink&#010;&gt;&gt; 1.10.1æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œå‡çº§åˆ°1.11.0æ—¶ï¼Œæç¤ºstreamTableEnv.sqlUpdateå¼ƒç”¨ï¼Œæ”¹æˆexecuteSqläº†ï¼Œç¨‹åºå¯åŠ¨2ç§’åï¼ŒæŠ¥å¼‚å¸¸ï¼š&#010;&gt;&gt; &gt;Exception in thread \"main\" java.lang.IllegalStateException: No operators&#010;&gt;&gt; defined in streaming topology. Cannot generate StreamGraph.&#010;&gt;&gt; &gt;at&#010;&gt;&gt; org.apache.flink.table.planner.utils.ExecutorUtils.generateStreamGraph(ExecutorUtils.java:47)&#010;&gt;&gt; &gt;at&#010;&gt;&gt; org.apache.flink.table.planner.delegation.StreamExecutor.createPipeline(StreamExecutor.java:47)&#010;&gt;&gt; &gt;at&#010;&gt;&gt; org.apache.flink.table.api.internal.TableEnvironmentImpl.execute(TableEnvironmentImpl.java:1197)&#010;&gt;&gt; &gt;at org.rabbit.sql.FromKafkaSinkHbase$.main(FromKafkaSinkHbase.scala:79)&#010;&gt;&gt; &gt;at org.rabbit.sql.FromKafkaSinkHbase.main(FromKafkaSinkHbase.scala)&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;ä½†æ˜¯ï¼Œæ•°æ®æ˜¯æ­£å¸¸sinkåˆ°äº†hbaseï¼Œæ˜¯ä¸æ˜¯executeSqlè¯¯æŠ¥äº†ã€‚ã€‚ã€‚&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;queryï¼š&#010;&gt;&gt; &gt;streamTableEnv.executeSql(&#010;&gt;&gt; &gt;      \"\"\"&#010;&gt;&gt; &gt;        |&#010;&gt;&gt; &gt;        |CREATE TABLE `user` (&#010;&gt;&gt; &gt;        |    uid BIGINT,&#010;&gt;&gt; &gt;        |    sex VARCHAR,&#010;&gt;&gt; &gt;        |    age INT,&#010;&gt;&gt; &gt;        |    created_time TIMESTAMP(3),&#010;&gt;&gt; &gt;        |    WATERMARK FOR created_time as created_time - INTERVAL '3'&#010;&gt;&gt; SECOND&#010;&gt;&gt; &gt;        |) WITH (&#010;&gt;&gt; &gt;        |    'connector.type' = 'kafka',&#010;&gt;&gt; &gt;        |    'connector.version' = 'universal',&#010;&gt;&gt; &gt;        |    -- 'connector.topic' = 'user',&#010;&gt;&gt; &gt;        |    'connector.topic' = 'user_long',&#010;&gt;&gt; &gt;        |    'connector.startup-mode' = 'latest-offset',&#010;&gt;&gt; &gt;        |    'connector.properties.group.id' = 'user_flink',&#010;&gt;&gt; &gt;        |    'format.type' = 'json',&#010;&gt;&gt; &gt;        |    'format.derive-schema' = 'true'&#010;&gt;&gt; &gt;        |)&#010;&gt;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;    streamTableEnv.executeSql(&#010;&gt;&gt; &gt;      \"\"\"&#010;&gt;&gt; &gt;        |&#010;&gt;&gt; &gt;        |CREATE TABLE user_hbase3(&#010;&gt;&gt; &gt;        |    rowkey BIGINT,&#010;&gt;&gt; &gt;        |    cf ROW(sex VARCHAR, age INT, created_time VARCHAR)&#010;&gt;&gt; &gt;        |) WITH (&#010;&gt;&gt; &gt;        |    'connector.type' = 'hbase',&#010;&gt;&gt; &gt;        |    'connector.version' = '2.1.0',&#010;&gt;&gt; &gt;        |    'connector.table-name' = 'user_hbase2',&#010;&gt;&gt; &gt;        |    'connector.zookeeper.znode.parent' = '/hbase',&#010;&gt;&gt; &gt;        |    'connector.write.buffer-flush.max-size' = '10mb',&#010;&gt;&gt; &gt;        |    'connector.write.buffer-flush.max-rows' = '1000',&#010;&gt;&gt; &gt;        |    'connector.write.buffer-flush.interval' = '2s'&#010;&gt;&gt; &gt;        |)&#010;&gt;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;    streamTableEnv.executeSql(&#010;&gt;&gt; &gt;      \"\"\"&#010;&gt;&gt; &gt;        |&#010;&gt;&gt; &gt;        |insert into user_hbase3&#010;&gt;&gt; &gt;        |SELECT uid,&#010;&gt;&gt; &gt;        |&#010;&gt;&gt; &gt;        |  ROW(sex, age, created_time ) as cf&#010;&gt;&gt; &gt;        |  FROM  (select uid,sex,age, cast(created_time as VARCHAR) as&#010;&gt;&gt; created_time from `user`)&#010;&gt;&gt; &gt;        |&#010;&gt;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt;&#010;&gt;&#010;&gt;&#010;&gt;-- &#010;&gt;Best, Jingsong Lee&#010;",
        "depth": "4",
        "reply": "<1b9e4bb7.6e4c.1732d54a9fe.Coremail.wander669@163.com>"
    },
    {
        "id": "<CADQYLGvo8+tc+FVhvyagLOMja85uOG2C0Eniv0HrkJpvOvbg7Q@mail.gmail.com>",
        "from": "godfrey he &lt;godfre...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 09:19:44 GMT",
        "subject": "Re: Re: å›å¤ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology",
        "content": "1.11 å¯¹ StreamTableEnvironment.execute()&#010;å’Œ StreamExecutionEnvironment.execute() çš„æ‰§è¡Œæ–¹å¼æœ‰æ‰€è°ƒæ•´ï¼Œ&#010;ç®€å•æ¦‚è¿°ä¸ºï¼š&#010;1. StreamTableEnvironment.execute() åªèƒ½æ‰§è¡Œ sqlUpdate å’Œ insertInto æ–¹æ³•æ‰§è¡Œä½œä¸šï¼›&#010;2. Table è½¬åŒ–ä¸º DataStream ååªèƒ½é€šè¿‡ StreamExecutionEnvironment.execute() æ¥æ‰§è¡Œä½œä¸šï¼›&#010;3. æ–°å¼•å…¥çš„ TableEnvironment.executeSql() æ–¹æ³•æ˜¯ç›´æ¥æ‰§è¡Œsqlä½œä¸š&#010;(å¼‚æ­¥æäº¤ä½œä¸š)ï¼Œä¸éœ€è¦å†è°ƒç”¨ StreamTableEnvironment.execute()&#010;æˆ– StreamExecutionEnvironment.execute()&#010;&#010;è¯¦ç»†å¯ä»¥å‚è€ƒ [1] [2]&#010;&#010;[1]&#010;https://ci.apache.org/projects/flink/flink-docs-release-1.11/zh/dev/table/common.html#%E7%BF%BB%E8%AF%91%E4%B8%8E%E6%89%A7%E8%A1%8C%E6%9F%A5%E8%AF%A2&#010;[2]&#010;https://ci.apache.org/projects/flink/flink-docs-release-1.11/zh/dev/table/common.html#%E5%B0%86%E8%A1%A8%E8%BD%AC%E6%8D%A2%E6%88%90-datastream-%E6%88%96-dataset&#010;&#010;Best,&#010;Godfrey&#010;&#010;Zhou Zach &lt;wander669@163.com&gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ4:19å†™é“ï¼š&#010;&#010;&gt; å»æ‰å°±å¥½äº†ï¼Œæ„Ÿè°¢è§£ç­”&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; åœ¨ 2020-07-08 16:07:17ï¼Œ\"Jingsong Li\" &lt;jingsonglee0@gmail.com&gt; å†™é“ï¼š&#010;&gt; &gt;Hi,&#010;&gt; &gt;&#010;&gt; &gt;ä½ çš„ä»£ç é‡Œï¼šstreamTableEnv.executeSqlï¼Œå®ƒçš„æ„æ€å°±æ˜¯å·²ç»æäº¤åˆ°é›†ç¾¤å¼‚æ­¥çš„å»æ‰§è¡Œäº†ã€‚&#010;&gt; &gt;&#010;&gt; &gt;æ‰€ä»¥ä½ åé¢ \"streamExecutionEnv.execute(\"from kafka sink hbase\")\"&#010;&gt; &gt;å¹¶æ²¡æœ‰çœŸæ­£çš„ç‰©ç†èŠ‚ç‚¹ã€‚ä½ ä¸ç”¨å†è°ƒç”¨äº†ã€‚&#010;&gt; &gt;&#010;&gt; &gt;Best,&#010;&gt; &gt;Jingsong&#010;&gt; &gt;&#010;&gt; &gt;On Wed, Jul 8, 2020 at 3:56 PM Zhou Zach &lt;wander669@163.com&gt; wrote:&#010;&gt; &gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; ä»£ç ç»“æ„æ”¹æˆè¿™æ ·çš„äº†ï¼š&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; val streamExecutionEnv =&#010;&gt; StreamExecutionEnvironment.getExecutionEnvironment&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; val blinkEnvSettings =&#010;&gt; &gt;&gt;&#010;&gt; EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build()&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; val streamTableEnv = StreamTableEnvironment.create(streamExecutionEnv,&#010;&gt; &gt;&gt; blinkEnvSettings)&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; streamExecutionEnv.execute(\"from kafka sink hbase\")&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; è¿˜æ˜¯æŠ¥ä¸€æ ·çš„é”™&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; åœ¨ 2020-07-08 15:40:41ï¼Œ\"å¤å¸…\" &lt;jkillers@dingtalk.com.INVALID&gt; å†™é“ï¼š&#010;&gt; &gt;&gt; &gt;ä½ å¥½,&#010;&gt; &gt;&gt; &gt;å¯ä»¥çœ‹çœ‹ä½ çš„ä»£ç ç»“æ„æ˜¯ä¸æ˜¯ä»¥ä¸‹è¿™ç§&#010;&gt; &gt;&gt; &gt;    val bsEnv = StreamExecutionEnvironment.getExecutionEnvironment&#010;&gt; &gt;&gt; &gt;    val bsSettings =&#010;&gt; &gt;&gt;&#010;&gt; EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build&#010;&gt; &gt;&gt; &gt;    val tableEnv = StreamTableEnvironment.create(bsEnv, bsSettings)&#010;&gt; &gt;&gt; &gt;  ......&#010;&gt; &gt;&gt; &gt;    tableEnv.execute(\"\")&#010;&gt; &gt;&gt; &gt;å¦‚æœæ˜¯çš„è¯,å¯ä»¥å°è¯•ä½¿ç”¨bsEnv.execute(\"\")&#010;&gt; &gt;&gt; &gt;1.11å¯¹äºä¸¤è€…çš„executeä»£ç å®ç°æœ‰æ”¹åŠ¨&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;------------------------------------------------------------------&#010;&gt; &gt;&gt; &gt;å‘ä»¶äººï¼šZhou Zach &lt;wander669@163.com&gt;&#010;&gt; &gt;&gt; &gt;å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) 15:30&#010;&gt; &gt;&gt; &gt;æ”¶ä»¶äººï¼šFlink user-zh mailing list &lt;user-zh@flink.apache.org&gt;&#010;&gt; &gt;&gt; &gt;ä¸» é¢˜ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming&#010;&gt; topology&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;ä»£ç åœ¨flink&#010;&gt; &gt;&gt;&#010;&gt; 1.10.1æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œå‡çº§åˆ°1.11.0æ—¶ï¼Œæç¤ºstreamTableEnv.sqlUpdateå¼ƒç”¨ï¼Œæ”¹æˆexecuteSqläº†ï¼Œç¨‹åºå¯åŠ¨2ç§’åï¼ŒæŠ¥å¼‚å¸¸ï¼š&#010;&gt; &gt;&gt; &gt;Exception in thread \"main\" java.lang.IllegalStateException: No&#010;&gt; operators&#010;&gt; &gt;&gt; defined in streaming topology. Cannot generate StreamGraph.&#010;&gt; &gt;&gt; &gt;at&#010;&gt; &gt;&gt;&#010;&gt; org.apache.flink.table.planner.utils.ExecutorUtils.generateStreamGraph(ExecutorUtils.java:47)&#010;&gt; &gt;&gt; &gt;at&#010;&gt; &gt;&gt;&#010;&gt; org.apache.flink.table.planner.delegation.StreamExecutor.createPipeline(StreamExecutor.java:47)&#010;&gt; &gt;&gt; &gt;at&#010;&gt; &gt;&gt;&#010;&gt; org.apache.flink.table.api.internal.TableEnvironmentImpl.execute(TableEnvironmentImpl.java:1197)&#010;&gt; &gt;&gt; &gt;at org.rabbit.sql.FromKafkaSinkHbase$.main(FromKafkaSinkHbase.scala:79)&#010;&gt; &gt;&gt; &gt;at org.rabbit.sql.FromKafkaSinkHbase.main(FromKafkaSinkHbase.scala)&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;ä½†æ˜¯ï¼Œæ•°æ®æ˜¯æ­£å¸¸sinkåˆ°äº†hbaseï¼Œæ˜¯ä¸æ˜¯executeSqlè¯¯æŠ¥äº†ã€‚ã€‚ã€‚&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;queryï¼š&#010;&gt; &gt;&gt; &gt;streamTableEnv.executeSql(&#010;&gt; &gt;&gt; &gt;      \"\"\"&#010;&gt; &gt;&gt; &gt;        |&#010;&gt; &gt;&gt; &gt;        |CREATE TABLE `user` (&#010;&gt; &gt;&gt; &gt;        |    uid BIGINT,&#010;&gt; &gt;&gt; &gt;        |    sex VARCHAR,&#010;&gt; &gt;&gt; &gt;        |    age INT,&#010;&gt; &gt;&gt; &gt;        |    created_time TIMESTAMP(3),&#010;&gt; &gt;&gt; &gt;        |    WATERMARK FOR created_time as created_time - INTERVAL '3'&#010;&gt; &gt;&gt; SECOND&#010;&gt; &gt;&gt; &gt;        |) WITH (&#010;&gt; &gt;&gt; &gt;        |    'connector.type' = 'kafka',&#010;&gt; &gt;&gt; &gt;        |    'connector.version' = 'universal',&#010;&gt; &gt;&gt; &gt;        |    -- 'connector.topic' = 'user',&#010;&gt; &gt;&gt; &gt;        |    'connector.topic' = 'user_long',&#010;&gt; &gt;&gt; &gt;        |    'connector.startup-mode' = 'latest-offset',&#010;&gt; &gt;&gt; &gt;        |    'connector.properties.group.id' = 'user_flink',&#010;&gt; &gt;&gt; &gt;        |    'format.type' = 'json',&#010;&gt; &gt;&gt; &gt;        |    'format.derive-schema' = 'true'&#010;&gt; &gt;&gt; &gt;        |)&#010;&gt; &gt;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;    streamTableEnv.executeSql(&#010;&gt; &gt;&gt; &gt;      \"\"\"&#010;&gt; &gt;&gt; &gt;        |&#010;&gt; &gt;&gt; &gt;        |CREATE TABLE user_hbase3(&#010;&gt; &gt;&gt; &gt;        |    rowkey BIGINT,&#010;&gt; &gt;&gt; &gt;        |    cf ROW(sex VARCHAR, age INT, created_time VARCHAR)&#010;&gt; &gt;&gt; &gt;        |) WITH (&#010;&gt; &gt;&gt; &gt;        |    'connector.type' = 'hbase',&#010;&gt; &gt;&gt; &gt;        |    'connector.version' = '2.1.0',&#010;&gt; &gt;&gt; &gt;        |    'connector.table-name' = 'user_hbase2',&#010;&gt; &gt;&gt; &gt;        |    'connector.zookeeper.znode.parent' = '/hbase',&#010;&gt; &gt;&gt; &gt;        |    'connector.write.buffer-flush.max-size' = '10mb',&#010;&gt; &gt;&gt; &gt;        |    'connector.write.buffer-flush.max-rows' = '1000',&#010;&gt; &gt;&gt; &gt;        |    'connector.write.buffer-flush.interval' = '2s'&#010;&gt; &gt;&gt; &gt;        |)&#010;&gt; &gt;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;    streamTableEnv.executeSql(&#010;&gt; &gt;&gt; &gt;      \"\"\"&#010;&gt; &gt;&gt; &gt;        |&#010;&gt; &gt;&gt; &gt;        |insert into user_hbase3&#010;&gt; &gt;&gt; &gt;        |SELECT uid,&#010;&gt; &gt;&gt; &gt;        |&#010;&gt; &gt;&gt; &gt;        |  ROW(sex, age, created_time ) as cf&#010;&gt; &gt;&gt; &gt;        |  FROM  (select uid,sex,age, cast(created_time as VARCHAR) as&#010;&gt; &gt;&gt; created_time from `user`)&#010;&gt; &gt;&gt; &gt;        |&#010;&gt; &gt;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;--&#010;&gt; &gt;Best, Jingsong Lee&#010;&gt;&#010;&#010;",
        "depth": "5",
        "reply": "<1b9e4bb7.6e4c.1732d54a9fe.Coremail.wander669@163.com>"
    },
    {
        "id": "<b0e63902-1fac-49e4-bfe1-48857f48ae65.jkillers@dingtalk.com>",
        "from": "&quot;å¤å¸…&quot; &lt;jkill...@dingtalk.com.INVALID&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 09:23:18 GMT",
        "subject": "å›å¤ï¼šRe: å›å¤ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology",
        "content": "æ„Ÿè°¢&#010;",
        "depth": "5",
        "reply": "<1b9e4bb7.6e4c.1732d54a9fe.Coremail.wander669@163.com>"
    },
    {
        "id": "<1595498443533-0.post@n8.nabble.com>",
        "from": "WeiXubin &lt;18925434...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 23 Jul 2020 10:00:43 GMT",
        "subject": "Re: å›å¤ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology",
        "content": "Hiï¼Œ&#010;æˆ‘æƒ³è¯·é—®ä¸‹ä½¿ç”¨ streamExecutionEnv.execute(\"from kafka sink&#010;hbase\")ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥ç»™JobæŒ‡å®šåç§°ã€‚&#010;è€Œå½“ä½¿ç”¨streamTableEnv.executeSql(sql)ä¹‹åä¼¼ä¹æ— æ³•ç»™Jobå®šä¹‰åç§°ã€‚&#010;è¯·é—®æœ‰ä»€ä¹ˆè§£å†³æ–¹æ¡ˆå—ï¼Ÿè°¢è°¢&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "4",
        "reply": "<1b9e4bb7.6e4c.1732d54a9fe.Coremail.wander669@163.com>"
    },
    {
        "id": "<CADQYLGt64W1AzUe5tr=YJVMY7b8uPVG+0rO9jtKPwtxrMbHZ8w@mail.gmail.com>",
        "from": "godfrey he &lt;godfre...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 23 Jul 2020 10:05:08 GMT",
        "subject": "Re: å›å¤ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology",
        "content": "è¿™ä¸ªé—®é¢˜çš„å·²ç»æœ‰ä¸€ä¸ªissueï¼šhttps://issues.apache.org/jira/browse/FLINK-18545ï¼Œè¯·å…³æ³¨&#013;&#010;&#013;&#010;WeiXubin &lt;18925434719@163.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸‹åˆ6:00å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hiï¼Œ&#013;&#010;&gt; æˆ‘æƒ³è¯·é—®ä¸‹ä½¿ç”¨ streamExecutionEnv.execute(\"from kafka sink&#013;&#010;&gt; hbase\")ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥ç»™JobæŒ‡å®šåç§°ã€‚&#013;&#010;&gt; è€Œå½“ä½¿ç”¨streamTableEnv.executeSql(sql)ä¹‹åä¼¼ä¹æ— æ³•ç»™Jobå®šä¹‰åç§°ã€‚&#013;&#010;&gt; è¯·é—®æœ‰ä»€ä¹ˆè§£å†³æ–¹æ¡ˆå—ï¼Ÿè°¢è°¢&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt; Sent from: http://apache-flink.147419.n8.nabble.com/&#013;&#010;&gt;&#013;&#010;",
        "depth": "5",
        "reply": "<1b9e4bb7.6e4c.1732d54a9fe.Coremail.wander669@163.com>"
    },
    {
        "id": "<65663a2d.7021.1737b2368dc.Coremail.18925434719@163.com>",
        "from": "Weixubin  &lt;18925434...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 23 Jul 2020 10:06:24 GMT",
        "subject": "Re:Re: å›å¤ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology",
        "content": "Hiï¼Œ&#010;æˆ‘æƒ³è¯·æ•™ä¸‹ï¼Œä½¿ç”¨streamExecutionEnv.execute(\"from kafka sink hbase\") æ˜¯å¯ä»¥æŒ‡å®šJobçš„åç§°ã€‚&#010;è€Œå½“æ”¹ç”¨streamTableEnv.executeSql(sql)çš„æ–¹å¼æ—¶ï¼Œä¼¼ä¹æ— æ³•å®šä¹‰Jobçš„åç§°ã€‚&#010;è¯·é—®æœ‰ä»€ä¹ˆè§£å†³çš„æ–¹æ³•å—ï¼Ÿ&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;åœ¨ 2020-07-08 16:07:17ï¼Œ\"Jingsong Li\" &lt;jingsonglee0@gmail.com&gt; å†™é“ï¼š&#010;&gt;Hi,&#010;&gt;&#010;&gt;ä½ çš„ä»£ç é‡Œï¼šstreamTableEnv.executeSqlï¼Œå®ƒçš„æ„æ€å°±æ˜¯å·²ç»æäº¤åˆ°é›†ç¾¤å¼‚æ­¥çš„å»æ‰§è¡Œäº†ã€‚&#010;&gt;&#010;&gt;æ‰€ä»¥ä½ åé¢ \"streamExecutionEnv.execute(\"from kafka sink hbase\")\"&#010;&gt;å¹¶æ²¡æœ‰çœŸæ­£çš„ç‰©ç†èŠ‚ç‚¹ã€‚ä½ ä¸ç”¨å†è°ƒç”¨äº†ã€‚&#010;&gt;&#010;&gt;Best,&#010;&gt;Jingsong&#010;&gt;&#010;&gt;On Wed, Jul 8, 2020 at 3:56 PM Zhou Zach &lt;wander669@163.com&gt; wrote:&#010;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt; ä»£ç ç»“æ„æ”¹æˆè¿™æ ·çš„äº†ï¼š&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt; val streamExecutionEnv = StreamExecutionEnvironment.getExecutionEnvironment&#010;&gt;&gt;&#010;&gt;&gt; val blinkEnvSettings =&#010;&gt;&gt; EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build()&#010;&gt;&gt;&#010;&gt;&gt; val streamTableEnv = StreamTableEnvironment.create(streamExecutionEnv,&#010;&gt;&gt; blinkEnvSettings)&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt; streamExecutionEnv.execute(\"from kafka sink hbase\")&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt; è¿˜æ˜¯æŠ¥ä¸€æ ·çš„é”™&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt;&#010;&gt;&gt; åœ¨ 2020-07-08 15:40:41ï¼Œ\"å¤å¸…\" &lt;jkillers@dingtalk.com.INVALID&gt; å†™é“ï¼š&#010;&gt;&gt; &gt;ä½ å¥½,&#010;&gt;&gt; &gt;å¯ä»¥çœ‹çœ‹ä½ çš„ä»£ç ç»“æ„æ˜¯ä¸æ˜¯ä»¥ä¸‹è¿™ç§&#010;&gt;&gt; &gt;    val bsEnv = StreamExecutionEnvironment.getExecutionEnvironment&#010;&gt;&gt; &gt;    val bsSettings =&#010;&gt;&gt; EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build&#010;&gt;&gt; &gt;    val tableEnv = StreamTableEnvironment.create(bsEnv, bsSettings)&#010;&gt;&gt; &gt;  ......&#010;&gt;&gt; &gt;    tableEnv.execute(\"\")&#010;&gt;&gt; &gt;å¦‚æœæ˜¯çš„è¯,å¯ä»¥å°è¯•ä½¿ç”¨bsEnv.execute(\"\")&#010;&gt;&gt; &gt;1.11å¯¹äºä¸¤è€…çš„executeä»£ç å®ç°æœ‰æ”¹åŠ¨&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;------------------------------------------------------------------&#010;&gt;&gt; &gt;å‘ä»¶äººï¼šZhou Zach &lt;wander669@163.com&gt;&#010;&gt;&gt; &gt;å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) 15:30&#010;&gt;&gt; &gt;æ”¶ä»¶äººï¼šFlink user-zh mailing list &lt;user-zh@flink.apache.org&gt;&#010;&gt;&gt; &gt;ä¸» é¢˜ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;ä»£ç åœ¨flink&#010;&gt;&gt; 1.10.1æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œå‡çº§åˆ°1.11.0æ—¶ï¼Œæç¤ºstreamTableEnv.sqlUpdateå¼ƒç”¨ï¼Œæ”¹æˆexecuteSqläº†ï¼Œç¨‹åºå¯åŠ¨2ç§’åï¼ŒæŠ¥å¼‚å¸¸ï¼š&#010;&gt;&gt; &gt;Exception in thread \"main\" java.lang.IllegalStateException: No operators&#010;&gt;&gt; defined in streaming topology. Cannot generate StreamGraph.&#010;&gt;&gt; &gt;at&#010;&gt;&gt; org.apache.flink.table.planner.utils.ExecutorUtils.generateStreamGraph(ExecutorUtils.java:47)&#010;&gt;&gt; &gt;at&#010;&gt;&gt; org.apache.flink.table.planner.delegation.StreamExecutor.createPipeline(StreamExecutor.java:47)&#010;&gt;&gt; &gt;at&#010;&gt;&gt; org.apache.flink.table.api.internal.TableEnvironmentImpl.execute(TableEnvironmentImpl.java:1197)&#010;&gt;&gt; &gt;at org.rabbit.sql.FromKafkaSinkHbase$.main(FromKafkaSinkHbase.scala:79)&#010;&gt;&gt; &gt;at org.rabbit.sql.FromKafkaSinkHbase.main(FromKafkaSinkHbase.scala)&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;ä½†æ˜¯ï¼Œæ•°æ®æ˜¯æ­£å¸¸sinkåˆ°äº†hbaseï¼Œæ˜¯ä¸æ˜¯executeSqlè¯¯æŠ¥äº†ã€‚ã€‚ã€‚&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;queryï¼š&#010;&gt;&gt; &gt;streamTableEnv.executeSql(&#010;&gt;&gt; &gt;      \"\"\"&#010;&gt;&gt; &gt;        |&#010;&gt;&gt; &gt;        |CREATE TABLE `user` (&#010;&gt;&gt; &gt;        |    uid BIGINT,&#010;&gt;&gt; &gt;        |    sex VARCHAR,&#010;&gt;&gt; &gt;        |    age INT,&#010;&gt;&gt; &gt;        |    created_time TIMESTAMP(3),&#010;&gt;&gt; &gt;        |    WATERMARK FOR created_time as created_time - INTERVAL '3'&#010;&gt;&gt; SECOND&#010;&gt;&gt; &gt;        |) WITH (&#010;&gt;&gt; &gt;        |    'connector.type' = 'kafka',&#010;&gt;&gt; &gt;        |    'connector.version' = 'universal',&#010;&gt;&gt; &gt;        |    -- 'connector.topic' = 'user',&#010;&gt;&gt; &gt;        |    'connector.topic' = 'user_long',&#010;&gt;&gt; &gt;        |    'connector.startup-mode' = 'latest-offset',&#010;&gt;&gt; &gt;        |    'connector.properties.group.id' = 'user_flink',&#010;&gt;&gt; &gt;        |    'format.type' = 'json',&#010;&gt;&gt; &gt;        |    'format.derive-schema' = 'true'&#010;&gt;&gt; &gt;        |)&#010;&gt;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;    streamTableEnv.executeSql(&#010;&gt;&gt; &gt;      \"\"\"&#010;&gt;&gt; &gt;        |&#010;&gt;&gt; &gt;        |CREATE TABLE user_hbase3(&#010;&gt;&gt; &gt;        |    rowkey BIGINT,&#010;&gt;&gt; &gt;        |    cf ROW(sex VARCHAR, age INT, created_time VARCHAR)&#010;&gt;&gt; &gt;        |) WITH (&#010;&gt;&gt; &gt;        |    'connector.type' = 'hbase',&#010;&gt;&gt; &gt;        |    'connector.version' = '2.1.0',&#010;&gt;&gt; &gt;        |    'connector.table-name' = 'user_hbase2',&#010;&gt;&gt; &gt;        |    'connector.zookeeper.znode.parent' = '/hbase',&#010;&gt;&gt; &gt;        |    'connector.write.buffer-flush.max-size' = '10mb',&#010;&gt;&gt; &gt;        |    'connector.write.buffer-flush.max-rows' = '1000',&#010;&gt;&gt; &gt;        |    'connector.write.buffer-flush.interval' = '2s'&#010;&gt;&gt; &gt;        |)&#010;&gt;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;    streamTableEnv.executeSql(&#010;&gt;&gt; &gt;      \"\"\"&#010;&gt;&gt; &gt;        |&#010;&gt;&gt; &gt;        |insert into user_hbase3&#010;&gt;&gt; &gt;        |SELECT uid,&#010;&gt;&gt; &gt;        |&#010;&gt;&gt; &gt;        |  ROW(sex, age, created_time ) as cf&#010;&gt;&gt; &gt;        |  FROM  (select uid,sex,age, cast(created_time as VARCHAR) as&#010;&gt;&gt; created_time from `user`)&#010;&gt;&gt; &gt;        |&#010;&gt;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt; &gt;&#010;&gt;&gt;&#010;&gt;&#010;&gt;&#010;&gt;-- &#010;&gt;Best, Jingsong Lee&#010;",
        "depth": "4",
        "reply": "<1b9e4bb7.6e4c.1732d54a9fe.Coremail.wander669@163.com>"
    },
    {
        "id": "<CADQYLGty0t33t+9mrvy4NYsYsiRL5s-cEqQMfqJu2aq+m5mpCg@mail.gmail.com>",
        "from": "godfrey he &lt;godfre...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 23 Jul 2020 12:17:10 GMT",
        "subject": "Re: Re: å›å¤ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology",
        "content": "hi,&#010;ç›®å‰æ²¡æœ‰è§£å†³åŠæ³•ï¼Œinsert jobæ ¹æ®sinkè¡¨åè‡ªåŠ¨ç”Ÿæˆjob nameã€‚&#010;åç»­è§£æ³•å…³æ³¨ https://issues.apache.org/jira/browse/FLINK-18545&#010;&#010;Weixubin &lt;18925434719@163.com&gt; äº2020å¹´7æœˆ23æ—¥å‘¨å›› ä¸‹åˆ6:07å†™é“ï¼š&#010;&#010;&gt; Hiï¼Œ&#010;&gt; æˆ‘æƒ³è¯·æ•™ä¸‹ï¼Œä½¿ç”¨streamExecutionEnv.execute(\"from kafka sink hbase\") æ˜¯å¯ä»¥æŒ‡å®šJobçš„åç§°ã€‚&#010;&gt; è€Œå½“æ”¹ç”¨streamTableEnv.executeSql(sql)çš„æ–¹å¼æ—¶ï¼Œä¼¼ä¹æ— æ³•å®šä¹‰Jobçš„åç§°ã€‚&#010;&gt; è¯·é—®æœ‰ä»€ä¹ˆè§£å†³çš„æ–¹æ³•å—ï¼Ÿ&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt;&#010;&gt; åœ¨ 2020-07-08 16:07:17ï¼Œ\"Jingsong Li\" &lt;jingsonglee0@gmail.com&gt; å†™é“ï¼š&#010;&gt; &gt;Hi,&#010;&gt; &gt;&#010;&gt; &gt;ä½ çš„ä»£ç é‡Œï¼šstreamTableEnv.executeSqlï¼Œå®ƒçš„æ„æ€å°±æ˜¯å·²ç»æäº¤åˆ°é›†ç¾¤å¼‚æ­¥çš„å»æ‰§è¡Œäº†ã€‚&#010;&gt; &gt;&#010;&gt; &gt;æ‰€ä»¥ä½ åé¢ \"streamExecutionEnv.execute(\"from kafka sink hbase\")\"&#010;&gt; &gt;å¹¶æ²¡æœ‰çœŸæ­£çš„ç‰©ç†èŠ‚ç‚¹ã€‚ä½ ä¸ç”¨å†è°ƒç”¨äº†ã€‚&#010;&gt; &gt;&#010;&gt; &gt;Best,&#010;&gt; &gt;Jingsong&#010;&gt; &gt;&#010;&gt; &gt;On Wed, Jul 8, 2020 at 3:56 PM Zhou Zach &lt;wander669@163.com&gt; wrote:&#010;&gt; &gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; ä»£ç ç»“æ„æ”¹æˆè¿™æ ·çš„äº†ï¼š&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; val streamExecutionEnv =&#010;&gt; StreamExecutionEnvironment.getExecutionEnvironment&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; val blinkEnvSettings =&#010;&gt; &gt;&gt;&#010;&gt; EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build()&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; val streamTableEnv = StreamTableEnvironment.create(streamExecutionEnv,&#010;&gt; &gt;&gt; blinkEnvSettings)&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; streamExecutionEnv.execute(\"from kafka sink hbase\")&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; è¿˜æ˜¯æŠ¥ä¸€æ ·çš„é”™&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&gt; åœ¨ 2020-07-08 15:40:41ï¼Œ\"å¤å¸…\" &lt;jkillers@dingtalk.com.INVALID&gt; å†™é“ï¼š&#010;&gt; &gt;&gt; &gt;ä½ å¥½,&#010;&gt; &gt;&gt; &gt;å¯ä»¥çœ‹çœ‹ä½ çš„ä»£ç ç»“æ„æ˜¯ä¸æ˜¯ä»¥ä¸‹è¿™ç§&#010;&gt; &gt;&gt; &gt;    val bsEnv = StreamExecutionEnvironment.getExecutionEnvironment&#010;&gt; &gt;&gt; &gt;    val bsSettings =&#010;&gt; &gt;&gt;&#010;&gt; EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build&#010;&gt; &gt;&gt; &gt;    val tableEnv = StreamTableEnvironment.create(bsEnv, bsSettings)&#010;&gt; &gt;&gt; &gt;  ......&#010;&gt; &gt;&gt; &gt;    tableEnv.execute(\"\")&#010;&gt; &gt;&gt; &gt;å¦‚æœæ˜¯çš„è¯,å¯ä»¥å°è¯•ä½¿ç”¨bsEnv.execute(\"\")&#010;&gt; &gt;&gt; &gt;1.11å¯¹äºä¸¤è€…çš„executeä»£ç å®ç°æœ‰æ”¹åŠ¨&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;------------------------------------------------------------------&#010;&gt; &gt;&gt; &gt;å‘ä»¶äººï¼šZhou Zach &lt;wander669@163.com&gt;&#010;&gt; &gt;&gt; &gt;å‘é€æ—¶é—´ï¼š2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) 15:30&#010;&gt; &gt;&gt; &gt;æ”¶ä»¶äººï¼šFlink user-zh mailing list &lt;user-zh@flink.apache.org&gt;&#010;&gt; &gt;&gt; &gt;ä¸» é¢˜ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming&#010;&gt; topology&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;ä»£ç åœ¨flink&#010;&gt; &gt;&gt;&#010;&gt; 1.10.1æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œå‡çº§åˆ°1.11.0æ—¶ï¼Œæç¤ºstreamTableEnv.sqlUpdateå¼ƒç”¨ï¼Œæ”¹æˆexecuteSqläº†ï¼Œç¨‹åºå¯åŠ¨2ç§’åï¼ŒæŠ¥å¼‚å¸¸ï¼š&#010;&gt; &gt;&gt; &gt;Exception in thread \"main\" java.lang.IllegalStateException: No&#010;&gt; operators&#010;&gt; &gt;&gt; defined in streaming topology. Cannot generate StreamGraph.&#010;&gt; &gt;&gt; &gt;at&#010;&gt; &gt;&gt;&#010;&gt; org.apache.flink.table.planner.utils.ExecutorUtils.generateStreamGraph(ExecutorUtils.java:47)&#010;&gt; &gt;&gt; &gt;at&#010;&gt; &gt;&gt;&#010;&gt; org.apache.flink.table.planner.delegation.StreamExecutor.createPipeline(StreamExecutor.java:47)&#010;&gt; &gt;&gt; &gt;at&#010;&gt; &gt;&gt;&#010;&gt; org.apache.flink.table.api.internal.TableEnvironmentImpl.execute(TableEnvironmentImpl.java:1197)&#010;&gt; &gt;&gt; &gt;at org.rabbit.sql.FromKafkaSinkHbase$.main(FromKafkaSinkHbase.scala:79)&#010;&gt; &gt;&gt; &gt;at org.rabbit.sql.FromKafkaSinkHbase.main(FromKafkaSinkHbase.scala)&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;ä½†æ˜¯ï¼Œæ•°æ®æ˜¯æ­£å¸¸sinkåˆ°äº†hbaseï¼Œæ˜¯ä¸æ˜¯executeSqlè¯¯æŠ¥äº†ã€‚ã€‚ã€‚&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;queryï¼š&#010;&gt; &gt;&gt; &gt;streamTableEnv.executeSql(&#010;&gt; &gt;&gt; &gt;      \"\"\"&#010;&gt; &gt;&gt; &gt;        |&#010;&gt; &gt;&gt; &gt;        |CREATE TABLE `user` (&#010;&gt; &gt;&gt; &gt;        |    uid BIGINT,&#010;&gt; &gt;&gt; &gt;        |    sex VARCHAR,&#010;&gt; &gt;&gt; &gt;        |    age INT,&#010;&gt; &gt;&gt; &gt;        |    created_time TIMESTAMP(3),&#010;&gt; &gt;&gt; &gt;        |    WATERMARK FOR created_time as created_time - INTERVAL '3'&#010;&gt; &gt;&gt; SECOND&#010;&gt; &gt;&gt; &gt;        |) WITH (&#010;&gt; &gt;&gt; &gt;        |    'connector.type' = 'kafka',&#010;&gt; &gt;&gt; &gt;        |    'connector.version' = 'universal',&#010;&gt; &gt;&gt; &gt;        |    -- 'connector.topic' = 'user',&#010;&gt; &gt;&gt; &gt;        |    'connector.topic' = 'user_long',&#010;&gt; &gt;&gt; &gt;        |    'connector.startup-mode' = 'latest-offset',&#010;&gt; &gt;&gt; &gt;        |    'connector.properties.group.id' = 'user_flink',&#010;&gt; &gt;&gt; &gt;        |    'format.type' = 'json',&#010;&gt; &gt;&gt; &gt;        |    'format.derive-schema' = 'true'&#010;&gt; &gt;&gt; &gt;        |)&#010;&gt; &gt;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;    streamTableEnv.executeSql(&#010;&gt; &gt;&gt; &gt;      \"\"\"&#010;&gt; &gt;&gt; &gt;        |&#010;&gt; &gt;&gt; &gt;        |CREATE TABLE user_hbase3(&#010;&gt; &gt;&gt; &gt;        |    rowkey BIGINT,&#010;&gt; &gt;&gt; &gt;        |    cf ROW(sex VARCHAR, age INT, created_time VARCHAR)&#010;&gt; &gt;&gt; &gt;        |) WITH (&#010;&gt; &gt;&gt; &gt;        |    'connector.type' = 'hbase',&#010;&gt; &gt;&gt; &gt;        |    'connector.version' = '2.1.0',&#010;&gt; &gt;&gt; &gt;        |    'connector.table-name' = 'user_hbase2',&#010;&gt; &gt;&gt; &gt;        |    'connector.zookeeper.znode.parent' = '/hbase',&#010;&gt; &gt;&gt; &gt;        |    'connector.write.buffer-flush.max-size' = '10mb',&#010;&gt; &gt;&gt; &gt;        |    'connector.write.buffer-flush.max-rows' = '1000',&#010;&gt; &gt;&gt; &gt;        |    'connector.write.buffer-flush.interval' = '2s'&#010;&gt; &gt;&gt; &gt;        |)&#010;&gt; &gt;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;    streamTableEnv.executeSql(&#010;&gt; &gt;&gt; &gt;      \"\"\"&#010;&gt; &gt;&gt; &gt;        |&#010;&gt; &gt;&gt; &gt;        |insert into user_hbase3&#010;&gt; &gt;&gt; &gt;        |SELECT uid,&#010;&gt; &gt;&gt; &gt;        |&#010;&gt; &gt;&gt; &gt;        |  ROW(sex, age, created_time ) as cf&#010;&gt; &gt;&gt; &gt;        |  FROM  (select uid,sex,age, cast(created_time as VARCHAR) as&#010;&gt; &gt;&gt; created_time from `user`)&#010;&gt; &gt;&gt; &gt;        |&#010;&gt; &gt;&gt; &gt;        |\"\"\".stripMargin)&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt; &gt;&#010;&gt; &gt;&gt;&#010;&gt; &gt;&#010;&gt; &gt;&#010;&gt; &gt;--&#010;&gt; &gt;Best, Jingsong Lee&#010;&gt;&#010;&#010;",
        "depth": "5",
        "reply": "<1b9e4bb7.6e4c.1732d54a9fe.Coremail.wander669@163.com>"
    },
    {
        "id": "<1595554723644-0.post@n8.nabble.com>",
        "from": "WeiXubin &lt;18925434...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 24 Jul 2020 01:38:43 GMT",
        "subject": "Re: Re: å›å¤ï¼šflink Sql 1.11 executeSqlæŠ¥No operators defined in streaming topology",
        "content": "æ„Ÿè°¢&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;&#010;",
        "depth": "6",
        "reply": "<1b9e4bb7.6e4c.1732d54a9fe.Coremail.wander669@163.com>"
    },
    {
        "id": "<tencent_B191D404E1202D68415F1693C1C5EAAA0507@qq.com>",
        "from": "&quot;Robert.Zhang&quot; &lt;173603...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:41:01 GMT",
        "subject": "flink stateä½¿ç”¨",
        "content": "Hello,all&#013;&#010;ç›®å‰é‡åˆ°ä¸€ä¸ªå…³äºstateçš„ä½¿ç”¨é—®é¢˜&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; DataStream&lt;Tuple2&lt;String, String&amp;gt;&amp;gt; result&#010;= iteration.closeWith(&#013;&#010;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; iteration.keyBy(0).process(new&#010;RichMapFunc());&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;æˆ‘åœ¨richmapfuncé‡Œä½¿ç”¨äº†stateï¼Œé‚£ä¹ˆæ¯ä¸€æ¬¡è¿­ä»£çš„æ—¶å€™ï¼Œè¿™ä¸ªstateè¿˜æ˜¯åŒä¸€ä¸ªå—ï¼Ÿ&#013;&#010;å¦‚æœæˆ‘å¯¹resultè¿™ä¸ªç»“æœstreamç»§ç»­ä½¿ç”¨äº†keyby(0)çš„è¯ï¼Œstateä¹Ÿæ˜¯åŒä¸€ä¸ªä¹ˆï¼Ÿ&#013;&#010;æ­¤å¤–ï¼Œå¦‚æœæˆ‘å¯¹ä¸€ä¸ªstreamè¿›è¡Œkeybyä¹‹åï¼Œkeyä¸€ç›´æ˜¯ä¸å˜çš„ï¼Œ&#013;&#010;ä½†æ˜¯mapç­‰operatorä¹‹åè¿”å›çš„å¹¶éæ˜¯keyedstreamï¼ˆoperatorä¸å¯¹keyè¿›è¡Œæ“ä½œï¼‰ï¼Œæ˜¯å¦åªèƒ½ç»§ç»­keybyï¼Œè¿˜æ˜¯æœ‰æ›´å¥½çš„æ–¹å¼",
        "depth": "0",
        "reply": "<tencent_B191D404E1202D68415F1693C1C5EAAA0507@qq.com>"
    },
    {
        "id": "<CAA8tFvvR=eC80EkBB-TrJ9GkG7Nwq9K+qrqiPbyrUbZ8Loz6xA@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:48:34 GMT",
        "subject": "Re: flink stateä½¿ç”¨",
        "content": "Hi&#013;&#010;&#013;&#010;KeyedState çš„æ“ä½œå®é™…ä¼šé’ˆå¯¹å½“å‰çš„ keyï¼Œä¹Ÿå°±æ˜¯ keyBy ä¹‹åå¾—åˆ°çš„ keyï¼Œä½†æ˜¯è¿™ä¸ª&#010;key ç”¨æˆ·çœ‹ä¸åˆ°ã€‚åœ¨ä¸€ä¸ª operator&#013;&#010;ä¸­ state çš„æ•°ç›®æ˜¯ä½ åˆ›å»ºçš„æ•°ç›®ï¼Œä½†æ˜¯æ¯ä¸ª state å¯ä»¥æœ‰å¤šä¸ª KV å¯¹ï¼Œå…¶ä¸­&#010;K æ˜¯ keyby çš„ keyï¼ŒV å¯ä»¥æ˜¯&#013;&#010;valueï¼Œlistï¼Œmap ç­‰ã€‚åŒä¸€ä¸ª operator ä¸Šä¸åŒçš„ key çš„ state ä¿è¯èƒ½å¤Ÿæ­£ç¡®è¯»å†™çš„ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;Robert.Zhang &lt;173603082@qq.com&gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ3:41å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hello,all&#013;&#010;&gt; ç›®å‰é‡åˆ°ä¸€ä¸ªå…³äºstateçš„ä½¿ç”¨é—®é¢˜&#013;&#010;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; DataStream&lt;Tuple2&lt;String, String&amp;gt;&amp;gt;&#010;result =&#013;&#010;&gt; iteration.closeWith(&#013;&#010;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#013;&#010;&gt; iteration.keyBy(0).process(new RichMapFunc());&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘åœ¨richmapfuncé‡Œä½¿ç”¨äº†stateï¼Œé‚£ä¹ˆæ¯ä¸€æ¬¡è¿­ä»£çš„æ—¶å€™ï¼Œè¿™ä¸ªstateè¿˜æ˜¯åŒä¸€ä¸ªå—ï¼Ÿ&#013;&#010;&gt; å¦‚æœæˆ‘å¯¹resultè¿™ä¸ªç»“æœstreamç»§ç»­ä½¿ç”¨äº†keyby(0)çš„è¯ï¼Œstateä¹Ÿæ˜¯åŒä¸€ä¸ªä¹ˆï¼Ÿ&#013;&#010;&gt; æ­¤å¤–ï¼Œå¦‚æœæˆ‘å¯¹ä¸€ä¸ªstreamè¿›è¡Œkeybyä¹‹åï¼Œkeyä¸€ç›´æ˜¯ä¸å˜çš„ï¼Œ&#013;&#010;&gt; ä½†æ˜¯mapç­‰operatorä¹‹åè¿”å›çš„å¹¶éæ˜¯keyedstreamï¼ˆoperatorä¸å¯¹keyè¿›è¡Œæ“ä½œï¼‰ï¼Œæ˜¯å¦åªèƒ½ç»§ç»­keybyï¼Œè¿˜æ˜¯æœ‰æ›´å¥½çš„æ–¹å¼&#013;&#010;",
        "depth": "1",
        "reply": "<tencent_B191D404E1202D68415F1693C1C5EAAA0507@qq.com>"
    },
    {
        "id": "<tencent_802C80A6BE08D769BD0922B0740F1A558F0A@qq.com>",
        "from": "&quot;Robert.Zhang&quot; &lt;173603...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 07:58:40 GMT",
        "subject": "å›å¤ï¼š flink stateä½¿ç”¨",
        "content": "é‚£å°±æ˜¯åœ¨è¯´ï¼Œåœ¨iterativestreamä¸­ï¼Œè¿™ä¸ªstateå¯ä»¥æ­£ç¡®çš„åœ¨æ¯ä¸€æ¬¡çš„è¿­ä»£operatorä¸­ä¼ é€’å¹¶è¯»å–ï¼Œé‚£ä¹ˆç»“æŸè¿­ä»£ä¹‹åï¼Œå‡è®¾å¾—åˆ°çš„ç»“æœstreamå†è¿›è¡Œkeybyæ“ä½œï¼Œå› ä¸ºoperatorä¸æ˜¯åŒä¸€ä¸ªï¼Œæ­¤æ—¶å°±æ— æ³•è¯»å–åˆ°å‰è¿°è¿­ä»£è¿‡ç¨‹ä¸­çš„stateï¼Œå³ä¾¿æ˜¯åŒä¸€ä¸ªkey&#013;&#010;è¿™æ ·çš„ç†è§£å¯¹å—ï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;Best Regards&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº: \"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;gt;; &#013;&#010;å‘é€æ—¶é—´: 2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ3:48&#013;&#010;æ”¶ä»¶äºº: \"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;; &#013;&#010;ä¸»é¢˜: Re: flink stateä½¿ç”¨&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;Hi&#013;&#010;&#013;&#010;KeyedState çš„æ“ä½œå®é™…ä¼šé’ˆå¯¹å½“å‰çš„ keyï¼Œä¹Ÿå°±æ˜¯ keyBy ä¹‹åå¾—åˆ°çš„ keyï¼Œä½†æ˜¯è¿™ä¸ª&#010;key ç”¨æˆ·çœ‹ä¸åˆ°ã€‚åœ¨ä¸€ä¸ª operator&#013;&#010;ä¸­ state çš„æ•°ç›®æ˜¯ä½ åˆ›å»ºçš„æ•°ç›®ï¼Œä½†æ˜¯æ¯ä¸ª state å¯ä»¥æœ‰å¤šä¸ª KV å¯¹ï¼Œå…¶ä¸­&#010;K æ˜¯ keyby çš„ keyï¼ŒV å¯ä»¥æ˜¯&#013;&#010;valueï¼Œlistï¼Œmap ç­‰ã€‚åŒä¸€ä¸ª operator ä¸Šä¸åŒçš„ key çš„ state ä¿è¯èƒ½å¤Ÿæ­£ç¡®è¯»å†™çš„ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;Robert.Zhang &lt;173603082@qq.com&amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ3:41å†™é“ï¼š&#013;&#010;&#013;&#010;&amp;gt; Hello,all&#013;&#010;&amp;gt; ç›®å‰é‡åˆ°ä¸€ä¸ªå…³äºstateçš„ä½¿ç”¨é—®é¢˜&#013;&#010;&amp;gt; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; DataStream&lt;Tuple2&lt;String, String&amp;amp;gt;&amp;amp;gt;&#010;result =&#013;&#010;&amp;gt; iteration.closeWith(&#013;&#010;&amp;gt; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;&#010;&amp;amp;nbsp; &amp;amp;nbsp;&#013;&#010;&amp;gt; iteration.keyBy(0).process(new RichMapFunc());&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt;&#013;&#010;&amp;gt; æˆ‘åœ¨richmapfuncé‡Œä½¿ç”¨äº†stateï¼Œé‚£ä¹ˆæ¯ä¸€æ¬¡è¿­ä»£çš„æ—¶å€™ï¼Œè¿™ä¸ªstateè¿˜æ˜¯åŒä¸€ä¸ªå—ï¼Ÿ&#013;&#010;&amp;gt; å¦‚æœæˆ‘å¯¹resultè¿™ä¸ªç»“æœstreamç»§ç»­ä½¿ç”¨äº†keyby(0)çš„è¯ï¼Œstateä¹Ÿæ˜¯åŒä¸€ä¸ªä¹ˆï¼Ÿ&#013;&#010;&amp;gt; æ­¤å¤–ï¼Œå¦‚æœæˆ‘å¯¹ä¸€ä¸ªstreamè¿›è¡Œkeybyä¹‹åï¼Œkeyä¸€ç›´æ˜¯ä¸å˜çš„ï¼Œ&#013;&#010;&amp;gt; ä½†æ˜¯mapç­‰operatorä¹‹åè¿”å›çš„å¹¶éæ˜¯keyedstreamï¼ˆoperatorä¸å¯¹keyè¿›è¡Œæ“ä½œï¼‰ï¼Œæ˜¯å¦åªèƒ½ç»§ç»­keybyï¼Œè¿˜æ˜¯æœ‰æ›´å¥½çš„æ–¹å¼",
        "depth": "2",
        "reply": "<tencent_B191D404E1202D68415F1693C1C5EAAA0507@qq.com>"
    },
    {
        "id": "<CAA8tFvvqFRYv0dZKUewG=+1pCF58aQrAr4jm+bYUpYgKccYrQw@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 11:27:17 GMT",
        "subject": "Re: flink stateä½¿ç”¨",
        "content": "State å¯ä»¥ç®€å•ç†è§£ä¸ºä¸€ä¸ª HashMapï¼ŒKey æ˜¯ curretnly keyï¼ˆä¹Ÿå°±æ˜¯ keyby çš„ key)ï¼‰ï¼Œvalue&#010;æ˜¯ state&#013;&#010;å­˜çš„å€¼ï¼ˆå¯ä»¥æ˜¯ valueï¼Œlistï¼Œmap ç­‰ï¼‰&#013;&#010;&#013;&#010;æ‰€æœ‰ state çš„è¯»å†™éƒ½æœ‰ä¸€ä¸ª currentlyï¼Œåªèƒ½è¯»åˆ° currently key å¯¹åº”çš„å€¼ã€‚&#013;&#010;&#013;&#010;åœ¨åŒä¸€ä¸ª operator ä¸­ï¼ŒåŒä¸€ä¸ª key èƒ½è®¿é—®åˆ°ä¹‹å‰å­˜å‚¨è¿‡çš„ state å€¼ï¼Œä½†æ˜¯ä¸èƒ½è¯»å–åˆ°å…¶ä»–&#010;key å¯¹åº”çš„å€¼&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;Robert.Zhang &lt;173603082@qq.com&gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ3:58å†™é“ï¼š&#013;&#010;&#013;&#010;&gt;&#013;&#010;&gt; é‚£å°±æ˜¯åœ¨è¯´ï¼Œåœ¨iterativestreamä¸­ï¼Œè¿™ä¸ªstateå¯ä»¥æ­£ç¡®çš„åœ¨æ¯ä¸€æ¬¡çš„è¿­ä»£operatorä¸­ä¼ é€’å¹¶è¯»å–ï¼Œé‚£ä¹ˆç»“æŸè¿­ä»£ä¹‹åï¼Œå‡è®¾å¾—åˆ°çš„ç»“æœstreamå†è¿›è¡Œkeybyæ“ä½œï¼Œå› ä¸ºoperatorä¸æ˜¯åŒä¸€ä¸ªï¼Œæ­¤æ—¶å°±æ— æ³•è¯»å–åˆ°å‰è¿°è¿­ä»£è¿‡ç¨‹ä¸­çš„stateï¼Œå³ä¾¿æ˜¯åŒä¸€ä¸ªkey&#013;&#010;&gt; è¿™æ ·çš„ç†è§£å¯¹å—ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best Regards&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;&gt; å‘ä»¶äºº: \"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;gt;;&#013;&#010;&gt; å‘é€æ—¶é—´: 2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ3:48&#013;&#010;&gt; æ”¶ä»¶äºº: \"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&gt; ä¸»é¢˜: Re: flink stateä½¿ç”¨&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Hi&#013;&#010;&gt;&#013;&#010;&gt; KeyedState çš„æ“ä½œå®é™…ä¼šé’ˆå¯¹å½“å‰çš„ keyï¼Œä¹Ÿå°±æ˜¯ keyBy ä¹‹åå¾—åˆ°çš„ keyï¼Œä½†æ˜¯è¿™ä¸ª&#010;key ç”¨æˆ·çœ‹ä¸åˆ°ã€‚åœ¨ä¸€ä¸ª operator&#013;&#010;&gt; ä¸­ state çš„æ•°ç›®æ˜¯ä½ åˆ›å»ºçš„æ•°ç›®ï¼Œä½†æ˜¯æ¯ä¸ª state å¯ä»¥æœ‰å¤šä¸ª KV å¯¹ï¼Œå…¶ä¸­&#010;K æ˜¯ keyby çš„ keyï¼ŒV å¯ä»¥æ˜¯&#013;&#010;&gt; valueï¼Œlistï¼Œmap ç­‰ã€‚åŒä¸€ä¸ª operator ä¸Šä¸åŒçš„ key çš„ state ä¿è¯èƒ½å¤Ÿæ­£ç¡®è¯»å†™çš„ã€‚&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Robert.Zhang &lt;173603082@qq.com&amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ3:41å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &amp;gt; Hello,all&#013;&#010;&gt; &amp;gt; ç›®å‰é‡åˆ°ä¸€ä¸ªå…³äºstateçš„ä½¿ç”¨é—®é¢˜&#013;&#010;&gt; &amp;gt; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; DataStream&lt;Tuple2&lt;String,&#013;&#010;&gt; String&amp;amp;gt;&amp;amp;gt; result =&#013;&#010;&gt; &amp;gt; iteration.closeWith(&#013;&#010;&gt; &amp;gt; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;&#013;&#010;&gt; &amp;amp;nbsp; &amp;amp;nbsp;&#013;&#010;&gt; &amp;gt; iteration.keyBy(0).process(new RichMapFunc());&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; &amp;gt; æˆ‘åœ¨richmapfuncé‡Œä½¿ç”¨äº†stateï¼Œé‚£ä¹ˆæ¯ä¸€æ¬¡è¿­ä»£çš„æ—¶å€™ï¼Œè¿™ä¸ªstateè¿˜æ˜¯åŒä¸€ä¸ªå—ï¼Ÿ&#013;&#010;&gt; &amp;gt; å¦‚æœæˆ‘å¯¹resultè¿™ä¸ªç»“æœstreamç»§ç»­ä½¿ç”¨äº†keyby(0)çš„è¯ï¼Œstateä¹Ÿæ˜¯åŒä¸€ä¸ªä¹ˆï¼Ÿ&#013;&#010;&gt; &amp;gt; æ­¤å¤–ï¼Œå¦‚æœæˆ‘å¯¹ä¸€ä¸ªstreamè¿›è¡Œkeybyä¹‹åï¼Œkeyä¸€ç›´æ˜¯ä¸å˜çš„ï¼Œ&#013;&#010;&gt; &amp;gt;&#013;&#010;&gt; ä½†æ˜¯mapç­‰operatorä¹‹åè¿”å›çš„å¹¶éæ˜¯keyedstreamï¼ˆoperatorä¸å¯¹keyè¿›è¡Œæ“ä½œï¼‰ï¼Œæ˜¯å¦åªèƒ½ç»§ç»­keybyï¼Œè¿˜æ˜¯æœ‰æ›´å¥½çš„æ–¹å¼&#013;&#010;",
        "depth": "3",
        "reply": "<tencent_B191D404E1202D68415F1693C1C5EAAA0507@qq.com>"
    },
    {
        "id": "<tencent_A73A93C68904B5BB2DD40F62@qq.com>",
        "from": "&quot;noake&quot;&lt;no...@sina.cn&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 08:37:39 GMT",
        "subject": "Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?",
        "content": "éå¸¸æ„Ÿè°¢å¤§å®¶çš„å›å¤ã€‚&#010;&#010;&#010;æˆ‘ä»¬çš„ä¸šåŠ¡åœºæ™¯å·²ç»è§£å†³äº†ã€‚&#010;ç›®å‰çš„åšæ³•æ˜¯åœ¨TableSourceä¸­é…ç½®æ°´å°ç­–ç•¥ï¼Œ åœ¨WatermarkGeneratorä¸­åˆ¤æ–­æ˜¯å¦éœ€è¦å‘å°„æ–°çš„æ°´å°&#010;&#010;&#010;&#010;&#010;åŸå§‹é‚®ä»¶&#010;å‘ä»¶äºº:Jark Wuimjark@gmail.com&#010;æ”¶ä»¶äºº:user-zhuser-zh@flink.apache.org&#010;å‘é€æ—¶é—´:2020å¹´7æœˆ8æ—¥(å‘¨ä¸‰)â€‡13:26&#010;ä¸»é¢˜:Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?&#010;&#010;&#010;å—¯ï¼Œ å¯ä»¥åœ¨ JIRA ä¸­å¼€ä¸ª issue æè¿°ä¸‹ä½ çš„éœ€æ±‚~ On Wed, 8 Jul 2020 at 12:01,&#010;1193216154 1193216154@qq.com wrote:  nbsp; nbsp;Jarkï¼Œflinkæœ‰æ²¡æœ‰å¿…è¦å»æ”¯æŒè¿™ä¸ªç‰¹æ€§ï¼Ÿæˆ‘æ„Ÿè§‰è¿˜æ˜¯æœ‰ä¸€äº›åº”ç”¨åœºæ™¯&#010;     ------------------nbsp;åŸå§‹é‚®ä»¶nbsp;------------------  å‘ä»¶äºº:nbsp;\"Jark Wu\"imjark@gmail.comgt;;&#010; å‘é€æ—¶é—´:nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸­åˆ11:48  æ”¶ä»¶äºº:nbsp;\"user-zh\"user-zh@flink.apache.orggt;;&#010;  ä¸»é¢˜:nbsp;Re: å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?     å¦‚æœæ‰€æœ‰ partition éƒ½æ²¡æœ‰æ•°æ®ï¼Œè¿˜å¸Œæœ›&#010;watermark å¾€å‰èµ°ï¼Œé‚£ idle source ç¡®å®è§£å†³ä¸äº†è¿™ä¸ªé—®é¢˜ã€‚  ç›®å‰ç¡®å®æ²¡æœ‰å¤ªå¥½çš„è§£å†³åŠæ³•ã€‚&#010;  Best,  Jark   On Wed, 8 Jul 2020 at 11:08, 1193216154 1193216154@qq.comgt; wrote:   gt;&#010;hi Jark Wu.  gt;  gt;  æˆ‘çš„ç†è§£æ˜¯table.exec.source.idle-timeoutåªèƒ½è§£å†³watermarkå¯¹é½çš„æ—¶å€™å»å¿½ç•¥æŸä¸ªæ²¡æœ‰watermarkçš„å¹¶è¡Œåº¦ã€‚ä½†æ˜¯åœ¨æ¯ä¸ªå¹¶è¡Œåº¦éƒ½æ²¡æœ‰watermarkçš„æ—¶å€™ï¼Œè¿˜æ˜¯æ— æ³•æ›´æ–°watermarkã€‚&#010; gt;  æˆ‘è§‰å¾—é¢˜ä¸»çš„æ„æ€åº”è¯¥æ˜¯ï¼Œåœ¨kafkaçš„æ‰€æœ‰åˆ†åŒºéƒ½æ²¡æœ‰æ•°æ®çš„æ—¶å€™ï¼Œæœ€åä¸€ä¸ªçª—å£æ— æ³•è§¦å‘ï¼ˆå› ä¸ºæ²¡æœ‰watermarkå¤§äºæœ€åé‚£ä¸ªçª—å£ç»“æŸæ—¶é—´äº†ï¼‰ã€‚&#010; gt; æœ‰æ²¡æœ‰å¯ä»¥è®¾ç½®åœ¨eventTimeæƒ…å†µä¸‹ï¼Œå‘¨æœŸæ€§ç”Ÿæˆå½“å‰æ—¶é—´çš„ä¸€ä¸ªwaterMark(å’Œæ•°æ®æ— å…³),å› ä¸ºå¯èƒ½æ²¡æœ‰æ–°æ•°æ®åˆ°æ¥äº†ã€‚&#010; gt;  gt;  gt;  gt;  gt; ------------------amp;nbsp;åŸå§‹é‚®ä»¶amp;nbsp;------------------&#010; gt; å‘ä»¶äºº:amp;nbsp;\"Jark Wu\"imjark@gmail.comamp;gt;;  gt; å‘é€æ—¶é—´:amp;nbsp;2020å¹´7æœˆ7æ—¥(æ˜ŸæœŸäºŒ)&#010;æ™šä¸Š6:09  gt; æ”¶ä»¶äºº:amp;nbsp;\"user-zh\"user-zh@flink.apache.orgamp;gt;;  gt;  gt; ä¸»é¢˜:amp;nbsp;Re:&#010;å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§æ°´å°?  gt;  gt;  gt;  gt; Hi,  gt;  gt; è¿™ä¸ªé—®é¢˜æˆ‘ç†è§£å…¶å®å’Œå‘¨æœŸæ€§æ°´å°æ²¡æœ‰å…³ç³»ï¼Œæ˜¯å±äº&#010;idle source  gt; çš„é—®é¢˜ï¼Œä½ å¯ä»¥å°è¯•ä¸‹åŠ ä¸Šé…ç½® table.exec.source.idle-timeout&#010;= 10s èƒ½ä¸èƒ½è§£å†³ä½ çš„é—®é¢˜ã€‚[1]  gt;  gt; Best,  gt; Jark  gt;  gt; [1]:  gt;  gt;&#010; https://ci.apache.org/projects/flink/flink-docs-master/dev/table/config.html#table-exec-source-idle-timeout&#010; gt  \"&gt;https://ci.apache.org/projects/flink/flink-docs-master/dev/table/config.html#table-exec-source-idle-timeoutgt&#010; ;  gt; On Tue, 7 Jul 2020 at 17:35, noake noake@sina.cnamp;gt; wrote:  gt;  gt; amp;gt; Dear&#010;Allï¼š  gt; amp;gt;  gt; amp;gt;  gt; amp;gt; å¤§ä½¬ä»¬ï¼Œ è¯·æ•™ä¸‹å¦‚ä½•åœ¨Flink SQLä¸­ä½¿ç”¨å‘¨æœŸæ€§çš„æ°´å°ã€‚&#010; gt; amp;gt; æˆ‘ä»¬åœ¨æ¶ˆè´¹kafkaæ—¶ï¼Œ æƒ³è®¾ç½®åœ¨æ²¡æœ‰æ•°æ®æ—¶æ°´å°æ—¶é—´ä¹Ÿèƒ½ç»§ç»­å‘å‰èµ°ï¼Œ&#010;ç”¨çš„æ˜¯Flink SQLã€‚",
        "depth": "0",
        "reply": "<tencent_A73A93C68904B5BB2DD40F62@qq.com>"
    },
    {
        "id": "<202007081832175225754@163.com>",
        "from": "&quot;hdxg1101300123@163.com&quot; &lt;hdxg1101300...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 10:32:18 GMT",
        "subject": "å…³äº richfunctionä¸­åˆå§‹åŒ–æ•°æ®åº“è¿æ¥çš„é—®é¢˜",
        "content": "æ‚¨å¥½ï¼š&#013;&#010;        æˆ‘ä½¿ç”¨flink1.10.1ç‰ˆæœ¬streamapiç¼–å†™ç¨‹åºæ—¶ï¼Œåœ¨ä¸åŒçš„richfunctionä¸­ åˆ†åˆ«ä½¿ç”¨Class.forName(\"*****\");&#010;æ¥åŠ è½½æ•°æ®åº“é©±åŠ¨ã€‚æ˜¯ä¸åŒçš„ä¸¤ä¸ªæ•°æ®åº“é©±åŠ¨ï¼›è¿™æ ·ä¼šå¯¼è‡´ç¨‹åºå¡ä½ä¸å¾€ä¸‹æ‰§è¡Œï¼›æœ‰äººé‡åˆ°å—ï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;hdxg1101300123@163.com&#013;&#010;",
        "depth": "0",
        "reply": "<202007081832175225754@163.com>"
    },
    {
        "id": "<tencent_B98A7045C5FA5DB8A67E73895B06B897EC06@qq.com>",
        "from": "&quot;Yichao Yang&quot; &lt;1048262...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 10:36:56 GMT",
        "subject": "å›å¤ï¼šå…³äº richfunctionä¸­åˆå§‹åŒ–æ•°æ®åº“è¿æ¥çš„é—®é¢˜",
        "content": "Hi,&#013;&#010;&#013;&#010;&#013;&#010;æ˜¯æ‰§è¡Œåˆ°å“ªæ­¥å‡ºç°äº†é—®é¢˜ï¼Ÿå¯ä»¥æä¾›ä¸‹é¢ä¸€äº›å†…å®¹æ¥å¸®å¿™å®šä½é—®é¢˜å—ï¼Ÿ&#013;&#010;1.æˆªå›¾æˆ–è€…æ—¥å¿—&#013;&#010;2.ä¸åŒçš„æ•°æ®åº“éƒ½æ˜¯å“ªäº›æ•°æ®åº“ï¼Œä»¥åŠç‰ˆæœ¬æ˜¯å“ªäº›&#013;&#010;3.å•å†™ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹åŠ è½½ä¸¤ä¸ªæ•°æ®åº“æ˜¯å¦èƒ½å¤ŸåŠ è½½æˆåŠŸ&#013;&#010;4.ä»£ç ä¼ªç¼–ç &#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;Yichao Yang&#013;&#010;&#013;&#010;&#013;&#010;------------------ åŸå§‹é‚®ä»¶ ------------------&#013;&#010;å‘ä»¶äºº: hdxg1101300123@163.com &lt;hdxg1101300123@163.com&amp;gt;&#013;&#010;å‘é€æ—¶é—´: 2020å¹´7æœˆ8æ—¥ 18:32&#013;&#010;æ”¶ä»¶äºº: user-zh &lt;user-zh@flink.apache.org&amp;gt;&#013;&#010;ä¸»é¢˜: å›å¤ï¼šå…³äº richfunctionä¸­åˆå§‹åŒ–æ•°æ®åº“è¿æ¥çš„é—®é¢˜&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;æ‚¨å¥½ï¼š&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; æˆ‘ä½¿ç”¨flink1.10.1ç‰ˆæœ¬streamapiç¼–å†™ç¨‹åºæ—¶ï¼Œåœ¨ä¸åŒçš„richfunctionä¸­&#010;åˆ†åˆ«ä½¿ç”¨Class.forName(\"*****\"); æ¥åŠ è½½æ•°æ®åº“é©±åŠ¨ã€‚æ˜¯ä¸åŒçš„ä¸¤ä¸ªæ•°æ®åº“é©±åŠ¨ï¼›è¿™æ ·ä¼šå¯¼è‡´ç¨‹åºå¡ä½ä¸å¾€ä¸‹æ‰§è¡Œï¼›æœ‰äººé‡åˆ°å—ï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;hdxg1101300123@163.com",
        "depth": "1",
        "reply": "<202007081832175225754@163.com>"
    },
    {
        "id": "<36e8bbbf.9f56.1732e09237f.Coremail.17610775726@163.com>",
        "from": "JasonLee &lt;17610775...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 10:46:57 GMT",
        "subject": "å›å¤ï¼šå…³äº richfunctionä¸­åˆå§‹åŒ–æ•°æ®åº“è¿æ¥çš„é—®é¢˜",
        "content": "hi&#010;å…·ä½“æ˜¯å¡åœ¨ä»€ä¹ˆåœ°æ–¹äº†å‘¢ï¼Ÿå¯ä»¥æ‰“å°æ—¥å¿—å®šä½ä¸€ä¸‹ ç†è®ºä¸Šæ˜¯ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜&#010;è¿˜æœ‰å•ä¸ªæ‰§è¡Œçš„è¯å¯ä»¥å—ï¼Ÿ&#010;&#010;&#010;| |&#010;JasonLee&#010;|&#010;|&#010;é‚®ç®±ï¼š17610775726@163.com&#010;|&#010;&#010;Signature is customized by Netease Mail Master&#010;&#010;åœ¨2020å¹´07æœˆ08æ—¥ 18:32ï¼Œhdxg1101300123@163.com å†™é“ï¼š&#010;æ‚¨å¥½ï¼š&#010;       æˆ‘ä½¿ç”¨flink1.10.1ç‰ˆæœ¬streamapiç¼–å†™ç¨‹åºæ—¶ï¼Œåœ¨ä¸åŒçš„richfunctionä¸­ åˆ†åˆ«ä½¿ç”¨Class.forName(\"*****\");&#010;æ¥åŠ è½½æ•°æ®åº“é©±åŠ¨ã€‚æ˜¯ä¸åŒçš„ä¸¤ä¸ªæ•°æ®åº“é©±åŠ¨ï¼›è¿™æ ·ä¼šå¯¼è‡´ç¨‹åºå¡ä½ä¸å¾€ä¸‹æ‰§è¡Œï¼›æœ‰äººé‡åˆ°å—ï¼Ÿ&#010;&#010;&#010;hdxg1101300123@163.com&#010;",
        "depth": "1",
        "reply": "<202007081832175225754@163.com>"
    },
    {
        "id": "<202007091131444852309@163.com>",
        "from": "&quot;hdxg1101300123@163.com&quot; &lt;hdxg1101300...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 03:31:54 GMT",
        "subject": "å›å¤: å›å¤ï¼šå…³äº richfunctionä¸­åˆå§‹åŒ–æ•°æ®åº“è¿æ¥çš„é—®é¢˜",
        "content": "&#013;&#010;FlinkKafkaConsumer&lt;Bill&gt; kafkaConsumer = new FlinkKafkaConsumer&lt;&gt;(TrafficConstants.BILLTOPIC,new&#010;SchargeConsumerSchema(), props);&#013;&#010;kafkaConsumer.setStartFromLatest();&#013;&#010;SingleOutputStreamOperator&lt;Bill&gt; process = env.addSource(kafkaConsumer).setParallelism(4)&#013;&#010;.filter(new HiveFilterFunction(TrafficConstants.HIVEURL, TrafficConstants.HIVEUSERNAME, TrafficConstants.HIVEPASSWORD)).name(\"æµé‡è´¹è¿‡æ»¤\")&#013;&#010;.keyBy((KeySelector&lt;Bill, String&gt;) value -&gt; value.getUser_id() + value.getSerial_number()&#010;+ value.getProvince_code())&#013;&#010;.process(***);&#013;&#010;SingleOutputStreamOperator&lt;BillInfo&gt; map = process.map();&#013;&#010;map.addSink(new RdsFlowSink(TrafficConstants.URL, TrafficConstants.USERNAME, TrafficConstants.PASSWORD))&#013;&#010;.setParallelism(1).name(\"sinkRds\");&#013;&#010;&#013;&#010;è¿™æ˜¯ä¸»è¦é€»è¾‘ï¼šKafkaå–æ•°--&gt;è‡ªå®šä¹‰richfilterå‡½æ•°åŠ è½½hiveç»´è¡¨æ•°æ®æ¥è¿‡æ»¤æ•°æ®--&gt;keyby--&gt;process--&gt;è‡ªå®šä¹‰sinkå‡½æ•°&#013;&#010;&#013;&#010;public class HiveFilterFunction extends RichFilterFunction&lt;Bill&gt; {&#013;&#010;    Logger LOG = LoggerFactory.getLogger(HiveFilterFunction.class);&#013;&#010;    private final String jdbcUrl;&#013;&#010;    private final String username;&#013;&#010;    private final String password;&#013;&#010;    private transient volatile Statement sts;&#013;&#010;    private transient volatile Connection connection;&#013;&#010;    Map&lt;String, String&gt; map = new ConcurrentHashMap();&#013;&#010;&#013;&#010;    public HiveFilterFunction(String jdbcUrl, String username, String password) {&#013;&#010;        this.jdbcUrl = jdbcUrl;&#013;&#010;        this.username = username;&#013;&#010;        this.password = password;&#013;&#010;    }&#013;&#010;&#013;&#010;    @Override&#013;&#010;    public void open(Configuration parameters) throws Exception {&#013;&#010;        super.open(parameters);&#013;&#010;        Class.forName(\"org.apache.hive.jdbc.HiveDriver\");&#013;&#010;        connection = DriverManager.getConnection(jdbcUrl, username, password);&#013;&#010;        LOG.info(\"hive connection --- \" + connection);&#013;&#010;        sts = connection.createStatement();&#013;&#010;        query();&#013;&#010;    }&#013;&#010;&#013;&#010;    @Override&#013;&#010;    public boolean filter(Bill value) {&#013;&#010;        return map.containsKey(value.getIntegrate_item_code())&#013;&#010;                &amp;&amp; TrafficConstants.getProCode().contains(value.getProvince_code());&#013;&#010;    }&#013;&#010;&#013;&#010;    @Override&#013;&#010;    public void close() throws Exception {&#013;&#010;        super.close();&#013;&#010;        assert null != sts ;&#013;&#010;        assert null != connection ;&#013;&#010;        sts.close();&#013;&#010;        connection.close();&#013;&#010;    }&#013;&#010;&#013;&#010;    private void query() throws Exception {&#013;&#010;        ResultSet resultSet = null;&#013;&#010;        try {&#013;&#010;            sts.execute(TrafficConstants.SETSQL);&#013;&#010;            resultSet = sts.executeQuery(TrafficConstants.CODESQL);&#013;&#010;            while (resultSet.next()) {&#013;&#010;                map.put(resultSet.getString(\"charge_code_cbss\"), \"\");&#013;&#010;            }&#013;&#010;        } catch (Exception e) {&#013;&#010;            LOG.error(\"hive error\", e);&#013;&#010;            throw new Exception(e);&#013;&#010;        } finally {&#013;&#010;            assert resultSet != null;&#013;&#010;            resultSet.close();&#013;&#010;        }&#013;&#010;        LOG.info(\"hive ç»´è¡¨æ•°æ®åŠ è½½å®Œæˆ\");&#013;&#010;    }&#013;&#010;}&#013;&#010;&#013;&#010;public class RdsFlowSink extends RichSinkFunction&lt;BillInfo&gt;{&#013;&#010;    Logger LOG = LoggerFactory.getLogger(RdsFlowSink.class);&#013;&#010;    private final String url;&#013;&#010;    private final String name;&#013;&#010;    private final String password;&#013;&#010;&#013;&#010;    private transient volatile PreparedStatement insertStatement;&#013;&#010;    private transient volatile Connection connection;&#013;&#010;    private transient volatile Counter counter = null;&#013;&#010; &#013;&#010;    public RdsFlowSink(String url, String name, String password) {&#013;&#010;        this.url = url;&#013;&#010;        this.name = name;&#013;&#010;        this.password = password;&#013;&#010;    }&#013;&#010;&#013;&#010;    @Override&#013;&#010;    public void open(Configuration parameters) throws Exception {&#013;&#010;        Class.forName(\"com.mysql.jdbc.Driver\");&#013;&#010;        connection = DriverManager.getConnection(url,name,password);&#013;&#010;        LOG.info(\"connection --- \" + connection);&#013;&#010;        counter = getRuntimeContext().getMetricGroup().counter(\"counter\");&#013;&#010;        insertStatement = connection.prepareStatement(TrafficConstants.FLOWSQL);&#013;&#010;     &#013;&#010;    }&#013;&#010;&#013;&#010;    @Override&#013;&#010;    public void invoke(BillInfo value, Context context) throws Exception {&#013;&#010;        try {&#013;&#010;            insertStatement.setString(1,value.getSerial_number());&#013;&#010;            insertStatement.setString(2,value.getUser_id());&#013;&#010;            insertStatement.setString(3,value.getIntegrate_item_code());&#013;&#010;            insertStatement.setString(4,value.getFee());&#013;&#010;            insertStatement.setString(5,value.getCity_code());&#013;&#010;            counter.inc(1);&#013;&#010;            insertStatement.execute();&#013;&#010;          &#013;&#010;        }catch (Exception e){      &#013;&#010;            LOG.info(\"invoke  --- \" + connection);&#013;&#010;            LOG.error(e.getMessage());&#013;&#010;            throw new Exception(e);&#013;&#010;        }&#013;&#010;    }&#013;&#010;&#013;&#010;    @Override&#013;&#010;    public void close() throws Exception {&#013;&#010;        super.close();&#013;&#010;        assert insertStatement != null;&#013;&#010;        assert connection != null;&#013;&#010;        insertStatement.close();&#013;&#010;        connection.close();&#013;&#010;    }&#013;&#010;}&#013;&#010;&#013;&#010;æ‰§è¡Œçš„æ—¶å€™ç¨‹åºä¼šå¡åœ¨ Class.forName(\"org.apache.hive.jdbc.HiveDriver\"); æˆ–è€… Class.forName(\"com.mysql.jdbc.Driver\");&#010;è¿™é‡Œ&#013;&#010;&#013;&#010;&#013;&#010;hdxg1101300123@163.com&#013;&#010; &#013;&#010;å‘ä»¶äººï¼š JasonLee&#013;&#010;å‘é€æ—¶é—´ï¼š 2020-07-08 18:46&#013;&#010;æ”¶ä»¶äººï¼š user-zh&#013;&#010;ä¸»é¢˜ï¼š å›å¤ï¼šå…³äº richfunctionä¸­åˆå§‹åŒ–æ•°æ®åº“è¿æ¥çš„é—®é¢˜&#013;&#010;hi&#013;&#010;å…·ä½“æ˜¯å¡åœ¨ä»€ä¹ˆåœ°æ–¹äº†å‘¢ï¼Ÿå¯ä»¥æ‰“å°æ—¥å¿—å®šä½ä¸€ä¸‹ ç†è®ºä¸Šæ˜¯ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜&#010;è¿˜æœ‰å•ä¸ªæ‰§è¡Œçš„è¯å¯ä»¥å—ï¼Ÿ&#013;&#010; &#013;&#010; &#013;&#010;| |&#013;&#010;JasonLee&#013;&#010;|&#013;&#010;|&#013;&#010;é‚®ç®±ï¼š17610775726@163.com&#013;&#010;|&#013;&#010; &#013;&#010;Signature is customized by Netease Mail Master&#013;&#010; &#013;&#010;åœ¨2020å¹´07æœˆ08æ—¥ 18:32ï¼Œhdxg1101300123@163.com å†™é“ï¼š&#013;&#010;æ‚¨å¥½ï¼š&#013;&#010;       æˆ‘ä½¿ç”¨flink1.10.1ç‰ˆæœ¬streamapiç¼–å†™ç¨‹åºæ—¶ï¼Œåœ¨ä¸åŒçš„richfunctionä¸­ åˆ†åˆ«ä½¿ç”¨Class.forName(\"*****\");&#010;æ¥åŠ è½½æ•°æ®åº“é©±åŠ¨ã€‚æ˜¯ä¸åŒçš„ä¸¤ä¸ªæ•°æ®åº“é©±åŠ¨ï¼›è¿™æ ·ä¼šå¯¼è‡´ç¨‹åºå¡ä½ä¸å¾€ä¸‹æ‰§è¡Œï¼›æœ‰äººé‡åˆ°å—ï¼Ÿ&#013;&#010; &#013;&#010; &#013;&#010;hdxg1101300123@163.com&#013;&#010;",
        "depth": "1",
        "reply": "<202007081832175225754@163.com>"
    },
    {
        "id": "<tencent_002640B3939B23B8812CB8F05485E55D8106@qq.com>",
        "from": "&quot;Yichao Yang&quot; &lt;1048262...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 05:11:36 GMT",
        "subject": "å›å¤ï¼š å›å¤ï¼šå…³äº richfunctionä¸­åˆå§‹åŒ–æ•°æ®åº“è¿æ¥çš„é—®é¢˜",
        "content": "Hi,&#013;&#010;&#013;&#010;&#013;&#010;å¯ä»¥å…ˆå†™å•å…ƒæµ‹è¯•çœ‹ä¸‹æ˜¯å¦èƒ½åŒæ—¶åŠ è½½ä¸¤ä¸ªæ•°æ®åº“ï¼Œå…ˆæ’é™¤æ•°æ®åº“è¿æ¥æœ¬èº«çš„é—®é¢˜ã€‚&#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;Yichao Yang&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"hdxg1101300123@163.com\"&lt;hdxg1101300123@163.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ9æ—¥(æ˜ŸæœŸå››) ä¸­åˆ11:31&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;å›å¤: å›å¤ï¼šå…³äº richfunctionä¸­åˆå§‹åŒ–æ•°æ®åº“è¿æ¥çš„é—®é¢˜&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;FlinkKafkaConsumer&lt;Bill&amp;gt; kafkaConsumer = new FlinkKafkaConsumer&lt;&amp;gt;(TrafficConstants.BILLTOPIC,new&#010;SchargeConsumerSchema(), props);&#013;&#010;kafkaConsumer.setStartFromLatest();&#013;&#010;SingleOutputStreamOperator&lt;Bill&amp;gt; process = env.addSource(kafkaConsumer).setParallelism(4)&#013;&#010;.filter(new HiveFilterFunction(TrafficConstants.HIVEURL, TrafficConstants.HIVEUSERNAME, TrafficConstants.HIVEPASSWORD)).name(\"æµé‡è´¹è¿‡æ»¤\")&#013;&#010;.keyBy((KeySelector&lt;Bill, String&amp;gt;) value -&amp;gt; value.getUser_id() + value.getSerial_number()&#010;+ value.getProvince_code())&#013;&#010;.process(***);&#013;&#010;SingleOutputStreamOperator&lt;BillInfo&amp;gt; map = process.map();&#013;&#010;map.addSink(new RdsFlowSink(TrafficConstants.URL, TrafficConstants.USERNAME, TrafficConstants.PASSWORD))&#013;&#010;.setParallelism(1).name(\"sinkRds\");&#013;&#010;&#013;&#010;è¿™æ˜¯ä¸»è¦é€»è¾‘ï¼šKafkaå–æ•°--&amp;gt;è‡ªå®šä¹‰richfilterå‡½æ•°åŠ è½½hiveç»´è¡¨æ•°æ®æ¥è¿‡æ»¤æ•°æ®--&amp;gt;keyby--&amp;gt;process--&amp;gt;è‡ªå®šä¹‰sinkå‡½æ•°&#013;&#010;&#013;&#010;public class HiveFilterFunction extends RichFilterFunction&lt;Bill&amp;gt; {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; Logger LOG = LoggerFactory.getLogger(HiveFilterFunction.class);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private final String jdbcUrl;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private final String username;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private final String password;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private transient volatile Statement sts;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private transient volatile Connection connection;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; Map&lt;String, String&amp;gt; map = new ConcurrentHashMap();&#013;&#010;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public HiveFilterFunction(String jdbcUrl, String username,&#010;String password) {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.jdbcUrl = jdbcUrl;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.username = username;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.password = password;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; @Override&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public void open(Configuration parameters) throws Exception&#010;{&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; super.open(parameters);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Class.forName(\"org.apache.hive.jdbc.HiveDriver\");&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; connection = DriverManager.getConnection(jdbcUrl,&#010;username, password);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; LOG.info(\"hive connection&#010;--- \" + connection);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; sts = connection.createStatement();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; query();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; @Override&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public boolean filter(Bill value) {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; return map.containsKey(value.getIntegrate_item_code())&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;&amp;amp;&amp;amp; TrafficConstants.getProCode().contains(value.getProvince_code());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; @Override&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public void close() throws Exception {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; super.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; assert null != sts&#010;;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; assert null != connection&#010;;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; sts.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; connection.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private void query() throws Exception {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ResultSet resultSet&#010;= null;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; try {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;sts.execute(TrafficConstants.SETSQL);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;resultSet = sts.executeQuery(TrafficConstants.CODESQL);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;while (resultSet.next()) {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;map.put(resultSet.getString(\"charge_code_cbss\"), \"\");&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;}&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; } catch (Exception&#010;e) {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;LOG.error(\"hive error\", e);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;throw new Exception(e);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; } finally {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;assert resultSet != null;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;resultSet.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; LOG.info(\"hive ç»´è¡¨æ•°æ®åŠ è½½å®Œæˆ\");&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;}&#013;&#010;&#013;&#010;public class RdsFlowSink extends RichSinkFunction&lt;BillInfo&amp;gt;{&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; Logger LOG = LoggerFactory.getLogger(RdsFlowSink.class);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private final String url;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private final String name;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private final String password;&#013;&#010;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private transient volatile PreparedStatement insertStatement;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private transient volatile Connection connection;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private transient volatile Counter counter = null;&#013;&#010;&amp;nbsp;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public RdsFlowSink(String url, String name, String password)&#010;{&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.url = url;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.name = name;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.password = password;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; @Override&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public void open(Configuration parameters) throws Exception&#010;{&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Class.forName(\"com.mysql.jdbc.Driver\");&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; connection = DriverManager.getConnection(url,name,password);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; LOG.info(\"connection&#010;--- \" + connection);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; counter = getRuntimeContext().getMetricGroup().counter(\"counter\");&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; insertStatement = connection.prepareStatement(TrafficConstants.FLOWSQL);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; @Override&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public void invoke(BillInfo value, Context context) throws&#010;Exception {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; try {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;insertStatement.setString(1,value.getSerial_number());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;insertStatement.setString(2,value.getUser_id());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;insertStatement.setString(3,value.getIntegrate_item_code());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;insertStatement.setString(4,value.getFee());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;insertStatement.setString(5,value.getCity_code());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;counter.inc(1);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;insertStatement.execute();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }catch (Exception e){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;LOG.info(\"invoke&amp;nbsp; --- \" + connection);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;LOG.error(e.getMessage());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;throw new Exception(e);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; @Override&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public void close() throws Exception {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; super.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; assert insertStatement&#010;!= null;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; assert connection !=&#010;null;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; insertStatement.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; connection.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;}&#013;&#010;&#013;&#010;æ‰§è¡Œçš„æ—¶å€™ç¨‹åºä¼šå¡åœ¨ Class.forName(\"org.apache.hive.jdbc.HiveDriver\"); æˆ–è€… Class.forName(\"com.mysql.jdbc.Driver\");&#010;è¿™é‡Œ&#013;&#010;&#013;&#010;&#013;&#010;hdxg1101300123@163.com&#013;&#010;&amp;nbsp;&#013;&#010;å‘ä»¶äººï¼š JasonLee&#013;&#010;å‘é€æ—¶é—´ï¼š 2020-07-08 18:46&#013;&#010;æ”¶ä»¶äººï¼š user-zh&#013;&#010;ä¸»é¢˜ï¼š å›å¤ï¼šå…³äº richfunctionä¸­åˆå§‹åŒ–æ•°æ®åº“è¿æ¥çš„é—®é¢˜&#013;&#010;hi&#013;&#010;å…·ä½“æ˜¯å¡åœ¨ä»€ä¹ˆåœ°æ–¹äº†å‘¢ï¼Ÿå¯ä»¥æ‰“å°æ—¥å¿—å®šä½ä¸€ä¸‹ ç†è®ºä¸Šæ˜¯ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜&#010;è¿˜æœ‰å•ä¸ªæ‰§è¡Œçš„è¯å¯ä»¥å—ï¼Ÿ&#013;&#010;&amp;nbsp;&#013;&#010;&amp;nbsp;&#013;&#010;| |&#013;&#010;JasonLee&#013;&#010;|&#013;&#010;|&#013;&#010;é‚®ç®±ï¼š17610775726@163.com&#013;&#010;|&#013;&#010;&amp;nbsp;&#013;&#010;Signature is customized by Netease Mail Master&#013;&#010;&amp;nbsp;&#013;&#010;åœ¨2020å¹´07æœˆ08æ—¥ 18:32ï¼Œhdxg1101300123@163.com å†™é“ï¼š&#013;&#010;æ‚¨å¥½ï¼š&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; æˆ‘ä½¿ç”¨flink1.10.1ç‰ˆæœ¬streamapiç¼–å†™ç¨‹åºæ—¶ï¼Œåœ¨ä¸åŒçš„richfunctionä¸­&#010;åˆ†åˆ«ä½¿ç”¨Class.forName(\"*****\"); æ¥åŠ è½½æ•°æ®åº“é©±åŠ¨ã€‚æ˜¯ä¸åŒçš„ä¸¤ä¸ªæ•°æ®åº“é©±åŠ¨ï¼›è¿™æ ·ä¼šå¯¼è‡´ç¨‹åºå¡ä½ä¸å¾€ä¸‹æ‰§è¡Œï¼›æœ‰äººé‡åˆ°å—ï¼Ÿ&#013;&#010;&amp;nbsp;&#013;&#010;&amp;nbsp;&#013;&#010;hdxg1101300123@163.com",
        "depth": "2",
        "reply": "<202007081832175225754@163.com>"
    },
    {
        "id": "<202007121303062384625@163.com>",
        "from": "&quot;hdxg1101300123@163.com&quot; &lt;hdxg1101300...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Sun, 12 Jul 2020 05:03:25 GMT",
        "subject": "å›å¤: å›å¤ï¼šå…³äº richfunctionä¸­åˆå§‹åŒ–æ•°æ®åº“è¿æ¥çš„é—®é¢˜ï¼Œå¯¼è‡´ç¨‹åºå¡ä¸»ä¸æ‰§è¡Œ",
        "content": "æˆ‘æ¸¬è©¦ç™¼ç¾ï¼Œä½†flinkçš„ç®—å­å‘é€å¹¶è¡Œåº¦å˜åŒ–æ—¶ ä¼šå‡ºç°é—®é¢˜ï¼Œå¦‚æœæˆ‘çš„å¹¶è¡Œåº¦ä¸€è‡´åˆ™æ²¡æœ‰é—®é¢˜ï¼æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼›ï¼ˆæœ€è¿‘æ¯”è¾ƒæ…¢ï¼Œæ²¡å›å¤ï¼‰&#013;&#010;æ•´ä½“çš„å¹¶è¡Œåº¦ä¸º1ï¼Œå…¶ä¸­mapåæ”¹å˜å¹¶è¡Œåº¦ä¸º2ï¼Œ ç¨‹åºå°±ä¼šå¡ä¸»ä¸æ‰§è¡Œï¼›&#013;&#010;ï¼ˆæˆ‘çš„å®é™…é¡¹ç›®è¿‡æ»¤åå†è®¡ç®—å‡ºçš„æ•°æ®å¾ˆå°‘æ‰€ä»¥sinkçš„å¹¶è¡Œåº¦æ˜¯1ï¼‰&#013;&#010;&#013;&#010;&#013;&#010;import org.apache.flink.api.common.functions.RichFilterFunction;&#013;&#010;import org.apache.flink.api.java.tuple.Tuple2;&#013;&#010;import org.apache.flink.configuration.Configuration;&#013;&#010;import org.apache.flink.streaming.api.TimeCharacteristic;&#013;&#010;import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;&#013;&#010;import org.apache.flink.streaming.api.functions.sink.RichSinkFunction;&#013;&#010;import org.apache.flink.streaming.api.functions.source.SourceFunction;&#013;&#010;import org.slf4j.Logger;&#013;&#010;import org.slf4j.LoggerFactory;&#013;&#010;&#013;&#010;import java.sql.Connection;&#013;&#010;import java.sql.DriverManager;&#013;&#010;import java.sql.PreparedStatement;&#013;&#010;import java.sql.Statement;&#013;&#010;import java.util.ArrayList;&#013;&#010;import java.util.List;&#013;&#010;import java.util.Random;&#013;&#010;&#013;&#010;public class TimerMain4 {&#013;&#010;    public static void main(String[] args) throws Exception {&#013;&#010;        Logger LOG = LoggerFactory.getLogger(TimerMain4.class);&#013;&#010;        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();&#013;&#010;        env.setParallelism(1);&#013;&#010;        env.setStreamTimeCharacteristic(TimeCharacteristic.ProcessingTime);&#013;&#010;        env.addSource(new MySourceTuple())&#013;&#010;                .filter(new RichFilterFunction&lt;Tuple2&lt;String, Long&gt;&gt;() {&#013;&#010;                    private transient volatile Statement sts1;&#013;&#010;                    private transient volatile Connection conn1;&#013;&#010;&#013;&#010;                    @Override&#013;&#010;                    public void open(Configuration parameters) throws Exception {&#013;&#010;                        super.open(parameters);&#013;&#010;                        Class.forName(\"org.apache.hive.jdbc.HiveDriver\");&#013;&#010;                        conn1 = DriverManager.getConnection(\"\", \"\", \"\");&#013;&#010;                        LOG.info(\"connection --- \" + conn1);&#013;&#010;                        sts1 = conn1.createStatement();&#013;&#010;                    }&#013;&#010;&#013;&#010;                    @Override&#013;&#010;                    public boolean filter(Tuple2&lt;String, Long&gt; value) {&#013;&#010;                        return true;&#013;&#010;                    }&#013;&#010;&#013;&#010;                    @Override&#013;&#010;                    public void close() throws Exception {&#013;&#010;                        super.close();&#013;&#010;                        sts1.close();&#013;&#010;                        conn1.close();&#013;&#010;                    }&#013;&#010;                })&#013;&#010;                .map(Tuple2::toString)&#013;&#010;                .setParallelism(1)&#013;&#010;                .addSink(new RichSinkFunction&lt;String&gt;() {&#013;&#010;                    private transient volatile PreparedStatement sts2;&#013;&#010;                    private transient volatile Connection conn2;&#013;&#010;&#013;&#010;                    @Override&#013;&#010;                    public void open(Configuration parameters) throws Exception {&#013;&#010;                        super.open(parameters);&#013;&#010;                        Class.forName(\"com.mysql.jdbc.Driver\");&#013;&#010;                        conn2 = DriverManager.getConnection(\"\", \"\", \"\");&#013;&#010;                        LOG.info(\"connection --- \" + conn2);&#013;&#010;                        sts2 = conn2.prepareStatement(\"\");&#013;&#010;                    }&#013;&#010;&#013;&#010;                    @Override&#013;&#010;                    public void close() throws Exception {&#013;&#010;                        super.close();&#013;&#010;                        sts2.close();&#013;&#010;                        conn2.close();&#013;&#010;                    }&#013;&#010;&#013;&#010;                    @Override&#013;&#010;                    public void invoke(String value, Context context) {&#013;&#010;                        LOG.info(value);&#013;&#010;                    }&#013;&#010;                }).setParallelism(1);&#013;&#010;        env.execute();&#013;&#010;    }&#013;&#010;&#013;&#010;}&#013;&#010;&#013;&#010;class MySourceTuple implements SourceFunction&lt;Tuple2&lt;String, Long&gt;&gt; {&#013;&#010;&#013;&#010;    private Boolean isRunning = true;&#013;&#010;    List&lt;String&gt; names = new ArrayList();&#013;&#010;&#013;&#010;    private final Random random = new Random();&#013;&#010;    Long number = 1L;&#013;&#010;&#013;&#010;    @Override&#013;&#010;    public void run(SourceContext&lt;Tuple2&lt;String, Long&gt;&gt; ctx) throws Exception&#010;{&#013;&#010;        names.add(\"å¼ \");&#013;&#010;        names.add(\"ç‹\");&#013;&#010;        names.add(\"æ\");&#013;&#010;        names.add(\"èµµ\");&#013;&#010;        while (isRunning) {&#013;&#010;            int index = random.nextInt(4);&#013;&#010;            ctx.collect(new Tuple2&lt;&gt;(names.get(index), number));&#013;&#010;            number += 1;&#013;&#010;            Thread.sleep(1000);&#013;&#010;        }&#013;&#010;    }&#013;&#010;&#013;&#010;    @Override&#013;&#010;    public void cancel() {&#013;&#010;        isRunning = false;&#013;&#010;    }&#013;&#010;}&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;hdxg1101300123@163.com&#013;&#010; &#013;&#010;å‘ä»¶äººï¼š Yichao Yang&#013;&#010;å‘é€æ—¶é—´ï¼š 2020-07-09 13:11&#013;&#010;æ”¶ä»¶äººï¼š user-zh&#013;&#010;ä¸»é¢˜ï¼š å›å¤ï¼š å›å¤ï¼šå…³äº richfunctionä¸­åˆå§‹åŒ–æ•°æ®åº“è¿æ¥çš„é—®é¢˜&#013;&#010;Hi,&#013;&#010; &#013;&#010; &#013;&#010;å¯ä»¥å…ˆå†™å•å…ƒæµ‹è¯•çœ‹ä¸‹æ˜¯å¦èƒ½åŒæ—¶åŠ è½½ä¸¤ä¸ªæ•°æ®åº“ï¼Œå…ˆæ’é™¤æ•°æ®åº“è¿æ¥æœ¬èº«çš„é—®é¢˜ã€‚&#013;&#010; &#013;&#010; &#013;&#010;Best,&#013;&#010;Yichao Yang&#013;&#010; &#013;&#010; &#013;&#010; &#013;&#010; &#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"hdxg1101300123@163.com\"&lt;hdxg1101300123@163.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ9æ—¥(æ˜ŸæœŸå››) ä¸­åˆ11:31&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010; &#013;&#010;ä¸»é¢˜:&amp;nbsp;å›å¤: å›å¤ï¼šå…³äº richfunctionä¸­åˆå§‹åŒ–æ•°æ®åº“è¿æ¥çš„é—®é¢˜&#013;&#010; &#013;&#010; &#013;&#010; &#013;&#010; &#013;&#010;FlinkKafkaConsumer&lt;Bill&amp;gt; kafkaConsumer = new FlinkKafkaConsumer&lt;&amp;gt;(TrafficConstants.BILLTOPIC,new&#010;SchargeConsumerSchema(), props);&#013;&#010;kafkaConsumer.setStartFromLatest();&#013;&#010;SingleOutputStreamOperator&lt;Bill&amp;gt; process = env.addSource(kafkaConsumer).setParallelism(4)&#013;&#010;.filter(new HiveFilterFunction(TrafficConstants.HIVEURL, TrafficConstants.HIVEUSERNAME, TrafficConstants.HIVEPASSWORD)).name(\"æµé‡è´¹è¿‡æ»¤\")&#013;&#010;.keyBy((KeySelector&lt;Bill, String&amp;gt;) value -&amp;gt; value.getUser_id() + value.getSerial_number()&#010;+ value.getProvince_code())&#013;&#010;.process(***);&#013;&#010;SingleOutputStreamOperator&lt;BillInfo&amp;gt; map = process.map();&#013;&#010;map.addSink(new RdsFlowSink(TrafficConstants.URL, TrafficConstants.USERNAME, TrafficConstants.PASSWORD))&#013;&#010;.setParallelism(1).name(\"sinkRds\");&#013;&#010; &#013;&#010;è¿™æ˜¯ä¸»è¦é€»è¾‘ï¼šKafkaå–æ•°--&amp;gt;è‡ªå®šä¹‰richfilterå‡½æ•°åŠ è½½hiveç»´è¡¨æ•°æ®æ¥è¿‡æ»¤æ•°æ®--&amp;gt;keyby--&amp;gt;process--&amp;gt;è‡ªå®šä¹‰sinkå‡½æ•°&#013;&#010; &#013;&#010;public class HiveFilterFunction extends RichFilterFunction&lt;Bill&amp;gt; {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; Logger LOG = LoggerFactory.getLogger(HiveFilterFunction.class);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private final String jdbcUrl;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private final String username;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private final String password;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private transient volatile Statement sts;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private transient volatile Connection connection;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; Map&lt;String, String&amp;gt; map = new ConcurrentHashMap();&#013;&#010; &#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public HiveFilterFunction(String jdbcUrl, String username,&#010;String password) {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.jdbcUrl = jdbcUrl;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.username = username;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.password = password;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010; &#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; @Override&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public void open(Configuration parameters) throws Exception&#010;{&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; super.open(parameters);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Class.forName(\"org.apache.hive.jdbc.HiveDriver\");&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; connection = DriverManager.getConnection(jdbcUrl,&#010;username, password);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; LOG.info(\"hive connection&#010;--- \" + connection);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; sts = connection.createStatement();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; query();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010; &#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; @Override&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public boolean filter(Bill value) {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; return map.containsKey(value.getIntegrate_item_code())&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;&amp;amp;&amp;amp; TrafficConstants.getProCode().contains(value.getProvince_code());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010; &#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; @Override&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public void close() throws Exception {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; super.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; assert null != sts&#010;;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; assert null != connection&#010;;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; sts.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; connection.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010; &#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private void query() throws Exception {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ResultSet resultSet&#010;= null;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; try {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;sts.execute(TrafficConstants.SETSQL);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;resultSet = sts.executeQuery(TrafficConstants.CODESQL);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;while (resultSet.next()) {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;map.put(resultSet.getString(\"charge_code_cbss\"), \"\");&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;}&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; } catch (Exception&#010;e) {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;LOG.error(\"hive error\", e);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;throw new Exception(e);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; } finally {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;assert resultSet != null;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;resultSet.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; LOG.info(\"hive ç»´è¡¨æ•°æ®åŠ è½½å®Œæˆ\");&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;}&#013;&#010; &#013;&#010;public class RdsFlowSink extends RichSinkFunction&lt;BillInfo&amp;gt;{&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; Logger LOG = LoggerFactory.getLogger(RdsFlowSink.class);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private final String url;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private final String name;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private final String password;&#013;&#010; &#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private transient volatile PreparedStatement insertStatement;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private transient volatile Connection connection;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; private transient volatile Counter counter = null;&#013;&#010;&amp;nbsp;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public RdsFlowSink(String url, String name, String password)&#010;{&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.url = url;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.name = name;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.password = password;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010; &#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; @Override&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public void open(Configuration parameters) throws Exception&#010;{&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Class.forName(\"com.mysql.jdbc.Driver\");&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; connection = DriverManager.getConnection(url,name,password);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; LOG.info(\"connection&#010;--- \" + connection);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; counter = getRuntimeContext().getMetricGroup().counter(\"counter\");&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; insertStatement = connection.prepareStatement(TrafficConstants.FLOWSQL);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010; &#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; @Override&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public void invoke(BillInfo value, Context context) throws&#010;Exception {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; try {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;insertStatement.setString(1,value.getSerial_number());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;insertStatement.setString(2,value.getUser_id());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;insertStatement.setString(3,value.getIntegrate_item_code());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;insertStatement.setString(4,value.getFee());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;insertStatement.setString(5,value.getCity_code());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;counter.inc(1);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;insertStatement.execute();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }catch (Exception e){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;LOG.info(\"invoke&amp;nbsp; --- \" + connection);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;LOG.error(e.getMessage());&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#010;throw new Exception(e);&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010; &#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; @Override&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; public void close() throws Exception {&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; super.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; assert insertStatement&#010;!= null;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; assert connection !=&#010;null;&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; insertStatement.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; connection.close();&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&#013;&#010;}&#013;&#010; &#013;&#010;æ‰§è¡Œçš„æ—¶å€™ç¨‹åºä¼šå¡åœ¨ Class.forName(\"org.apache.hive.jdbc.HiveDriver\"); æˆ–è€… Class.forName(\"com.mysql.jdbc.Driver\");&#010;è¿™é‡Œ&#013;&#010; &#013;&#010; &#013;&#010;hdxg1101300123@163.com&#013;&#010;&amp;nbsp;&#013;&#010;å‘ä»¶äººï¼š JasonLee&#013;&#010;å‘é€æ—¶é—´ï¼š 2020-07-08 18:46&#013;&#010;æ”¶ä»¶äººï¼š user-zh&#013;&#010;ä¸»é¢˜ï¼š å›å¤ï¼šå…³äº richfunctionä¸­åˆå§‹åŒ–æ•°æ®åº“è¿æ¥çš„é—®é¢˜&#013;&#010;hi&#013;&#010;å…·ä½“æ˜¯å¡åœ¨ä»€ä¹ˆåœ°æ–¹äº†å‘¢ï¼Ÿå¯ä»¥æ‰“å°æ—¥å¿—å®šä½ä¸€ä¸‹ ç†è®ºä¸Šæ˜¯ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜&#010;è¿˜æœ‰å•ä¸ªæ‰§è¡Œçš„è¯å¯ä»¥å—ï¼Ÿ&#013;&#010;&amp;nbsp;&#013;&#010;&amp;nbsp;&#013;&#010;| |&#013;&#010;JasonLee&#013;&#010;|&#013;&#010;|&#013;&#010;é‚®ç®±ï¼š17610775726@163.com&#013;&#010;|&#013;&#010;&amp;nbsp;&#013;&#010;Signature is customized by Netease Mail Master&#013;&#010;&amp;nbsp;&#013;&#010;åœ¨2020å¹´07æœˆ08æ—¥ 18:32ï¼Œhdxg1101300123@163.com å†™é“ï¼š&#013;&#010;æ‚¨å¥½ï¼š&#013;&#010;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; æˆ‘ä½¿ç”¨flink1.10.1ç‰ˆæœ¬streamapiç¼–å†™ç¨‹åºæ—¶ï¼Œåœ¨ä¸åŒçš„richfunctionä¸­&#010;åˆ†åˆ«ä½¿ç”¨Class.forName(\"*****\"); æ¥åŠ è½½æ•°æ®åº“é©±åŠ¨ã€‚æ˜¯ä¸åŒçš„ä¸¤ä¸ªæ•°æ®åº“é©±åŠ¨ï¼›è¿™æ ·ä¼šå¯¼è‡´ç¨‹åºå¡ä½ä¸å¾€ä¸‹æ‰§è¡Œï¼›æœ‰äººé‡åˆ°å—ï¼Ÿ&#013;&#010;&amp;nbsp;&#013;&#010;&amp;nbsp;&#013;&#010;hdxg1101300123@163.com&#013;&#010;",
        "depth": "1",
        "reply": "<202007081832175225754@163.com>"
    },
    {
        "id": "<tencent_3F5C73B959CB6D02BC487642B8A2E2E92E05@qq.com>",
        "from": "&quot;Yichao Yang&quot; &lt;1048262...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 10:45:06 GMT",
        "subject": "å›å¤ï¼š Stateé‡Œé¢ç”¨guava Cache",
        "content": "Hi,&#013;&#010;æ¯æ¬¡cacheçš„é•¿åº¦éƒ½æ˜¯ä¸€æœ‰æ²¡æœ‰å¯èƒ½å¹¶å‘æ¯”è¾ƒå¤§ï¼Œæ¯ä¸€ä¸ª1éƒ½æ˜¯ä¸åŒçš„ç®—å­è¾“å‡ºçš„ã€‚&#013;&#010;&#013;&#010;&#013;&#010;ä½ çš„åœºæ™¯æˆ‘ä»¬å®è·µä¸­çš„æ–¹æ³•æ˜¯æŒ‰ç…§ç”¨æˆ·id keybyä¹‹åå†åšlocalcacheï¼Œå¹¶ä¸”å¦‚æœç”¨æˆ·idæ˜¯longç±»å‹çš„è¯ï¼Œlocalcacheå¯ä»¥ä½¿ç”¨roaringbitmapï¼Œæ•ˆç‡ä¼šæ¯”å•çº¯çš„cacheæ•ˆç‡æ›´å¥½ï¼Œå ç”¨å†…å­˜æ›´å°ã€‚&#013;&#010;&#013;&#010;&#013;&#010;å¹¶ä¸”é¢‘ç¹update stateåœ¨èµ„æºæœ‰é™çš„æƒ…å†µä¸‹æ˜¯ä¼šæœ‰æ€§èƒ½ç“¶é¢ˆçš„ï¼Œè¿™ç§åœºæ™¯ä¸‹å»ºè®®å¼€çª—å£ï¼Œçª—å£ç»“æŸæ—¶updateä¸€æ¬¡stateå³å¯ã€‚&#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;Yichao Yang&#013;&#010;&#013;&#010;&#013;&#010;------------------ åŸå§‹é‚®ä»¶ ------------------&#013;&#010;å‘ä»¶äºº: user-zh-return-5056-1048262223=qq.com &lt;520075694@qq.com&amp;gt;&#013;&#010;å‘é€æ—¶é—´: 2020å¹´7æœˆ8æ—¥ 18:09&#013;&#010;æ”¶ä»¶äºº: user-zh &lt;user-zh@flink.apache.org&amp;gt;&#013;&#010;ä¸»é¢˜: å›å¤ï¼š Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;æ¯”å¦‚æ•°æ®é‡Œæ¥äº†ä¸€ä¸ªidæˆ‘éœ€è¦å»åˆ¤æ–­è¿™ä¸ªidæ˜¯æ–°çš„è¿˜æ˜¯å·²ç»å­˜åœ¨çš„ï¼Œç”±äºå†å²æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥æ”¾å…¨éƒ¨stateé‡Œé¢ä¸å¤ªå¥½ã€‚&#013;&#010;æŠŠæœ€è¿‘æ´»è·ƒçš„idæ”¾åˆ°ValueState[Cache]é‡Œé¢ï¼Œå¯ä»¥åœ¨å†…å­˜é‡Œå…³è”åˆ°ç»å¤§éƒ¨åˆ†çš„idï¼Œé¿å…é¢‘ç¹è®¿é—®å¤–éƒ¨å­˜å‚¨ã€‚&#013;&#010;å¦‚æœä¸ä½¿ç”¨stateä¿å­˜çš„çš„è¯ï¼Œé‡å¯ä½œä¸šåcacheä¼šé‡ç½®ï¼Œè¿™æ®µæ—¶é—´é€šè¿‡å¤–éƒ¨å­˜å‚¨å»å…³è”idä¼šå¾ˆæ…¢&#013;&#010;&amp;amp;nbsp;è°¢è°¢&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ5:52&#013;&#010;æ”¶ä»¶äºº:&amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;æˆ‘å°è¯•ç†è§£ä¸€ä¸‹ä½ çš„éœ€æ±‚ï¼š&#013;&#010;ä½ å¸Œæœ›ä»å¤–éƒ¨å­˜å‚¨åŒæ­¥ä¸€äº›ä¿¡æ¯ï¼Œç”±äºè®¿é—®å¤–éƒ¨å­˜å‚¨æ•ˆç‡ä¸é«˜ï¼Œæ‰€ä»¥å¸Œæœ›åŠ ä¸€ä¸ª&#010;cacheï¼Œç„¶å cache&#013;&#010;ä¸­çš„æ•°æ®å¸Œæœ›åœ¨ä¸€å®šæ—¶é—´åè¿‡æœŸï¼Œè¿‡æœŸåé‡æ–°å»å¤–éƒ¨å­˜å‚¨åŒæ­¥ä¸€æ¬¡ä¿¡æ¯ã€‚&#013;&#010;&#013;&#010;ä½†æ˜¯è¿˜æœ‰ä¸€äº›ä¿¡æ¯ä¸å¤ªæ˜ç™½ï¼Œé‚£è¿™é‡Œä½ æ‰“ç®—åœ¨ä»€ä¹ˆåœ°æ–¹ä½¿ç”¨ state å‘¢ï¼Ÿstate&#010;å­˜æ”¾ä»€ä¹ˆæ•°æ®å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œä½ è‡ªå·±ç»´æŠ¤è¿™ä¸ªçŠ¶æ€ä¹‹åï¼Œä¸ºä»€ä¹ˆè¿˜æœ‰ä½¿ç”¨&#013;&#010;state å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;ä¸ç®¡æ€ä¹ˆè¯´ä½¿ç”¨ Flink ä¹‹åï¼Œè¿˜æ˜¯å»ºè®®å°½é‡ä½¿ç”¨ stateï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¤–å­˜ï¼Œflink&#010;æä¾›çš„ state æ–¹ä¾¿åšä¸€äº›å®¹é”™å¤„ç†ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;op &lt;520075694@qq.com&amp;amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ4:07å†™é“ï¼š&#013;&#010;&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt; æ‚¨å¥½ï¼Œæ˜¯è¿™æ ·çš„ï¼Œæˆ‘æƒ³å†ç¨‹åºé‡Œé¢å…³è”ä¸€äº›ç”¨æˆ·idï¼Œä½¿ç”¨cacheç¼“å­˜ä¸€äº›çƒ­æ•°æ®ï¼Œè®¾ç½®æ¯ä¸ªidå†™å…¥å¤šä¹…åè‡ªåŠ¨æ¸…ç†æ‰ï¼Œå…³è”çš„æ—¶å€™é¦–å…ˆè®¿é—®ç¼“å­˜ï¼Œè®¿é—®ä¸åˆ°å†å»è®¿é—®å¤–éƒ¨å­˜å‚¨ï¼›&#013;&#010;&amp;amp;gt; ä¸šåŠ¡ä¸­çš„keyä¼šä¸€ç›´å‡ºç°ï¼Œä¹Ÿå°±æ˜¯è¯´ttlå¯èƒ½ä¸ä¼šç”Ÿæ•ˆï¼Œè¿™æ ·æ²¡åŠæ³•ä½¿ç”¨state&#010;ttlå¯¹å§ï¼Ÿ&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt; ------------------&amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;amp;nbsp;------------------&#013;&#010;&amp;amp;gt; å‘ä»¶äºº:&amp;amp;amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;amp;amp;gt;;&#013;&#010;&amp;amp;gt; å‘é€æ—¶é—´:&amp;amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ3:56&#013;&#010;&amp;amp;gt; æ”¶ä»¶äºº:&amp;amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;amp;gt;;&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt; ä¸»é¢˜:&amp;amp;amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt; TTL state[1] æ»¡è¶³ä½ çš„éœ€æ±‚å—? å¦‚æœä¸æ»¡è¶³çš„è¯ï¼Œèƒ½å¦æè¿°ä¸‹ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt; [1]&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt; https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/stream/state/state.html#%E7%8A%B6%E6%80%81%E6%9C%89%E6%95%88%E6%9C%9F-ttl&#013;&#010;&amp;amp;gt; Best,&#013;&#010;&amp;amp;gt; Congxian&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt; op &lt;520075694@qq.com&amp;amp;amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ3:53å†™é“ï¼š&#013;&#010;&amp;amp;gt;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; æ‚¨å¥½ï¼Œæˆ‘ä¸»è¦æ˜¯è§‰å¾—Cacheçš„è‡ªåŠ¨è¿‡æœŸæ¯”è¾ƒå¥½ç”¨&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; ------------------&amp;amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;amp;amp;nbsp;------------------&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; å‘ä»¶äºº:&amp;amp;amp;amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;amp;amp;amp;gt;;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; å‘é€æ—¶é—´:&amp;amp;amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰)&#010;ä¸‹åˆ3:50&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; æ”¶ä»¶äºº:&amp;amp;amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;amp;amp;gt;;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; ä¸»é¢˜:&amp;amp;amp;amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; ä½ å¥½ï¼Œä¸ºä»€ä¹ˆéœ€è¦åœ¨ State é‡Œé¢å†ç”¨ cache å‘¢ï¼Ÿå•çº¯çš„&#010;State ä¸èƒ½æ»¡è¶³éœ€æ±‚å—ï¼Ÿéœ€æ±‚æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; å¦å¤–ï¼Œé™¤äº† ValueStateï¼Œå…¶ä»–çš„ ListState/MapState èƒ½å¦æ»¡è¶³ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; Best,&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; Congxian&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; op &lt;520075694@qq.com&amp;amp;amp;amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰&#010;ä¸Šåˆ10:31å†™é“ï¼š&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; å¤§å®¶å¥½ï¼Œæˆ‘æƒ³ä½¿ç”¨ä¸€ä¸ª ValueState[Cache]çš„çŠ¶æ€ï¼Œä½†æ˜¯å‘ç°è¿™ä¸ªçŠ¶æ€çš„value&#010;æ²¡åŠæ³•æ›´æ–°ï¼Œ&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;gt; æ¯”å¦‚æˆ‘åœ¨mapé‡Œé¢æ¯æ¬¡å¾€cacheé‡Œé¢putä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åupdateè¿™ä¸ªstateï¼Œè¾“å‡ºcacheçš„é•¿åº¦ï¼Œä¸ºä»€ä¹ˆæ¯æ¬¡è¾“å‡ºé•¿åº¦éƒ½æ˜¯1",
        "depth": "0",
        "reply": "<tencent_3F5C73B959CB6D02BC487642B8A2E2E92E05@qq.com>"
    },
    {
        "id": "<tencent_EB948F26E2C0384BA0661513AB0DEE6AC50A@qq.com>",
        "from": "&quot;op&quot; &lt;520075...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 10:49:54 GMT",
        "subject": "å›å¤ï¼š Stateé‡Œé¢ç”¨guava Cache",
        "content": "è°¢è°¢ï¼Œ&#013;&#010;&amp;nbsp; è¿™æ˜¯æˆ‘åœ¨æœ¬åœ°æŠŠå¹¶è¡Œåº¦éƒ½è®¾ç½®æˆ1æµ‹è¯•çš„ï¼Œå…ˆä¸ç®¡äº†ã€‚ã€‚ã€‚&#013;&#010;&amp;nbsp; è¿™ä¸ªroaringbitmapä¹Ÿæ˜¯ä¿å­˜åˆ°stateä¸­å—ï¼Ÿæˆ‘åé¢è¯•è¯•&#013;&#010;&amp;nbsp; å¼€çª—å£è¿™ä¸ªå¯ä»¥ï¼Œååˆ†æ„Ÿè°¢&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"Yichao Yang\"&lt;1048262223@qq.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) æ™šä¸Š6:45&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;å›å¤ï¼š Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;Hi,&#013;&#010;æ¯æ¬¡cacheçš„é•¿åº¦éƒ½æ˜¯ä¸€æœ‰æ²¡æœ‰å¯èƒ½å¹¶å‘æ¯”è¾ƒå¤§ï¼Œæ¯ä¸€ä¸ª1éƒ½æ˜¯ä¸åŒçš„ç®—å­è¾“å‡ºçš„ã€‚&#013;&#010;&#013;&#010;&#013;&#010;ä½ çš„åœºæ™¯æˆ‘ä»¬å®è·µä¸­çš„æ–¹æ³•æ˜¯æŒ‰ç…§ç”¨æˆ·id keybyä¹‹åå†åšlocalcacheï¼Œå¹¶ä¸”å¦‚æœç”¨æˆ·idæ˜¯longç±»å‹çš„è¯ï¼Œlocalcacheå¯ä»¥ä½¿ç”¨roaringbitmapï¼Œæ•ˆç‡ä¼šæ¯”å•çº¯çš„cacheæ•ˆç‡æ›´å¥½ï¼Œå ç”¨å†…å­˜æ›´å°ã€‚&#013;&#010;&#013;&#010;&#013;&#010;å¹¶ä¸”é¢‘ç¹update stateåœ¨èµ„æºæœ‰é™çš„æƒ…å†µä¸‹æ˜¯ä¼šæœ‰æ€§èƒ½ç“¶é¢ˆçš„ï¼Œè¿™ç§åœºæ™¯ä¸‹å»ºè®®å¼€çª—å£ï¼Œçª—å£ç»“æŸæ—¶updateä¸€æ¬¡stateå³å¯ã€‚&#013;&#010;&#013;&#010;&#013;&#010;Best,&#013;&#010;Yichao Yang&#013;&#010;&#013;&#010;&#013;&#010;------------------ åŸå§‹é‚®ä»¶ ------------------&#013;&#010;å‘ä»¶äºº: user-zh-return-5056-1048262223=qq.com &lt;520075694@qq.com&amp;amp;gt;&#013;&#010;å‘é€æ—¶é—´: 2020å¹´7æœˆ8æ—¥ 18:09&#013;&#010;æ”¶ä»¶äºº: user-zh &lt;user-zh@flink.apache.org&amp;amp;gt;&#013;&#010;ä¸»é¢˜: å›å¤ï¼š Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;æ¯”å¦‚æ•°æ®é‡Œæ¥äº†ä¸€ä¸ªidæˆ‘éœ€è¦å»åˆ¤æ–­è¿™ä¸ªidæ˜¯æ–°çš„è¿˜æ˜¯å·²ç»å­˜åœ¨çš„ï¼Œç”±äºå†å²æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥æ”¾å…¨éƒ¨stateé‡Œé¢ä¸å¤ªå¥½ã€‚&#013;&#010;æŠŠæœ€è¿‘æ´»è·ƒçš„idæ”¾åˆ°ValueState[Cache]é‡Œé¢ï¼Œå¯ä»¥åœ¨å†…å­˜é‡Œå…³è”åˆ°ç»å¤§éƒ¨åˆ†çš„idï¼Œé¿å…é¢‘ç¹è®¿é—®å¤–éƒ¨å­˜å‚¨ã€‚&#013;&#010;å¦‚æœä¸ä½¿ç”¨stateä¿å­˜çš„çš„è¯ï¼Œé‡å¯ä½œä¸šåcacheä¼šé‡ç½®ï¼Œè¿™æ®µæ—¶é—´é€šè¿‡å¤–éƒ¨å­˜å‚¨å»å…³è”idä¼šå¾ˆæ…¢&#013;&#010;&amp;amp;amp;nbsp;è°¢è°¢&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;amp;amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;amp;amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ5:52&#013;&#010;æ”¶ä»¶äºº:&amp;amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;amp;amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;æˆ‘å°è¯•ç†è§£ä¸€ä¸‹ä½ çš„éœ€æ±‚ï¼š&#013;&#010;ä½ å¸Œæœ›ä»å¤–éƒ¨å­˜å‚¨åŒæ­¥ä¸€äº›ä¿¡æ¯ï¼Œç”±äºè®¿é—®å¤–éƒ¨å­˜å‚¨æ•ˆç‡ä¸é«˜ï¼Œæ‰€ä»¥å¸Œæœ›åŠ ä¸€ä¸ª&#010;cacheï¼Œç„¶å cache&#013;&#010;ä¸­çš„æ•°æ®å¸Œæœ›åœ¨ä¸€å®šæ—¶é—´åè¿‡æœŸï¼Œè¿‡æœŸåé‡æ–°å»å¤–éƒ¨å­˜å‚¨åŒæ­¥ä¸€æ¬¡ä¿¡æ¯ã€‚&#013;&#010;&#013;&#010;ä½†æ˜¯è¿˜æœ‰ä¸€äº›ä¿¡æ¯ä¸å¤ªæ˜ç™½ï¼Œé‚£è¿™é‡Œä½ æ‰“ç®—åœ¨ä»€ä¹ˆåœ°æ–¹ä½¿ç”¨ state å‘¢ï¼Ÿstate&#010;å­˜æ”¾ä»€ä¹ˆæ•°æ®å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œä½ è‡ªå·±ç»´æŠ¤è¿™ä¸ªçŠ¶æ€ä¹‹åï¼Œä¸ºä»€ä¹ˆè¿˜æœ‰ä½¿ç”¨&#013;&#010;state å‘¢ï¼Ÿ&#013;&#010;&#013;&#010;ä¸ç®¡æ€ä¹ˆè¯´ä½¿ç”¨ Flink ä¹‹åï¼Œè¿˜æ˜¯å»ºè®®å°½é‡ä½¿ç”¨ stateï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¤–å­˜ï¼Œflink&#010;æä¾›çš„ state æ–¹ä¾¿åšä¸€äº›å®¹é”™å¤„ç†ã€‚&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;op &lt;520075694@qq.com&amp;amp;amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ4:07å†™é“ï¼š&#013;&#010;&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; æ‚¨å¥½ï¼Œæ˜¯è¿™æ ·çš„ï¼Œæˆ‘æƒ³å†ç¨‹åºé‡Œé¢å…³è”ä¸€äº›ç”¨æˆ·idï¼Œä½¿ç”¨cacheç¼“å­˜ä¸€äº›çƒ­æ•°æ®ï¼Œè®¾ç½®æ¯ä¸ªidå†™å…¥å¤šä¹…åè‡ªåŠ¨æ¸…ç†æ‰ï¼Œå…³è”çš„æ—¶å€™é¦–å…ˆè®¿é—®ç¼“å­˜ï¼Œè®¿é—®ä¸åˆ°å†å»è®¿é—®å¤–éƒ¨å­˜å‚¨ï¼›&#013;&#010;&amp;amp;amp;gt; ä¸šåŠ¡ä¸­çš„keyä¼šä¸€ç›´å‡ºç°ï¼Œä¹Ÿå°±æ˜¯è¯´ttlå¯èƒ½ä¸ä¼šç”Ÿæ•ˆï¼Œè¿™æ ·æ²¡åŠæ³•ä½¿ç”¨state&#010;ttlå¯¹å§ï¼Ÿ&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; ------------------&amp;amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;amp;amp;nbsp;------------------&#013;&#010;&amp;amp;amp;gt; å‘ä»¶äºº:&amp;amp;amp;amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;amp;amp;amp;gt;;&#013;&#010;&amp;amp;amp;gt; å‘é€æ—¶é—´:&amp;amp;amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ3:56&#013;&#010;&amp;amp;amp;gt; æ”¶ä»¶äºº:&amp;amp;amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;amp;amp;gt;;&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; ä¸»é¢˜:&amp;amp;amp;amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; TTL state[1] æ»¡è¶³ä½ çš„éœ€æ±‚å—? å¦‚æœä¸æ»¡è¶³çš„è¯ï¼Œèƒ½å¦æè¿°ä¸‹ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; [1]&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/stream/state/state.html#%E7%8A%B6%E6%80%81%E6%9C%89%E6%95%88%E6%9C%9F-ttl&#013;&#010;&amp;amp;amp;gt; Best,&#013;&#010;&amp;amp;amp;gt; Congxian&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; op &lt;520075694@qq.com&amp;amp;amp;amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ3:53å†™é“ï¼š&#013;&#010;&amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; æ‚¨å¥½ï¼Œæˆ‘ä¸»è¦æ˜¯è§‰å¾—Cacheçš„è‡ªåŠ¨è¿‡æœŸæ¯”è¾ƒå¥½ç”¨&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; ------------------&amp;amp;amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;amp;amp;amp;nbsp;------------------&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; å‘ä»¶äºº:&amp;amp;amp;amp;amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;amp;amp;amp;amp;gt;;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; å‘é€æ—¶é—´:&amp;amp;amp;amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰)&#010;ä¸‹åˆ3:50&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; æ”¶ä»¶äºº:&amp;amp;amp;amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;amp;amp;amp;gt;;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; ä¸»é¢˜:&amp;amp;amp;amp;amp;nbsp;Re: Stateé‡Œé¢ç”¨guava&#010;Cache&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; ä½ å¥½ï¼Œä¸ºä»€ä¹ˆéœ€è¦åœ¨ State é‡Œé¢å†ç”¨ cache&#010;å‘¢ï¼Ÿå•çº¯çš„ State ä¸èƒ½æ»¡è¶³éœ€æ±‚å—ï¼Ÿéœ€æ±‚æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; å¦å¤–ï¼Œé™¤äº† ValueStateï¼Œå…¶ä»–çš„ ListState/MapState&#010;èƒ½å¦æ»¡è¶³ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; Best,&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; Congxian&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; op &lt;520075694@qq.com&amp;amp;amp;amp;amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰&#010;ä¸Šåˆ10:31å†™é“ï¼š&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; &amp;amp;amp;amp;amp;gt; å¤§å®¶å¥½ï¼Œæˆ‘æƒ³ä½¿ç”¨ä¸€ä¸ª&#010;ValueState[Cache]çš„çŠ¶æ€ï¼Œä½†æ˜¯å‘ç°è¿™ä¸ªçŠ¶æ€çš„value æ²¡åŠæ³•æ›´æ–°ï¼Œ&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; &amp;amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; &amp;amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; &amp;amp;amp;amp;gt; &amp;amp;amp;amp;amp;gt;&#013;&#010;&amp;amp;amp;gt; æ¯”å¦‚æˆ‘åœ¨mapé‡Œé¢æ¯æ¬¡å¾€cacheé‡Œé¢putä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åupdateè¿™ä¸ªstateï¼Œè¾“å‡ºcacheçš„é•¿åº¦ï¼Œä¸ºä»€ä¹ˆæ¯æ¬¡è¾“å‡ºé•¿åº¦éƒ½æ˜¯1",
        "depth": "1",
        "reply": "<tencent_3F5C73B959CB6D02BC487642B8A2E2E92E05@qq.com>"
    },
    {
        "id": "<CAA8tFvv3-YbRtYtFDovqmncNz3R2rwPjvbpk6tbczzfj9Fff8g@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 11:23:21 GMT",
        "subject": "Re: Stateé‡Œé¢ç”¨guava Cache",
        "content": "State ä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€ä¸ª cacheï¼Œå¦‚æœæ‰“ç®—è‡ªå·±ç»´æŠ¤ cacheï¼ˆæ¯”å¦‚ä½¿ç”¨ guava&#010;cacheï¼‰çš„è¯ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¸ä½¿ç”¨&#013;&#010;Stateï¼Œå½“ç„¶å¦‚æœä½ è¿˜å¸Œæœ›åšçŠ¶æ€å®¹é”™çš„è¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç±»ä¼¼ YiChao çš„æ–¹æ³•ï¼Œç§¯æ”’ä¸€æ‰¹æ•°æ®ç„¶åä¸€èµ·æ›´æ–°&#010;State&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;op &lt;520075694@qq.com&gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ6:50å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; è°¢è°¢ï¼Œ&#013;&#010;&gt; &amp;nbsp; è¿™æ˜¯æˆ‘åœ¨æœ¬åœ°æŠŠå¹¶è¡Œåº¦éƒ½è®¾ç½®æˆ1æµ‹è¯•çš„ï¼Œå…ˆä¸ç®¡äº†ã€‚ã€‚ã€‚&#013;&#010;&gt; &amp;nbsp; è¿™ä¸ªroaringbitmapä¹Ÿæ˜¯ä¿å­˜åˆ°stateä¸­å—ï¼Ÿæˆ‘åé¢è¯•è¯•&#013;&#010;&gt; &amp;nbsp; å¼€çª—å£è¿™ä¸ªå¯ä»¥ï¼Œååˆ†æ„Ÿè°¢&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;&gt; å‘ä»¶äºº:&amp;nbsp;\"Yichao Yang\"&lt;1048262223@qq.com&amp;gt;;&#013;&#010;&gt; å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) æ™šä¸Š6:45&#013;&#010;&gt; æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&gt;&#013;&#010;&gt; ä¸»é¢˜:&amp;nbsp;å›å¤ï¼š Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Hi,&#013;&#010;&gt; æ¯æ¬¡cacheçš„é•¿åº¦éƒ½æ˜¯ä¸€æœ‰æ²¡æœ‰å¯èƒ½å¹¶å‘æ¯”è¾ƒå¤§ï¼Œæ¯ä¸€ä¸ª1éƒ½æ˜¯ä¸åŒçš„ç®—å­è¾“å‡ºçš„ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ä½ çš„åœºæ™¯æˆ‘ä»¬å®è·µä¸­çš„æ–¹æ³•æ˜¯æŒ‰ç…§ç”¨æˆ·id&#013;&#010;&gt; keybyä¹‹åå†åšlocalcacheï¼Œå¹¶ä¸”å¦‚æœç”¨æˆ·idæ˜¯longç±»å‹çš„è¯ï¼Œlocalcacheå¯ä»¥ä½¿ç”¨roaringbitmapï¼Œæ•ˆç‡ä¼šæ¯”å•çº¯çš„cacheæ•ˆç‡æ›´å¥½ï¼Œå ç”¨å†…å­˜æ›´å°ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å¹¶ä¸”é¢‘ç¹update stateåœ¨èµ„æºæœ‰é™çš„æƒ…å†µä¸‹æ˜¯ä¼šæœ‰æ€§èƒ½ç“¶é¢ˆçš„ï¼Œè¿™ç§åœºæ™¯ä¸‹å»ºè®®å¼€çª—å£ï¼Œçª—å£ç»“æŸæ—¶updateä¸€æ¬¡stateå³å¯ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Yichao Yang&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ------------------ åŸå§‹é‚®ä»¶ ------------------&#013;&#010;&gt; å‘ä»¶äºº: user-zh-return-5056-1048262223=qq.com &lt;520075694@qq.com&amp;amp;gt;&#013;&#010;&gt; å‘é€æ—¶é—´: 2020å¹´7æœˆ8æ—¥ 18:09&#013;&#010;&gt; æ”¶ä»¶äºº: user-zh &lt;user-zh@flink.apache.org&amp;amp;gt;&#013;&#010;&gt; ä¸»é¢˜: å›å¤ï¼š Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æ¯”å¦‚æ•°æ®é‡Œæ¥äº†ä¸€ä¸ªidæˆ‘éœ€è¦å»åˆ¤æ–­è¿™ä¸ªidæ˜¯æ–°çš„è¿˜æ˜¯å·²ç»å­˜åœ¨çš„ï¼Œç”±äºå†å²æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥æ”¾å…¨éƒ¨stateé‡Œé¢ä¸å¤ªå¥½ã€‚&#013;&#010;&gt; æŠŠæœ€è¿‘æ´»è·ƒçš„idæ”¾åˆ°ValueState[Cache]é‡Œé¢ï¼Œå¯ä»¥åœ¨å†…å­˜é‡Œå…³è”åˆ°ç»å¤§éƒ¨åˆ†çš„idï¼Œé¿å…é¢‘ç¹è®¿é—®å¤–éƒ¨å­˜å‚¨ã€‚&#013;&#010;&gt; å¦‚æœä¸ä½¿ç”¨stateä¿å­˜çš„çš„è¯ï¼Œé‡å¯ä½œä¸šåcacheä¼šé‡ç½®ï¼Œè¿™æ®µæ—¶é—´é€šè¿‡å¤–éƒ¨å­˜å‚¨å»å…³è”idä¼šå¾ˆæ…¢&#013;&#010;&gt; &amp;amp;amp;nbsp;è°¢è°¢&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; ------------------&amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;amp;nbsp;------------------&#013;&#010;&gt; å‘ä»¶äºº:&amp;amp;amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&amp;amp;amp;gt;;&#013;&#010;&gt; å‘é€æ—¶é—´:&amp;amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ5:52&#013;&#010;&gt; æ”¶ä»¶äºº:&amp;amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;amp;amp;gt;;&#013;&#010;&gt;&#013;&#010;&gt; ä¸»é¢˜:&amp;amp;amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘å°è¯•ç†è§£ä¸€ä¸‹ä½ çš„éœ€æ±‚ï¼š&#013;&#010;&gt; ä½ å¸Œæœ›ä»å¤–éƒ¨å­˜å‚¨åŒæ­¥ä¸€äº›ä¿¡æ¯ï¼Œç”±äºè®¿é—®å¤–éƒ¨å­˜å‚¨æ•ˆç‡ä¸é«˜ï¼Œæ‰€ä»¥å¸Œæœ›åŠ ä¸€ä¸ª&#010;cacheï¼Œç„¶å cache&#013;&#010;&gt; ä¸­çš„æ•°æ®å¸Œæœ›åœ¨ä¸€å®šæ—¶é—´åè¿‡æœŸï¼Œè¿‡æœŸåé‡æ–°å»å¤–éƒ¨å­˜å‚¨åŒæ­¥ä¸€æ¬¡ä¿¡æ¯ã€‚&#013;&#010;&gt;&#013;&#010;&gt; ä½†æ˜¯è¿˜æœ‰ä¸€äº›ä¿¡æ¯ä¸å¤ªæ˜ç™½ï¼Œé‚£è¿™é‡Œä½ æ‰“ç®—åœ¨ä»€ä¹ˆåœ°æ–¹ä½¿ç”¨ state&#010;å‘¢ï¼Ÿstate å­˜æ”¾ä»€ä¹ˆæ•°æ®å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œä½ è‡ªå·±ç»´æŠ¤è¿™ä¸ªçŠ¶æ€ä¹‹åï¼Œä¸ºä»€ä¹ˆè¿˜æœ‰ä½¿ç”¨&#013;&#010;&gt; state å‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt; ä¸ç®¡æ€ä¹ˆè¯´ä½¿ç”¨ Flink ä¹‹åï¼Œè¿˜æ˜¯å»ºè®®å°½é‡ä½¿ç”¨ stateï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¤–å­˜ï¼Œflink&#010;æä¾›çš„ state æ–¹ä¾¿åšä¸€äº›å®¹é”™å¤„ç†ã€‚&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; op &lt;520075694@qq.com&amp;amp;amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ4:07å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; æ‚¨å¥½ï¼Œæ˜¯è¿™æ ·çš„ï¼Œæˆ‘æƒ³å†ç¨‹åºé‡Œé¢å…³è”ä¸€äº›ç”¨æˆ·idï¼Œä½¿ç”¨cacheç¼“å­˜ä¸€äº›çƒ­æ•°æ®ï¼Œè®¾ç½®æ¯ä¸ªidå†™å…¥å¤šä¹…åè‡ªåŠ¨æ¸…ç†æ‰ï¼Œå…³è”çš„æ—¶å€™é¦–å…ˆè®¿é—®ç¼“å­˜ï¼Œè®¿é—®ä¸åˆ°å†å»è®¿é—®å¤–éƒ¨å­˜å‚¨ï¼›&#013;&#010;&gt; &amp;amp;amp;gt; ä¸šåŠ¡ä¸­çš„keyä¼šä¸€ç›´å‡ºç°ï¼Œä¹Ÿå°±æ˜¯è¯´ttlå¯èƒ½ä¸ä¼šç”Ÿæ•ˆï¼Œè¿™æ ·æ²¡åŠæ³•ä½¿ç”¨state&#010;ttlå¯¹å§ï¼Ÿ&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; ------------------&amp;amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;amp;amp;nbsp;------------------&#013;&#010;&gt; &amp;amp;amp;gt; å‘ä»¶äºº:&amp;amp;amp;amp;nbsp;\"Congxian Qiu\"&lt;qcx978132955@gmail.com&#013;&#010;&gt; &amp;amp;amp;amp;gt;;&#013;&#010;&gt; &amp;amp;amp;gt; å‘é€æ—¶é—´:&amp;amp;amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) ä¸‹åˆ3:56&#013;&#010;&gt; &amp;amp;amp;gt; æ”¶ä»¶äºº:&amp;amp;amp;amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&#013;&#010;&gt; &amp;amp;amp;amp;gt;;&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; ä¸»é¢˜:&amp;amp;amp;amp;nbsp;Re: Stateé‡Œé¢ç”¨guava Cache&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; TTL state[1] æ»¡è¶³ä½ çš„éœ€æ±‚å—? å¦‚æœä¸æ»¡è¶³çš„è¯ï¼Œèƒ½å¦æè¿°ä¸‹ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; [1]&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/stream/state/state.html#%E7%8A%B6%E6%80%81%E6%9C%89%E6%95%88%E6%9C%9F-ttl&#013;&#010;&gt; &amp;amp;amp;gt&#013;&#010;&gt; &lt;https://ci.apache.org/projects/flink/flink-docs-master/zh/dev/stream/state/state.html#%E7%8A%B6%E6%80%81%E6%9C%89%E6%95%88%E6%9C%9F-ttl&amp;amp;amp;gt&gt;;&#013;&#010;&gt; Best,&#013;&#010;&gt; &amp;amp;amp;gt; Congxian&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; op &lt;520075694@qq.com&amp;amp;amp;amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰&#010;ä¸‹åˆ3:53å†™é“ï¼š&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; æ‚¨å¥½ï¼Œæˆ‘ä¸»è¦æ˜¯è§‰å¾—Cacheçš„è‡ªåŠ¨è¿‡æœŸæ¯”è¾ƒå¥½ç”¨&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&gt; ------------------&amp;amp;amp;amp;amp;nbsp;åŸå§‹é‚®ä»¶&amp;amp;amp;amp;amp;nbsp;------------------&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; å‘ä»¶äºº:&amp;amp;amp;amp;amp;nbsp;\"Congxian Qiu\"&lt;&#013;&#010;&gt; qcx978132955@gmail.com&amp;amp;amp;amp;amp;gt;;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; å‘é€æ—¶é—´:&amp;amp;amp;amp;amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰)&#013;&#010;&gt; ä¸‹åˆ3:50&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; æ”¶ä»¶äºº:&amp;amp;amp;amp;amp;nbsp;\"user-zh\"&lt;&#013;&#010;&gt; user-zh@flink.apache.org&amp;amp;amp;amp;amp;gt;;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; ä¸»é¢˜:&amp;amp;amp;amp;amp;nbsp;Re: Stateé‡Œé¢ç”¨guava&#013;&#010;&gt; Cache&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; ä½ å¥½ï¼Œä¸ºä»€ä¹ˆéœ€è¦åœ¨ State é‡Œé¢å†ç”¨&#010;cache å‘¢ï¼Ÿå•çº¯çš„ State&#013;&#010;&gt; ä¸èƒ½æ»¡è¶³éœ€æ±‚å—ï¼Ÿéœ€æ±‚æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; å¦å¤–ï¼Œé™¤äº† ValueStateï¼Œå…¶ä»–çš„ ListState/MapState&#013;&#010;&gt; èƒ½å¦æ»¡è¶³ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; Best,&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; Congxian&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; op &lt;520075694@qq.com&amp;amp;amp;amp;amp;gt;&#013;&#010;&gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸Šåˆ10:31å†™é“ï¼š&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; &amp;amp;amp;amp;amp;gt; å¤§å®¶å¥½ï¼Œæˆ‘æƒ³ä½¿ç”¨ä¸€ä¸ª&#013;&#010;&gt; ValueState[Cache]çš„çŠ¶æ€ï¼Œä½†æ˜¯å‘ç°è¿™ä¸ªçŠ¶æ€çš„value æ²¡åŠæ³•æ›´æ–°ï¼Œ&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; &amp;amp;amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; &amp;amp;amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt; &amp;amp;amp;amp;gt; &amp;amp;amp;amp;amp;gt;&#013;&#010;&gt; &amp;amp;amp;gt;&#013;&#010;&gt; æ¯”å¦‚æˆ‘åœ¨mapé‡Œé¢æ¯æ¬¡å¾€cacheé‡Œé¢putä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åupdateè¿™ä¸ªstateï¼Œè¾“å‡ºcacheçš„é•¿åº¦ï¼Œä¸ºä»€ä¹ˆæ¯æ¬¡è¾“å‡ºé•¿åº¦éƒ½æ˜¯1&#013;&#010;",
        "depth": "2",
        "reply": "<tencent_3F5C73B959CB6D02BC487642B8A2E2E92E05@qq.com>"
    },
    {
        "id": "<CAJkeMpigE4eFQ8WBCVWQTCLOxhzD+5p5v3ZYaWejf1A-MonKmw@mail.gmail.com>",
        "from": "zilong xiao &lt;acidzz...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 12:54:58 GMT",
        "subject": "Flink SQLå¦‚ä½•å°†å¤šä¸ªè¡¨çš„æŸ¥è¯¢ç»“æœ(åˆ—ä¸åŒ)èšåˆæˆä¸€å¼ è¡¨",
        "content": "åˆ—å¦‚ä¸‹é¢è¿™æ ·ï¼Œéœ€è¦æŸ¥è¯¢table1 &amp; table2ï¼Œåˆ†åˆ«æŸ¥è¯¢ä¸åŒçš„å­—æ®µ&#013;&#010;åœ¨æœ€å¤–å±‚åšæ¯”å€¼ï¼Œflinkè²Œä¼¼è¯­æ³•æ£€æŸ¥ä¸é€šè¿‡ï¼Œåº”è¯¥æ€ä¹ˆå†™è¿™æ ·çš„SQLå‘¢ï¼Œæœ‰å‰è¾ˆå¯ä»¥æŒ‡å¯¼ä¸‹ä¸~&#013;&#010;select a.table_tmp1.r1 / a.table_tmp2.r2 as value0 from&#013;&#010;(&#013;&#010;(SELECT r1 FROM table1) AS table_tmp1, (SELECT r2 FROM table2) AS&#013;&#010;table_tmp2,&#013;&#010;)as a&#013;&#010;",
        "depth": "0",
        "reply": "<CAJkeMpigE4eFQ8WBCVWQTCLOxhzD+5p5v3ZYaWejf1A-MonKmw@mail.gmail.com>"
    },
    {
        "id": "<CADQYLGsYdL0apquv=3j7s3=LTf03+eXrn5B=xj6rRRUOw7iz3A@mail.gmail.com>",
        "from": "godfrey he &lt;godfre...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 13:24:46 GMT",
        "subject": "Re: Flink SQLå¦‚ä½•å°†å¤šä¸ªè¡¨çš„æŸ¥è¯¢ç»“æœ(åˆ—ä¸åŒ)èšåˆæˆä¸€å¼ è¡¨",
        "content": "select a.table_tmp1.r1 / a.table_tmp2.r2&#013;&#010;è¿™ä¸ªæ˜¯å¯¹åŒä¸€è¡Œçš„æ•°æ®è¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥ä½ éœ€è¦å…ˆå¯¹table_tmp1å’Œtable_tmp2åšä¸€ä¸ªjoinï¼Œå°†ä¸¤ä¸ªè¡¨çš„æ•°æ®æ ¹æ®æ¡ä»¶åˆå¹¶æˆä¸€å¼ è¡¨ã€‚&#013;&#010;&#013;&#010;&#013;&#010;zilong xiao &lt;acidzz163@gmail.com&gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ8:55å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; åˆ—å¦‚ä¸‹é¢è¿™æ ·ï¼Œéœ€è¦æŸ¥è¯¢table1 &amp; table2ï¼Œåˆ†åˆ«æŸ¥è¯¢ä¸åŒçš„å­—æ®µ&#013;&#010;&gt; åœ¨æœ€å¤–å±‚åšæ¯”å€¼ï¼Œflinkè²Œä¼¼è¯­æ³•æ£€æŸ¥ä¸é€šè¿‡ï¼Œåº”è¯¥æ€ä¹ˆå†™è¿™æ ·çš„SQLå‘¢ï¼Œæœ‰å‰è¾ˆå¯ä»¥æŒ‡å¯¼ä¸‹ä¸~&#013;&#010;&gt; select a.table_tmp1.r1 / a.table_tmp2.r2 as value0 from&#013;&#010;&gt; (&#013;&#010;&gt; (SELECT r1 FROM table1) AS table_tmp1, (SELECT r2 FROM table2) AS&#013;&#010;&gt; table_tmp2,&#013;&#010;&gt; )as a&#013;&#010;&gt;&#013;&#010;",
        "depth": "1",
        "reply": "<CAJkeMpigE4eFQ8WBCVWQTCLOxhzD+5p5v3ZYaWejf1A-MonKmw@mail.gmail.com>"
    },
    {
        "id": "<tencent_C1FAE5B4E824C24E533239F3F442388B0E09@qq.com>",
        "from": "&quot;cs&quot; &lt;58683...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 01:48:15 GMT",
        "subject": "å›å¤ï¼š Flink SQLå¦‚ä½•å°†å¤šä¸ªè¡¨çš„æŸ¥è¯¢ç»“æœ(åˆ—ä¸åŒ)èšåˆæˆä¸€å¼ è¡¨",
        "content": "ä½ å¾—æœ‰ä¸ªjoinæ¡ä»¶è¿æ¥ä¸¤å¼ è¡¨çš„&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;------------------&amp;nbsp;åŸå§‹é‚®ä»¶&amp;nbsp;------------------&#013;&#010;å‘ä»¶äºº:&amp;nbsp;\"godfrey he\"&lt;godfreyhe@gmail.com&amp;gt;;&#013;&#010;å‘é€æ—¶é—´:&amp;nbsp;2020å¹´7æœˆ8æ—¥(æ˜ŸæœŸä¸‰) æ™šä¸Š9:24&#013;&#010;æ”¶ä»¶äºº:&amp;nbsp;\"user-zh\"&lt;user-zh@flink.apache.org&amp;gt;;&#013;&#010;&#013;&#010;ä¸»é¢˜:&amp;nbsp;Re: Flink SQLå¦‚ä½•å°†å¤šä¸ªè¡¨çš„æŸ¥è¯¢ç»“æœ(åˆ—ä¸åŒ)èšåˆæˆä¸€å¼ è¡¨&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;select a.table_tmp1.r1 / a.table_tmp2.r2&#013;&#010;è¿™ä¸ªæ˜¯å¯¹åŒä¸€è¡Œçš„æ•°æ®è¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥ä½ éœ€è¦å…ˆå¯¹table_tmp1å’Œtable_tmp2åšä¸€ä¸ªjoinï¼Œå°†ä¸¤ä¸ªè¡¨çš„æ•°æ®æ ¹æ®æ¡ä»¶åˆå¹¶æˆä¸€å¼ è¡¨ã€‚&#013;&#010;&#013;&#010;&#013;&#010;zilong xiao &lt;acidzz163@gmail.com&amp;gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ8:55å†™é“ï¼š&#013;&#010;&#013;&#010;&amp;gt; åˆ—å¦‚ä¸‹é¢è¿™æ ·ï¼Œéœ€è¦æŸ¥è¯¢table1 &amp;amp; table2ï¼Œåˆ†åˆ«æŸ¥è¯¢ä¸åŒçš„å­—æ®µ&#013;&#010;&amp;gt; åœ¨æœ€å¤–å±‚åšæ¯”å€¼ï¼Œflinkè²Œä¼¼è¯­æ³•æ£€æŸ¥ä¸é€šè¿‡ï¼Œåº”è¯¥æ€ä¹ˆå†™è¿™æ ·çš„SQLå‘¢ï¼Œæœ‰å‰è¾ˆå¯ä»¥æŒ‡å¯¼ä¸‹ä¸~&#013;&#010;&amp;gt; select a.table_tmp1.r1 / a.table_tmp2.r2 as value0 from&#013;&#010;&amp;gt; (&#013;&#010;&amp;gt; (SELECT r1 FROM table1) AS table_tmp1, (SELECT r2 FROM table2) AS&#013;&#010;&amp;gt; table_tmp2,&#013;&#010;&amp;gt; )as a&#013;&#010;&amp;gt;",
        "depth": "2",
        "reply": "<CAJkeMpigE4eFQ8WBCVWQTCLOxhzD+5p5v3ZYaWejf1A-MonKmw@mail.gmail.com>"
    },
    {
        "id": "<tencent_C754DD5C1213930593C8A33143A751FCCD06@qq.com>",
        "from": "&quot;ã‚é‡è »éŠæˆ²Ï‡&quot; &lt;zhoujiazhi1...@vip.qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Wed, 08 Jul 2020 15:29:25 GMT",
        "subject": "flink-stateé—®é¢˜",
        "content": "Deal all&#013;&#010;&#013;&#010;&#013;&#010;å®˜ç½‘ä¸Šè®²è¿™äº› keyed stateï¼ˆValueState&lt;T&amp;gt;ï¼ŒReducingState&lt;T&amp;gt; ï¼ŒListState&lt;T&amp;gt;&#010;ï¼ŒAggregatingState&lt;IN, OUT&amp;gt; ï¼ŒMapState&lt;UK, UV&amp;gt; ï¼‰&#013;&#010;æ”¯æŒåœ¨keyed streamä¸­ä½¿ç”¨ï¼Œè¨€ä¸‹ä¹‹æ„å°±æ˜¯åªèƒ½åœ¨KeyedProcessFunctionä¸­ä½¿ç”¨ï¼Ÿä½†æ˜¯å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘åœ¨ProcessAllWindowFunctionå’ŒProcessWindowFunctionä¹Ÿèƒ½ä½¿ç”¨ä¸Šè¿°è¿™äº›Stateï¼Œè¿™æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;è°¢è°¢&#013;&#010;jiazhi",
        "depth": "0",
        "reply": "<tencent_C754DD5C1213930593C8A33143A751FCCD06@qq.com>"
    },
    {
        "id": "<CAA8tFvt2SCxFYEYbyf_wdBxBC1HJa5SQ2CtGu5-ercThQNA4bQ@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 02:08:26 GMT",
        "subject": "Re: flink-stateé—®é¢˜",
        "content": "Hi&#013;&#010;&#013;&#010;keyed state åªèƒ½åœ¨ keyeed stream ä¸­ä½¿ç”¨ã€‚ProcessAllWindowFunction å’Œ&#013;&#010;ProcessWindowFunction è¿™ä¸¤ä¸ªéƒ½æ˜¯ Window ä¸Šçš„ functionï¼Œwindow å·²ç»æ˜¯ keyed stream&#010;äº†&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;ã‚é‡è »éŠæˆ²Ï‡ &lt;zhoujiazhi1985@vip.qq.com&gt; äº2020å¹´7æœˆ8æ—¥å‘¨ä¸‰ ä¸‹åˆ11:29å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Deal all&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; å®˜ç½‘ä¸Šè®²è¿™äº› keyed stateï¼ˆValueState&lt;T&amp;gt;ï¼ŒReducingState&lt;T&amp;gt;&#010;ï¼ŒListState&lt;T&amp;gt;&#013;&#010;&gt; ï¼ŒAggregatingState&lt;IN, OUT&amp;gt; ï¼ŒMapState&lt;UK, UV&amp;gt; ï¼‰&#013;&#010;&gt; æ”¯æŒåœ¨keyed&#013;&#010;&gt; streamä¸­ä½¿ç”¨ï¼Œè¨€ä¸‹ä¹‹æ„å°±æ˜¯åªèƒ½åœ¨KeyedProcessFunctionä¸­ä½¿ç”¨ï¼Ÿä½†æ˜¯å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘åœ¨ProcessAllWindowFunctionå’ŒProcessWindowFunctionä¹Ÿèƒ½ä½¿ç”¨ä¸Šè¿°è¿™äº›Stateï¼Œè¿™æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; è°¢è°¢&#013;&#010;&gt; jiazhi&#013;&#010;",
        "depth": "1",
        "reply": "<tencent_C754DD5C1213930593C8A33143A751FCCD06@qq.com>"
    },
    {
        "id": "<tencent_E464A70C95F4D39BF5B3D62F96BE995A2908@qq.com>",
        "from": "&quot;Evan&quot; &lt;chengyanan1...@foxmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 01:38:01 GMT",
        "subject": "ä»£ç ä¸­å¦‚ä½•å–æ¶ˆæ­£åœ¨è¿è¡Œçš„Flink Streamingä½œä¸š",
        "content": "è¿™ä¸ªé—®é¢˜ä¹‹å‰çœ‹åˆ°è¿‡æœ‰äººåœ¨é—®ï¼Œä½†æ˜¯æ²¡æœ‰çœ‹åˆ°ç­”æ¡ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼ŒFlink&#010;Streaming APIæœ‰æ²¡æœ‰æä¾›ç±»ä¼¼çš„æ¥å£ï¼Œè°ƒç”¨åå°±èƒ½åœæ­¢è¿™ä¸ªStreamä½œä¸šå‘¢ï¼Ÿ",
        "depth": "0",
        "reply": "<tencent_E464A70C95F4D39BF5B3D62F96BE995A2908@qq.com>"
    },
    {
        "id": "<CADQYLGuGUKoTcfBXf_kgpu_HjPVoYPy9+eEimjT6vrQ_hvsk_g@mail.gmail.com>",
        "from": "godfrey he &lt;godfre...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 02:07:33 GMT",
        "subject": "Re: ä»£ç ä¸­å¦‚ä½•å–æ¶ˆæ­£åœ¨è¿è¡Œçš„Flink Streamingä½œä¸š",
        "content": "å¯ä»¥é€šè¿‡ StreamExecutionEnvironment#executeAsync æäº¤ä½œä¸šï¼Œè¿”å› JobClient [1], é€šè¿‡&#013;&#010;JobClient å¯ä»¥ cancel ä½œä¸šï¼Œè·å– job statusã€‚&#013;&#010;&#013;&#010;[1]&#013;&#010;https://cwiki.apache.org/confluence/display/FLINK/FLIP-74%3A+Flink+JobClient+API&#013;&#010;&#013;&#010;Best,&#013;&#010;Godfrey&#013;&#010;&#013;&#010;Evan &lt;chengyanan1008@foxmail.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸Šåˆ9:40å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; è¿™ä¸ªé—®é¢˜ä¹‹å‰çœ‹åˆ°è¿‡æœ‰äººåœ¨é—®ï¼Œä½†æ˜¯æ²¡æœ‰çœ‹åˆ°ç­”æ¡ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼ŒFlink&#010;Streaming&#013;&#010;&gt; APIæœ‰æ²¡æœ‰æä¾›ç±»ä¼¼çš„æ¥å£ï¼Œè°ƒç”¨åå°±èƒ½åœæ­¢è¿™ä¸ªStreamä½œä¸šå‘¢ï¼Ÿ&#013;&#010;",
        "depth": "1",
        "reply": "<tencent_E464A70C95F4D39BF5B3D62F96BE995A2908@qq.com>"
    },
    {
        "id": "<CAA8tFvsHS1=inU27OXQ0PYeFc-zWWf8iZvCAOC9pdAnaUO2QWw@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Sat, 11 Jul 2020 08:19:33 GMT",
        "subject": "Re: ä»£ç ä¸­å¦‚ä½•å–æ¶ˆæ­£åœ¨è¿è¡Œçš„Flink Streamingä½œä¸š",
        "content": "Hi&#013;&#010;&#013;&#010;å¦‚æœä½ æ˜¯æƒ³åšä¸€ä¸ªä½œä¸šç®¡ç†çš„å¹³å°ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹ CliFrontend[1] ä¸­ç›¸å…³çš„é€»è¾‘ï¼Œå¯¹äº&#010;On Yarn&#013;&#010;çš„ä½œä¸šï¼Œç®€å•åœ°è¯´ä½ éœ€è¦èƒ½å¤Ÿæ­£ç¡®çš„åˆå§‹åŒ–ä¸€ä¸ª client å’Œ Yarn RM äº¤äº’ï¼Œç„¶åä½ éœ€è¦çŸ¥é“&#010;applicationIdï¼Œå¦å¤–ä½ è¿˜éœ€è¦çŸ¥é“&#013;&#010;flink çš„ JobIdï¼Œæ¥ä¸‹æ¥å°±æ˜¯è°ƒç”¨ Flink çš„æ¥å£äº†&#013;&#010;&#013;&#010;å¦‚æœåƒæ›´å¤šçš„äº†è§£å‚æ•°å¦‚ä»å’Œå‘½ä»¤è¡Œä¼ åˆ° java ä»£ç çš„ï¼Œä½ å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªå•å…ƒæµ‹è¯•ï¼Œå•æ­¥è°ƒè¯•ä¸€ä¸‹æ•´ä¸ªæµç¨‹ã€‚&#013;&#010;&#013;&#010;[1]&#013;&#010;https://github.com/apache/flink/blob/master/flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;godfrey he &lt;godfreyhe@gmail.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸Šåˆ10:08å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; å¯ä»¥é€šè¿‡ StreamExecutionEnvironment#executeAsync æäº¤ä½œä¸šï¼Œè¿”å› JobClient&#010;[1], é€šè¿‡&#013;&#010;&gt; JobClient å¯ä»¥ cancel ä½œä¸šï¼Œè·å– job statusã€‚&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt;&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-74%3A+Flink+JobClient+API&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Godfrey&#013;&#010;&gt;&#013;&#010;&gt; Evan &lt;chengyanan1008@foxmail.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸Šåˆ9:40å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; è¿™ä¸ªé—®é¢˜ä¹‹å‰çœ‹åˆ°è¿‡æœ‰äººåœ¨é—®ï¼Œä½†æ˜¯æ²¡æœ‰çœ‹åˆ°ç­”æ¡ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼ŒFlink&#010;Streaming&#013;&#010;&gt; &gt; APIæœ‰æ²¡æœ‰æä¾›ç±»ä¼¼çš„æ¥å£ï¼Œè°ƒç”¨åå°±èƒ½åœæ­¢è¿™ä¸ªStreamä½œä¸šå‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;",
        "depth": "2",
        "reply": "<tencent_E464A70C95F4D39BF5B3D62F96BE995A2908@qq.com>"
    },
    {
        "id": "<768ab633.34de.1733d1354f9.Coremail.rjianxu@163.com>",
        "from": "jianxu &lt;rjia...@163.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Sat, 11 Jul 2020 08:52:23 GMT",
        "subject": "å›å¤ï¼š ä»£ç ä¸­å¦‚ä½•å–æ¶ˆæ­£åœ¨è¿è¡Œçš„Flink Streamingä½œä¸š",
        "content": "Hi:&#010;    æˆ‘æƒ³ï¼Œä½ å¯èƒ½æ‰“ç®—é€šè¿‡APIçš„æ–¹å¼æ¥å–æ¶ˆæ­£åœ¨è¿è¡Œçš„æµä»»åŠ¡ã€‚Flinkä»»åŠ¡æäº¤æ—¶éœ€è¦æ„å»ºClusterClientï¼Œæäº¤æˆåŠŸåä¼šè¿”å›ä»»åŠ¡å¯¹åº”çš„JobIdã€‚ä»»åŠ¡å–æ¶ˆæ—¶ï¼Œé€šè¿‡è°ƒç”¨ClusterClientçš„cancel(JobID&#010;jobId)å–æ¶ˆæµä»»åŠ¡ã€‚&#010;    Flinkæºç å¯ä»¥çœ‹çœ‹ CliFrontend[1]ä¸­çš„é€»è¾‘ï¼Œå¦‚æœè§‰å¾—æ¯”è¾ƒéº»çƒ¦å¯ä»¥å‚è€ƒhttps://github.com/todd5167/flink-spark-submiteré¡¹ç›®çš„ä»»åŠ¡æäº¤éƒ¨åˆ†ï¼Œå–æ¶ˆä»»åŠ¡æ—¶æ„å»ºClusterClientå³å¯ã€‚&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;&#010;| |&#010;jianxu&#010;|&#010;|&#010;rjianxu@163.com&#010;|&#010;&#010;&#010;&#010;&#010;åœ¨2020å¹´07æœˆ11æ—¥ 16:19ï¼ŒCongxian Qiu&lt;qcx978132955@gmail.com&gt; å†™é“ï¼š&#010;Hi&#010;&#010;å¦‚æœä½ æ˜¯æƒ³åšä¸€ä¸ªä½œä¸šç®¡ç†çš„å¹³å°ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹ CliFrontend[1] ä¸­ç›¸å…³çš„é€»è¾‘ï¼Œå¯¹äº&#010;On Yarn&#010;çš„ä½œä¸šï¼Œç®€å•åœ°è¯´ä½ éœ€è¦èƒ½å¤Ÿæ­£ç¡®çš„åˆå§‹åŒ–ä¸€ä¸ª client å’Œ Yarn RM äº¤äº’ï¼Œç„¶åä½ éœ€è¦çŸ¥é“&#010;applicationIdï¼Œå¦å¤–ä½ è¿˜éœ€è¦çŸ¥é“&#010;flink çš„ JobIdï¼Œæ¥ä¸‹æ¥å°±æ˜¯è°ƒç”¨ Flink çš„æ¥å£äº†&#010;&#010;å¦‚æœåƒæ›´å¤šçš„äº†è§£å‚æ•°å¦‚ä»å’Œå‘½ä»¤è¡Œä¼ åˆ° java ä»£ç çš„ï¼Œä½ å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªå•å…ƒæµ‹è¯•ï¼Œå•æ­¥è°ƒè¯•ä¸€ä¸‹æ•´ä¸ªæµç¨‹ã€‚&#010;&#010;[1]&#010;https://github.com/apache/flink/blob/master/flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java&#010;&#010;Best,&#010;Congxian&#010;&#010;&#010;godfrey he &lt;godfreyhe@gmail.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸Šåˆ10:08å†™é“ï¼š&#010;&#010;å¯ä»¥é€šè¿‡ StreamExecutionEnvironment#executeAsync æäº¤ä½œä¸šï¼Œè¿”å› JobClient [1],&#010;é€šè¿‡&#010;JobClient å¯ä»¥ cancel ä½œä¸šï¼Œè·å– job statusã€‚&#010;&#010;[1]&#010;&#010;https://cwiki.apache.org/confluence/display/FLINK/FLIP-74%3A+Flink+JobClient+API&#010;&#010;Best,&#010;Godfrey&#010;&#010;Evan &lt;chengyanan1008@foxmail.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸Šåˆ9:40å†™é“ï¼š&#010;&#010;è¿™ä¸ªé—®é¢˜ä¹‹å‰çœ‹åˆ°è¿‡æœ‰äººåœ¨é—®ï¼Œä½†æ˜¯æ²¡æœ‰çœ‹åˆ°ç­”æ¡ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼ŒFlink&#010;Streaming&#010;APIæœ‰æ²¡æœ‰æä¾›ç±»ä¼¼çš„æ¥å£ï¼Œè°ƒç”¨åå°±èƒ½åœæ­¢è¿™ä¸ªStreamä½œä¸šå‘¢ï¼Ÿ&#010;&#010;",
        "depth": "3",
        "reply": "<tencent_E464A70C95F4D39BF5B3D62F96BE995A2908@qq.com>"
    },
    {
        "id": "<CAADy7x5aRSComw0ZZ7MThZsF6e-xBKVm_L+q=RzROjFkpPziuw@mail.gmail.com>",
        "from": "Jeff Zhang &lt;zjf...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Sat, 11 Jul 2020 15:23:18 GMT",
        "subject": "Re: ä»£ç ä¸­å¦‚ä½•å–æ¶ˆæ­£åœ¨è¿è¡Œçš„Flink Streamingä½œä¸š",
        "content": "Zeppelin èƒ½å¤Ÿå¸®ä½ æäº¤å’Œcancel jobï¼Œå°±æ˜¯é€šè¿‡ä¸Šé¢jianxuè¯´çš„ClusterClient&#013;&#010;apiæ¥åšåˆ°çš„ï¼Œå¯¹zeppelinæ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªè§†é¢‘&#013;&#010;&#013;&#010;https://www.bilibili.com/video/BV1Te411W73b?p=21&#013;&#010;&#013;&#010;&#013;&#010;jianxu &lt;rjianxu@163.com&gt; äº2020å¹´7æœˆ11æ—¥å‘¨å…­ ä¸‹åˆ4:52å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Hi:&#013;&#010;&gt;&#013;&#010;&gt; æˆ‘æƒ³ï¼Œä½ å¯èƒ½æ‰“ç®—é€šè¿‡APIçš„æ–¹å¼æ¥å–æ¶ˆæ­£åœ¨è¿è¡Œçš„æµä»»åŠ¡ã€‚Flinkä»»åŠ¡æäº¤æ—¶éœ€è¦æ„å»ºClusterClientï¼Œæäº¤æˆåŠŸåä¼šè¿”å›ä»»åŠ¡å¯¹åº”çš„JobIdã€‚ä»»åŠ¡å–æ¶ˆæ—¶ï¼Œé€šè¿‡è°ƒç”¨ClusterClientçš„cancel(JobID&#013;&#010;&gt; jobId)å–æ¶ˆæµä»»åŠ¡ã€‚&#013;&#010;&gt;     Flinkæºç å¯ä»¥çœ‹çœ‹ CliFrontend[1]ä¸­çš„é€»è¾‘ï¼Œå¦‚æœè§‰å¾—æ¯”è¾ƒéº»çƒ¦å¯ä»¥å‚è€ƒ&#013;&#010;&gt; https://github.com/todd5167/flink-spark-submiter&#013;&#010;&gt; é¡¹ç›®çš„ä»»åŠ¡æäº¤éƒ¨åˆ†ï¼Œå–æ¶ˆä»»åŠ¡æ—¶æ„å»ºClusterClientå³å¯ã€‚&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; | |&#013;&#010;&gt; jianxu&#013;&#010;&gt; |&#013;&#010;&gt; |&#013;&#010;&gt; rjianxu@163.com&#013;&#010;&gt; |&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; åœ¨2020å¹´07æœˆ11æ—¥ 16:19ï¼ŒCongxian Qiu&lt;qcx978132955@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; Hi&#013;&#010;&gt;&#013;&#010;&gt; å¦‚æœä½ æ˜¯æƒ³åšä¸€ä¸ªä½œä¸šç®¡ç†çš„å¹³å°ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹ CliFrontend[1]&#010;ä¸­ç›¸å…³çš„é€»è¾‘ï¼Œå¯¹äº On Yarn&#013;&#010;&gt; çš„ä½œä¸šï¼Œç®€å•åœ°è¯´ä½ éœ€è¦èƒ½å¤Ÿæ­£ç¡®çš„åˆå§‹åŒ–ä¸€ä¸ª client å’Œ Yarn RM äº¤äº’ï¼Œç„¶åä½ éœ€è¦çŸ¥é“&#010;applicationIdï¼Œå¦å¤–ä½ è¿˜éœ€è¦çŸ¥é“&#013;&#010;&gt; flink çš„ JobIdï¼Œæ¥ä¸‹æ¥å°±æ˜¯è°ƒç”¨ Flink çš„æ¥å£äº†&#013;&#010;&gt;&#013;&#010;&gt; å¦‚æœåƒæ›´å¤šçš„äº†è§£å‚æ•°å¦‚ä»å’Œå‘½ä»¤è¡Œä¼ åˆ° java ä»£ç çš„ï¼Œä½ å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªå•å…ƒæµ‹è¯•ï¼Œå•æ­¥è°ƒè¯•ä¸€ä¸‹æ•´ä¸ªæµç¨‹ã€‚&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt;&#013;&#010;&gt; https://github.com/apache/flink/blob/master/flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Congxian&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; godfrey he &lt;godfreyhe@gmail.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸Šåˆ10:08å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; å¯ä»¥é€šè¿‡ StreamExecutionEnvironment#executeAsync æäº¤ä½œä¸šï¼Œè¿”å› JobClient&#010;[1], é€šè¿‡&#013;&#010;&gt; JobClient å¯ä»¥ cancel ä½œä¸šï¼Œè·å– job statusã€‚&#013;&#010;&gt;&#013;&#010;&gt; [1]&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-74%3A+Flink+JobClient+API&#013;&#010;&gt;&#013;&#010;&gt; Best,&#013;&#010;&gt; Godfrey&#013;&#010;&gt;&#013;&#010;&gt; Evan &lt;chengyanan1008@foxmail.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸Šåˆ9:40å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; è¿™ä¸ªé—®é¢˜ä¹‹å‰çœ‹åˆ°è¿‡æœ‰äººåœ¨é—®ï¼Œä½†æ˜¯æ²¡æœ‰çœ‹åˆ°ç­”æ¡ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼ŒFlink&#010;Streaming&#013;&#010;&gt; APIæœ‰æ²¡æœ‰æä¾›ç±»ä¼¼çš„æ¥å£ï¼Œè°ƒç”¨åå°±èƒ½åœæ­¢è¿™ä¸ªStreamä½œä¸šå‘¢ï¼Ÿ&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&#013;&#010;-- &#013;&#010;Best Regards&#013;&#010;&#013;&#010;Jeff Zhang&#013;&#010;",
        "depth": "4",
        "reply": "<tencent_E464A70C95F4D39BF5B3D62F96BE995A2908@qq.com>"
    },
    {
        "id": "<CAMhjQvjW1KWD-BP6tk7yvTfNvTW8TMCG9tsAKpwhOaBg8npG6Q@mail.gmail.com>",
        "from": "zhisheng &lt;zhisheng2...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 04:53:04 GMT",
        "subject": "Re: ä»£ç ä¸­å¦‚ä½•å–æ¶ˆæ­£åœ¨è¿è¡Œçš„Flink Streamingä½œä¸š",
        "content": "å¦‚æœæ˜¯ on yarn çš„è¯ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨ yarn çš„ kill å‘½ä»¤åœæ­¢ä½œä¸š&#013;&#010;&#013;&#010;Jeff Zhang &lt;zjffdu@gmail.com&gt; äº2020å¹´7æœˆ11æ—¥å‘¨å…­ ä¸‹åˆ11:23å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; Zeppelin èƒ½å¤Ÿå¸®ä½ æäº¤å’Œcancel jobï¼Œå°±æ˜¯é€šè¿‡ä¸Šé¢jianxuè¯´çš„ClusterClient&#013;&#010;&gt; apiæ¥åšåˆ°çš„ï¼Œå¯¹zeppelinæ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªè§†é¢‘&#013;&#010;&gt;&#013;&#010;&gt; https://www.bilibili.com/video/BV1Te411W73b?p=21&#013;&#010;&gt;&#013;&#010;&gt;&#013;&#010;&gt; jianxu &lt;rjianxu@163.com&gt; äº2020å¹´7æœˆ11æ—¥å‘¨å…­ ä¸‹åˆ4:52å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Hi:&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; æˆ‘æƒ³ï¼Œä½ å¯èƒ½æ‰“ç®—é€šè¿‡APIçš„æ–¹å¼æ¥å–æ¶ˆæ­£åœ¨è¿è¡Œçš„æµä»»åŠ¡ã€‚Flinkä»»åŠ¡æäº¤æ—¶éœ€è¦æ„å»ºClusterClientï¼Œæäº¤æˆåŠŸåä¼šè¿”å›ä»»åŠ¡å¯¹åº”çš„JobIdã€‚ä»»åŠ¡å–æ¶ˆæ—¶ï¼Œé€šè¿‡è°ƒç”¨ClusterClientçš„cancel(JobID&#013;&#010;&gt; &gt; jobId)å–æ¶ˆæµä»»åŠ¡ã€‚&#013;&#010;&gt; &gt;     Flinkæºç å¯ä»¥çœ‹çœ‹ CliFrontend[1]ä¸­çš„é€»è¾‘ï¼Œå¦‚æœè§‰å¾—æ¯”è¾ƒéº»çƒ¦å¯ä»¥å‚è€ƒ&#013;&#010;&gt; &gt; https://github.com/todd5167/flink-spark-submiter&#013;&#010;&gt; &gt; é¡¹ç›®çš„ä»»åŠ¡æäº¤éƒ¨åˆ†ï¼Œå–æ¶ˆä»»åŠ¡æ—¶æ„å»ºClusterClientå³å¯ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; | |&#013;&#010;&gt; &gt; jianxu&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt; rjianxu@163.com&#013;&#010;&gt; &gt; |&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; åœ¨2020å¹´07æœˆ11æ—¥ 16:19ï¼ŒCongxian Qiu&lt;qcx978132955@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt; Hi&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; å¦‚æœä½ æ˜¯æƒ³åšä¸€ä¸ªä½œä¸šç®¡ç†çš„å¹³å°ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹ CliFrontend[1]&#010;ä¸­ç›¸å…³çš„é€»è¾‘ï¼Œå¯¹äº On Yarn&#013;&#010;&gt; &gt; çš„ä½œä¸šï¼Œç®€å•åœ°è¯´ä½ éœ€è¦èƒ½å¤Ÿæ­£ç¡®çš„åˆå§‹åŒ–ä¸€ä¸ª client å’Œ Yarn&#010;RM äº¤äº’ï¼Œç„¶åä½ éœ€è¦çŸ¥é“ applicationIdï¼Œå¦å¤–ä½ è¿˜éœ€è¦çŸ¥é“&#013;&#010;&gt; &gt; flink çš„ JobIdï¼Œæ¥ä¸‹æ¥å°±æ˜¯è°ƒç”¨ Flink çš„æ¥å£äº†&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; å¦‚æœåƒæ›´å¤šçš„äº†è§£å‚æ•°å¦‚ä»å’Œå‘½ä»¤è¡Œä¼ åˆ° java ä»£ç çš„ï¼Œä½ å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªå•å…ƒæµ‹è¯•ï¼Œå•æ­¥è°ƒè¯•ä¸€ä¸‹æ•´ä¸ªæµç¨‹ã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; [1]&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://github.com/apache/flink/blob/master/flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Best,&#013;&#010;&gt; &gt; Congxian&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; godfrey he &lt;godfreyhe@gmail.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸Šåˆ10:08å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; å¯ä»¥é€šè¿‡ StreamExecutionEnvironment#executeAsync æäº¤ä½œä¸šï¼Œè¿”å› JobClient&#010;[1], é€šè¿‡&#013;&#010;&gt; &gt; JobClient å¯ä»¥ cancel ä½œä¸šï¼Œè·å– job statusã€‚&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; [1]&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-74%3A+Flink+JobClient+API&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Best,&#013;&#010;&gt; &gt; Godfrey&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Evan &lt;chengyanan1008@foxmail.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸Šåˆ9:40å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; è¿™ä¸ªé—®é¢˜ä¹‹å‰çœ‹åˆ°è¿‡æœ‰äººåœ¨é—®ï¼Œä½†æ˜¯æ²¡æœ‰çœ‹åˆ°ç­”æ¡ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼ŒFlink&#010;Streaming&#013;&#010;&gt; &gt; APIæœ‰æ²¡æœ‰æä¾›ç±»ä¼¼çš„æ¥å£ï¼Œè°ƒç”¨åå°±èƒ½åœæ­¢è¿™ä¸ªStreamä½œä¸šå‘¢ï¼Ÿ&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;&gt; --&#013;&#010;&gt; Best Regards&#013;&#010;&gt;&#013;&#010;&gt; Jeff Zhang&#013;&#010;&gt;&#013;&#010;",
        "depth": "5",
        "reply": "<tencent_E464A70C95F4D39BF5B3D62F96BE995A2908@qq.com>"
    },
    {
        "id": "<CAA8tFvt8fziHjPT-s_R+3W5OBNSAE+kG_ok=hwbDVZtDvrtz5A@mail.gmail.com>",
        "from": "Congxian Qiu &lt;qcx978132...@gmail.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Tue, 14 Jul 2020 05:48:34 GMT",
        "subject": "Re: ä»£ç ä¸­å¦‚ä½•å–æ¶ˆæ­£åœ¨è¿è¡Œçš„Flink Streamingä½œä¸š",
        "content": "Hi&#013;&#010;&#013;&#010;å¦‚æœå¯ä»¥çš„è¯ï¼Œå»ºè®®å…ˆè°ƒç”¨ RestClient çš„ stop ç­‰å‘½ä»¤ï¼ˆè¿™æ ·å¯ä»¥åœ¨æœ€ååšä¸€æ¬¡&#010;savepointï¼Œæˆ–è€… checkpoint -- è¿™ä¸ª&#013;&#010;FLINK-12619 æƒ³åšï¼‰ï¼Œç„¶åå¤±è´¥å†ä½¿ç”¨ yarn çš„ kill å‘½ä»¤ï¼Œè¿™æ ·èƒ½å¤Ÿå‡å°‘åç»­å¯åŠ¨æ—¶çš„å›æ”¾æ•°æ®é‡&#013;&#010;&#013;&#010;Best,&#013;&#010;Congxian&#013;&#010;&#013;&#010;&#013;&#010;zhisheng &lt;zhisheng2018@gmail.com&gt; äº2020å¹´7æœˆ14æ—¥å‘¨äºŒ ä¸‹åˆ12:53å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; å¦‚æœæ˜¯ on yarn çš„è¯ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨ yarn çš„ kill å‘½ä»¤åœæ­¢ä½œä¸š&#013;&#010;&gt;&#013;&#010;&gt; Jeff Zhang &lt;zjffdu@gmail.com&gt; äº2020å¹´7æœˆ11æ—¥å‘¨å…­ ä¸‹åˆ11:23å†™é“ï¼š&#013;&#010;&gt;&#013;&#010;&gt; &gt; Zeppelin èƒ½å¤Ÿå¸®ä½ æäº¤å’Œcancel jobï¼Œå°±æ˜¯é€šè¿‡ä¸Šé¢jianxuè¯´çš„ClusterClient&#013;&#010;&gt; &gt; apiæ¥åšåˆ°çš„ï¼Œå¯¹zeppelinæ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªè§†é¢‘&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; https://www.bilibili.com/video/BV1Te411W73b?p=21&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; jianxu &lt;rjianxu@163.com&gt; äº2020å¹´7æœˆ11æ—¥å‘¨å…­ ä¸‹åˆ4:52å†™é“ï¼š&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; &gt; Hi:&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; æˆ‘æƒ³ï¼Œä½ å¯èƒ½æ‰“ç®—é€šè¿‡APIçš„æ–¹å¼æ¥å–æ¶ˆæ­£åœ¨è¿è¡Œçš„æµä»»åŠ¡ã€‚Flinkä»»åŠ¡æäº¤æ—¶éœ€è¦æ„å»ºClusterClientï¼Œæäº¤æˆåŠŸåä¼šè¿”å›ä»»åŠ¡å¯¹åº”çš„JobIdã€‚ä»»åŠ¡å–æ¶ˆæ—¶ï¼Œé€šè¿‡è°ƒç”¨ClusterClientçš„cancel(JobID&#013;&#010;&gt; &gt; &gt; jobId)å–æ¶ˆæµä»»åŠ¡ã€‚&#013;&#010;&gt; &gt; &gt;     Flinkæºç å¯ä»¥çœ‹çœ‹ CliFrontend[1]ä¸­çš„é€»è¾‘ï¼Œå¦‚æœè§‰å¾—æ¯”è¾ƒéº»çƒ¦å¯ä»¥å‚è€ƒ&#013;&#010;&gt; &gt; &gt; https://github.com/todd5167/flink-spark-submiter&#013;&#010;&gt; &gt; &gt; é¡¹ç›®çš„ä»»åŠ¡æäº¤éƒ¨åˆ†ï¼Œå–æ¶ˆä»»åŠ¡æ—¶æ„å»ºClusterClientå³å¯ã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; | |&#013;&#010;&gt; &gt; &gt; jianxu&#013;&#010;&gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt; rjianxu@163.com&#013;&#010;&gt; &gt; &gt; |&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; åœ¨2020å¹´07æœˆ11æ—¥ 16:19ï¼ŒCongxian Qiu&lt;qcx978132955@gmail.com&gt; å†™é“ï¼š&#013;&#010;&gt; &gt; &gt; Hi&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; å¦‚æœä½ æ˜¯æƒ³åšä¸€ä¸ªä½œä¸šç®¡ç†çš„å¹³å°ï¼Œå¯ä»¥å°è¯•çœ‹ä¸€ä¸‹ CliFrontend[1]&#010;ä¸­ç›¸å…³çš„é€»è¾‘ï¼Œå¯¹äº On Yarn&#013;&#010;&gt; &gt; &gt; çš„ä½œä¸šï¼Œç®€å•åœ°è¯´ä½ éœ€è¦èƒ½å¤Ÿæ­£ç¡®çš„åˆå§‹åŒ–ä¸€ä¸ª client å’Œ&#010;Yarn RM äº¤äº’ï¼Œç„¶åä½ éœ€è¦çŸ¥é“&#013;&#010;&gt; applicationIdï¼Œå¦å¤–ä½ è¿˜éœ€è¦çŸ¥é“&#013;&#010;&gt; &gt; &gt; flink çš„ JobIdï¼Œæ¥ä¸‹æ¥å°±æ˜¯è°ƒç”¨ Flink çš„æ¥å£äº†&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; å¦‚æœåƒæ›´å¤šçš„äº†è§£å‚æ•°å¦‚ä»å’Œå‘½ä»¤è¡Œä¼ åˆ° java ä»£ç çš„ï¼Œä½ å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªå•å…ƒæµ‹è¯•ï¼Œå•æ­¥è°ƒè¯•ä¸€ä¸‹æ•´ä¸ªæµç¨‹ã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; [1]&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://github.com/apache/flink/blob/master/flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; Best,&#013;&#010;&gt; &gt; &gt; Congxian&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; godfrey he &lt;godfreyhe@gmail.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸Šåˆ10:08å†™é“ï¼š&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; å¯ä»¥é€šè¿‡ StreamExecutionEnvironment#executeAsync æäº¤ä½œä¸šï¼Œè¿”å›&#010;JobClient [1], é€šè¿‡&#013;&#010;&gt; &gt; &gt; JobClient å¯ä»¥ cancel ä½œä¸šï¼Œè·å– job statusã€‚&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; [1]&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; https://cwiki.apache.org/confluence/display/FLINK/FLIP-74%3A+Flink+JobClient+API&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; Best,&#013;&#010;&gt; &gt; &gt; Godfrey&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; Evan &lt;chengyanan1008@foxmail.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸Šåˆ9:40å†™é“ï¼š&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt; è¿™ä¸ªé—®é¢˜ä¹‹å‰çœ‹åˆ°è¿‡æœ‰äººåœ¨é—®ï¼Œä½†æ˜¯æ²¡æœ‰çœ‹åˆ°ç­”æ¡ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼ŒFlink&#010;Streaming&#013;&#010;&gt; &gt; &gt; APIæœ‰æ²¡æœ‰æä¾›ç±»ä¼¼çš„æ¥å£ï¼Œè°ƒç”¨åå°±èƒ½åœæ­¢è¿™ä¸ªStreamä½œä¸šå‘¢ï¼Ÿ&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt; &gt;&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; --&#013;&#010;&gt; &gt; Best Regards&#013;&#010;&gt; &gt;&#013;&#010;&gt; &gt; Jeff Zhang&#013;&#010;&gt; &gt;&#013;&#010;&gt;&#013;&#010;",
        "depth": "6",
        "reply": "<tencent_E464A70C95F4D39BF5B3D62F96BE995A2908@qq.com>"
    },
    {
        "id": "<1594263335204-0.post@n8.nabble.com>",
        "from": "jindy_liu &lt;286729...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 02:55:35 GMT",
        "subject": "Re: Re: Flink å¤šSink æ•°æ®ä¸€è‡´æ€§ä¿è¯",
        "content": "è¯·é—®ä¸‹ï¼Œä½ è¿™ä¸ªæœ€åæ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Œèƒ½shareä¸‹æºç å—ï¼Ÿ&#013;&#010;æ˜¯éœ€è¦å°†ä¸¤ä¸ªsinkåˆå¹¶åˆ°ä¸€ä¸ªsinké‡Œï¼Œç„¶åå†å®ç°ä¸‹äºŒé˜¶æ®µæäº¤å—ï¼Ÿ&#013;&#010;æˆ‘ä¹Ÿé‡åˆ°ä¸ªå¤šsinkçš„åŸå­æ€§åœºæ™¯ã€‚&#010;&#010;&#010;&#013;&#010;--&#013;&#010;Sent from: http://apache-flink.147419.n8.nabble.com/",
        "depth": "1",
        "reply": "<1594263335204-0.post@n8.nabble.com>"
    },
    {
        "id": "<fb39b4b9-3470-4932-a5b4-952e88c2dd4f.yungao.gy@aliyun.com>",
        "from": "&quot;Yun Gao&quot; &lt;yungao...@aliyun.com.INVALID&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Fri, 10 Jul 2020 12:56:31 GMT",
        "subject": "Re: Re: Re: Flink å¤šSink æ•°æ®ä¸€è‡´æ€§ä¿è¯",
        "content": "å¤šä¸ªsinkå¦‚æœéƒ½æŒ‰TwoPhaseCommitSinkFunctionæ¥åšçš„è¯ï¼Œæ˜¯å¯ä»¥å®ç°å¤šsinkä¸€è‡´æ€§çš„ã€‚å¤§ä½“ä¸Šå¯ä»¥è®¤ä¸ºåªè¦æœ‰ä¸€ä¸ªsinkå‡ºé”™ï¼Œæ•´ä¸ªä½œä¸šéƒ½ä¼šfailoverï¼Œå…¶å®ƒsinkå½“å‰çš„äº‹åŠ¡ä¹Ÿä¼šè·Ÿç€abortæ‰ï¼Œç„¶åæ•´ä¸ªä½œä¸šå›é€€åˆ°ä¸Šä¸€æ¬¡checkpointå¼€å§‹æ‰§è¡Œã€‚&#010;&#010;&#010;------------------------------------------------------------------&#010;Sender:jindy_liu&lt;286729788@qq.com&gt;&#010;Date:2020/07/09 10:55:35&#010;Recipient:&lt;user-zh@flink.apache.org&gt;&#010;Theme:Re: Re: Flink å¤šSink æ•°æ®ä¸€è‡´æ€§ä¿è¯&#010;&#010;è¯·é—®ä¸‹ï¼Œä½ è¿™ä¸ªæœ€åæ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Œèƒ½shareä¸‹æºç å—ï¼Ÿ&#010;æ˜¯éœ€è¦å°†ä¸¤ä¸ªsinkåˆå¹¶åˆ°ä¸€ä¸ªsinké‡Œï¼Œç„¶åå†å®ç°ä¸‹äºŒé˜¶æ®µæäº¤å—ï¼Ÿ&#010;æˆ‘ä¹Ÿé‡åˆ°ä¸ªå¤šsinkçš„åŸå­æ€§åœºæ™¯ã€‚&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;",
        "depth": "1",
        "reply": "<1594263335204-0.post@n8.nabble.com>"
    },
    {
        "id": "<1594608567829-0.post@n8.nabble.com>",
        "from": "jindy_liu &lt;286729...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 13 Jul 2020 02:49:27 GMT",
        "subject": "Re: Re: Re: Flink å¤šSink æ•°æ®ä¸€è‡´æ€§ä¿è¯",
        "content": "åŸç†å¤§æ¦‚ç†è§£äº†ï¼Œæƒ³è‡ªå·±å®ç°ä¸€ä¸ªã€‚æ¯”å¦‚kafkaä¸mysqlçš„å®ç°ï¼Œå¹¶æƒ³æœ€å¤§ç¨‹åº¦çš„å¤ç”¨äº›ä»£ç ã€‚&#013;&#010;çœ‹äº†ä¸‹æºç ï¼Œæ„Ÿè§‰è¦æŠŠç°åœ¨çš„connectorï¼ˆkafkaï¼Œ&#010;jdbcï¼‰ä¸­çš„ä»£ç éƒ½çœ‹ä¸€ä¸‹ï¼Œç„¶åæ‰£å‡ºæ¥ï¼Œå†å»æŒ‰twophasecommitsinkfunctionçš„å®ç°ï¼Œé‡ç»„ä¸€äº›ä»£ç ï¼Œä¸€ä¸ªä¸ªæ–¹æ³•å®ç°ã€‚&#013;&#010;å¦å¤–é—®ä¸€ä¸‹ï¼Œå¥½åƒç°åœ¨æºç é‡Œçš„jdbcåªæ˜¯at-least-onceå®ç°?&#010;&#010;&#010;&#013;&#010;--&#013;&#010;Sent from: http://apache-flink.147419.n8.nabble.com/",
        "depth": "2",
        "reply": "<1594263335204-0.post@n8.nabble.com>"
    },
    {
        "id": "<4d605a46-9366-4a57-a9fd-b62a93d49e1b.yungao.gy@aliyun.com>",
        "from": "&quot;Yun Gao&quot; &lt;yungao...@aliyun.com.INVALID&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Mon, 13 Jul 2020 05:24:47 GMT",
        "subject": "Re: Re: Re: Re: Flink å¤šSink æ•°æ®ä¸€è‡´æ€§ä¿è¯",
        "content": "æ˜¯çš„ï¼Œç¤¾åŒºç°åœ¨æ­£åœ¨åŠ exactly-oncer jdbc sinkå®ç°[1]ã€‚&#010;&#010;å¦å¤–ï¼Œå¦‚æœè¦å®ç°ä¸¤é˜¶æ®µæäº¤çš„sinkçš„è¯ï¼Œæ€»æ˜¯éœ€è¦æœ‰èƒ½è·¨sessionçš„transactionæœºåˆ¶ï¼Œå°±æ˜¯åœ¨ä½œä¸šæŒ‚äº†ä¹‹åï¼Œä¸‹æ¬¡èµ·æ¥çš„æ—¶å€™è¿™ä¸ªäº‹åŠ¡è¿˜å¯ä»¥abortæ‰æˆ–è€…ç»§ç»­æäº¤ï¼ˆå–å†³äºæ˜¯å¦å·²ç»snapshotè¿‡äº†ï¼‰ã€‚åƒjdbcå¿…é¡»è¦ç”¨xaäº‹åŠ¡ï¼Œç”¨å•çº¯çš„jdbcäº‹åŠ¡åº”è¯¥å°±æ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºå³ä½¿åœ¨snapshotçš„æ—¶å€™precommitè¿‡äº†ï¼Œå¦‚æœä½œä¸šæŒ‚æ‰è¿æ¥ä¸­æ–­è¿™ä¸ªäº‹åŠ¡ä»ç„¶ä¼šè¢«abortæ‰ã€‚&#010;&#010;&#010;[1] https://issues.apache.org/jira/browse/FLINK-15578&#010;&#010;------------------------------------------------------------------&#010;Sender:jindy_liu&lt;286729788@qq.com&gt;&#010;Date:2020/07/13 10:49:27&#010;Recipient:&lt;user-zh@flink.apache.org&gt;&#010;Theme:Re: Re: Re: Flink å¤šSink æ•°æ®ä¸€è‡´æ€§ä¿è¯&#010;&#010;åŸç†å¤§æ¦‚ç†è§£äº†ï¼Œæƒ³è‡ªå·±å®ç°ä¸€ä¸ªã€‚æ¯”å¦‚kafkaä¸mysqlçš„å®ç°ï¼Œå¹¶æƒ³æœ€å¤§ç¨‹åº¦çš„å¤ç”¨äº›ä»£ç ã€‚&#010;çœ‹äº†ä¸‹æºç ï¼Œæ„Ÿè§‰è¦æŠŠç°åœ¨çš„connectorï¼ˆkafkaï¼Œ&#010;jdbcï¼‰ä¸­çš„ä»£ç éƒ½çœ‹ä¸€ä¸‹ï¼Œç„¶åæ‰£å‡ºæ¥ï¼Œå†å»æŒ‰twophasecommitsinkfunctionçš„å®ç°ï¼Œé‡ç»„ä¸€äº›ä»£ç ï¼Œä¸€ä¸ªä¸ªæ–¹æ³•å®ç°ã€‚&#010;å¦å¤–é—®ä¸€ä¸‹ï¼Œå¥½åƒç°åœ¨æºç é‡Œçš„jdbcåªæ˜¯at-least-onceå®ç°?&#010;&#010;&#010;&#010;--&#010;Sent from: http://apache-flink.147419.n8.nabble.com/&#010;",
        "depth": "2",
        "reply": "<1594263335204-0.post@n8.nabble.com>"
    },
    {
        "id": "<tencent_E43662AE412AADB9F2D64422180789DBAC07@qq.com>",
        "from": "&quot;op&quot; &lt;520075...@qq.com&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 03:25:27 GMT",
        "subject": "kafka connectoré—®é¢˜",
        "content": "å®˜ç½‘ç»™çš„kafka tableé…ç½®é‡Œçš„scan.startup.mode&amp;nbsp;CREATE TABLE kafkaTable ( user_id&#010;BIGINT,  item_id BIGINT,  category_id BIGINT,  behavior STRING,  ts TIMESTAMP(3) ) WITH (&#010; 'connector' = 'kafka',  'topic' = 'user_behavior',  'properties.bootstrap.servers' = 'localhost:9092',&#010; 'properties.group.id' = 'testGroup',  'format' = 'csv',  'scan.startup.mode' = 'earliest-offset'&#010;)çœ‹äº†æ€»å…±æœ‰ä»¥ä¸‹å‡ æ€»'earliest-offset',&amp;nbsp;'latest-offset',&amp;nbsp;'group-offsets',&amp;nbsp;'timestamp'&amp;nbsp;and&amp;nbsp;'specific-offsets'å¦‚æœæˆ‘ä½œä¸šé‡å¯çš„è¯é€‰æ‹©group-offsetsèƒ½å¦ä»ä¸Šæ¬¡æ¶ˆè´¹åˆ°çš„ä½ç½®å¼€å§‹ï¼Ÿè¿™ç§æƒ…å†µä¸‹éœ€è¦é…ç½®æäº¤offsetåˆ°kafka&#010;brokerç›¸å…³çš„ä¸œè¥¿å—ï¼Ÿæœ‰æ²¡æœ‰ä»savepointä¿å­˜çš„offsetç»§ç»­æ¶ˆè´¹çš„é…ç½®ï¼Ÿ",
        "depth": "0",
        "reply": "<tencent_E43662AE412AADB9F2D64422180789DBAC07@qq.com>"
    },
    {
        "id": "<CABKuJ_RKyu2wQLPiUQvKKJ6x3ry0dkf2S_r8SF1ssBweNXccZQ@mail.gmail.com>",
        "from": "Benchao Li &lt;libenc...@apache.org&gt;",
        "to": "user-zh@flink.apache.org",
        "date": "Thu, 09 Jul 2020 06:23:08 GMT",
        "subject": "Re: kafka connectoré—®é¢˜",
        "content": "é¦–å…ˆï¼Œä»checkpoint/savepoint&#013;&#010;æ¢å¤çš„è¯ï¼Œä¸€å®šä¼šä»¥checkpoint/savepointä¸­çš„offsetä¸ºå‡†ï¼Œæ‰€ä»¥å®ƒçš„ä¼˜å…ˆçº§æ˜¯æœ€é«˜çš„ï¼Œ&#013;&#010;ä¸ç®¡ä½ é…ç½®å“ªç§startup modeã€‚&#013;&#010;å¦‚æœä½ æ²¡æœ‰å¼€å¯checkpointï¼Œé‚£ä¹ˆå¦‚æœä½ ç”¨äº†group-offsetsï¼Œé‚£å®ƒå°±ä¼šä»ä¿å­˜åœ¨kafkaä¸­çš„offsetè¿›è¡Œå¯åŠ¨ã€‚&#013;&#010;æäº¤offsetåˆ°kafkaè¿™ä¸ªåº”è¯¥æ˜¯é»˜è®¤å°±å¼€äº†çš„ã€‚&#013;&#010;&#013;&#010;op &lt;520075694@qq.com&gt; äº2020å¹´7æœˆ9æ—¥å‘¨å›› ä¸Šåˆ11:25å†™é“ï¼š&#013;&#010;&#013;&#010;&gt; å®˜ç½‘ç»™çš„kafka tableé…ç½®é‡Œçš„scan.startup.mode&amp;nbsp;CREATE TABLE kafkaTable&#010;(&#013;&#010;&gt; user_id BIGINT,  item_id BIGINT,  category_id BIGINT,  behavior STRING,  ts&#013;&#010;&gt; TIMESTAMP(3) ) WITH (  'connector' = 'kafka',  'topic' = 'user_behavior',&#013;&#010;&gt; 'properties.bootstrap.servers' = 'localhost:9092',  'properties.group.id'&#013;&#010;&gt; = 'testGroup',  'format' = 'csv',  'scan.startup.mode' = 'earliest-offset'&#013;&#010;&gt; )çœ‹äº†æ€»å…±æœ‰ä»¥ä¸‹å‡ æ€»'earliest-offset',&amp;nbsp;'latest-offset',&amp;nbsp;'group-offsets',&amp;nbsp;'timestamp'&amp;nbsp;and&amp;nbsp;'specific-offsets'å¦‚æœæˆ‘ä½œä¸šé‡å¯çš„è¯é€‰æ‹©group-offsetsèƒ½å¦ä»ä¸Šæ¬¡æ¶ˆè´¹åˆ°çš„ä½ç½®å¼€å§‹ï¼Ÿè¿™ç§æƒ…å†µä¸‹éœ€è¦é…ç½®æäº¤offsetåˆ°kafka&#013;&#010;&gt; brokerç›¸å…³çš„ä¸œè¥¿å—ï¼Ÿæœ‰æ²¡æœ‰ä»savepointä¿å­˜çš„offsetç»§ç»­æ¶ˆè´¹çš„é…ç½®ï¼Ÿ&#013;&#010;&#013;&#010;&#013;&#010;&#013;&#010;-- &#013;&#010;&#013;&#010;Best,&#013;&#010;Benchao Li&#013;&#010;",
        "depth": "1",
        "reply": "<tencent_E43662AE412AADB9F2D64422180789DBAC07@qq.com>"
    }
]